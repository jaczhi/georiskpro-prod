"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_views_2d_layers_features_Pipeline_js"],{

/***/ "./node_modules/@arcgis/core/arcade/ArcadeDate.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/ArcadeDate.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArcadeDate": () => (/* binding */ c),
/* harmony export */   "ArcadeDateError": () => (/* binding */ d),
/* harmony export */   "ArcadeDateErrorCodes": () => (/* binding */ o),
/* harmony export */   "ArcadeDateErrorMessages": () => (/* binding */ a),
/* harmony export */   "UnknownTimeZone": () => (/* binding */ i),
/* harmony export */   "createDateTimeZone": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _executionError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./executionError.js */ "./node_modules/@arcgis/core/arcade/executionError.js");
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/src/luxon.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class i{}var o;i.instance=new luxon__WEBPACK_IMPORTED_MODULE_1__.IANAZone("Etc/UTC"),function(e){e.TimeZoneNotRecognised="TimeZoneNotRecognised"}(o||(o={}));const a={[o.TimeZoneNotRecognised]:"Timezone identifier has not been recognised."};class d extends Error{constructor(t,n){super((0,_executionError_js__WEBPACK_IMPORTED_MODULE_0__.doSubstitutions)(a[t],n)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,d)}}class c{constructor(e){this._date=e,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(e=0,t=1,r=1,s=0,i=0,o=0,a=0,d){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(s)||isNaN(i)||isNaN(o)||isNaN(a))return null;let m=0;const h=luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.local(e,t).daysInMonth;r<1&&(m=r-1,r=1),r>h&&(m=r-h,r=h);let l=0;t>12?(l=t-12,t=12):t<1&&(l=t-1,t=1);let f=0;i>59?(f=i-59,i=59):i<0&&(f=i,i=0);let w=0;o>59?(w=o-59,o=59):o<0&&(w=o,o=0);let T=0;a>999?(T=a-999,a=999):a<0&&(T=a,a=0);let y=luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromObject({day:r,year:e,month:t,hour:s,minute:i,second:o,millisecond:a},{zone:u(d)});return 0!==l&&(y=y.plus({months:l})),0!==m&&(y=y.plus({days:m})),0!==f&&(y=y.plus({minutes:f})),0!==w&&(y=y.plus({seconds:w})),0!==T&&(y=y.plus({milliseconds:T})),new c(y)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(e,t){const n=u(t);return e.isUnknownTimeZone||n===i.instance?c.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,n):new c(e._date.setZone(t))}static dateJSToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromJSDate(e,{zone:"system"}))}static dateJSAndZoneToArcadeDate(e,t="system"){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromJSDate(e,{zone:t}))}static unknownEpochToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromMillis(e,{zone:i.instance}))}static unknownDateJSToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromMillis(e.getTime(),{zone:i.instance}))}static epochToArcadeDate(e,t="system"){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromMillis(e,{zone:t}))}static dateTimeToArcadeDate(e){return new c(e)}clone(){return new c(this._date)}changeTimeZone(e){const t=u(e);return c.dateTimeToArcadeDate(this._date.setZone(t))}static dateTimeAndZoneToArcadeDate(e,t){const n=u(t);return e.zone===i.instance||n===i.instance?c.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,n):new c(e.setZone(n))}static nowToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromJSDate(new Date,{zone:e}))}static nowUTCToArcadeDate(){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===c.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===i.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";const e=this.zone;return"fixed"===e.type?0===e.fixed?"utc":e.formatOffset(0,"short"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new c(this._date.plus(e))}diff(e,t="milliseconds"){return this._date.diff(e._date,t)[t]}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toFormat(e,t){return this._date.toFormat(e,t)}toJSDate(){return this._date.toJSDate()}toSQLString(){return"timestamp '"+this._date.toFormat("yyyy-LL-dd HH:mm:ss")+"'"}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new c(this._date.toUTC())}toLocal(){return new c(this._date.toLocal())}toString(){return this.toISOString(!0)}}function u(e){if(e instanceof luxon__WEBPACK_IMPORTED_MODULE_1__.Zone)return e;if("system"===e.toLowerCase())return"system";if("utc"===e.toLowerCase())return"utc";if("unknown"===e.toLowerCase())return i.instance;if(/^[\+\-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const t=luxon__WEBPACK_IMPORTED_MODULE_1__.FixedOffsetZone.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(t)return t}const n=luxon__WEBPACK_IMPORTED_MODULE_1__.IANAZone.create(e);if(!n.isValid)throw new d(o.TimeZoneNotRecognised);return n}


/***/ }),

/***/ "./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DateTimeReferenceFieldIndex": () => (/* binding */ T),
/* harmony export */   "convertTimeReference": () => (/* binding */ m),
/* harmony export */   "convertToIANA": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ArcadeDate.js */ "./node_modules/@arcgis/core/arcade/ArcadeDate.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _time_TimeReference_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../time/TimeReference.js */ "./node_modules/@arcgis/core/time/TimeReference.js");
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/src/luxon.js");
/* harmony import */ var _time_timeReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../time/timeReferenceUtils.js */ "./node_modules/@arcgis/core/time/timeReferenceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(e){return e instanceof _time_TimeReference_js__WEBPACK_IMPORTED_MODULE_2__["default"]}function m(n){if(!n)return null;if(l(n)&&(n=c(n.toJSON())),n instanceof luxon__WEBPACK_IMPORTED_MODULE_3__.Zone)return n;if("unknown"===n.toLowerCase())return _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.UnknownTimeZone.instance;if("system"===n.toLowerCase())return luxon__WEBPACK_IMPORTED_MODULE_3__.SystemZone.instance;if("utc"===n.toLowerCase())return luxon__WEBPACK_IMPORTED_MODULE_3__.FixedOffsetZone.utcInstance;if(/^[\+\-]?[0-9]{1,2}([:][0-9]{2})?$/.test(n)){const e=luxon__WEBPACK_IMPORTED_MODULE_3__.FixedOffsetZone.parseSpecifier("UTC"+(n.startsWith("+")||n.startsWith("-")?"":"+")+n);if(e)return e}const a=luxon__WEBPACK_IMPORTED_MODULE_3__.IANAZone.create(n);if(!a.isValid)throw new _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDateError(_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDateErrorCodes.TimeZoneNotRecognised);return a}function c(e){return e?.timeZoneIANA?e?.timeZoneIANA:e?.timeZone?(0,_time_timeReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.convertLegacyTimeZone)(e,""):""}class T{constructor(){this.dateTimeReferenceMetaData=null,this._fieldTimeZoneIndex={},this._fieldIndex=null,this._ianaPreferred=null,this._ianaTimeInfo=null,this._ianaEditFields=null,this._ianaLayerDateFields=null}static create(e,t){const i=new T;return i.dateTimeReferenceMetaData=t,i._fieldIndex=e instanceof _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"]?e:new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"](e),i}static createFromLayer(e){if(!e)return null;if(!e.fieldsIndex)return!e.declaredClass&&e.fields?T.create(e.fields,e):null;const t=new T;return t._fieldIndex=e.fieldsIndex,t.dateTimeReferenceMetaData={timeInfo:e?.timeInfo?.toJSON()??null,editFieldsInfo:e?.editFieldsInfo?.toJSON()??null,dateFieldsTimeReference:e?.dateFieldsTimeReference?.toJSON()??null,preferredTimeReference:e?.preferredTimeReference?.toJSON()??null,datesInUnknownTimezone:!0===e?.datesInUnknownTimezone},t}fieldTimeZone(e){const t=this._fieldIndex?.get(e);if(!t)return null;if("date"!==t.type&&"esriFieldTypeDate"!==t.type)return null;const i=this._fieldTimeZoneIndex[t.name];if(void 0!==i)return i;const n=[{field:this.dateTimeReferenceMetaData?.editFieldsInfo?.creationDateField,timeReference:this.dateTimeReferenceMetaData?.editFieldsInfo?.dateFieldsTimeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone},{field:this.dateTimeReferenceMetaData?.editFieldsInfo?.editDateField,timeReference:this.dateTimeReferenceMetaData?.editFieldsInfo?.dateFieldsTimeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone},{field:this.dateTimeReferenceMetaData?.timeInfo?.startTimeField,timeReference:this.dateTimeReferenceMetaData?.timeInfo?.timeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone},{field:this.dateTimeReferenceMetaData?.timeInfo?.endTimeField,timeReference:this.dateTimeReferenceMetaData?.timeInfo?.timeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone}];for(const r of n)if(r.field===t.name){const e=this.convertToIANA(r.timeReference,r.isunknown);return this._fieldTimeZoneIndex[t.name]=e,e}const a=this.convertToIANA(this.dateTimeReferenceMetaData?.dateFieldsTimeReference,this.dateTimeReferenceMetaData?.datesInUnknownTimezone);return this._fieldTimeZoneIndex[t.name]=a,a}convertToIANA(e,t){return t?"unknown":c(e)}get layerPreferredTimeZone(){if(null!==this._ianaPreferred)return this._ianaPreferred;this._ianaPreferred="";const e=this.dateTimeReferenceMetaData?.preferredTimeReference;return this._ianaPreferred=this.convertToIANA(e,!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone),this._ianaPreferred}get layerTimeInfoTimeZone(){if(null!==this._ianaTimeInfo)return this._ianaTimeInfo;this._ianaTimeInfo="";const e=this.dateTimeReferenceMetaData?.timeInfo?.timeReference;return this._ianaTimeInfo=this.convertToIANA(e,!1),this._ianaTimeInfo}get layerEditFieldsTimeZone(){if(null!==this._ianaEditFields)return this._ianaEditFields;this._ianaEditFields="";const e=this.dateTimeReferenceMetaData?.editFieldsInfo?.dateFieldsTimeReference;return this._ianaEditFields=this.convertToIANA(e,this.dateTimeReferenceMetaData?.datesInUnknownTimezone),this._ianaEditFields}get layerDateFieldsTimeZone(){if(null!==this._ianaLayerDateFields)return this._ianaLayerDateFields;this._ianaLayerDateFields="";const e=this.dateTimeReferenceMetaData?.dateFieldsTimeReference;return this._ianaLayerDateFields=this.convertToIANA(e,!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone),this._ianaLayerDateFields}}


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/rbush.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/rbush.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "r": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _quickselect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./quickselect.js */ "./node_modules/@arcgis/core/chunks/quickselect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i(t,n){if(!(this instanceof i))return new i(t,n);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this.toBBox=n:this._initFormat(n)),this.clear()}function n(t,i,n){if(!n)return i.indexOf(t);for(var h=0;h<i.length;h++)if(n(t,i[h]))return h;return-1}function h(t,i){a(t,0,t.children.length,i,t)}function a(t,i,n,h,a){a||(a=x(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var e,o=i;o<n;o++)e=t.children[o],r(a,t.leaf?h(e):e);return a}function r(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function e(t,i){return t.minX-i.minX}function o(t,i){return t.minY-i.minY}function s(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function c(t,i){var n=Math.max(t.minX,i.minX),h=Math.max(t.minY,i.minY),a=Math.min(t.maxX,i.maxX),r=Math.min(t.maxY,i.maxY);return Math.max(0,a-n)*Math.max(0,r-h)}function u(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function f(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function x(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,h,a,r){for(var e,o=[n,h];o.length;)(h=o.pop())-(n=o.pop())<=a||(e=n+Math.ceil((h-n)/a/2)*a,(0,_quickselect_js__WEBPACK_IMPORTED_MODULE_0__.q)(i,e,n,h,r),o.push(n,e,e,h))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],h=this.toBBox;if(!f(t,i))return n;for(var a,r,e,o,s=[];i;){for(a=0,r=i.children.length;a<r;a++)e=i.children[a],f(t,o=i.leaf?h(e):e)&&(i.leaf?n.push(e):u(t,o)?this._all(e,n):s.push(e));i=s.pop()}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!f(t,i))return!1;for(var h,a,r,e,o=[];i;){for(h=0,a=i.children.length;h<a;h++)if(r=i.children[h],f(t,e=i.leaf?n(r):r)){if(i.leaf||u(t,e))return!0;o.push(r)}i=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var h=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===h.height)this._splitRoot(this.data,h);else{if(this.data.height<h.height){var a=this.data;this.data=h,h=a}this._insert(h,this.data.height-h.height-1,!0)}else this.data=h;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(t,i){if(!t)return this;for(var h,a,r,e,o=this.data,s=this.toBBox(t),l=[],m=[];o||l.length;){if(o||(o=l.pop(),a=l[l.length-1],h=m.pop(),e=!0),o.leaf&&-1!==(r=n(t,o.children,i)))return o.children.splice(r,1),l.push(o),this._condense(l),this;e||o.leaf||!u(o,s)?a?(h++,o=a.children[h],e=!1):o=null:(l.push(o),m.push(h),h=0,a=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:e,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,a){var r,e=n-i+1,o=this._maxEntries;if(e<=o)return h(r=x(t.slice(i,n+1)),this.toBBox),r;a||(a=Math.ceil(Math.log(e)/Math.log(o)),o=Math.ceil(e/Math.pow(o,a-1))),(r=x([])).leaf=!1,r.height=a;var s,l,m,c,u=Math.ceil(e/o),f=u*Math.ceil(Math.sqrt(o));for(d(t,i,n,f,this.compareMinX),s=i;s<=n;s+=f)for(d(t,s,m=Math.min(s+f-1,n),u,this.compareMinY),l=s;l<=m;l+=u)c=Math.min(l+u-1,m),r.children.push(this._build(t,l,c,a-1));return h(r,this.toBBox),r},_chooseSubtree:function(t,i,n,h){for(var a,r,e,o,l,c,u,f;h.push(i),!i.leaf&&h.length-1!==n;){for(u=f=1/0,a=0,r=i.children.length;a<r;a++)l=s(e=i.children[a]),(c=m(t,e)-l)<f?(f=c,u=l<u?l:u,o=e):c===f&&l<u&&(u=l,o=e);i=o||i.children[0]}return i},_insert:function(t,i,n){var h=this.toBBox,a=n?t:h(t),e=[],o=this._chooseSubtree(a,this.data,i,e);for(o.children.push(t),r(o,a);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(a,e,i)},_split:function(t,i){var n=t[i],a=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,a);var e=this._chooseSplitIndex(n,r,a),o=x(n.children.splice(e,n.children.length-e));o.height=n.height,o.leaf=n.leaf,h(n,this.toBBox),h(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(t,i){this.data=x([t,i]),this.data.height=t.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,n){var h,r,e,o,l,m,u,f;for(m=u=1/0,h=i;h<=n-i;h++)o=c(r=a(t,0,h,this.toBBox),e=a(t,h,n,this.toBBox)),l=s(r)+s(e),o<m?(m=o,f=h,u=l<u?l:u):o===m&&l<u&&(u=l,f=h);return f},_chooseSplitAxis:function(t,i,n){var h=t.leaf?this.compareMinX:e,a=t.leaf?this.compareMinY:o;this._allDistMargin(t,i,n,h)<this._allDistMargin(t,i,n,a)&&t.children.sort(h)},_allDistMargin:function(t,i,n,h){t.children.sort(h);var e,o,s=this.toBBox,m=a(t,0,i,s),c=a(t,n-i,n,s),u=l(m)+l(c);for(e=i;e<n-i;e++)o=t.children[e],r(m,t.leaf?s(o):o),u+=l(m);for(e=n-i-1;e>=i;e--)o=t.children[e],r(c,t.leaf?s(o):o),u+=l(c);return u},_adjustParentBBoxes:function(t,i,n){for(var h=n;h>=0;h--)r(i[h],t)},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children).splice(i.indexOf(t[n]),1):this.clear():h(t[n],this.toBBox)},_initFormat:function(t){var i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(t[0])),this.compareMinY=new Function("a","b",i.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};


/***/ }),

/***/ "./node_modules/@arcgis/core/core/CircularArray.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/CircularArray.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(t){if(0===this.size)return null;for(const s of this._buffer)if(null!=s&&t(s))return s;return null}clear(t){let s=this.dequeue();for(;null!=s;)t&&t(s),s=this.dequeue()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geohash/GeohashTree.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/geohash/GeohashTree.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GeohashNode": () => (/* binding */ c),
/* harmony export */   "GeohashTree": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _geohashUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _views_2d_layers_features_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/2d/layers/features/support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class h{constructor(e=[],s,i=8096){this.onRelease=t=>{},this._nodes=0,this._root=new c(this,0,0,0),this._statisticFields=e,this._pool=i?new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](8096):null,this._serviceInfo=s}destroy(){this.clear()}_acquire(t,e,s){this._nodes++;let i=null;return null!=this._pool&&(i=this._pool.dequeue()),null!=i?i.realloc(t,e,s):i=new c(this,t,e,s),i}_release(t){this.onRelease(t),this._nodes--,null!=this._pool&&this._pool.enqueue(t)}get count(){return this._root.count}get size(){return this._nodes}get poolSize(){return this._pool?.size??0}get depth(){let t=0;return this.forEach((e=>t=Math.max(t,e.depth))),t}dropLevels(t){this.forEach((e=>{if(e.depth>=t)for(let t=0;t<e.children.length;t++){const s=e.children[t];s&&this._release(s)}})),this.forEach((e=>{if(e.depth>=t)for(let t=0;t<e.children.length;t++)e.children[t]=null}))}clear(){this.forEach((t=>this._release(t))),this._root=new c(this,0,0,0)}insert(t,e,s=0){const i=_views_2d_layers_features_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatures([t],this._serviceInfo).getCursor();i.next();const n=i.readGeometry();if(!n)return;const[o,a]=n.coords,r=t.geohashX,h=t.geohashY;this.insertCursor(i,t.displayId,o,a,r,h,e,s)}insertCursor(t,e,s,i,n,o,a,r=0){let l=this._root,h=0,c=0,u=0;for(;null!==l;){if(l.depth>=r&&(l.count+=1,l.xTotal+=s,l.yTotal+=i,l.xGeohashTotal+=n,l.yGeohashTotal+=o,l.referenceId=e,this._updateStatisticsCursor(t,l,1)),h>=a)return void l.add(e);const d=Math.ceil((h+1)/2),f=Math.floor((h+1)/2),x=1-h%2,m=30-(3*d+2*f),g=30-(2*d+3*f),y=(n&7*x+3*(1-x)<<m)>>m,p=(o&3*x+7*(1-x)<<g)>>g,_=y+p*(8*x+4*(1-x));c=c<<3*x+2*(1-x)|y,u=u<<2*x+3*(1-x)|p,null==l.children[_]&&(l.children[_]=this._acquire(c,u,h+1)),h+=1,l=l.children[_]}}remove(t,e){const s=_views_2d_layers_features_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatures([t],this._serviceInfo).getCursor();s.next();const i=s.readGeometry();if(!i)return;const[n,o]=i.coords,a=t.geohashX,r=t.geohashY;this.removeCursor(s,n,o,a,r,e)}removeCursor(t,e,s,i,n,o){let a=this._root,r=0;for(;null!==a;){if(a.count-=1,a.xTotal-=e,a.yTotal-=s,a.xGeohashTotal-=i,a.yGeohashTotal-=n,this._updateStatisticsCursor(t,a,-1),r>=o)return void a.remove(t.getDisplayId());const l=Math.ceil((r+1)/2),h=Math.floor((r+1)/2),c=1-r%2,u=30-(3*l+2*h),d=30-(2*l+3*h),f=((i&7*c+3*(1-c)<<u)>>u)+((n&3*c+7*(1-c)<<d)>>d)*(8*c+4*(1-c)),x=a.children[f];1===x?.count&&(this._release(x),a.children[f]=null),r+=1,a=x}}forEach(t){let e=this._root;for(;null!==e;){const s=this._linkChildren(e)||e.next;t(e),e=s}}find(t,e,s){return this._root.find(t,e,s,0,0,0)}findIf(t){let e=null;return this.forEach((s=>{t(s)&&(e=s)})),e}findAllIf(t){const e=[];return this.forEach((s=>{t(s)&&e.push(s)})),e}findSingleOccupancyNode(t,e,s,i,n){let o=this._root;for(;null!==o;){const a=o.depth,r=o.xNode,l=o.yNode,h=1-a%2,c=o.xGeohashTotal/o.count,u=o.yGeohashTotal/o.count;if(1===o.count&&t<c&&c<=s&&e<u&&u<=i)return o;if(a>=n){o=o.next;continue}const d=Math.ceil((a+1)/2),f=Math.floor((a+1)/2),x=30-(3*d+2*f),m=30-(2*d+3*f),g=~((1<<x)-1),y=~((1<<m)-1),p=(t&g)>>x,_=(e&y)>>m,v=(s&g)>>x,M=(i&y)>>m,T=r<<3*h+2*(1-h),b=l<<2*h+3*(1-h),k=T+8*h+4*(1-h),N=b+4*h+8*(1-h),I=Math.max(T,p),C=Math.max(b,_),G=Math.min(k,v),L=Math.min(N,M);let S=null,w=null;for(let t=C;t<=L;t++)for(let e=I;e<=G;e++){const s=e-T+(t-b)*(8*h+4*(1-h)),i=o.children[s];i&&(S||(S=i,S.next=o.next),w&&(w.next=i),w=i,i.next=o.next)}o=S||o.next}return null}getRegionDisplayIds(t){let e=this._root;const{bounds:s,geohashBounds:i,level:n}=t,[o,a,r,l]=s,h=[];for(;null!==e;){const t=e.depth,s=e.xNode,c=e.yNode;if(t>=n){const t=e.xTotal/e.count,s=e.yTotal/e.count;t>=o&&t<=r&&s>=a&&s<=l&&e.displayIds.forEach((t=>h.push(t))),e=e.next;continue}const u=Math.ceil((t+1)/2),d=Math.floor((t+1)/2),f=1-t%2,x=30-(3*u+2*d),m=30-(2*u+3*d),g=~((1<<x)-1),y=~((1<<m)-1),p=(i.xLL&g)>>x,_=(i.yLL&y)>>m,v=(i.xTR&g)>>x,M=(i.yTR&y)>>m,T=s<<3*f+2*(1-f),b=c<<2*f+3*(1-f),k=T+8*f+4*(1-f),N=b+4*f+8*(1-f),I=Math.max(T,p),C=Math.max(b,_),G=Math.min(k,v),L=Math.min(N,M);let S=null,w=null;for(let i=C;i<=L;i++)for(let t=I;t<=G;t++){const s=t-T+(i-b)*(8*f+4*(1-f)),n=e.children[s];n&&(S||(S=n,S.next=e.next),w&&(w.next=n),w=n,n.next=e.next)}e=S||e.next}return h}getRegionStatistics(t){let e=this._root,s=0,i=0,n=0;const o={},{bounds:a,geohashBounds:r,level:l}=t,[h,c,u,d]=a;let f=0;for(;null!==e;){const t=e.depth,a=e.xNode,x=e.yNode;if(t>=l){const t=e.xTotal/e.count,a=e.yTotal/e.count;t>h&&t<=u&&a>c&&a<=d&&(s+=e.count,i+=e.xTotal,n+=e.yTotal,1===e.count&&(f=e.referenceId),this._aggregateStatistics(o,e.statistics)),e=e.next;continue}const m=Math.ceil((t+1)/2),g=Math.floor((t+1)/2),y=1-t%2,p=30-(3*m+2*g),_=30-(2*m+3*g),v=~((1<<p)-1),M=~((1<<_)-1),T=(r.xLL&v)>>p,b=(r.yLL&M)>>_,k=(r.xTR&v)>>p,N=(r.yTR&M)>>_,I=a<<3*y+2*(1-y),C=x<<2*y+3*(1-y),G=I+8*y+4*(1-y),L=C+4*y+8*(1-y),S=Math.max(I,T),w=Math.max(C,b),R=Math.min(G,k),F=Math.min(L,N);let z=null,j=null;for(let r=w;r<=F;r++)for(let t=S;t<=R;t++){const a=t-I+(r-C)*(8*y+4*(1-y)),l=e.children[a];if(l){if(r!==w&&r!==F&&t!==S&&t!==R){const t=l.xTotal/l.count,e=l.yTotal/l.count;t>h&&t<=u&&e>c&&e<=d&&(s+=l.count,i+=l.xTotal,n+=l.yTotal,1===l.count&&(f=l.referenceId),this._aggregateStatistics(o,l.statistics));continue}z||(z=l,z.next=e.next),j&&(j.next=l),j=l,l.next=e.next}}e=z||e.next}return{count:s,attributes:this.normalizeStatistics(o,s),xTotal:i,yTotal:n,referenceId:f}}getBins(t){const e=[],{geohashBounds:s,level:i}=t;let n=this._root;for(;null!==n;){const t=n.depth,o=n.xNode,a=n.yNode;if(t>=i){e.push(n),n=n.next;continue}const r=Math.ceil((t+1)/2),l=Math.floor((t+1)/2),h=1-t%2,c=30-(3*r+2*l),u=30-(2*r+3*l),d=~((1<<c)-1),f=~((1<<u)-1),x=(s.xLL&d)>>c,m=(s.yLL&f)>>u,g=(s.xTR&d)>>c,y=(s.yTR&f)>>u,p=o<<3*h+2*(1-h),_=a<<2*h+3*(1-h),v=p+8*h+4*(1-h),M=_+4*h+8*(1-h),T=Math.max(p,x),b=Math.max(_,m),k=Math.min(v,g),N=Math.min(M,y);let I=null,C=null;for(let e=b;e<=N;e++)for(let t=T;t<=k;t++){const s=t-p+(e-_)*(8*h+4*(1-h)),i=n.children[s];i&&(I||(I=i,I.next=n.next),C&&(C.next=i),C=i,i.next=n.next)}n=I||n.next}return e}_linkChildren(t){let e=null,s=null;for(let i=0;i<=t.children.length;i++){const n=t.children[i];n&&(e||(e=n,e.next=t.next),s&&(s.next=n),s=n,n.next=t.next)}return e}_updateStatisticsCursor(t,e,s){for(const i of this._statisticFields){const n=i.name,o=i.inField?t.readAttribute(i.inField):t.getComputedNumericAtIndex(i.inFieldIndex);switch(i.statisticType){case"min":{if(isNaN(o))break;if(!e.statistics[n]){e.statistics[n]={value:o};break}const t=e.statistics[n].value;e.statistics[n].value=Math.min(t,o);break}case"max":{if(isNaN(o))break;if(!e.statistics[n]){e.statistics[n]={value:o};break}const t=e.statistics[n].value;e.statistics[n].value=Math.max(t,o);break}case"count":break;case"sum":case"avg":{e.statistics[n]||(e.statistics[n]={value:0,nanCount:0});const t=e.statistics[n].value,i=e.statistics[n].nanCount??0;null==o||isNaN(o)?e.statistics[n].nanCount=i+s:e.statistics[n].value=t+s*o;break}case"avg_angle":{e.statistics[n]||(e.statistics[n]={x:0,y:0,nanCount:0});const t=e.statistics[n].x,i=e.statistics[n].y,a=e.statistics[n].nanCount??0,r=Math.PI/180;null==o||isNaN(o)?e.statistics[n].nanCount=a+s:(e.statistics[n].x=t+s*Math.cos(o*r),e.statistics[n].y=i+s*Math.sin(o*r));break}case"mode":{e.statistics[n]||(e.statistics[n]={});const t=e.statistics[n][o]||0;e.statistics[n][o]=t+s;break}}}}_aggregateStatistics(t,e){for(const s of this._statisticFields){const i=s.name;switch(s.statisticType){case"min":{if(!t[i]){t[i]={value:e[i].value};break}const s=t[i].value;t[i].value=Math.min(s,e[i].value);break}case"max":{if(!t[i]){t[i]={value:e[i].value};break}const s=t[i].value;t[i].value=Math.max(s,e[i].value);break}case"count":break;case"sum":case"avg":case"avg_angle":case"mode":t[i]||(t[i]={});for(const s in e[i]){const n=t[i][s]||0;t[i][s]=n+e[i][s]}}}}normalizeStatistics(t,e){const s={};for(const i of this._statisticFields){const n=i.name;switch(i.statisticType){case"min":case"max":{const i=t[n];if(!e||!i)break;s[n]=i.value;break}case"count":if(!e)break;s[n]=e;break;case"sum":{if(!e)break;const{value:i,nanCount:o}=t[n];if(!(e-o))break;s[n]=i;break}case"avg":{if(!e)break;const{value:i,nanCount:o}=t[n];if(!(e-o))break;s[n]=i/(e-o);break}case"avg_angle":{if(!e)break;const{x:i,y:o,nanCount:a}=t[n];if(!(e-a))break;const r=i/(e-a),l=o/(e-a),h=180/Math.PI,c=Math.atan2(l,r)*h;s[n]=c;break}case"mode":{const e=t[n];let i=0,o=0,a=null;for(const t in e){const s=e[t];s===i?o+=1:s>i&&(i=s,o=1,a=t)}s[n]="null"===a||o>1?null:a;break}}}return s}}class c{constructor(t,e,s,i){this.count=0,this.xTotal=0,this.yTotal=0,this.statistics={},this.displayId=0,this.referenceId=0,this.displayIds=new Set,this.next=null,this.depth=0,this.xNode=0,this.yNode=0,this.xGeohashTotal=0,this.yGeohashTotal=0,this._tree=t,this.children=new Array(32);for(let n=0;n<this.children.length;n++)this.children[n]=null;this.xNode=e,this.yNode=s,this.depth=i}realloc(t,e,s){for(let i=0;i<this.children.length;i++)this.children[i]=null;return this.xNode=t,this.yNode=e,this.depth=s,this.next=null,this.xGeohashTotal=0,this.yGeohashTotal=0,this.displayId=0,this.referenceId=0,this.xTotal=0,this.yTotal=0,this.count=0,this.statistics={},this.displayIds.clear(),this}get id(){return`${this.xNode}.${this.yNode}`}add(t){this.displayIds.add(t)}remove(t){this.displayIds.delete(t)}getAttributes(){const t=this._tree.normalizeStatistics(this.statistics,this.count);return t.referenceId=null,t.aggregateId=this.id,t.aggregateCount=this.count,t}getGeometry(t,e){const o=this.getLngLatBounds(),[l,h,c,u]=o,d=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__.project)({rings:[[[l,h],[l,u],[c,u],[c,h],[l,h]]]},_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__["default"].WGS84,t),f=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],d,!1,!1);if(null!=e){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],f,!1,!1,"esriGeometryPolygon",e,!1,!1)}return f}getGeometryCentroid(t,e){const i=this.getLngLatBounds(),[l,h,c,u]=i,d=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__.project)({x:(l+c)/2,y:(h+u)/2},_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__["default"].WGS84,t),f=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromPoint)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],d);if(null!=e){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],f,!1,!1,"esriGeometryPoint",e,!1,!1)}return f}getLngLatBounds(){const t=this.depth,s=Math.ceil(t/2),i=Math.floor(t/2),n=30-(3*s+2*i),o=30-(2*s+3*i),a=this.xNode<<n,r=this.yNode<<o;return (0,_geohashUtils_js__WEBPACK_IMPORTED_MODULE_1__.decodeGeohashXY)({geohashX:a,geohashY:r},this.depth)}find(t,e,s,i,n,o){if(i>=s)return this;const a=1-i%2,r=3*a+2*(1-a),l=2*a+3*(1-a),h=30-n-r,c=30-o-l,u=((t&7*a+3*(1-a)<<h)>>h)+((e&3*a+7*(1-a)<<c)>>c)*(8*a+4*(1-a)),d=this.children[u];return null==d?null:d.find(t,e,s,i+1,n+r,o+l)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geohash/geohashUtils.js":
/*!***********************************************************!*\
  !*** ./node_modules/@arcgis/core/geohash/geohashUtils.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "convertGeohash32ToXY": () => (/* binding */ C),
/* harmony export */   "decodeBase32Char": () => (/* binding */ a),
/* harmony export */   "decodeGeohash": () => (/* binding */ y),
/* harmony export */   "decodeGeohashXY": () => (/* binding */ X),
/* harmony export */   "encodeBase32Char": () => (/* binding */ g),
/* harmony export */   "encodeGeohash": () => (/* binding */ p),
/* harmony export */   "getRelativeGeohash": () => (/* binding */ k),
/* harmony export */   "setGeohashBuf": () => (/* binding */ b),
/* harmony export */   "setGeohashXY": () => (/* binding */ Y),
/* harmony export */   "unpackXBits": () => (/* binding */ F),
/* harmony export */   "unpackYBits": () => (/* binding */ j)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t=16,n=8,o=4,e=2,r=1,c=new Float64Array(2),f=new Float64Array(2),l=-90,u=90,h=-180,s=180,i="0123456789bcdefghjkmnpqrstuvwxyz";function a(t){return t<=57?t-48:t<=104?t-88:t<=107?t-89:t<=110?t-90:t-91}function g(t){return i[t]}function A(t){return(t[0]+t[1])/2}function d(t,n,o){return t[0]=n,t[1]=o,t}function M(t,n){const o=A(t),e=n,r=!n;t[0]=r*t[0]+e*o,t[1]=r*o+e*t[1]}function w(t,n){const o=n>A(t);return M(t,o),o}function y(i,g){const w=d(c,l,u),y=d(f,h,s);for(let c=0;c<g.length;c++){const f=a(g.charCodeAt(c));c%2==0?(M(y,!!(t&f)),M(y,!!(o&f)),M(y,!!(r&f)),M(w,!!(n&f)),M(w,!!(e&f))):(M(w,!!(t&f)),M(w,!!(o&f)),M(w,!!(r&f)),M(y,!!(n&f)),M(y,!!(e&f)))}return i[0]=A(w),i[1]=A(y),i}function C(t,n){let o=0,e=0,r=30,c=30;for(let f=0;f<n.length;f++){const t=a(n.charCodeAt(f)),l=f%2==0;r-=l?3:2,c-=l?2:3,o|=F(t,l)<<r,e|=j(t,l)<<c}return{geohashX:o,geohashY:e}}function X(t,n){let o=-90,e=90,r=-180,c=180;for(let f=0;f<n;f++){const n=Math.ceil((f+1)/2),l=Math.floor((f+1)/2),u=1-f%2,h=30-(3*n+2*l),s=30-(2*n+3*l),i=3*u+2*(1-u),a=2*u+3*(1-u),g=3*u+7*(1-u)<<s,A=(7*u+3*(1-u)<<h&t.geohashX)>>h,d=(g&t.geohashY)>>s;for(let t=i-1;t>=0;t--){const n=(r+c)/2,o=A&1<<t?1:0;r=(1-o)*r+o*n,c=(1-o)*n+o*c}for(let t=a-1;t>=0;t--){const n=(o+e)/2,r=d&1<<t?1:0;o=(1-r)*o+r*n,e=(1-r)*n+r*e}}return[r,o,c,e]}function Y(t,n,o,e){e%2&&(e+=1);let r=0,c=0,f=-90,l=90,u=-180,h=180;for(let s=0;s<e/2;s++){for(let t=0;t<5;t++){const n=(u+h)/2,e=o>n?1:0;r|=e<<29-(t+5*s),u=(1-e)*u+e*n,h=(1-e)*n+e*h}for(let t=0;t<5;t++){const o=(f+l)/2,e=n>o?1:0;c|=e<<29-(t+5*s),f=(1-e)*f+e*o,l=(1-e)*o+e*l}}t.geohashX=r,t.geohashY=c}function b(t,n,o,e,r){r%2&&(r+=1);let c=0,f=0,l=-90,u=90,h=-180,s=180;for(let i=0;i<r/2;i++){for(let t=0;t<5;t++){const n=(h+s)/2,o=e>n?1:0;c|=o<<29-(t+5*i),h=(1-o)*h+o*n,s=(1-o)*n+o*s}for(let t=0;t<5;t++){const n=(l+u)/2,e=o>n?1:0;f|=e<<29-(t+5*i),l=(1-e)*l+e*n,u=(1-e)*n+e*u}}t[2*n]=c,t[2*n+1]=f}function p(t,n,o){let e="";const r=d(c,-90,90),l=d(f,-180,180);for(let c=0;c<o;c++){let o=0;!(c%2)?(o|=w(l,n)<<4,o|=w(r,t)<<3,o|=w(l,n)<<2,o|=w(r,t)<<1,o|=w(l,n)<<0):(o|=w(r,t)<<4,o|=w(l,n)<<3,o|=w(r,t)<<2,o|=w(l,n)<<1,o|=w(r,t)<<0),e+=g(o)}return e}function x(t,n,c){return c?t&r|(n&r)<<1|(t&e)<<1|(n&e)<<2|(t&o)<<2:n&r|(t&r)<<1|(n&e)<<1|(t&e)<<2|(n&o)<<2}function F(c,f){return f?r&c|(o&c)>>1|(t&c)>>2:(e&c)>>1|(n&c)>>2}function j(c,f){return f?(e&c)>>1|(n&c)>>2:r&c|(o&c)>>1|(t&c)>>2}function k(c,f,l){const u=!((c.length-1)%2),h=c.substring(0,c.length-1),s=a(c.charCodeAt(c.length-1));let i=0,A=0,d=0,M=0;u?(i=8,A=4,d=r&s|(o&s)>>1|(t&s)>>2,M=(e&s)>>1|(n&s)>>2):(i=4,A=8,M=r&s|(o&s)>>1|(t&s)>>2,d=(e&s)>>1|(n&s)>>2);const w=d+f,y=M+l,C=Math.floor(w/i),X=Math.floor(y/A),Y=g(x(w-C*i,y-X*A,u));return c.length>1&&(C||X)?k(h,C,X)+Y:h+Y}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEFAULT_STREAM_ID_FIELD": () => (/* binding */ s),
/* harmony export */   "ESRI_TIMESTAMP": () => (/* binding */ i),
/* harmony export */   "StreamFeatureManager": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const s="__esri_stream_id__",i="__esri_timestamp__",r=1e3;class o{constructor(t,e,i,r,o=128){this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=i,this._purgeOptions=r,this.store=t,this.objectIdField=e,this.purgeInterval=o,this._useGeneratedIds=this.objectIdField===s}removeById(t){this._removed.push(t)}removeByTrackId(t){const e=this._trackIdToObservations.get(t);if(e)for(const s of e.entries)this._removed.push(s)}add(s){if(this._useGeneratedIds){const t=this._nextId();s.attributes[this.objectIdField]=t,s.objectId=t}else s.objectId=s.attributes[this.objectIdField];const i=s.objectId;if(this._addOrUpdated.set(i,s),this._maxAge=Math.max(this._maxAge,s.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return null==this._trackIdLessObservations&&(this._trackIdLessObservations=new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](1e5)),void this._trackIdLessObservations.enqueue(i);const o=s.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(o)){const s=null!=this._purgeOptions&&null!=this._purgeOptions.maxObservations?this._purgeOptions.maxObservations:r,i=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(s,0,r);this._trackIdToObservations.set(o,new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](i))}const d=this._trackIdToObservations.get(o),a=d?.enqueue(i);null!=a&&(this._addOrUpdated.has(a)?this._addOrUpdated.delete(a):this._removed.push(a))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now();s-this._lastPurge>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const r=[];if(null!=e)for(const i of e){const t=this.store.removeById(i);null!=t&&r.push(t)}const o=[];if(null!=t){const r=new Set(e??[]);for(const e of t)r.has(e.objectId)||(e.attributes[i]=s,this.store.add(e),o.push(e))}(o.length||r?.length)&&this.store.update(o,r)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach((s=>t[e++]=s)),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;null!=e&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=s.dequeue();this._removed.push(t),e--}if(null!=this._trackIdLessObservations){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();null!=t&&this._removed.push(t)}}}}_purgeByAge(t){const e=this._timeInfo?.startTimeField;if(!t.age||!e)return;const s=60*t.age*1e3,i=this._maxAge-s;this.store.forEach((t=>{t.attributes[e]<i&&this._removed.push(t.objectId)}))}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach((t=>{t.attributes[i]<s&&this._removed.push(t.objectId)}))}_purgeTracks(){this._trackIdToObservations.forEach(((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/LOD.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/LOD.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var i;let l=i=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new i({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"cols",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__.Integer,json:{write:!0}})],l.prototype,"level",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:String,json:{write:!0}})],l.prototype,"levelValue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"origin",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,json:{write:!0}})],l.prototype,"resolution",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"rows",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,json:{write:!0}})],l.prototype,"scale",void 0),l=i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.LOD")],l);const p=l;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/TileInfo.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/TileInfo.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/jsonMap.js */ "./node_modules/@arcgis/core/core/jsonMap.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./LOD.js */ "./node_modules/@arcgis/core/layers/support/LOD.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/layers/support/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var w;const x=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__.JSONMap({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let O=w=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.JSONSupport{static create(e={}){const{resolutionFactor:t=1,scales:o,size:s=256,spatialReference:i=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].WebMercator,numLODs:l=24}=e;if(!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.isValid)(i)){const e=[];if(o)for(let t=0;t<o.length;t++){const r=o[t];e.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:t,scale:r,resolution:r}))}else{let t=5e-4;for(let o=l-1;o>=0;o--)e.unshift(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:o,scale:t,resolution:t})),t*=2}return new w({dpi:96,lods:e,origin:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"](0,0,i),size:[s,s],spatialReference:i})}const n=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.getInfo)(i),a=e.origin?new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"]({x:e.origin.x,y:e.origin.y,spatialReference:i}):new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"](n?{x:n.origin[0],y:n.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),u=96,d=1/((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__.getMetersPerUnitForSR)(i)*39.37*u),g=[];if(o)for(let r=0;r<o.length;r++){const e=o[r],t=e*d;g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:r,scale:e,resolution:t}))}else{let e=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.isGeographic)(i)?512/s*591657527.5917094:256/s*591657527.591555;const o=Math.ceil(l/t);g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:0,scale:e,resolution:e*d}));for(let r=1;r<o;r++){const o=e/2**t,s=o*d;g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:r,scale:o,resolution:s})),e=o}}return new w({dpi:u,lods:g,origin:a,size:[s,s],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const o=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.getInfo)(e);return e.isWrappable&&!!o&&Math.abs(o.origin[0]-t.x)<=o.dx}return!1}readOrigin(e,t){return _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,o=0;const r=[],s=this._levelToLOD={};e&&(t=-1/0,o=1/0,e.forEach((e=>{r.push(e.scale),t=e.scale>t?e.scale:t,o=e.scale<o?e.scale:o,s[e.level]=e}))),this._set("scales",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const o=Math.floor(e),r=o+1;return t[o]/(t[o]/t[r])**(e-o)}scaleToZoom(e){const t=this.scales,o=t.length-1;let r=0;for(;r<o;r++){const o=t[r],s=t[r+1];if(o<=e)return r;if(s===e)return r+1;if(o>e&&s<e)return r+Math.log(o/e)/Math.log(o/s)}return r}snapScale(e,t=.95){const o=this.scaleToZoom(e);return o%Math.floor(o)>=t?this.zoomToScale(Math.ceil(o)):this.zoomToScale(Math.floor(o))}tileAt(e,t,o,r){const s=this.lodAt(e);if(!s)return null;let i,l;if("number"==typeof t)i=t,l=o;else if((0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.equals)(t.spatialReference,this.spatialReference))i=t.x,l=t.y,r=o;else{const e=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__.project)(t,this.spatialReference);if(null==e)return null;i=e.x,l=e.y,r=o}const n=s.resolution*this.size[0],a=s.resolution*this.size[1];return r||(r=new _TileKey_js__WEBPACK_IMPORTED_MODULE_17__.TileKey(null,0,0,0,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)())),r.level=e,r.row=Math.floor((this.origin.y-l)/a+.001),r.col=Math.floor((i-this.origin.x)/n+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=w.ExtrapolateOptions.NONE){let o=this.lodAt(e.level);if(!o&&t===w.ExtrapolateOptions.POWER_OF_TWO){const t=this.lods[this.lods.length-1];t.level<e.level&&(o=t)}if(!o)return;const r=e.level-o.level,s=o.resolution*this.size[0]/2**r,i=o.resolution*this.size[1]/2**r;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)()),e.extent[0]=this.origin.x+e.col*s,e.extent[1]=this.origin.y-(e.row+1)*i,e.extent[2]=e.extent[0]+s,e.extent[3]=e.extent[1]+i}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const o=this.lodAt(t.level);if(null==o)return null;const{resolution:r}=o,s=r*this.size[0],i=r*this.size[1];return e[0]=this.origin.x+t.col*s,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+s,e[3]=e[1]+i,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return w.fromJSON(this.write({}))}getOrCreateCompatible(e,t){if(256===this.size[0]&&256===this.size[1])return 256===e?this:null;const o=[],r=this.lods.length;for(let s=0;s<r;s++){const e=this.lods[s],r=e.resolution*t;o.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:e.level,scale:e.scale,resolution:r}))}return new w({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:o})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let o=0;o<e.length;o++){const r=e[o];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],O.prototype,"compressionQuality",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],O.prototype,"dpi",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{read:x.read,write:x.write,origins:{"web-scene":{read:!1,write:!1}}}})],O.prototype,"format",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],O.prototype,"isWrappable",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"],json:{write:!0}})],O.prototype,"origin",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.reader)("origin")],O.prototype,"readOrigin",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:[_LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]],value:null,json:{write:!0}})],O.prototype,"lods",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],O.prototype,"scales",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],O.prototype,"size",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.reader)("size",["rows","cols"])],O.prototype,"readSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__.writer)("size",{cols:{type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__.Integer},rows:{type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__.Integer}})],O.prototype,"writeSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"],json:{write:!0}})],O.prototype,"spatialReference",void 0),O=w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.layers.support.TileInfo")],O),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(O||(O={}));const j=O;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/TileKey.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/TileKey.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TileKey": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(t,s,i,o,e=void 0){this.id=t,this.level=s,this.row=i,this.col=o,this.extent=e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "cleanTitle": () => (/* binding */ m),
/* harmony export */   "isArcGISUrl": () => (/* binding */ v),
/* harmony export */   "isHostedAgolService": () => (/* binding */ w),
/* harmony export */   "isServerOrServicesAGOLUrl": () => (/* binding */ b),
/* harmony export */   "isWmsServer": () => (/* binding */ C),
/* harmony export */   "parse": () => (/* binding */ p),
/* harmony export */   "parseNonStandardSublayerUrl": () => (/* binding */ d),
/* harmony export */   "sanitizeUrl": () => (/* binding */ y),
/* harmony export */   "sanitizeUrlWithLayerId": () => (/* binding */ g),
/* harmony export */   "serverTypes": () => (/* binding */ o),
/* harmony export */   "titleFromUrlAndName": () => (/* binding */ h),
/* harmony export */   "writeUrlWithLayerId": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunks/persistableUrlUtils.js */ "./node_modules/@arcgis/core/chunks/persistableUrlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},o=Object.values(i),c=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),f=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function v(e){return!!c.test(e)}function p(r){if(null==r)return null;const t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(r),n=t.path.match(c)||t.path.match(a);if(!n)return null;const[,s,l,u,o]=n,f=l.indexOf("/");return{title:m(-1!==f?l.slice(f+1):l),serverType:i[u.toLowerCase()],sublayer:null!=o&&""!==o?parseInt(o,10):null,url:{path:s}}}function d(r){const t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(r).path.match(f);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function m(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function h(e,r){const t=[];if(e){const r=p(e);null!=r&&r.title&&t.push(r.title)}if(r){const e=m(r);t.push(e)}if(2===t.length){if(t[0].toLowerCase().includes(t[1].toLowerCase()))return t[0];if(t[1].toLowerCase().includes(t[0].toLowerCase()))return t[1]}return t.join(" - ")}function w(e){if(!e)return!1;const r=".arcgis.com/",t="//services",n="//tiles",s="//features",l=(e=e.toLowerCase()).includes(r),u=e.includes(t)||e.includes(n)||e.includes(s);return l&&u}function y(e,n){return e?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.removeTrailingSlash)((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.removeQueryParameters)(e,n)):e}function g(n){let{url:s}=n;if(!s)return{url:s};s=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.removeQueryParameters)(s,n.logger);const l=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(s),u=p(l.path);let i;if(null!=u)null!=u.sublayer&&null==n.layer.layerId&&(i=u.sublayer),s=u.url.path;else if(n.nonStandardUrlAllowed){const e=d(l.path);null!=e&&(s=e.serviceUrl,i=e.sublayerId)}return{url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.removeTrailingSlash)(s),layerId:i}}function S(e,r,t,s,l){(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_1__.w)(r,s,"url",l),s.url&&null!=e.layerId&&(s.url=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.join)(s.url,t,e.layerId.toString()))}function C(e){if(!e)return!1;const r=e.toLowerCase(),t=r.includes("/services/"),n=r.includes("/mapserver/wmsserver"),s=r.includes("/imageserver/wmsserver"),l=r.includes("/wmsserver");return t&&(n||s||l)}function b(e){if(!e)return!1;const r=new _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.Url((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.makeAbsolute)(e)),t=r.authority?.toLowerCase();return"server.arcgisonline.com"===t||"services.arcgisonline.com"===t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r(r,a,t){if(null==r)return null;const u=a.readArcadeFeature();try{return r.evaluate({...t,$feature:u},r.services)}catch(n){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",n),null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AGGREGATE_VALID_FILTERS_MASK": () => (/* binding */ r),
/* harmony export */   "DISPLAY_ID_TEXEL_MASK": () => (/* binding */ n),
/* harmony export */   "DISPLAY_ID_TYPE_AGGREGATE": () => (/* binding */ c),
/* harmony export */   "DISPLAY_ID_TYPE_FEATURE": () => (/* binding */ u),
/* harmony export */   "DISPLAY_ID_TYPE_MASK": () => (/* binding */ t),
/* harmony export */   "NONAGGREGATE_VALID_FILTERS_MASK": () => (/* binding */ o),
/* harmony export */   "createDisplayId": () => (/* binding */ s),
/* harmony export */   "getDisplayIdFilterMask": () => (/* binding */ i),
/* harmony export */   "getDisplayIdTexel": () => (/* binding */ f),
/* harmony export */   "getDisplayIdType": () => (/* binding */ e),
/* harmony export */   "isAggregateId": () => (/* binding */ p)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=8388607,t=8388608,r=254,o=255,u=0,c=1,e=n=>(n&t)>>>23,f=t=>t&n,i=n=>e(n)===c?r:o;function p(n){return e(n)===c}function s(n,r){return((r?t:0)|n)>>>0}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "C_VBO_INFO": () => (/* binding */ Y),
/* harmony export */   "allocateTypedArrayBuffer": () => (/* binding */ x),
/* harmony export */   "allocateTypedArrayBufferwithData": () => (/* binding */ P),
/* harmony export */   "charCodes": () => (/* binding */ pe),
/* harmony export */   "copyMeshData": () => (/* binding */ j),
/* harmony export */   "createGeometryData": () => (/* binding */ H),
/* harmony export */   "createProgramDescriptor": () => (/* binding */ ee),
/* harmony export */   "forEachGeometryType": () => (/* binding */ te),
/* harmony export */   "getBytes": () => (/* binding */ q),
/* harmony export */   "getCapType": () => (/* binding */ k),
/* harmony export */   "getJoinType": () => (/* binding */ G),
/* harmony export */   "getNamedBuffers": () => (/* binding */ b),
/* harmony export */   "getPMSResourceSize": () => (/* binding */ de),
/* harmony export */   "getPixelArrayCtor": () => (/* binding */ W),
/* harmony export */   "getPixelBytes": () => (/* binding */ K),
/* harmony export */   "getStrides": () => (/* binding */ R),
/* harmony export */   "getUrl": () => (/* binding */ se),
/* harmony export */   "getVVType": () => (/* binding */ V),
/* harmony export */   "is3D": () => (/* binding */ ue),
/* harmony export */   "isDefined": () => (/* binding */ z),
/* harmony export */   "isGIF": () => (/* binding */ ie),
/* harmony export */   "isGIFDataUri": () => (/* binding */ ae),
/* harmony export */   "isImageResource": () => (/* binding */ re),
/* harmony export */   "isMarkerPlacementInsidePolygon": () => (/* binding */ Ie),
/* harmony export */   "isNumber": () => (/* binding */ $),
/* harmony export */   "isPNG": () => (/* binding */ oe),
/* harmony export */   "isPNGDataUri": () => (/* binding */ ce),
/* harmony export */   "isSVGImage": () => (/* binding */ me),
/* harmony export */   "isSVGResource": () => (/* binding */ ne),
/* harmony export */   "isSimple": () => (/* binding */ le),
/* harmony export */   "isValidSVG": () => (/* binding */ ye),
/* harmony export */   "shouldRepeat": () => (/* binding */ fe),
/* harmony export */   "strideToPackingFactor": () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../symbols/cim/enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const m=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.engine.webgl.Utils"),f="geometry",d=[{name:f,strideInBytes:12}],p=[{name:f,strideInBytes:36}],y=[{name:f,strideInBytes:24}],I=[{name:f,strideInBytes:12}],g=[{name:f,strideInBytes:40}],S=[{name:f,strideInBytes:36}],T=[{name:f,strideInBytes:36}];function w(e){const t={};for(const n of e)t[n.name]=n.strideInBytes;return t}const E=w([{name:f,strideInBytes:36}]),h=w(d),L=w(p),N=w(y),D=w(I),A=w(g),M=w(S),U=w(T);function R(e,t){switch(e){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.MARKER:return t===_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.HEATMAP?h:E;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.FILL:switch(t){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.DOT_DENSITY:return D;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.SIMPLE:case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.OUTLINE_FILL_SIMPLE:return N;default:return L}case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LINE:return A;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.TEXT:return M;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL:return U}}const _=[f],v=[f],B=[f],O=[f],C=[f];function b(e){switch(e){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.MARKER:return _;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.FILL:return v;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LINE:return B;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.TEXT:return O;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL:return C}}function F(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function x(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}}function P(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}}function z(e){return null!=e}function $(e){return"number"==typeof e}function k(t){switch(t){case"butt":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.BUTT;case"round":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.ROUND;case"square":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.SQUARE;default:return m.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-invalid-type",`Cap type ${t} is not a valid option. Defaulting to round`)),_symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.ROUND}}function G(t){switch(t){case"miter":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.MITER;case"bevel":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.BEVEL;case"round":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.ROUND;default:return m.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-invalid-type",`Join type ${t} is not a valid option. Defaulting to round`)),_symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.ROUND}}function V(e){switch(e){case"opacity":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.OPACITY;case"color":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.COLOR;case"rotation":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.ROTATION;case"size":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.SIZE;default:return m.error(`Cannot interpret unknown vv: ${e}`),null}}function j(e,t,n,r,s,a,i){for(const c in a){const t=a[c].stride,r=F(t),i=a[c].data,o=n[c].data;if(null==i||null==o)continue;const u=t*s.vertexCount/r,l=t*e/r,m=t*s.vertexFrom/r;for(let e=0;e<u;++e)o[e+l]=i[e+m]}if(null!=i&&null!=r){const n=s.indexCount;for(let a=0;a<n;++a)r[a+t]=i[a+s.indexFrom]-s.vertexFrom+e}}const Y={[f]:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.Usage.STATIC_DRAW};function H(e,t){const n=[];for(let r=0;r<5;++r){const s=b(r),a={};for(const e of s)a[e]={data:t(r,e)};n.push({data:e(r),buffers:a})}return n}function q(e){switch(e){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.BYTE:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.UNSIGNED_BYTE:return 1;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.SHORT:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.UNSIGNED_SHORT:return 2;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.FLOAT:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.INT:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.UNSIGNED_INT:return 4}}function K(t){switch(t){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_BYTE:return 1;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_SHORT_4_4_4_4:return 2;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.FLOAT:return 4;default:return void m.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("webgl-utils",`Unable to handle type ${t}`))}}function W(t){switch(t){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_BYTE:return Uint8Array;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_SHORT_4_4_4_4:return Uint16Array;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.FLOAT:return Float32Array;default:return void m.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("webgl-utils",`Unable to handle type ${t}`))}}function X(e){const t={};for(const n in e){const r=e[n];let s=0;t[n]=r.map((e=>{const t=new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_5__.VertexElementDescriptor(e.name,e.count,e.type,s,0,e.normalized||!1);return s+=e.count*q(e.type),t})),t[n]?.forEach((e=>e.stride=s))}return t}const J=e=>{const t=new Map;for(const n in e)for(const r of e[n])t.set(r.name,r.location);return t},Q=e=>{const t={};for(const n in e){const r=e[n];t[n]=r?.length?r[0].stride:0}return t},Z=new Map,ee=(e,t)=>{if(!Z.has(e)){const n=X(t),r={strides:Q(n),bufferLayouts:n,attributes:J(t)};Z.set(e,r)}return Z.get(e)};function te(e){e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.FILL),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LINE),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.MARKER),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.TEXT),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL)}const ne=e=>"path"in e&&ye(e.path),re=e=>"url"in e&&e.url||"imageData"in e&&e.imageData,se=e=>"imageData"in e&&e.imageData&&"contentType"in e&&e.contentType?`data:${e.contentType};base64,${e.imageData}`:"url"in e?e.url:null,ae=e=>null!=e&&e.startsWith("data:image/gif"),ie=e=>"url"in e&&e.url&&(e.url.includes(".gif")||ae(e.url))||"contentType"in e&&"image/gif"===e.contentType||"imageData"in e&&ae(e.imageData),ce=e=>null!=e&&e.startsWith("data:image/png"),oe=e=>"url"in e&&e.url&&(e.url.includes(".png")||ce(e.url))||"contentType"in e&&"image/png"===e.contentType||"imageData"in e&&ce(e.imageData),ue=e=>e.type&&e.type.toLowerCase().includes("3d");function le(e){switch(e.type){case"line":{const t=e;return"CIMSolidStroke"===t.cim.type&&!t.dashTemplate}case"fill":return"CIMSolidFill"===e.cim.type;case"esriSFS":return"esriSFSSolid"===e.style||"esriSFSNull"===e.style;case"esriSLS":return"esriSLSSolid"===e.style||"esriSLSNull"===e.style;default:return!1}}const me=e=>e.includes("data:image/svg+xml");function fe(e){switch("cim"in e?e.cim.type:e.type){case"esriSMS":case"esriPMS":case"CIMPointSymbol":return!1;case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":return Ie(e);default:return!0}}function de(e){const t="maxVVSize"in e&&e.maxVVSize,n="width"in e&&e.width||"size"in e&&e.size||0;return t||n}function pe(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}const ye=e=>!!e&&(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4)),Ie=e=>"fill"===e.type&&"CIMMarkerPlacementInsidePolygon"===e?.cim?.markerPlacement?.type;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/color.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/color.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "premultiplyAlpha": () => (/* binding */ r),
/* harmony export */   "premultiplyAlphaRGBA": () => (/* binding */ t),
/* harmony export */   "premultiplyAlphaRGBAArray": () => (/* binding */ o),
/* harmony export */   "writeColor": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _number_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./number.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/number.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r(n,r=0,t=!1){const o=n[r+3];return n[r]*=o,n[r+1]*=o,n[r+2]*=o,t||(n[r+3]*=255),n}function t(r){if(!r)return 0;const{r:t,g:o,b:u,a:i}=r;return (0,_number_js__WEBPACK_IMPORTED_MODULE_0__.i8888to32)(t*i,o*i,u*i,255*i)}function o(r){if(!r)return 0;const[t,o,u,i]=r;return (0,_number_js__WEBPACK_IMPORTED_MODULE_0__.i8888to32)(t*(i/255),o*(i/255),u*(i/255),i)}function u(n,r,t=0){if(null==r)return n[t]=0,n[t+1]=0,n[t+2]=0,void(n[t+3]=0);const{r:o,g:u,b:i,a:c}=r;n[t]=o*c/255,n[t+1]=u*c/255,n[t+2]=i*c/255,n[t+3]=c}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MosaicType": () => (/* binding */ _),
/* harmony export */   "VVType": () => (/* binding */ I),
/* harmony export */   "WGLDrawPhase": () => (/* binding */ T),
/* harmony export */   "WGLGeometryType": () => (/* binding */ E),
/* harmony export */   "WGLSymbologyType": () => (/* binding */ S),
/* harmony export */   "WGLVVFlag": () => (/* binding */ L),
/* harmony export */   "WGLVVTarget": () => (/* binding */ A)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var E,T,I,L,A,_,S;!function(E){E[E.FILL=0]="FILL",E[E.LINE=1]="LINE",E[E.MARKER=2]="MARKER",E[E.TEXT=3]="TEXT",E[E.LABEL=4]="LABEL"}(E||(E={})),function(E){E[E.NONE=0]="NONE",E[E.MAP=1]="MAP",E[E.LABEL=2]="LABEL",E[E.LABEL_ALPHA=4]="LABEL_ALPHA",E[E.HITTEST=8]="HITTEST",E[E.HIGHLIGHT=16]="HIGHLIGHT",E[E.CLIP=32]="CLIP",E[E.DEBUG=64]="DEBUG",E[E.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(T||(T={})),function(E){E[E.SIZE=0]="SIZE",E[E.COLOR=1]="COLOR",E[E.OPACITY=2]="OPACITY",E[E.ROTATION=3]="ROTATION"}(I||(I={})),function(E){E[E.NONE=0]="NONE",E[E.OPACITY=1]="OPACITY",E[E.COLOR=2]="COLOR",E[E.ROTATION=4]="ROTATION",E[E.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",E[E.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",E[E.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",E[E.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(L||(L={})),function(E){E[E.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",E[E.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",E[E.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",E[E.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(A||(A={})),function(E){E[E.SPRITE=0]="SPRITE",E[E.GLYPH=1]="GLYPH"}(_||(_={})),function(E){E[E.DEFAULT=0]="DEFAULT",E[E.SIMPLE=1]="SIMPLE",E[E.DOT_DENSITY=2]="DOT_DENSITY",E[E.OUTLINE_FILL=3]="OUTLINE_FILL",E[E.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",E[E.HEATMAP=5]="HEATMAP",E[E.PIE_CHART=6]="PIE_CHART"}(S||(S={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/number.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/number.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "i16": () => (/* binding */ e),
/* harmony export */   "i1616to32": () => (/* binding */ w),
/* harmony export */   "i32": () => (/* binding */ o),
/* harmony export */   "i8": () => (/* binding */ u),
/* harmony export */   "i8816to32": () => (/* binding */ y),
/* harmony export */   "i8888to32": () => (/* binding */ x),
/* harmony export */   "numTo32": () => (/* binding */ A),
/* harmony export */   "toFloat32": () => (/* binding */ h),
/* harmony export */   "toUint32": () => (/* binding */ a),
/* harmony export */   "u16": () => (/* binding */ i),
/* harmony export */   "u32": () => (/* binding */ c),
/* harmony export */   "u32to4Xu8": () => (/* binding */ M),
/* harmony export */   "u4u4to8": () => (/* binding */ m),
/* harmony export */   "u8": () => (/* binding */ f)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=new Float32Array(1),r=new Uint32Array(n.buffer);function t(n,r,t){return Math.round(Math.max(Math.min(n,t),r))}function u(n){return t(n,-128,127)}function e(n){return t(n,-32768,32767)}function o(n){return t(n,-2147483648,2147483647)}function f(n){return t(n,0,255)}function i(n){return t(n,0,65535)}function c(n){return t(n,0,4294967295)}function a(t){return n[0]=t,r[0]}function h(t){return r[0]=t,n[0]}function M(n){return[255&n,(65280&n)>>>8,(16711680&n)>>>16,(4278190080&n)>>>24]}function m(n,r){return 15&n|(15&r)<<4}function w(n,r){return 65535&n|r<<16}function x(n,r,t,u){return 255&n|(255&r)<<8|(255&t)<<16|u<<24}function y(n,r,t){return 255&n|(255&r)<<8|t<<16}function A(n){return 0|n}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEBUG_ATTR_UPDATES": () => (/* binding */ l),
/* harmony export */   "createDebugLogger": () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=(n,l)=>n&&((...n)=>l.warn("DEBUG:",...n))||(()=>null),l=!1;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTypeOfSizeVisualVariable": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(l){return (0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(l.minDataValue)&&(0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(l.maxDataValue)&&null!=l.minSize&&null!=l.maxSize?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_MINMAX_VALUE:(l.expression&&"view.scale"===l.expression||l.valueExpression&&"$view.scale"===l.valueExpression)&&Array.isArray(l.stops)?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_SCALE_STOPS:(null!=l.field||l.expression&&"view.scale"!==l.expression||l.valueExpression&&"$view.scale"!==l.valueExpression)&&(Array.isArray(l.stops)||"levels"in l&&l.levels)?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_FIELD_STOPS:(null!=l.field||l.expression&&"view.scale"!==l.expression||l.valueExpression&&"$view.scale"!==l.valueExpression)&&null!=l.valueUnit?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_UNIT_VALUE:(_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.engine.webgl").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-bad-type","Found invalid size VisualVariable",l)),_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.NONE)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureStore2D": () => (/* binding */ u),
/* harmony export */   "featureAdapter": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _chunks_rbush_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/rbush.js */ "./node_modules/@arcgis/core/chunks/rbush.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _Store2D_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Store2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js");
/* harmony import */ var _support_FeatureSetReaderPBFIndirect_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./support/FeatureSetReaderPBFIndirect.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const o=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.create)();function d(t,e){return t<<16|e}function h(t){return(4294901760&t)>>>16}function c(t){return 65535&t}const I={getObjectId:t=>t.getObjectId(),getAttributes:t=>t.readAttributes(),getAttribute:(t,e)=>t.readAttribute(e),cloneWithGeometry:(t,e)=>t,getGeometry:t=>t.readHydratedGeometry(),getCentroid:(t,e)=>t.readCentroid()};class u extends _Store2D_js__WEBPACK_IMPORTED_MODULE_5__.Store2D{constructor(a,r,n){super(a,r),this.featureAdapter=I,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._indexSearchCache=new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](50),this._index=(0,_chunks_rbush_js__WEBPACK_IMPORTED_MODULE_3__.r)(9,(t=>({minX:this._storage.getXMin(t),minY:this._storage.getYMin(t),maxX:this._storage.getXMax(t),maxY:this._storage.getYMax(t)}))),this.mode=n}get storeStatistics(){let t=0,e=0,s=0;return this.forEach((a=>{const r=a.readGeometry();r&&(e+=r.isPoint?1:r.lengths.reduce(((t,e)=>t+e),0),s+=r.isPoint?1:r.lengths.length,t+=1)})),{featureCount:t,vertexCount:e,ringCount:s}}hasInstance(t){return this._featureSetsByInstance.has(t)}onTileData(t,e){if(null==e.addOrUpdate)return e;if(e.addOrUpdate.attachStorage(this._storage),"snapshot"===this.mode){const s=e.addOrUpdate.getCursor();for(;s.next();){const e=s.getDisplayId();this.setComputedAttributes(this._storage,s,e,t.scale)}return e}this._featureSetsByInstance.set(e.addOrUpdate.instance,e.addOrUpdate);const s=e.addOrUpdate.getCursor();for(;s.next();)this._insertFeature(s,t.scale);return this._spatialIndexInvalid=!0,this.events.emit("changed"),e}search(t){this._rebuildIndex();const e=t.id,s=this._indexSearchCache.find((t=>t.tileId===e));if(null!=s)return s.readers;const a=new Map,r=this._searchIndex(t.bounds),n=[];for(const i of r){const t=this._storage.getInstanceId(i),e=h(t),s=c(t);a.has(e)||a.set(e,[]);a.get(e).push(s)}return a.forEach(((t,e)=>{const s=this._featureSetsByInstance.get(e);n.push(_support_FeatureSetReaderPBFIndirect_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderIndirect.from(s,t))})),this._indexSearchCache.enqueue({tileId:e,readers:n}),n}insert(t){const e=t.getCursor(),s=this._storage;for(;e.next();){const t=d(e.instance,e.getIndex()),a=e.getObjectId(),r=this._objectIdToDisplayId.get(a)??this._storage.createDisplayId();e.setDisplayId(r),s.setInstanceId(r,t),this._objectIdToDisplayId.set(a,r)}this._featureSetsByInstance.set(t.instance,t),this._spatialIndexInvalid=!0}remove(t){const e=this._objectIdToDisplayId.get(t);if(!e)return;const s=this._storage.getInstanceId(e),a=c(s),r=h(s),n=this._featureSetsByInstance.get(r);this._objectIdToDisplayId.delete(t),this._storage.releaseDisplayId(e),n.removeAtIndex(a),n.isEmpty&&this._featureSetsByInstance.delete(r),this._spatialIndexInvalid=!0}forEach(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=this._lookupFeature(s);t(a)}))}forEachUnsafe(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=h(s),r=c(s),n=this._getFeatureSet(a);n.setIndex(r),t(n)}))}forEachInBounds(t,e){const s=this._searchIndex(t);for(const a of s){e(this.lookupFeatureByDisplayId(a,this._storage))}}forEachBounds(t,e){this._rebuildIndex();for(const s of t){if(!s.readGeometry())continue;const t=s.getDisplayId();(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.fromRectValues)(o,this._storage.getXMin(t),this._storage.getYMin(t),this._storage.getXMax(t),this._storage.getYMax(t)),e(o)}}sweepFeatures(t,e,s){this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach(((a,r)=>{t.has(a)||(e.releaseDisplayId(a),s&&s.unsetAttributeData(a),this._objectIdToDisplayId.delete(r))})),this.events.emit("changed")}sweepFeatureSets(t){this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach(((e,s)=>{t.has(s)||this._featureSetsByInstance.delete(s)}))}lookupObjectId(t,e){const s=this.lookupFeatureByDisplayId(t,e);return null==s?null:s.getObjectId()}lookupDisplayId(t){return this._objectIdToDisplayId.get(t)}lookupFeatureByDisplayId(t,e){const s=e.getInstanceId(t);return this._lookupFeature(s)}lookupByDisplayIdUnsafe(t){const e=this._storage.getInstanceId(t),s=h(e),a=c(e),r=this._getFeatureSet(s);return r?(r.setIndex(a),r):null}_insertFeature(t,e){const s=this._storage,a=t.getObjectId(),r=d(t.instance,t.getIndex());s.getInstanceId(t.getDisplayId());let n=this._objectIdToDisplayId.get(a);n||(n=s.createDisplayId(),this._objectIdToDisplayId.set(a,n),this._spatialIndexInvalid=!0),t.setDisplayId(n),s.setInstanceId(n,r),this.setComputedAttributes(s,t,n,e)}_searchIndex(t){this._rebuildIndex();const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this._index.search(e)}_rebuildIndex(){if(!this._spatialIndexInvalid)return;const t=[];"snapshot"===this.mode?this._featureSetsByInstance.forEach((e=>{const s=e.getCursor();for(;s.next();){const e=s.getDisplayId();this._storage.setBounds(e,s)&&t.push(e)}})):this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e);this._storage.setBounds(e,this._lookupFeature(s))&&t.push(e)})),this._index.clear(),this._index.load(t),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1}_lookupFeature(t){const e=h(t),s=this._getFeatureSet(e);if(!s)return;const a=s.getCursor(),r=c(t);return a.setIndex(r),a}_getFeatureSet(t){return this._featureSetsByInstance.get(t)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/Pipeline.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/Pipeline.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _processors_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./processors.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processors.js");
/* harmony import */ var _controllers_FeatureController2D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./controllers/FeatureController2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/FeatureController2D.js");
/* harmony import */ var _support_TileStore_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/TileStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/TileStore.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/* harmony import */ var _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../tiling/TileInfoView.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let d=class extends _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_1__.HandleOwner{constructor(){super(...arguments),this.controller=null,this.processor=null,this.remoteClient=null,this.tileStore=null,this.service=null,this.viewState=null,this._paused=!1,this._pendingTileUpdates=[]}initialize(){this.handles.add((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.updating),(e=>{this.remoteClient.invoke("setUpdating",e).catch((e=>{}))})))}destroy(){this.stop(),this.controller?.destroy(),this.processor?.destroy(),this.controller=this.processor=this.tileStore=this.remoteClient=null}get updating(){return!this.controller||this.controller.updating}stop(){this._paused=!0,Array.isArray(this.service?.source)&&(this.service.source.forEach((e=>e.close())),this.service.source.length=0),this.tileStore?.updateTiles({added:[],removed:this.tileStore.tiles.map((e=>e.id))}),this.tileStore?.destroy(),this.tileStore=null,this._pendingTileUpdates.length=0}async startup({service:e,config:t,tileInfo:r,tiles:s}){if(this._paused=!0,Array.isArray(this.service?.source)&&(this.service.source.forEach((e=>e.close())),this.service.source.length=0),this.service=e,!this.tileStore||!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__.equals)(this.tileStore.tileScheme.spatialReference,r.spatialReference)){const e=new _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_14__["default"](_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(r));s.added.length=s.removed.length=0,this.tileStore?.updateTiles({added:[],removed:this.tileStore.tiles.map((e=>e.id))}),this.tileStore?.destroy(),this.tileStore=new _support_TileStore_js__WEBPACK_IMPORTED_MODULE_12__["default"](e),this._pendingTileUpdates.length=0}for(await this._createProcessorAndController(t),await this.update({config:t}),this.controller.resume(),this.tileStore.clear(),this.tileStore.updateTiles(s),this._paused=!1;this._pendingTileUpdates.length;)this.tileStore.updateTiles(this._pendingTileUpdates.pop())}async updateTiles(e){this._paused?this._pendingTileUpdates.push(e):this.tileStore?.updateTiles(e)}async update({config:e}){const t=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_13__.UpdateToken.empty();return await Promise.all([this.processor.update(t,e),this.controller.update(t,e)]),t.toJSON()}async applyUpdate(e){return this.controller.applyUpdate(_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_13__.UpdateToken.create(e))}async _createProcessorAndController(e){await Promise.all([this._handleControllerConfig(e),this._handleProcessorConfig(e)]),this.controller.processor=this.processor}async _handleControllerConfig(e){return this._createController(this.service,e)}async _handleProcessorConfig(e){return this._createProcessor(this.service,e)}async _createController(e,t){this.controller&&this.controller.destroy();const{tileStore:r,remoteClient:s}=this,o=new _controllers_FeatureController2D_js__WEBPACK_IMPORTED_MODULE_11__["default"]({service:e,tileStore:r,remoteClient:s});return this.controller=o,o}async _createProcessor(e,t){const r=t.schema.processors[0].type,s=(await (0,_processors_js__WEBPACK_IMPORTED_MODULE_10__.loadProcessorModule)(r)).default,{remoteClient:o,tileStore:i}=this,l=new s({service:e,config:t,tileStore:i,remoteClient:o});return this.processor&&this.processor.destroy(),this.processor=l,l}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"controller",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"viewState",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.2d.layers.features.Pipeline")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Store2D": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/* harmony import */ var _arcade_callExpressionWithCursor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../arcade/callExpressionWithCursor.js */ "./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class a{constructor(e,s){this._canCacheExpressionValue=!1,this._sourceInfo=e,this._storage=s,this._bitsets={computed:s.getBitset(s.createBitset())}}get storage(){return this._storage}invalidate(){this._bitsets.computed.clear()}async updateSchema(t,i){const a=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_1__.diff)(this._schema,i);if(this._schema=i,!i||null==a||!(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_1__.hasDiff)(a,"attributes"))return;(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - Store:",a),this._bitsets.computed.clear(),t.targets[i.name]=!0;const r=i.attributes,o=[],c=[];for(const e in r){const s=r[e];switch(s.type){case"field":break;case"expression":o.push(this._createArcadeComputedField(s));break;case"label-expression":o.push(this._createLabelArcadeComputedField(s));break;case"statistic":c.push(s)}}this._computedFields=await Promise.all(o),this._canCacheExpressionValue=!this._computedFields.some((e=>"expression"===e.type&&null!=e.expression&&e.expression.referencesScale())),this._statisticFields=c}setComputedAttributes(e,s,t,i){const a=this._bitsets.computed;if(!this._canCacheExpressionValue||!a.has(t)){a.set(t);for(const a of this._computedFields){const r=this._evaluateField(s,a,i);switch(a.resultType){case"numeric":e.setComputedNumericAtIndex(t,a.fieldIndex,r);break;case"string":e.setComputedStringAtIndex(t,a.fieldIndex,r)}}}}async _createArcadeComputedField(e){const s=this._sourceInfo.spatialReference,i=this._sourceInfo.fieldsIndex;return{...e,expression:await (0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_2__.createRendererExpression)(e.valueExpression,s,i)}}async _createLabelArcadeComputedField(e){const s=this._sourceInfo.spatialReference,t=this._sourceInfo.fieldsIndex,{createLabelFunction:i}=await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_layers_support_labelFormatUtils_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../../../layers/support/labelFormatUtils.js */ "./node_modules/@arcgis/core/layers/support/labelFormatUtils.js")),a=await i(e.label,t,s);return{...e,builder:a}}_evaluateField(e,s,t){switch(s.type){case"label-expression":{const t=e.readArcadeFeature();return s.builder.evaluate(t)||""}case"expression":{const{expression:a}=s;return (0,_arcade_callExpressionWithCursor_js__WEBPACK_IMPORTED_MODULE_3__["default"])(a,e,{$view:{scale:t}})}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/FeatureController2D.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/controllers/FeatureController2D.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ R)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../FeatureStore2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js");
/* harmony import */ var _sources_createSource_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../sources/createSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/createSource.js");
/* harmony import */ var _support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../support/AttributeStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js");
/* harmony import */ var _support_BinStore_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/BinStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/BinStore.js");
/* harmony import */ var _support_ClusterStore_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/ClusterStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ClusterStore.js");
/* harmony import */ var _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/ComputedAttributeStorage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/* harmony import */ var _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../support/QueueProcessor.js */ "./node_modules/@arcgis/core/views/support/QueueProcessor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const E=5e3,w="tileRenderer.featuresView.attributeView.initialize",T="tileRenderer.featuresView.attributeView.requestUpdate",j="tileRenderer.featuresView.requestRender";function k(e){return"worker:port-closed"===e.name}function A(e){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e)&&!k(e))throw e}function x(e){return"feature"===e.type&&"snapshot"===e.mode}let U=class extends _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__.HandleOwner{constructor(){super(...arguments),this._storage=new _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_18__.ComputedAttributeStorage,this._markedIdsBufId=this._storage.createBitset(),this._lastCleanup=performance.now(),this._cleanupNeeded=!1,this._invalidated=!1,this._tileToResolver=new Map,this._didEdit=!1,this._updateVersion=1,this.tileStore=null,this.config=null,this.processor=null,this.remoteClient=null,this.service=null}initialize(){this._initStores(),this._initSource(),this._updateQueue=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_21__.QueueProcessor({concurrency:"stream"===this._source.type?1:4,process:(e,t)=>this._onTileMessage(e,{signal:t})}),this.addHandles([this.tileStore.on("update",this.onTileUpdate.bind(this)),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.when)((()=>!this.updating),(()=>this.onIdle()))])}_initSource(){const e=this.tileStore.tileScheme,t=()=>this._updateQueue&&this._updateQueue.length<50,r=(e,t)=>(this._invalidated=!0,this._patchTile(e,t));this._source=(0,_sources_createSource_js__WEBPACK_IMPORTED_MODULE_14__.createSource)(this.service,this.spatialReference,e,r,t,this.featureStore),this._proxyEvents()}_setStreamClientProperty(e,t){this.remoteClient.invoke("setProperty",{propertyName:e,value:t}).catch(A)}_proxyEvents(){if("stream"===this._source.type){const e=this._source.events,t=this._source;this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>t.connectionStatus),(e=>this._setStreamClientProperty("pipelineConnectionStatus",e)),{initial:!0}),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>t.errorString),(e=>this._setStreamClientProperty("pipelineErrorString",e)),{initial:!0}),e.on("data-received",(e=>this.remoteClient.invoke("emitEvent",{name:"data-received",event:{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry}}).catch(A))),e.on("message-received",(e=>this.remoteClient.invoke("emitEvent",{name:"message-received",event:e}).catch(A))),e.on("updateRate",(e=>this.remoteClient.invoke("emitEvent",{name:"update-rate",event:{...e}}).catch(A)))])}}_initAttributeStore(e){this.attributeStore||(this.attributeStore=new _support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_15__["default"]({type:"remote",initialize:(e,t)=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(this.remoteClient.invoke(w,e,{signal:t}).catch(A)),update:(e,t)=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(this.remoteClient.invoke(T,e,{signal:t}).catch(A)),render:e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(this.remoteClient.invoke(j,void 0,{signal:e}).catch(A))},e))}_initStores(){const e="snapshot"===this.service.type?"snapshot":"on-demand",t={geometryInfo:{geometryType:this.service.geometryType,hasM:!1,hasZ:!1},spatialReference:this.spatialReference,fieldsIndex:this.fieldsIndex,fields:this.service.fields};this.featureStore=new _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_13__.FeatureStore2D(t,this._storage,e)}_initQueryEngine(e){const t=this;this.featureQueryEngine?.destroy(),this.featureQueryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__.QueryEngine({definitionExpression:e.schema.source.definitionExpression??void 0,fields:this.service.fields,geometryType:this.service.geometryType,objectIdField:this.service.objectIdField,hasM:!1,hasZ:!1,spatialReference:this.spatialReference.toJSON(),cacheSpatialQueries:!0,featureStore:this.featureStore,aggregateAdapter:{getFeatureObjectIds(e){if(null==t.aggregateStore)return[];return t.aggregateStore.getFeatureDisplayIdsForAggregate(e).map((e=>t.getObjectId(e)))}},timeInfo:this.service.timeInfo})}_initAggregateQueryEngine(e,t){if(this.aggregateQueryEngine?.destroy(),null==e)return;const r=t.targets.aggregate.params.fields.slice();this.aggregateQueryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__.QueryEngine({definitionExpression:void 0,fields:r,geometryType:e.geometryInfo.geometryType,objectIdField:e.objectIdField,hasM:e.geometryInfo.hasM,hasZ:e.geometryInfo.hasZ,spatialReference:this.spatialReference.toJSON(),cacheSpatialQueries:!1,featureStore:e,aggregateAdapter:{getFeatureObjectIds:e=>[]}})}destroy(){this._updateQueue.destroy(),this._source.destroy(),this.featureQueryEngine?.destroy(),this.aggregateQueryEngine?.destroy(),this.attributeStore?.destroy();for(const e of this.tileStore.tiles)this._source.unsubscribe(e);clearInterval(this._checkUpdating)}get fieldsIndex(){return new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__["default"](this.service.fields)}get spatialReference(){return this.tileStore.tileScheme.spatialReference}get updating(){return this.isUpdating()}isUpdating(){const e=this._source.updatingHandles.updating,t=!this.attributeStore||this.attributeStore.updatingHandles.updating,r=e||t||this.updatingHandles.updating;if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-log-updating")){let s=`Updating FeatureController2D: ${r}\n`;s+=`  -> updatingSource ${e}\n`;for(const e of this._source.subscriptions)s+=`     ${e.tile.id} ${e.isDone}\n`;s+=`  -> updatingAttributeStore ${t}\n`,s+=`  -> updatingHandles ${this.updatingHandles.updating} (queue: ${this._updateQueue.length})\n`,console.log(s)}return r}updateCustomParameters(e){"stream"===this._source.type&&this._source.updateCustomParameters(e)}enableEvent(e){this._source.enableEvent(e.name,e.value)}pause(){this._updateQueue.pause(),this._updateQueue.clear()}resume(){this._updateQueue.resume()}pauseStream(){"stream"===this._source.type&&this._source.pauseStream()}resumeStream(){"stream"===this._source.type&&this._source.resumeStream()}sendMessageToSocket(e){"stream"===this._source.type&&this._source.sendMessageToSocket(e)}sendMessageToClient(e){"stream"===this._source.type&&this._source.sendMessageToClient(e)}_initAggregateStore(e){const t=e.schema.targets?.aggregate?.type,r=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(this.config,(e=>e.schema.targets?.aggregate?.type));if(r!==t&&(null!=this.aggregateStore&&(this.removeHandles("valueRangesChanged"),this.aggregateStore.destroy(),this.aggregateStore=null),t)){switch(t){case"cluster":{const e={geometryInfo:{geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1},spatialReference:this.spatialReference,fieldsIndex:this.fieldsIndex,fields:this.service.fields};this.aggregateStore=new _support_ClusterStore_js__WEBPACK_IMPORTED_MODULE_17__.ClusterStore(e,this.spatialReference,this._storage,this.service),this.addHandles(this.aggregateStore.events.on("valueRangesChanged",(e=>{this.remoteClient.invoke("emitEvent",{name:"valueRangesChanged",event:{valueRanges:e.valueRanges}}).catch(A)})),"valueRangesChanged");break}case"bin":{const e={geometryInfo:{geometryType:"esriGeometryPolygon",hasM:!1,hasZ:!1},spatialReference:this.spatialReference,fieldsIndex:this.fieldsIndex,fields:this.service.fields};this.aggregateStore=new _support_BinStore_js__WEBPACK_IMPORTED_MODULE_16__.BinStore(e,this.spatialReference,this._storage,this.service);break}}this.aggregateStore.onTileUpdate({added:this.tileStore.tiles,removed:[]})}}async update(e,t){this._updateVersion++,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`FeatureController2D::update: Token version ${this._updateVersion}`),this._initQueryEngine(t),this._initAttributeStore(t),this.pause(),await Promise.all([this._source.update(e,t.schema.source),this.featureStore.updateSchema(e,t.schema.targets.feature),this.attributeStore.update(e,t),this.attributeStore.updateFilters(e,t,this)]),this._initAggregateStore(t),null!=this.aggregateStore&&await this.aggregateStore.updateSchema(e,t.schema.targets.aggregate),this._initAggregateQueryEngine(this.aggregateStore,t.schema),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&e.describe(),this._set("config",t)}async applyUpdate(e){e.version=this._updateVersion,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`FeatureController2D::applyUpdate: Token version ${e.version}`),e.mesh&&this.clearTiles(),this._updateQueue.resume(),await this._source.applyUpdate(e),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Waiting for source update to finish"),this.notifyChange("updating"),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOnce)((()=>!this.updating)),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Source update finsihed"),null!=this.aggregateStore&&(await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.after)(10),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Waiting for aggregate idle call"),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOnce)((()=>!this.updating)),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Aggregate idle called")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Update finished")}async onEdits({edits:e}){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("Applying Edit:",e),this._didEdit=!0;try{const t=e.removed.map((e=>e.objectId&&-1!==e.objectId?e.objectId:this._lookupObjectIdByGlobalId(e.globalId))),r=e.addOrModified.map((({objectId:e})=>e));this.featureStore.invalidate(),await this._source.edit(r,t),this.clearTiles(),this.notifyChange("updating"),null!=this.aggregateStore&&this.aggregateStore.clear(),await this._source.resend(),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOnce)((()=>!this.updating))}catch(t){}}async refresh(e){if(!e.dataChanged){const e=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_20__.UpdateToken.empty();return e.storage.filters=!0,this.applyUpdate(e)}this.featureStore.invalidate(),this.clearTiles(),this._source.refresh(this._updateVersion,e),this._cleanupNeeded=!0,this.notifyChange("updating"),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOnce)((()=>!this.updating))}clearTiles(){for(const e of this.tileStore.tiles)this.processor.onTileClear(e,!1)}onTileUpdate(e){null!=this.aggregateStore&&this.aggregateStore.onTileUpdate(e);for(const t of e.added)this._source.subscribe(t,this._updateVersion),this._level=t.level;for(const t of e.removed)this._source.unsubscribe(t),this._cleanupNeeded=!0,this._tileToResolver.has(t.id)&&(this._tileToResolver.get(t.id).resolve(),this._tileToResolver.delete(t.id));this.notifyChange("updating")}async onIdle(){this._invalidated&&(this._invalidated=!1,null==this.aggregateStore&&"heatmap"!==this.processor.type||await this._repushCurrentLevelTiles()),this._markAndSweep()}async querySummaryStatistics({query:e,params:t}){return this.featureQueryEngine.executeQueryForSummaryStatistics(e,t)}async queryAggregateSummaryStatistics({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForSummaryStatistics(this._normalizeAggregateQuery(e),t)}async queryUniqueValues({query:e,params:t}){return this.featureQueryEngine.executeQueryForUniqueValues(e,t)}async queryAggregateUniqueValues({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForUniqueValues(this._normalizeAggregateQuery(e),t)}async queryClassBreaks({query:e,params:t}){return this.featureQueryEngine.executeQueryForClassBreaks(e,t)}async queryAggregateClassBreaks({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForClassBreaks(this._normalizeAggregateQuery(e),t)}async queryHistogram({query:e,params:t}){return this.featureQueryEngine.executeQueryForHistogram(e,t)}async queryAggregateHistogram({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForHistogram(this._normalizeAggregateQuery(e),t)}queryExtent(e){return this.featureQueryEngine.executeQueryForExtent(e)}queryAggregates(e){return this.aggregateQueryEngine.executeQuery(this._normalizeAggregateQuery(e))}queryAggregateCount(e){return this.aggregateQueryEngine.executeQueryForCount(this._normalizeAggregateQuery(e))}queryAggregateIds(e){return this.aggregateQueryEngine.executeQueryForIds(this._normalizeAggregateQuery(e))}queryFeatures(e){return this.featureQueryEngine.executeQuery(e)}async queryVisibleFeatures(e){const t=await this.featureQueryEngine.executeQuery(e),r=t.objectIdFieldName;return t.features=t.features.filter((e=>{const t=e.attributes[r],i=this.getDisplayId(t);return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(i,(e=>this.attributeStore.isVisible(e)))})),t}queryFeatureCount(e){return this.featureQueryEngine.executeQueryForCount(e)}queryLatestObservations(e){return this.featureQueryEngine.executeQueryForLatestObservations(e)}queryObjectIds(e){return this.featureQueryEngine.executeQueryForIds(e)}async queryStatistics(){return this.featureStore.storeStatistics}getObjectId(e){return this.featureStore.lookupObjectId(e,this._storage)}getDisplayId(e){if(null!=this.aggregateStore){const t=this.aggregateStore.getDisplayId(e);if(null==t){const t=this.featureStore.lookupDisplayId(e);return this.aggregateStore.getDisplayIdForReferenceId(t)}return t}return this.featureStore.lookupDisplayId(e)}getFeatures(e){const t=[],r=[];for(const s of e){const e=null!=this.aggregateStore?this.getAggregate(s):null;if(null!=e)if(null!=e.attributes.referenceId){const r=this.getFeature(e.attributes.referenceId);null!=r&&t.push(r)}else r.push(e);else{const e=this.getFeature(s);null!=e&&t.push(e)}}return{features:t,aggregates:r}}getFeature(e){const t=this.featureStore.lookupFeatureByDisplayId(e,this._storage);if(null==t)return null;const r=t.readHydratedGeometry(),s=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertToGeometry)(r,t.geometryType,t.hasZ,t.hasM);return{attributes:t.readAttributes(),geometry:s}}getAggregate(e){return null==this.aggregateStore?null:this.aggregateStore.getAggregate(e)}getAggregates(){return null==this.aggregateStore?[]:this.aggregateStore.getAggregates()}async setHighlight(e){const r=e.map((e=>this.getDisplayId(e))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome);return this.attributeStore.setHighlight(e,r)}_normalizeAggregateQuery(e){const t=e.objectIds??[];for(const r of e.aggregateIds??[])t.push(r);return e.objectIds=t,e.aggregateIds=[],e}_lookupObjectIdByGlobalId(e){const t=this.service.globalIdField;if(null==t)throw new Error("Expected globalIdField to be defined");let r=null;if(this.featureStore.forEach((s=>{e===s.readAttribute(t)&&(r=s.getObjectId())})),null==r)throw new Error(`Expected to find a feature with globalId ${e}`);return r}async _repushCurrentLevelTiles(){const e=this.tileStore.tiles.filter((e=>e.level===this._level));e.map((async e=>this._patchTile({type:"append",id:e.key.id,clear:!0,addOrUpdate:null,end:!1})));const t=e.map((async e=>this._patchTile({type:"append",id:e.key.id,addOrUpdate:_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_19__.FeatureSetReaderJSON.fromOptimizedFeatures([],this.service),remove:[],end:!0,isRepush:!0,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_20__.UpdateToken.empty()})));await Promise.all(t)}_maybeForceCleanup(){performance.now()-this._lastCleanup>E&&this._markAndSweep()}_patchTile(e,t){const r=this._updateQueue.push(e,t).catch((e=>{}));return this.updatingHandles.addPromise(r)}async _onTileMessage(e,t){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(t),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")){const t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(e.addOrUpdate,(e=>e.hasFeatures));console.debug(e.id,`FeatureController:onTileMessage: [clear:${e.clear}, end:${e.end}, features: ${t}]`)}const r=this.tileStore.get(e.id);if(!r)return;if(e.clear)return this.processor.onTileClear(r,e.end);const i=e.status;this._cleanupNeeded=!0;const a=[];for(const s of e.remove??[]){const e=this.featureStore.lookupDisplayId(s);e&&a.push(e)}e.remove=a;try{if(null==e.addOrUpdate)return void this.processor.onTileMessage(r,{...e,addOrUpdate:null},null!=this.aggregateStore,t).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfNotAbortError);if(e.addOrUpdate.setArcadeSpatialReference(this.spatialReference),this.featureStore.hasInstance(e.addOrUpdate.instance)&&i.targets.feature||(i.targets.feature=!0,this.featureStore.onTileData(r,e)),!i.storage.data||!i.storage.filters){i.storage.data=!0,i.storage.filters=!0,this.attributeStore.onTileData(r,e);"stream"===this._source.type||this._didEdit?(await this.attributeStore.sendUpdates(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(t)):this.attributeStore.sendUpdates()}if(null!=this.aggregateStore&&!i.targets.aggregate){i.targets.aggregate=!0;const t=x(this._source)&&this._source.loading,s=!x(this._source)||t||e.end;if(this.aggregateStore.onTileData(r,e,this._storage,this.attributeStore,s),!s)return;i.mesh||(this.attributeStore.onTileData(r,e),await this.attributeStore.sendUpdates())}if(!i.mesh){i.mesh=!0;const s=null!=this.aggregateStore&&"cluster"===this.aggregateStore.type;await this.processor.onTileMessage(r,e,s,t),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(t)}this._maybeForceCleanup()}catch(u){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfNotAbortError)(u)}}_mark(e,t,r){const s=(4294901760&this._storage.getInstanceId(e))>>>16;e&&(t.add(s),r.set(e))}_markAndSweep(){this._lastCleanup=performance.now();if(!(!("feature"===this._source.type&&"snapshot"===this._source.mode)&&("stream"===this._source.type||this._cleanupNeeded)))return;this._cleanupNeeded=!1;const e=this._storage.getBitset(this._markedIdsBufId),t=new Set;e.clear();for(const r of this.tileStore.tiles)for(const s of this._source.readers(r.id)){const r=s.getCursor();for(;r.next();){let s=r.getDisplayId();if(!s){const e=r.getObjectId();s=this.featureStore.lookupDisplayId(e)}this._mark(s,t,e)}}"symbol"===this.processor.type&&this.processor.forEachBufferId((r=>{this._mark(r,t,e)})),this._updateQueue.forEach((r=>{for(const s of r.remove??[]){const r=this.featureStore.lookupDisplayId(s);this._mark(r,t,e)}})),null!=this.aggregateStore&&(this.aggregateStore.sweepFeatures(e,this.featureStore),"sweepAggregates"in this.aggregateStore&&this.aggregateStore.sweepAggregates(this._storage,this.attributeStore,this._level)),this.featureStore.sweepFeatures(e,this._storage,this.attributeStore),this.featureStore.sweepFeatureSets(t)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],U.prototype,"tileStore",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],U.prototype,"config",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],U.prototype,"fieldsIndex",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],U.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],U.prototype,"remoteClient",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],U.prototype,"service",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],U.prototype,"spatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],U.prototype,"updating",null),U=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.2d.layers.features.controllers.FeatureController2D")],U);const R=U;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/support/sourceAdapters.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/controllers/support/sourceAdapters.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SourceAdapter": () => (/* binding */ c),
/* harmony export */   "createSourceAdapter": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_workers_Connection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/workers/Connection.js */ "./node_modules/@arcgis/core/core/workers/Connection.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../layers/ogc/ogcFeatureUtils.js */ "./node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js");
/* harmony import */ var _rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../rest/query/operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_FeatureSetReaderPBF_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../support/FeatureSetReaderPBF.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class c{constructor(e){this.service=e}destroy(){}}function m(e){return Array.isArray(e.source)}function p(e){return"ogc-source"===e?.type}function l(e){const{capabilities:t}=e;return p(e.source)?new v(e):m(e)?new y(e):t.query.supportsFormatPBF&&(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-pbf")?new h(e):new d(e)}async function f(t){const r=new _core_workers_Connection_js__WEBPACK_IMPORTED_MODULE_1__["default"];return await r.open(t,{}),r}class y extends c{constructor(e){super(e),this._portsOpen=f(e.source).then((e=>this.client=e))}destroy(){this.client.close(),this.client=null}async executeQuery(e,t){await this._portsOpen;const r=await this.client.invoke("queryFeatures",e.toJSON(),t);return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromFeatureSet(r,this.service)}}class h extends c{async executeQuery(e,t){const{data:r}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_5__.executeQueryPBFBuffer)(this.service.source,e,t),s=!e.quantizationParameters;return _support_FeatureSetReaderPBF_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderPBF.fromBuffer(r,this.service,s)}}class d extends c{async executeQuery(e,i){const{source:a,capabilities:u,spatialReference:c,objectIdField:m,geometryType:p}=this.service;if(null!=e.quantizationParameters&&!u.query.supportsQuantization){const u=e.clone(),p=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.toQuantizationTransform)(u.quantizationParameters);u.quantizationParameters=null;const{data:l}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_5__.executeQuery)(a,u,c,i),f=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromFeatureSet)(l,m);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedFeatureSet)(p,f),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatureSet(f,this.service)}const{data:l}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_5__.executeQuery)(a,e,this.service.spatialReference,i);return"esriGeometryPoint"===p&&(l.features=l.features?.filter((e=>{if(null!=e.geometry){const t=e.geometry;return Number.isFinite(t.x)&&Number.isFinite(t.y)}return!0}))),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromFeatureSet(l,this.service)}}class v extends c{async executeQuery(e,r){const{capabilities:a}=this.service;if(e.quantizationParameters&&!a.query.supportsQuantization){const a=e.clone(),o=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.toQuantizationTransform)(a.quantizationParameters);a.quantizationParameters=null;const u=await (0,_layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__.queryOptimizedFeatureSet)(this.service.source,e,r);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedFeatureSet)(o,u),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatureSet(u,this.service)}const o=await (0,_layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__.queryOptimizedFeatureSet)(this.service.source,e,r);return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatureSet(o,this.service)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/processors.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/processors.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadProcessorModule": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o(o){return"heatmap"===o?__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_2d_layers_features_processors_HeatmapProcessor_js").then(__webpack_require__.bind(__webpack_require__, /*! ./processors/HeatmapProcessor.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processors/HeatmapProcessor.js")):Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_TileClipper_js-node_modules_arcgis_core_vie-6140ae"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_earcut_js-node_modules_arcgis_core_core_BidiEngine_js-d3e6b2"), __webpack_require__.e("vendors-node_modules_arcgis_core_symbols_support_webStyleSymbolUtils_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_views_2d_layers_features_processors_SymbolProcessor_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ./processors/SymbolProcessor.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processors/SymbolProcessor.js"))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseFeatureSource": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _controllers_support_sourceAdapters_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/support/sourceAdapters.js */ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/support/sourceAdapters.js");
/* harmony import */ var _DataTileSource_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DataTileSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js");
/* harmony import */ var _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../support/QueueProcessor.js */ "./node_modules/@arcgis/core/views/support/QueueProcessor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const u=4;class c extends _DataTileSource_js__WEBPACK_IMPORTED_MODULE_6__.DataTileSource{constructor(e){super(e),this.type="feature",this.mode="on-demand",this._adapter=(0,_controllers_support_sourceAdapters_js__WEBPACK_IMPORTED_MODULE_5__.createSourceAdapter)(e.serviceInfo),this._queue=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__.QueueProcessor({concurrency:8,process:async e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e),null!=e.tile){const t=e.tile.key.id,{signal:r}=e,s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-tiles-debug")?{tile:t.replaceAll("/","."),depth:e.depth}:void 0,i=await this._adapter.executeQuery(e.query,{signal:r,query:{...s,...this._schema?.customParameters}});return i.level=e.tile.key.level,i}return this._adapter.executeQuery(e.query,{...e,query:this._schema?.customParameters})}}),this._patchQueue=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__.QueueProcessor({concurrency:8,process:async e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e),null!=e.tile){const t=e.tile.key.id,{signal:r}=e,s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-tiles-debug")?{tile:t.replaceAll("/","."),depth:e.depth}:void 0,i=await this._adapter.executeQuery(e.query,{signal:r,query:{...s,...this._schema?.customParameters}});return i.level=e.tile.key.level,i}return this._adapter.executeQuery(e.query,{...e,query:this._schema?.customParameters})}})}destroy(){super.destroy(),this._adapter.destroy(),this._queue.destroy(),this._patchQueue.destroy()}enqueueQuery(e,t){return this.updatingHandles.addPromise(this._queue.push(e,t))}enqueuePatchQuery(e,t){return this.updatingHandles.addPromise(this._patchQueue.push(e,t))}get maxRecordCountFactor(){const{query:e}=this._serviceInfo.capabilities;return e.supportsMaxRecordCountFactor?u:null}get maxPageSize(){const{query:e}=this._serviceInfo.capabilities;return(e.maxRecordCount??8e3)*(this.maxRecordCountFactor??1)}get pageSize(){return Math.min(8e3,this.maxPageSize)}enableEvent(e,t){}subscribe(e,s){super.subscribe(e,s),this._fetchDataTile(e).catch((s=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(s)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.views.2d.layers.features.sources.BaseFeatureSource").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("mapview-query-error","Encountered error when fetching tile",{tile:e,error:s}))}))}unsubscribe(e){super.unsubscribe(e)}readers(e){return this._subscriptions.get(e).readers()}async query(e,t={}){const r=t.query??{};return this._adapter.executeQuery(e,{...t,query:{...r,...this._schema?.customParameters}})}async queryLastEditDate(){const t=this._serviceInfo.source,r={...t.query,f:"json"};return(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t.path,{query:r,responseType:"json"})).data.editingInfo.lastEditDate}createTileQuery(e,t={}){const r=this._serviceInfo.geometryType,s=this.createQuery(t);s.quantizationParameters=t.quantizationParameters??e.getQuantizationParameters(),s.resultType="tile",s.geometry=e.extent,this._serviceInfo.capabilities.query.supportsQuantization?"esriGeometryPolyline"===r&&(s.maxAllowableOffset=e.resolution*(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("feature-polyline-generalization-factor")):"esriGeometryPolyline"!==r&&"esriGeometryPolygon"!==r||(s.maxAllowableOffset=e.resolution,"esriGeometryPolyline"===r&&(s.maxAllowableOffset*=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("feature-polyline-generalization-factor")));const i=this._serviceInfo.capabilities.query;return s.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference,s.compactGeometryEnabled=i.supportsCompactGeometry,s}async _executePatchQuery(e,t,r,s){const i=t.clone();i.outFields=[this._serviceInfo.objectIdField,...r],i.returnCentroid=!1,i.returnGeometry=!1;const a=null!=i.start?i.start/8e3:0,o=s.signal;return await this.enqueuePatchQuery({tile:e,query:i,signal:o,depth:a})}async _resend(e,t){const{query:r,message:i}=e,a=null!=r.outFields?r.outFields:[],o=this._queryInfo.outFields,n=o.filter((e=>!a.includes(e)));if(null!=i.addOrUpdate)if(n.length)try{const e=this._subscriptions.get(i.id).tile,a=await this._executePatchQuery(e,r,n,t);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t),r.outFields=o,i.addOrUpdate.joinAttributes(a),this._onMessage({...i,end:i.end,type:"append"})}catch(u){}else this._onMessage({...i,type:"append"});else this._onMessage({...i,type:"append"})}async _resendSubscription(e){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug(e.tile.id,"Resend Subscription"),e.empty)return this._onMessage({id:e.tile.id,addOrUpdate:null,end:!1,type:"append"});const t=e.signal;for(const r of e.requests.done)await this._resend(r,{signal:t});return null!=e.edits?this._onMessage(e.edits):void 0}async resend(){const e=Array.from(this._subscriptions.values());await Promise.all(e.map((e=>this._resendSubscription(e))))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataTileSource": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _TimeExtent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../TimeExtent.js */ "./node_modules/@arcgis/core/TimeExtent.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _core_support_WatchUpdatingTracking_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/support/WatchUpdatingTracking.js */ "./node_modules/@arcgis/core/core/support/WatchUpdatingTracking.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _DataTileSubscription_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DataTileSubscription.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSubscription.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function p(e,s){const t=new Set;return e&&e.forEach((e=>t.add(e))),s&&s.forEach((e=>t.add(e))),t.has("*")?["*"]:Array.from(t)}class m{constructor(e){this.updatingHandles=new _core_support_WatchUpdatingTracking_js__WEBPACK_IMPORTED_MODULE_5__.WatchUpdatingTracking,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._resolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createResolver)(),this._didEdit=!1,this._subscriptions=new Map,this._outSR=e.outSR,this._serviceInfo=e.serviceInfo,this._onTileUpdateMessage=e.onMessage}destroy(){for(const e of this._subscriptions.values())e.abort();this.updatingHandles.destroy()}get subscriptions(){return this._subscriptions.values()}async _onMessage(e){const s=this._subscriptions.get(e.id);if(!s)return;const t={...e,remove:e.remove??[],status:e.status??_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_8__.UpdateToken.empty()};return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.ignoreAbortErrors)(this._onTileUpdateMessage(t,s.options))}update(s,t){const i=t.fields.length;t.outFields=p(this._schema?.outFields,t.outFields),t.outFields=t.outFields.length>=.75*i?["*"]:t.outFields,t.outFields.sort();const r=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.diff)(this._schema,t);if(!r)return;(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - Source:",r);const o="orderByFields"in this._serviceInfo&&this._serviceInfo.orderByFields?this._serviceInfo.orderByFields:this._serviceInfo.objectIdField+" ASC",a={returnCentroid:"esriGeometryPolygon"===this._serviceInfo.geometryType,returnGeometry:!0,timeReferenceUnknownClient:"stream"!==this._serviceInfo.type&&this._serviceInfo.timeReferenceUnknownClient,outFields:t.outFields,outSpatialReference:this._outSR,orderByFields:[o],where:t.definitionExpression||"1=1",gdbVersion:t.gdbVersion,historicMoment:t.historicMoment,timeExtent:t.timeExtent?_TimeExtent_js__WEBPACK_IMPORTED_MODULE_0__["default"].fromJSON(t.timeExtent):null},d=this._schema&&(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiff)(r,"outFields");this._schema&&(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiffAny)(r,["timeExtent","definitionExpression","gdbVersion","historicMoment","customParameters"])&&(s.why.mesh.push("Layer filter and/or custom parameters changed"),s.why.source.push("Layer filter and/or custom parameters changed"),s.mesh=!0,s.source=!0,s.queryFilter=!0),d&&(s.why.source.push("Layer required fields changed"),s.source=!0),(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.diff)(a,this._queryInfo)&&(this._queryInfo=a),this._schema=t,this._resolver.resolve()}whenInitialized(){return this._resolver.promise}async applyUpdate(e){if(e.queryFilter||e.source&&this._didEdit)return this.refresh(e.version),void(this._didEdit=!1);this._subscriptions.forEach((s=>s.applyUpdate(e))),await this.resend()}refresh(e,s){for(const t of this._tiles())this.unsubscribe(t),this.subscribe(t,e)}subscribe(e,s){const t=new _DataTileSubscription_js__WEBPACK_IMPORTED_MODULE_7__.DataTileSubscription(e,s);this._subscriptions.set(e.id,t),this.updatingHandles.addPromise(t.done)}unsubscribe(e){const s=this.getSubscription(e.id);null!=s&&s.abort(),this._subscriptions.delete(e.id)}createQuery(e={}){const s=this._queryInfo.historicMoment?new Date(this._queryInfo.historicMoment):null;return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_6__["default"]({...this._queryInfo,historicMoment:s,...e})}getSubscription(e){return this._subscriptions.has(e)?this._subscriptions.get(e):null}async queryLastEditDate(){throw new Error("Service does not support query type")}async query(e,s){throw new Error("Service does not support query")}*_tiles(){const e=Array.from(this._subscriptions.values());for(const s of e)yield s.tile}async edit(e,s){const t=Array.from(this._subscriptions.values()),i=t.map((({tile:e})=>e));for(const r of t)r.removeIds(s);if(e.length){const t=i.map((s=>{const t=this.createTileQuery(s);return t.objectIds=e,{tile:s,query:t}})).map((async({tile:e,query:s})=>({tile:e,result:await this.query(s,{query:{tile:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-tiles-debug")?e.id.replaceAll("/","."):void 0}}),query:s}))),n=(await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlwaysValues)(t)).map((async({tile:t,result:i})=>{if(!i.hasFeatures&&!s.length&&!e.length)return;const r=this._subscriptions.get(t.key.id);r&&r.edit(i,e)}));await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)(n)}this._didEdit=!0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSubscription.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSubscription.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataTileSubscription": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class d{constructor(e,r){this.requests={done:new Array,stream:new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_1__["default"](10)},this._edits=null,this._abortController=new AbortController,this._version=0,this._resolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createResolver)(),this._isDone=!1,this.didSend=!1,this.tile=e,this._version=r}get signal(){return this._abortController.signal}get options(){return{signal:this._abortController.signal}}get empty(){return!this.requests.done.length&&null==this.edits}get edits(){return this._edits}get done(){return this._resolver.promise}get isDone(){return this._isDone}resolve(){this._isDone=!0,this._resolver.resolve()}clear(){this.requests.done=[]}applyUpdate(e){this.requests.done.forEach((s=>s.message.status.unset(e))),this._version=e.version,null!=this._edits&&this._edits.status.unset(e)}add(e){e.message.status=e.message.status??_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty(),e.message.status.version=this._version,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug(this.tile.id,"DataTileSubscription:add",this._version),e.message.end&&(this.requests.done.forEach((e=>{null!=e.message&&e.message.end&&(e.message.end=!1)})),this._resolver.resolve(),this._isDone=!0),this.requests.done.push(e)}edit(s,t){const d=s.getQuantizationTransform(),o=s.fullSchema(),a=Array.from(s.features()).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome),n=[...t,...a.map((e=>e.objectId))];if(this.removeIds(n),this._invalidate(),null==this._edits)return void(this._edits={type:"append",addOrUpdate:_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_4__.FeatureSetReaderJSON.fromOptimizedFeatures(a,o,d),id:this.tile.id,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty(),end:!0});this.requests.done.forEach((e=>e.message.end=!1));this._edits.addOrUpdate.append(s.features())}*readers(){for(const{message:e}of this.requests.done)null!=e.addOrUpdate&&(yield e.addOrUpdate);null!=this._edits&&null!=this._edits.addOrUpdate&&(yield this._edits.addOrUpdate)}_invalidate(){for(const e of this.requests.done)e.message.status=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty();null!=this._edits&&(this._edits.status=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty())}removeIds(e){this._invalidate();for(const{message:s}of this.requests.done){const t=s.addOrUpdate;null!=t&&(t.removeIds(e),t.isEmpty&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Removing FeatureSetReader"),s.addOrUpdate=null))}null!=this._edits&&null!=this._edits.addOrUpdate&&this._edits.addOrUpdate.removeIds(e),this.requests.done=this.requests.done.filter((e=>e.message.addOrUpdate||e.message.end))}abort(){this._abortController.abort(),this._resolver.reject()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DrillDownFeatureSource.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/DrillDownFeatureSource.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DrillDownFeatureSource": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-mobile"),i={maxDrillLevel:s?1:4,maxRecordCountFactor:s?1:3};class a extends _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__.BaseFeatureSource{constructor(e){super(e)}async _fetchDataTile(r){const s=this._serviceInfo.capabilities.query.supportsMaxRecordCountFactor,a=this._subscriptions.get(r.key.id),o=a.signal,n=r.getQuantizationParameters();let c=0;const d=async(u,l)=>{const m=this._queryInfo,p=this.createTileQuery(u,{maxRecordCountFactor:s?i.maxRecordCountFactor:void 0,returnExceededLimitFeatures:!1,quantizationParameters:n});c++;try{const t=await this.enqueueQuery({tile:r,query:p,signal:o,depth:l});if(c--,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(o),!t)return;if(m!==this._queryInfo)return void d(u,l);if(t.exceededTransferLimit&&l<i.maxDrillLevel){for(const e of u.createChildTiles())d(e,l+1);return}const s={id:r.id,addOrUpdate:t,end:0===c,type:"append"};a.add({query:p,message:s}),this._onMessage(s)}catch(f){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.isAbortError)(f)){const e={id:r.id,addOrUpdate:null,end:!0,type:"append"};a.add({query:p,message:e}),this._onMessage(e)}}};d(r,0)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/PagedFeatureSource.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/PagedFeatureSource.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PagedFeatureSource": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BaseFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o extends _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__.BaseFeatureSource{constructor(e){super(e)}async _fetchDataTile(s){const i=6,o=20,n=this._subscriptions.get(s.key.id);let d=!1,c=0,u=0;const h=(e,t)=>{u--,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(n);const r=s.id,i=e.reader,o=e.query;if(!i.exceededTransferLimit){if(d=!0,0!==t&&!i.hasFeatures){const e={id:r,addOrUpdate:i,end:0===u,type:"append"};return n.add({message:e,query:o}),void this._onMessage(e)}const e={id:r,addOrUpdate:i,end:0===u,type:"append"};return n.add({message:e,query:o}),void this._onMessage(e)}const c={id:r,addOrUpdate:i,end:d&&0===u,type:"append"};n.add({message:c,query:o}),this._onMessage(c)};let m=0,p=0;for(;!d&&p++<o;){let o;for(let a=0;a<m+1;a++){const a=c++;u++,o=this._fetchDataTilePage(s,a,n).then((e=>e&&h(e,a))).catch((a=>{if(d=!0,!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(a)){_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.layers.features.sources.PagedFeatureSource").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-query-error","Encountered error when fetching tile",{tile:s,error:a}));const r={id:s.id,addOrUpdate:null,end:d,type:"append"},i={start:this.pageSize*c,num:this.pageSize,returnExceededLimitFeatures:!0,quantizationParameters:s.getQuantizationParameters()};null!=this.maxRecordCountFactor&&(i.maxRecordCountFactor=this.maxRecordCountFactor);const o=this.createTileQuery(s,i);n.add({message:r,query:o}),this._onMessage(r)}}))}await o,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(n),m=Math.min(m+2,i)}}async _fetchDataTilePage(e,t,r){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(r);const i=this._queryInfo,o={start:this.pageSize*t,num:this.pageSize,returnExceededLimitFeatures:!0,quantizationParameters:e.getQuantizationParameters()};null!=this.maxRecordCountFactor&&(o.maxRecordCountFactor=this.maxRecordCountFactor);const n=this.createTileQuery(e,o);try{const s=r.signal,o=await this.enqueueQuery({tile:e,query:n,signal:s,depth:t});return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(r),o?i!==this._queryInfo?this._fetchDataTilePage(e,t,r):{reader:o,query:n}:null}catch(d){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfNotAbortError)(d),null}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/SnapshotFeatureSource.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/SnapshotFeatureSource.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SnapshotFeatureSource": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BaseFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js");
/* harmony import */ var _support_FeatureSetReaderPBFIndirect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/FeatureSetReaderPBFIndirect.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(e,t,s){const r=e.getXHydrated(),o=e.getYHydrated(),n=t.getColumnForX(r),a=Math.floor(t.normalizeCol(n));return`${s}/${Math.floor(t.getRowForY(o))}/${a}`}function h(e,t){if(null==e)return null;const s=t.transform,r=e.getQuantizationTransform();if(null==r){const[t,r]=s.scale,[o,n]=s.translate,a=-o/t,i=1/t,d=n/r,u=1/-r;return e.transform(a,d,i,u)}const[o,n]=r.scale,[a,i]=r.translate,[d,u]=s.scale,[l,h]=s.translate,c=o/d,g=(a-l)/d,p=n/u,_=(-i+h)/u;return e.transform(g,_,c,p)}let c=class extends _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_7__.BaseFeatureSource{constructor(e){super(e),this.mode="snapshot",this._loading=!0,this._controller=new AbortController,this._downloadPromise=null,this._didSendEnd=!1,this._queries=new Array,this._invalidated=!1,this._hasAggregates=!1,this._random=new _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__["default"](1e3),this._store=e.store,this._markedIdsBufId=this._store.storage.createBitset()}destroy(){super.destroy(),this._controller.abort()}get loading(){return this._loading}get _signal(){return this._controller.signal}update(e,t){super.update(e,t),null==this._featureCount&&(this._featureCount=t.initialFeatureCount),null!=t.changedFeatureCount&&(this._featureCount=t.changedFeatureCount),this._hasAggregates=!!e.targets?.aggregate}async resend(e=!1){if(await this._downloadPromise,this._invalidated||e){const e=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.unwrapOrThrow)(this._featureCount,"Expected featureCount to be defined");return this._invalidated=!1,this._subscriptions.forEach((e=>e.clear())),this._downloadPromise=this._download(e),void await this._downloadPromise}const t=this._queries.map((({query:e,reader:t})=>this._sendPatchQuery(e,t)));await Promise.all(t),this._subscriptions.forEach((e=>{e.requests.done.forEach((e=>this._onMessage(e.message)))}))}async refresh(e,t){t&&(this._featureCount=t.featureCount),await this.resend(!0)}async _sendPatchQuery(e,t){const s=null!=e.outFields?e.outFields:[],o=this._queryInfo.outFields,n=o.filter((e=>!s.includes(e)));if(!n.length)return;const a=e.clone(),i=this._signal;a.returnGeometry=!1,a.returnCentroid=!1,a.outFields=n,e.outFields=o;const d=await this.enqueueQuery({query:a,depth:0,signal:i});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)({signal:i}),t.joinAttributes(d)}async _fetchDataTile(e){if(!this._downloadPromise){const e=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.unwrapOrThrow)(this._featureCount,"Expected featureCount to be defined");this._downloadPromise=this._download(e)}const t=this._store.search(e),r=this._subscriptions.get(e.key.id),n=t.length-1;for(let s=0;s<n;s++){const n=h(t[s],e),a={type:"append",id:e.id,addOrUpdate:n,end:!1,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};r.add({query:null,message:a}),this._hasAggregates||await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.after)(1),this._onMessage(a)}const a=h(n>=0?t[n]:null,e),i=this._didSendEnd,d={type:"append",id:e.id,addOrUpdate:a,end:i,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};r.add({query:null,message:d}),this._onMessage(d)}async _download(e){try{await this.whenInitialized();const t=this._store.storage.getBitset(this._markedIdsBufId),s=new Set;t.clear();const r=Math.ceil(e/this.pageSize),o=Array.from({length:r},((e,t)=>t)).sort(((e,t)=>this._random.getInt()-this._random.getInt())).map((e=>this._downloadPage(e,t,s)));await Promise.all(o),this._store.sweepFeatures(t,this._store.storage),this._store.sweepFeatureSets(s)}catch(s){_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.2d.layers.features.sources.SnapshotFeatureSource").error("mapview-snapshot-source","Encountered and error when downloading feature snapshot",s)}this._sendEnd(),this._loading=!1}async _downloadPage(e,t,s){const o=this.pageSize,n={start:e*o,num:o,cacheHint:!0};null!=this.maxRecordCountFactor&&(n.maxRecordCountFactor=this.maxRecordCountFactor);const a=this.createQuery(n),i=this._signal,d=await this.enqueueQuery({query:a,depth:e,signal:i});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)({signal:i}),this._queries.push({query:a,reader:d}),this._store.insert(d),s.add(d.instance);const u=d.getCursor();for(;u.next();)t.set(u.getDisplayId());this._send(d)}_send(e){if(!this._subscriptions.size)return;let t=null;const s=new Map,r=new Set,o=new Map;this._subscriptions.forEach((e=>{const n=e.tile;s.set(n.key.id,null),t=n.tileInfoView,r.add(n.level);const{row:a,col:i}=n.key,d=`${n.level}/${a}/${i}`,u=o.get(d)??[];u.push(e),o.set(d,u)}));for(const n of r){const r=t.getLODInfoAt(n),a=e.getCursor();for(;a.next();){const e=l(a,r,n),t=a.getIndex();if(o.has(e))for(const r of o.get(e)){const e=r.tile.id;let o=s.get(e);null==o&&(o=[],s.set(e,o)),o.push(t)}}}s.forEach(((t,s)=>{if(null!=t){const r=this._subscriptions.get(s),o={type:"append",id:s,addOrUpdate:h(_support_FeatureSetReaderPBFIndirect_js__WEBPACK_IMPORTED_MODULE_8__.FeatureSetReaderIndirect.from(e,t),r.tile),end:!1,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};r.add({query:null,message:o}),this._onMessage(o)}}))}_sendEnd(){this._subscriptions.forEach((e=>{const t={type:"append",id:e.tile.id,addOrUpdate:null,end:!0,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};e.add({query:null,message:t}),this._onMessage(t)})),this._didSendEnd=!0}};c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.view.2d.layers.features.sources.SnapshotFeatureSource")],c);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StreamConnectionState": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let s=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(r){super(r)}get connectionStatus(){return this.connection?.connectionStatus}get errorString(){return this.connection?.errorString}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"connection",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"connectionStatus",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"errorString",null),s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__.subclass)("esri.views.2d.layers.features.sources.StreamConnectionState")],s);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamSource.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamSource.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StreamSource": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/rbush.js */ "./node_modules/@arcgis/core/chunks/rbush.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_StreamFeatureManager_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/data/StreamFeatureManager.js */ "./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js");
/* harmony import */ var _layers_graphics_sources_connections_createConnection_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/sources/connections/createConnection.js */ "./node_modules/@arcgis/core/layers/graphics/sources/connections/createConnection.js");
/* harmony import */ var _DataTileSource_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DataTileSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js");
/* harmony import */ var _StreamConnectionState_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StreamConnectionState.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const p=2500;function _(e,t){const s=e.weakClone();if(null!=e.geometry){const i=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeX)(t,e.geometry.coords[0]),a=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeY)(t,e.geometry.coords[1]);s.geometry=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"]([],[i,a])}return s}function m(e){return"esriGeometryPoint"===e?_:(t,s)=>{const n=t.weakClone(),r=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],a=!1,d=!1,c=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedGeometry)(r,t.geometry,a,d,e,s,!1,!1);return n.geometry=c,n}}function g(e){return"esriGeometryPoint"===e?e=>null!=e.geometry?{minX:e.geometry.coords[0],minY:e.geometry.coords[1],maxX:e.geometry.coords[0],maxY:e.geometry.coords[1]}:{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}:e=>{let t=1/0,s=1/0,i=-1/0,n=-1/0;return null!=e.geometry&&e.geometry.forEachVertex(((e,r)=>{t=Math.min(t,e),s=Math.min(s,r),i=Math.max(i,e),n=Math.max(n,r)})),{minX:t,minY:s,maxX:i,maxY:n}}}function y(e,s){const i=(0,_chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__.r)(9,g(s));return i.load(e),i}function f(e,t){return e.search({minX:t.bounds[0],minY:t.bounds[1],maxX:t.bounds[2],maxY:t.bounds[3]})}class v{constructor(e,t){this.onUpdate=e,this._geometryType=t,this._objectIdToFeature=new Map,this._index=null}get _features(){const e=[];return this._objectIdToFeature.forEach((t=>e.push(t))),e}add(e){this._objectIdToFeature.set(e.objectId,e),this._index=null}get(e){return this._objectIdToFeature.has(e)?this._objectIdToFeature.get(e):null}forEach(e){this._objectIdToFeature.forEach(e)}search(e){return this._index||(this._index=y(this._features,this._geometryType)),f(this._index,e)}clear(){this._index=null,this._objectIdToFeature.clear()}removeById(e){const t=this._objectIdToFeature.get(e);return t?(this._objectIdToFeature.delete(e),this._index=null,t):null}update(e,t){this.onUpdate(e,t)}get size(){return this._objectIdToFeature.size}}class I extends _DataTileSource_js__WEBPACK_IMPORTED_MODULE_7__.DataTileSource{constructor(t){super(t),this.type="stream",this._updateIntervalId=0,this._level=0,this._isPaused=!1,this._updateInfo={websocket:0,client:0},this._inUpdate=!1;const{outSR:s}=t,{geometryType:i,objectIdField:n,timeInfo:r,purgeOptions:o,source:c,spatialReference:u,serviceFilter:l,maxReconnectionAttempts:_,maxReconnectionInterval:g,updateInterval:y,customParameters:f,enabledEventTypes:I}=t.serviceInfo,b=new v(this._onUpdate.bind(this),i),T=new _layers_graphics_data_StreamFeatureManager_js__WEBPACK_IMPORTED_MODULE_5__.StreamFeatureManager(b,n,r,o),j=(0,_layers_graphics_sources_connections_createConnection_js__WEBPACK_IMPORTED_MODULE_6__.createConnection)(c,u,s,i,l,_,g,f??{});this._connectionState=new _StreamConnectionState_js__WEBPACK_IMPORTED_MODULE_8__.StreamConnectionState({connection:j}),this._store=b,this._manager=T,this._connection=j,this._quantize=m(i),this._enabledEventTypes=new Set(I),this._handlesGroup=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.handlesGroup)([this._connection.on("data-received",(e=>this._onFeature(e))),this._connection.on("message-received",(e=>this._onWebSocketMessage(e)))]),this._initUpdateInterval=()=>{let e=performance.now();this._updateIntervalId=setInterval((()=>{const s=performance.now(),i=s-e;if(i>p){e=s;const t=Math.round(this._updateInfo.client/(i/1e3)),n=Math.round(this._updateInfo.websocket/(i/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.events.emit("updateRate",{client:t,websocket:n})}t.canAcceptRequest()&&!this._inUpdate&&this._manager.checkForUpdates()}),y)},this._isPaused=t.serviceInfo.isPaused,this._isPaused||this._initUpdateInterval()}destroy(){super.destroy(),this._clearUpdateInterval(),this._connection.destroy(),this._handlesGroup?.remove()}_fetchDataTile(){}get connectionStatus(){return this._connectionState.connectionStatus}get errorString(){return this._connectionState.errorString}updateCustomParameters(e){this._connection.updateCustomParameters(e)}pauseStream(){this._isPaused||(this._isPaused=!0,this._clearUpdateInterval())}resumeStream(){this._isPaused&&(this._isPaused=!1,this._initUpdateInterval())}sendMessageToSocket(e){this._connection.sendMessageToSocket(e)}sendMessageToClient(e){this._isPaused&&"type"in e&&"clear"===e.type?(this._store.clear(),this._subscriptions.forEach(((e,t)=>{e.didSend&&e.tile.level===this._level&&this._onMessage({type:"append",id:t,addOrUpdate:null,clear:!0,end:!0})}))):this._connection.sendMessageToClient(e)}enableEvent(e,t){t?this._enabledEventTypes.add(e):this._enabledEventTypes.delete(e)}subscribe(e,t){super.subscribe(e,t);const s=this._subscriptions.get(e.id);s.resolve(),this._level=e.level;const i=this._getTileFeatures(e);this._onMessage({type:"append",id:e.key.id,addOrUpdate:i,end:!0}),s.didSend=!0}unsubscribe(e){super.unsubscribe(e)}*readers(e){const t=this._subscriptions.get(e),{tile:s}=t;yield this._getTileFeatures(s)}createTileQuery(e){throw new Error("Service does not support tile  queries")}async resend(){this._subscriptions.forEach((e=>{const{tile:t}=e,s={type:"append",id:t.id,addOrUpdate:this._getTileFeatures(t),end:!0};this._onMessage(s)}))}_getTileFeatures(e){const t=this._store.search(e).map((t=>this._quantize(t,e.transform)));return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_9__.FeatureSetReaderJSON.fromOptimizedFeatures(t,this._serviceInfo,e.transform)}_onWebSocketMessage(e){if(this._enabledEventTypes.has("message-received")&&this.events.emit("message-received",e),"type"in e)switch(e.type){case"delete":if(e.objectIds)for(const t of e.objectIds)this._manager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this._manager.removeByTrackId(t);break;case"clear":this._store.forEach((e=>this._manager.removeById(e.objectId)))}}_onFeature(e){this._updateInfo.websocket++;try{this._enabledEventTypes.has("data-received")&&this.events.emit("data-received",e);const t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromFeature)(e,this._serviceInfo.geometryType,!1,!1,this._serviceInfo.objectIdField);this._manager.add(t)}catch(t){}}_clearUpdateInterval(){clearInterval(this._updateIntervalId),this._updateIntervalId=0}async _onUpdate(e,t){this._inUpdate=!0;try{null!=e&&(this._updateInfo.client+=e.length),this._subscriptions.forEach(((e,t)=>{e.didSend&&e.tile.level===this._level&&this._onMessage({type:"append",id:t,addOrUpdate:null,clear:!0,end:!1})}));const t=[];this._subscriptions.forEach(((e,s)=>{if(!e.didSend||e.tile.level!==this._level)return;const i=e.tile,n={type:"append",id:s,addOrUpdate:this._getTileFeatures(i),remove:[],end:!1,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_10__.UpdateToken.empty()};e.requests.stream.enqueue(n),t.push(this._onMessage(n))})),await Promise.all(t),this._subscriptions.forEach(((e,t)=>{e.didSend&&e.tile.level===this._level&&this._onMessage({type:"append",id:t,addOrUpdate:null,end:!0})}))}catch{}this._inUpdate=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/createSource.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/createSource.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createSource": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _DrillDownFeatureSource_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DrillDownFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DrillDownFeatureSource.js");
/* harmony import */ var _PagedFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PagedFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/PagedFeatureSource.js");
/* harmony import */ var _SnapshotFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SnapshotFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/SnapshotFeatureSource.js");
/* harmony import */ var _StreamSource_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StreamSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(e,n,c,u,i,p){const f=a(e,n,c,u,i,p);switch(f.type){case"feature":switch(f.origin){case"hosted":case"local":return new _PagedFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__.PagedFeatureSource(f);case"snapshot":return new _SnapshotFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__.SnapshotFeatureSource(f);default:return new _DrillDownFeatureSource_js__WEBPACK_IMPORTED_MODULE_1__.DrillDownFeatureSource(f)}case"stream":return new _StreamSource_js__WEBPACK_IMPORTED_MODULE_4__.StreamSource(f)}}function a(r,t,o,s,n,a){switch(r.type){case"snapshot":return{type:"feature",origin:"snapshot",featureCount:r.featureCount??0,serviceInfo:r,onMessage:s,outSR:t,tileInfoView:o,canAcceptRequest:n,store:a};case"stream":return{type:"stream",serviceInfo:r,onMessage:s,outSR:t,canAcceptRequest:n};case"memory":case"on-demand":return{type:"feature",serviceInfo:r,onMessage:s,outSR:t,origin:c(r.source),tileInfoView:o,canAcceptRequest:n}}function c(r){return Array.isArray(r)?"local":"path"in r&&(0,_layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_0__.isHostedAgolService)(r.path)?"hosted":"unknown"}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ B)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _core_support_WatchUpdatingTracking_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/support/WatchUpdatingTracking.js */ "./node_modules/@arcgis/core/core/support/WatchUpdatingTracking.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../engine/webgl/Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../engine/webgl/util/debug.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js");
/* harmony import */ var _tileRenderers_support_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../tileRenderers/support/visualVariablesUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const E=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.layers.2d.features.support.AttributeStore"),k=(0,_engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_12__.createDebugLogger)(_engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_12__.DEBUG_ATTR_UPDATES,E),D={sharedArrayBuffer:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-shared-array-buffer"),atomics:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-atomics")};function F(t,e){return i=>e(t(i))}class I{constructor(t,e,i,s){this.size=0,this.texelSize=4,this.dirtyStart=0,this.dirtyEnd=0;const{pixelType:r,layout:a,textureOnly:n}=s;this.textureOnly=n||!1,this.pixelType=r,this._ctype=e,this.layout=a,this._resetRange(),this._shared=t,this.size=i,n||(this.data=this._initData(r,i,t,e))}get buffer(){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(this.data,(t=>t.buffer))}unsetComponentAllTexels(t,e){const i=this.data;for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]&=~e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponentAllTexels(t,e){const i=this.data;for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]|=255&e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponent(t,e,i){const s=this.data;for(const r of i)s[r*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,r),this.dirtyEnd=Math.max(this.dirtyEnd,r)}setComponentTexel(t,e,i){this.data[i*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}unsetComponentTexel(t,e,i){this.data[i*this.texelSize+t]&=~e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}getData(t,e){const i=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);return this.data[i*this.texelSize+e]}setData(t,e,i){const s=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t),r=1<<e;0!=(this.layout&r)?null!=this.data&&(this.data[s*this.texelSize+e]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s)):E.error("mapview-attributes-store","Tried to set a value for a texel's readonly component")}lock(){this.pixelType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE&&this._shared&&D.atomics&&"local"!==this._ctype&&Atomics.store(this.data,0,1)}unlock(){this.pixelType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE&&this._shared&&D.atomics&&"local"!==this._ctype&&Atomics.store(this.data,0,0)}expand(t){if(this.size=t,!this.textureOnly){const e=this._initData(this.pixelType,t,this._shared,this._ctype),i=this.data;e.set(i),this.data=e}}toMessage(){const t=this.dirtyStart,e=this.dirtyEnd,i=this.texelSize;if(t>e)return null;this._resetRange();const s=!(this._shared||"local"===this._ctype),r=this.pixelType,a=this.layout,n=this.data;return{start:t,end:e,data:s&&n.slice(t*i,(e+1)*i)||null,pixelType:r,layout:a}}_initData(t,e,i,s){const r=i&&"local"!==s?SharedArrayBuffer:ArrayBuffer,a=(0,_engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_11__.getPixelArrayCtor)(t),n=new a(new r(e*e*4*a.BYTES_PER_ELEMENT));for(let o=0;o<n.length;o+=4)n[o+1]=255;return n}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}}class B{constructor(t,e){this._client=t,this.config=e,this.updatingHandles=new _core_support_WatchUpdatingTracking_js__WEBPACK_IMPORTED_MODULE_7__.WatchUpdatingTracking,this._blocks=new Array,this._filters=new Array(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.MAX_FILTERS),this._attributeComputeInfo=null,this._targetType=0,this._abortController=new AbortController,this._hasScaleExpr=!1,this._size=32,this._nextUpdate=null,this._currUpdate=null,this._idsToHighlight=new Set;const i=e.supportsTextureFloat?_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.FLOAT:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE;k(`Creating AttributeStore ${D.sharedArrayBuffer?"with":"without"} shared memory`),this._blockDescriptors=[{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE,layout:1},{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE,layout:15,textureOnly:!0},{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE,layout:15,textureOnly:!0},{pixelType:i,layout:15},{pixelType:i,layout:15},{pixelType:i,layout:15},{pixelType:i,layout:15}],this._blocks=this._blockDescriptors.map((()=>null))}destroy(){this._abortController.abort(),this.updatingHandles.destroy()}get hasScaleExpr(){return this._hasScaleExpr}get _signal(){return this._abortController.signal}get hasHighlight(){return this._idsToHighlight.size>0}isUpdating(){const t=this.updatingHandles.updating||!!this._nextUpdate;return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-log-updating")&&console.log(`Updating AttributeStore: ${t}\n  -> updatingHandles ${this.updatingHandles.updating} (currUpdate: ${!!this._currUpdate})\n  -> nextUpdate: ${!!this._nextUpdate}\n`),t}update(t,e){this.config=e;const i=e.schema.processors[0].storage,s=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_6__.diff)(this._schema,i);if((t.targets.feature||t.targets.aggregate)&&(t.storage.data=!0),s&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - AttributeStore:",s),t.storage.data=!0,this._schema=i,this._attributeComputeInfo=null,null!=i)){switch(i.target){case"feature":this._targetType=_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.DISPLAY_ID_TYPE_FEATURE;break;case"aggregate":this._targetType=_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.DISPLAY_ID_TYPE_AGGREGATE}if("subtype"===i.type){this._attributeComputeInfo={isSubtype:!0,subtypeField:i.subtypeField,map:new Map};for(const t in i.mapping){const e=i.mapping[t];if(null!=e&&null!=e.vvMapping)for(const i of e.vvMapping)this._bindAttribute(i,parseInt(t,10))}}else{if(this._attributeComputeInfo={isSubtype:!1,map:new Map},null!=i.vvMapping)for(const t of i.vvMapping)this._bindAttribute(t);if(null!=i.attributeMapping)for(const t of i.attributeMapping)this._bindAttribute(t)}}}onTileData(t,e){if(null==e.addOrUpdate)return;const i=e.addOrUpdate.getCursor();for(;i.next();){const t=i.getDisplayId();this.setAttributeData(t,i)}}async setHighlight(t,e){const i=1,s=this._getBlock(0),r=e.map((t=>(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t)));s.lock(),s.unsetComponentAllTexels(0,i),s.setComponent(0,i,r),s.unlock(),this._idsToHighlight.clear();for(const a of t)this._idsToHighlight.add(a);await this.sendUpdates()}async updateFilters(t,e,i){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::updateFilters");const{service:s,spatialReference:r}=i,{filters:a}=e,n=a.map(((t,e)=>this._updateFilter(t,e,s,r))),o=(await Promise.all(n)).some((t=>t));(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::updateFilters - finsihed"),o&&(t.storage.filters=!0,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - AttributeStore:","Filters changed"))}setData(t,e,i,s){const r=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);this._ensureSizeForTexel(r),this._getBlock(e).setData(t,i,s)}getData(t,e,i){return this._getBlock(e).getData(t,i)}getHighlightFlag(t){return this._idsToHighlight.has(t)?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.HIGHLIGHT_FLAG:0}unsetAttributeData(t){const e=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);this._getBlock(0).setData(e,0,0)}setAttributeData(t,e){const s=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);if(this._ensureSizeForTexel(s),this._getBlock(0).setData(s,0,this.getFilterFlags(e)),this._targetType!==(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdType)(t))return;const r=this._attributeComputeInfo,a=this.config.supportsTextureFloat?1:2,n=4;let o=null;r&&(o=r.isSubtype?r.map.get(e.readAttribute(r.subtypeField)):r.map,o&&o.size&&o.forEach(((t,r)=>{const o=r*a%n,l=Math.floor(r*a/n),h=this._getBlock(l+_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.ATTRIBUTE_DATA_VV),u=t(e);if(this.config.supportsTextureFloat)h.setData(s,o,u);else if(u===_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.NAN_MAGIC_NUMBER)h.setData(s,o,255),h.setData(s,o+1,255);else{const t=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.clamp)(Math.round(u),-32767,32766)+32768,e=255&t,r=(65280&t)>>8;h.setData(s,o,e),h.setData(s,o+1,r)}})))}sendUpdates(){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::sendUpdate"),this._nextUpdate)return this._nextUpdate.promise;if(this._currUpdate)return this._nextUpdate=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.createResolver)(),this.updatingHandles.addPromise(this._nextUpdate.promise),this._nextUpdate.promise;const e={blocks:this._blocks.map((t=>null!=t?t.toMessage():null))};return this._currUpdate=this._createResources().then((()=>{const t=()=>{if(this._currUpdate=null,this._nextUpdate){const t=this._nextUpdate;this._nextUpdate=null,this.sendUpdates().then((()=>t.resolve()))}else (0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::sendUpdate::No additional updates queued")};(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::sendUpdate::client.update");const i=this.updatingHandles.addPromise(this._client.update(e,this._signal).then(t).catch(t));return this._client.render(this._signal),i})).catch((e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e))return this._createResourcesPromise=null,this._createResources();E.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-attribute-store","Encountered an error during client update",e))})),this._currUpdate}_ensureSizeForTexel(t){for(;t>=this._size*this._size;)if(this._expand())return}_bindAttribute(t,e){function i(){const{normalizationField:e}=t;return e?i=>{const s=i.readAttribute(e);if(!s)return null;return i.readAttribute(t.field)/s}:e=>e.readAttribute(t.field)}function s(){return t.normalizationField&&E.warn("mapview-arcade","Ignoring normalizationField specified with an arcade expression which is not supported."),e=>e.getComputedNumericAtIndex(t.fieldIndex)}let r;if(null!=t.fieldIndex)r=s();else{if(!t.field)return;r=i()}const{valueRepresentation:a}=t;if(a){r=F(r,(t=>(0,_tileRenderers_support_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_13__.getVisualVariableSizeValueRepresentationRatio)(t,a)))}const n=t=>null===t||isNaN(t)||t===1/0||t===-1/0?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.NAN_MAGIC_NUMBER:t,o=this._attributeComputeInfo;if(o.isSubtype){const i=o.map.get(e)??new Map;i.set(t.binding,F(r,n)),o.map.set(e,i)}else o.map.set(t.binding,F(r,n))}_createResources(){if(null!=this._createResourcesPromise)return this._createResourcesPromise;this._getBlock(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.ATTRIBUTE_DATA_ANIMATION),this._getBlock(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.ATTRIBUTE_DATA_GPGPU),k("Initializing AttributeStore");const e={shared:D.sharedArrayBuffer&&!("local"===this._client.type),size:this._size,blocks:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.mapMany)(this._blocks,(t=>({textureOnly:t.textureOnly,buffer:t.buffer,pixelType:t.pixelType})))},i=this._client.initialize(e,this._signal).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e)?this._createResourcesPromise=null:E.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-attribute-store","Encountered an error during client initialization",e))}));return this._createResourcesPromise=i,i.then((()=>null==this._createResourcesPromise?this._createResources():void 0)),i}_getBlock(t){const e=this._blocks[t];if(null!=e)return e;k(`Initializing AttributeBlock at index ${t}`);const i=D.sharedArrayBuffer,s=this._client.type,r=new I(i,s,this._size,this._blockDescriptors[t]);return this._blocks[t]=r,this._createResourcesPromise=null,r}_expand(){if(this._size<this.config.maxTextureSize){const t=this._size<<=1;return k("Expanding block size to",t,this._blocks),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.forEachSome)(this._blocks,(e=>e.expand(t))),this._createResourcesPromise=null,this._size=t,0}return E.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-limitations","Maximum number of onscreen features exceeded.")),-1}async _updateFilter(t,e,i,s){const r=this._filters[e],a=null!=r&&r.hash;if(!r&&!t)return!1;if(a===JSON.stringify(t))return!1;if(null==t){if(!r)return!1;const t=1<<e+1,i=this._getBlock(0);return this._filters[e]=null,i.setComponentAllTexels(0,t),this.sendUpdates(),!0}const n=await this._getFilter(e,i);return await n.update(t,s),!0}async _getFilter(t,e){const i=this._filters[t];if(null!=i)return i;const{default:s}=await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_2d_layers_features_support_FeatureFilter_js").then(__webpack_require__.bind(__webpack_require__, /*! ./FeatureFilter.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureFilter.js")),r=new s({geometryType:e.geometryType,hasM:!1,hasZ:!1,timeInfo:e.timeInfo,fieldsIndex:new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_8__["default"](e.fields)});return this._filters[t]=r,r}isVisible(t){return!!(2&this._getBlock(0).getData(t,0))}getFilterFlags(t){let e=0;const i=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdFilterMask)(t.getDisplayId());for(let r=0;r<this._filters.length;r++){const s=!!(i&1<<r),a=this._filters[r];e|=(!s||null==a||a.check(t)?1:0)<<r}let s=0;if(this._idsToHighlight.size){const e=t.getObjectId();s=this.getHighlightFlag(e)}return e<<1|s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/BinStore.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/BinStore.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BinStore": () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../geohash/GeohashTree.js */ "./node_modules/@arcgis/core/geohash/GeohashTree.js");
/* harmony import */ var _geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../geohash/geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../FeatureStore2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js");
/* harmony import */ var _Store2D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Store2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js");
/* harmony import */ var _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const S=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.view.2d.layers.features.support.BinStore"),F=12,G=64,R=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__.create)(),L=5;function T(e){return 57.29577951308232*e}class A extends _Store2D_js__WEBPACK_IMPORTED_MODULE_17__.Store2D{constructor(t,s,r,i){super(t,r),this.type="bin",this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.objectIdField="aggregateId",this.featureAdapter=_FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__.featureAdapter,this._geohashLevel=L,this._geohashBuf=[],this._serviceInfo=i,this.geometryInfo=t.geometryInfo,this._spatialReference=s,this._projectionSupportCheck=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__.checkProjectionSupport)(s,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84),this._bitsets.geohash=r.getBitset(r.createBitset()),this._bitsets.inserted=r.getBitset(r.createBitset())}destroy(){this._tree&&this._tree.destroy()}get featureSpatialReference(){return this._spatialReference}get fields(){return this._fields}async updateSchema(e,t){const s=this._schema;try{await super.updateSchema(e,t),await this._projectionSupportCheck}catch(h){}this._fields=this._schema.params.fields;const a=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_5__.diff)(s,t);t&&(null!=a||e.source||e.storage.filters)?(((0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_5__.hasDiff)(a,"params.fields")||(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_5__.hasDiff)(a,"params")||!this._tree||e.source)&&(this._tree&&this._tree.destroy(),this._tree=new _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_6__.GeohashTree(this._statisticFields,this._serviceInfo),this._tree.onRelease=e=>e.displayId&&this._storage.releaseDisplayId(e.displayId),this._geohashLevel=this._schema.params.fixedBinLevel,this._rebuildTree(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&S.info("Aggregate mesh needs update due to tree changing")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&S.info("Aggregate mesh needs update due to tree changing"),e.targets[t.name]=!0,e.mesh=!1):s&&(e.mesh=!0)}clear(){this._rebuildTree()}sweepFeatures(e,t){this._bitsets.inserted.forEachSet((s=>{if(!e.has(s)){const e=t.lookupByDisplayIdUnsafe(s);this._remove(e)}}))}sweepAggregates(e,t,s){}onTileData(e,t,s,r,i=!0){if(!this._schema||null==t.addOrUpdate)return t;this.events.emit("changed");const o=this._getTransforms(e,this._spatialReference);{const e=t.addOrUpdate.getCursor();for(;e.next();)this._update(e,r)}if(t.status.mesh||!i)return t;const a=new Array;this._getBinsForTile(a,e,o,s),t.addOrUpdate=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromOptimizedFeatures(a,{fields:this.fields,geometryType:"esriGeometryPolygon",objectIdField:this.objectIdField}),t.addOrUpdate.attachStorage(s),t.end=!0,t.isRepush||(t.clear=!0);{const r=t.addOrUpdate.getCursor();for(;r.next();){const t=r.getDisplayId();this._bitsets.computed.unset(t),this.setComputedAttributes(s,r,t,e.scale)}}return t}forEachBin(e){this._tree.forEach(e)}forEach(e){this._tree.forEach((t=>{if(t.depth!==this._geohashLevel)return;const s=this._toFeatureJSON(t),r=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromFeatures([s],{objectIdField:this.objectIdField,globalIdField:null,geometryType:this.geometryInfo.geometryType,fields:this.fields}).getCursor();r.next(),e(r)}))}forEachInBounds(e,t){}forEachBounds(e,t){const{hasM:s,hasZ:r}=this.geometryInfo;for(const i of e){const e=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_11__.getBoundsOptimizedGeometry)(R,i.readGeometry(),r,s);null!=e&&t(e)}}onTileUpdate(e){}getAggregate(e){const t=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__.createDisplayId)(e,!0),r=this._tree.findIf((e=>e.displayId===t));return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(r,(e=>this._toFeatureJSON(e)))}getAggregates(){return this._tree.findAllIf((e=>e.depth===this._geohashLevel)).map(this._toFeatureJSON.bind(this))}getDisplayId(e){const t=this._tree.findIf((t=>t.id===e));return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(t,(e=>e.displayId))}getFeatureDisplayIdsForAggregate(e){const t=this._tree.findIf((t=>t.id===e));return null!=t?Array.from(t.displayIds):[]}getDisplayIdForReferenceId(e){const t=this._tree.findIf((t=>1===t.displayIds.size&&t.displayIds.has(e)));return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(t,(e=>e.displayId))}_toFeatureJSON(e){const t=this._spatialReference;return{displayId:e.displayId,attributes:e.getAttributes(),geometry:(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_11__.convertToGeometry)(e.getGeometry(t),"esriGeometryPolygon",!1,!1),centroid:null}}_rebuildTree(){this._bitsets.computed.clear(),this._bitsets.inserted.clear(),this._tree&&this._tree.clear()}_remove(e){const t=e.getDisplayId(),s=e.getXHydrated(),r=e.getYHydrated(),i=this._geohashBuf[2*t],o=this._geohashBuf[2*t+1];this._bitsets.inserted.has(t)&&(this._bitsets.inserted.unset(t),this._tree.removeCursor(e,s,r,i,o,this._geohashLevel))}_update(e,t){const s=e.getDisplayId(),r=this._bitsets.inserted,i=t.isVisible(s);if(i===r.has(s))return;if(!i)return void this._remove(e);const o=e.getXHydrated(),a=e.getYHydrated();if(!this._setGeohash(s,o,a))return;const h=this._geohashBuf[2*s],n=this._geohashBuf[2*s+1];this._tree.insertCursor(e,s,o,a,h,n,this._geohashLevel),r.set(s)}_setGeohash(e,t,s){if(this._bitsets.geohash.has(e))return!0;const r=this._geohashBuf;if(this._spatialReference.isWebMercator){const i=T(t/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_9__.earth.radius),o=i-360*Math.floor((i+180)/360),h=T(Math.PI/2-2*Math.atan(Math.exp(-s/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_9__.earth.radius)));(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_7__.setGeohashBuf)(r,e,h,o,F)}else{const i=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__.project)({x:t,y:s},this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84);if(!i)return!1;(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_7__.setGeohashBuf)(r,e,i.y,i.x,F)}return this._bitsets.geohash.set(e),!0}_getBinsForTile(e,t,s,r){try{const i=this._getGeohashBounds(t),o=this._tree.getBins(i);for(const t of o){t.displayId||(t.displayId=r.createDisplayId(!0));let i=null;const o=t.getGeometry(this._spatialReference,s.tile);o||(i=t.getGeometryCentroid(this._spatialReference,s.tile));const a=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_12__.OptimizedFeature(o,t.getAttributes(),i);a.objectId=t.id,a.displayId=t.displayId,e.push(a)}}catch(i){return void S.error("Unable to get bins for tile",t.key.id)}}_getGeohash(e,t,s){const r={geohashX:0,geohashY:0};return (0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_7__.setGeohashXY)(r,t,e,s),r}_getGeohashBounds(e){const t=this._getGeohashLevel(e.key.level),s=[e.extent.xmin,e.extent.ymin,e.extent.xmax,e.extent.ymax],r=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromExtent(_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__["default"].fromBounds(s,this._spatialReference)),i=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__.project)(r,this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84,{densificationStep:e.resolution*G}),o=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_11__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_13__["default"],i,!1,!1),a=o.coords.filter(((e,t)=>!(t%2))),h=o.coords.filter(((e,t)=>t%2)),n=Math.min(...a),d=Math.min(...h),l=Math.max(...a),g=Math.max(...h),p=this._getGeohash(n,d,t),c=this._getGeohash(l,g,t);return{bounds:s,geohashBounds:{xLL:p.geohashX,yLL:p.geohashY,xTR:c.geohashX,yTR:c.geohashY},level:t}}_getGeohashLevel(e){return this._schema.params.fixedBinLevel}_getTransforms(e,t){const s={originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[e.bounds[0],e.bounds[3]]},r=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_10__.getInfo)(t);if(!r)return{tile:s,left:null,right:null};const[i,o]=r.valid;return{tile:s,left:{...s,translate:[o,e.bounds[3]]},right:{...s,translate:[i-o+e.bounds[0],e.bounds[3]]}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/ClusterStore.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/ClusterStore.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ClusterInfo": () => (/* binding */ S),
/* harmony export */   "ClusterStore": () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../geohash/GeohashTree.js */ "./node_modules/@arcgis/core/geohash/GeohashTree.js");
/* harmony import */ var _geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../geohash/geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../FeatureStore2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js");
/* harmony import */ var _Store2D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Store2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js");
/* harmony import */ var _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const F=12,L=64,B=1,w=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.create)();class S extends _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__.OptimizedFeatureWithGeometry{constructor(e,t,s,r,o){super(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__["default"]([],[t,s]),r,null,e),this.geohashBoundsInfo=o}get count(){return this.attributes.cluster_count}static create(e,t,s,r,o,i,a,h){const n=new S(t,s,r,i,a);return n.displayId=e.createDisplayId(!0),n.referenceId=h,n.tileLevel=o,n}update(e,t,s,r,o,i){return this.geometry.coords[0]=e,this.geometry.coords[1]=t,this.tileLevel=s,this.attributes=r,this.geohashBoundsInfo=o,this.referenceId=null,this.referenceId=i,this}toJSON(){return{attributes:{...this.attributes,aggregateId:this.objectId,referenceId:1===this.attributes.cluster_count?this.referenceId:null},geometry:{x:this.geometry.coords[0],y:this.geometry.coords[1]}}}}function T(e){return 57.29577951308232*e}class V extends _Store2D_js__WEBPACK_IMPORTED_MODULE_17__.Store2D{constructor(t,s,r,o){super(t,r),this.type="cluster",this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.objectIdField="aggregateId",this.featureAdapter=_FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__.featureAdapter,this._geohashLevel=0,this._tileLevel=0,this._aggregateValueRanges={},this._aggregateValueRangesChanged=!1,this._geohashBuf=[],this._clusters=new Map,this._tiles=new Map,this._serviceInfo=o,this.geometryInfo=t.geometryInfo,this._spatialReference=s,this._projectionSupportCheck=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__.checkProjectionSupport)(s,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84),this._bitsets.geohash=r.getBitset(r.createBitset()),this._bitsets.inserted=r.getBitset(r.createBitset())}destroy(){this._tree.destroy()}get featureSpatialReference(){return this._spatialReference}get fields(){return this._fields}async updateSchema(e,t){const i=this._schema;try{await super.updateSchema(e,t),await this._projectionSupportCheck}catch(h){}this._fields=[...this._schema.params.fields,{name:"referenceId",alias:"referenceId",type:"esriFieldTypeInteger"}];!!this._fields.some((e=>"cluster_count"===e.name))||this._fields.push({name:"cluster_count",alias:"cluster_count",type:"esriFieldTypeInteger"});const a=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.diff)(i,t);t&&(null!=a||e.source||e.storage.filters)?(((0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiff)(a,"params.fields")||!this._tree||e.source)&&(this._tree&&this._tree.destroy(),this._tree=new _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_5__.GeohashTree(this._statisticFields,this._serviceInfo),this._rebuildTree(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Aggregate mesh needs update due to tree changing")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - ClusterStore:",a),e.targets[t.name]=!0,e.mesh=!1,this._aggregateValueRanges={}):i&&(e.mesh=!0)}clear(){this._rebuildTree()}sweepFeatures(e,t){this._bitsets.inserted.forEachSet((s=>{if(!e.has(s)){const e=t.lookupByDisplayIdUnsafe(s);this._remove(e)}}))}sweepAggregates(e,t,s){this._clusters.forEach(((r,o)=>{r&&r.tileLevel!==s&&(e.releaseDisplayId(r.displayId),t.unsetAttributeData(r.displayId),this._clusters.delete(o))}))}onTileData(e,t,s,r,o=!0){if(!this._schema||null==t.addOrUpdate)return t;this.events.emit("changed");const i=this._getTransforms(e,this._spatialReference);{const e=t.addOrUpdate.getCursor();for(;e.next();)this._update(e,r)}if(t.status.mesh||!o)return t;const a=new Array,h=this._schema.params.clusterRadius;this._getClustersForTile(a,e,h,s,i),t.addOrUpdate=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromOptimizedFeatures(a,{fields:this.fields,geometryType:"esriGeometryPoint",objectIdField:this.objectIdField}),t.addOrUpdate.attachStorage(s),t.clear=!0,t.end=!0;{const r=t.addOrUpdate.getCursor();for(;r.next();){const t=r.getDisplayId();this._bitsets.computed.unset(t),this.setComputedAttributes(s,r,t,e.scale)}}return this._aggregateValueRangesChanged&&t.end&&(this.events.emit("valueRangesChanged",{valueRanges:this._aggregateValueRanges}),this._aggregateValueRangesChanged=!1),t}onTileUpdate({added:e,removed:t}){if(e.length){const t=e[0].level;this._tileLevel=t,this._setGeohashLevel(t)}if(!this._schema)return;const s=this._schema.params.clusterRadius;t.forEach((e=>{this._tiles.delete(e.key.id),this._markTileClustersForDeletion(e,s)}))}getAggregate(e){for(const t of this._clusters.values())if((t?.displayId&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__.DISPLAY_ID_TEXEL_MASK)==(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__.DISPLAY_ID_TEXEL_MASK))return t.toJSON();return null}getAggregates(){const e=[];for(const t of this._clusters.values())t?.tileLevel===this._tileLevel&&e.push(t.toJSON());return e}getDisplayId(e){const t=this._clusters.get(e);return t?t.displayId:null}getFeatureDisplayIdsForAggregate(e){const t=this._clusters.get(e);return t?this._tree.getRegionDisplayIds(t.geohashBoundsInfo):[]}getDisplayIdForReferenceId(e){for(const t of this._clusters.values())if(t?.referenceId===e)return t.displayId;return null}getAggregateValueRanges(){return this._aggregateValueRanges}forEach(e){this._clusters.forEach((t=>{if(!t)return;const s=t.toJSON(),r=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromFeatures([s],{objectIdField:this.objectIdField,globalIdField:null,geometryType:this.geometryInfo.geometryType,fields:this.fields}).getCursor();r.next(),e(r)}))}forEachInBounds(e,t){}forEachBounds(e,t){const{hasM:s,hasZ:r}=this.geometryInfo;for(const o of e){const e=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.getBoundsOptimizedGeometry)(w,o.readGeometry(),r,s);null!=e&&t(e)}}size(){let e=0;return this.forEach((t=>e++)),e}_rebuildTree(){this._bitsets.computed.clear(),this._bitsets.inserted.clear(),this._tree&&this._tree.clear()}_remove(e){const t=e.getDisplayId(),s=e.getXHydrated(),r=e.getYHydrated(),o=this._geohashBuf[2*t],i=this._geohashBuf[2*t+1];this._bitsets.inserted.has(t)&&(this._bitsets.inserted.unset(t),this._tree.removeCursor(e,s,r,o,i,this._geohashLevel))}_update(e,t){const s=e.getDisplayId(),r=this._bitsets.inserted,o=t.isVisible(s);if(o===r.has(s))return;if(!o)return void this._remove(e);const i=e.getXHydrated(),a=e.getYHydrated();if(!this._setGeohash(s,i,a))return;const h=this._geohashBuf[2*s],n=this._geohashBuf[2*s+1];this._tree.insertCursor(e,s,i,a,h,n,this._geohashLevel),r.set(s)}_setGeohash(e,t,s){if(this._bitsets.geohash.has(e))return!0;const r=this._geohashBuf;if(this._spatialReference.isWebMercator){const o=T(t/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius),a=o-360*Math.floor((o+180)/360),h=T(Math.PI/2-2*Math.atan(Math.exp(-s/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius)));(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashBuf)(r,e,h,a,F)}else{const o=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__.project)({x:t,y:s},this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84);if(!o)return!1;(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashBuf)(r,e,o.y,o.x,F)}return this._bitsets.geohash.set(e),!0}_getClustersForTile(e,s,r,o,i,a=!0){const h=this._schema.params.clusterPixelBuffer,n=2*r,l=Math.ceil(2**s.key.level*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE/n)+1,u=Math.ceil(h/n)+0,d=Math.ceil(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE/n),{row:f,col:m}=s.key,_=m*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,y=f*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,b=Math.floor(_/n)-u,v=Math.floor(y/n)-u,R=b+d+2*u,M=v+d+2*u,x=s.tileInfoView.getLODInfoAt(s.key.level);for(let I=b;I<=R;I++)for(let r=v;r<=M;r++){let h=I;x.wrap&&(h=I<0?I+l:I%l);const n=x.wrap&&I<0,u=x.wrap&&I%l!==I,d=this._lookupCluster(o,x,s.key.level,h,r,s);if(null!=d){const s=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.applySome)(i,(e=>n?e.left:u?e.right:e.tile));if(a&&null==s)continue;if(!d.count)continue;if(null!=s&&a){const t=d.geometry.clone();let r=d.attributes;t.coords[0]=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.quantizeX)(s,t.coords[0]),t.coords[1]=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.quantizeY)(s,t.coords[1]),1===d.count&&null!=d.referenceId&&(r={...d.attributes,referenceId:d.referenceId});const o=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__.OptimizedFeature(t,r);o.displayId=d.displayId,e.push(o)}}}}_getGeohashLevel(e){return Math.min(Math.ceil(e/2+2),F)}_setGeohashLevel(e){const t=this._getGeohashLevel(e),s=(Math.floor(t/B)+1)*B-1;if(this._geohashLevel!==s)return this._geohashLevel=s,this._rebuildTree(),void this._bitsets.geohash.clear()}_getTransforms(e,t){const s={originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[e.bounds[0],e.bounds[3]]},r=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__.getInfo)(t);if(!r)return{tile:s,left:null,right:null};const[o,i]=r.valid;return{tile:s,left:{...s,translate:[i,e.bounds[3]]},right:{...s,translate:[o-i+e.bounds[0],e.bounds[3]]}}}_getClusterId(e,t,s){return(15&e)<<28|(16383&t)<<14|16383&s}_markForDeletion(e,t,s){const r=this._getClusterId(e,t,s);this._clusters.delete(r)}_getClusterBounds(e,t,s){const r=this._schema.params.clusterRadius,o=2*r;let i=s%2?t*o:t*o-r;const a=s*o;let h=i+o;const n=a-o,l=2**e.level*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE;e.wrap&&i<0&&(i=0),e.wrap&&h>l&&(h=l);const u=i/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,g=a/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,c=h/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,d=n/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE;return[e.getXForColumn(u),e.getYForRow(g),e.getXForColumn(c),e.getYForRow(d)]}_getGeohash(e,t,s){const r={geohashX:0,geohashY:0};return (0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashXY)(r,t,e,s),r}_getGeohashBounds(e,t){const s=this._getGeohashLevel(e.key.level);if(this._spatialReference.isWebMercator){const[e,r,o,i]=t,h={x:e,y:r},l={x:o,y:i};let u=0,g=0,c=0,d=0;{const e=T(h.x/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius);u=e-360*Math.floor((e+180)/360),g=T(Math.PI/2-2*Math.atan(Math.exp(-h.y/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius)))}{const e=T(l.x/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius);c=e-360*Math.floor((e+180)/360),d=T(Math.PI/2-2*Math.atan(Math.exp(-l.y/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius)))}const f={geohashX:0,geohashY:0},p={geohashX:0,geohashY:0};(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashXY)(f,g,u,s),(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashXY)(p,d,c,s);return{bounds:[e,r,o,i],geohashBounds:{xLL:f.geohashX,yLL:f.geohashY,xTR:p.geohashX,yTR:p.geohashY},level:s}}const r=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromExtent(_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__["default"].fromBounds(t,this._spatialReference)),o=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__.project)(r,this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84,{densificationStep:e.resolution*L});if(!o)return null;const i=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__["default"],o,!1,!1),h=i.coords.filter(((e,t)=>!(t%2))),l=i.coords.filter(((e,t)=>t%2)),u=Math.min(...h),g=Math.min(...l),c=Math.max(...h),f=Math.max(...l),p=this._getGeohash(u,g,s),_=this._getGeohash(c,f,s);return{bounds:t,geohashBounds:{xLL:p.geohashX,yLL:p.geohashY,xTR:_.geohashX,yTR:_.geohashY},level:s}}_lookupCluster(e,t,s,r,o,i){const a=this._getClusterId(s,r,o),h=this._clusters.get(a),n=this._getClusterBounds(t,r,o),l=this._getGeohashBounds(i,n);if(null==l)return null;const u=this._tree.getRegionStatistics(l),{count:g,xTotal:c,yTotal:d,referenceId:f}=u,p=g?c/g:0,m=g?d/g:0;if(0===g)return this._clusters.set(a,null),null;const _={cluster_count:g,...u.attributes},y=null!=h?h.update(p,m,s,_,l,f):S.create(e,a,p,m,s,_,l,f);if(0===g){const[e,t,s,r]=n;y.geometry.coords[0]=(e+s)/2,y.geometry.coords[1]=(t+r)/2}return this._clusters.set(a,y),this._updateAggregateValueRangeForCluster(y,y.tileLevel),y}_updateAggregateValueRangeForCluster(e,t){const s=this._aggregateValueRanges[t]||{minValue:1/0,maxValue:0},r=s.minValue,o=s.maxValue;s.minValue=Math.min(r,e.count),s.maxValue=Math.max(o,e.count),this._aggregateValueRanges[t]=s,r===s.minValue&&o===s.maxValue||(this._aggregateValueRangesChanged=!0)}_markTileClustersForDeletion(e,t){const s=2*t,r=Math.ceil(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE/s),{row:o,col:i}=e.key,a=i*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,h=o*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,n=Math.floor(a/s),l=Math.floor(h/s);for(let u=n;u<n+r;u++)for(let t=l;t<l+r;t++)this._markForDeletion(e.key.level,u,t)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ComputedAttributeStorage": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _DisplayIdGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DisplayIdGenerator.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js");
/* harmony import */ var _StaticBitSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StaticBitSet.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(t,e,s){if(!(t.length>e))for(;t.length<=e;)t.push(s)}class r{constructor(){this._numerics=[],this._strings=[],this._idGenerator=new _DisplayIdGenerator_js__WEBPACK_IMPORTED_MODULE_1__.DisplayIdGenerator,this._allocatedSize=256,this._bitsets=[],this._instanceIds=[],this._bounds=[]}createBitset(){const e=this._bitsets.length;return this._bitsets.push(_StaticBitSet_js__WEBPACK_IMPORTED_MODULE_2__.StaticBitSet.create(this._allocatedSize,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)),e+1}getBitset(t){return this._bitsets[t-1]}_expand(){this._allocatedSize<<=1;for(const t of this._bitsets)t.resize(this._allocatedSize)}_ensureNumeric(t,e){this._numerics[t]||(this._numerics[t]=[]);n(this._numerics[t],e,0)}_ensureInstanceId(t){n(this._instanceIds,t,0)}_ensureString(t,e){this._strings[t]||(this._strings[t]=[]);n(this._strings[t],e,null)}createDisplayId(t=!1){const s=this._idGenerator.createId();return s>this._allocatedSize&&this._expand(),(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.createDisplayId)(s,t)}releaseDisplayId(e){for(const t of this._bitsets)t.unset(e);return this._idGenerator.releaseId(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)}getComputedNumeric(e,s){return this.getComputedNumericAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,0)}setComputedNumeric(e,s,i){return this.setComputedNumericAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,i,0)}getComputedString(e,s){return this.getComputedStringAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,0)}setComputedString(e,s,i){return this.setComputedStringAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,0,i)}getComputedNumericAtIndex(e,s){const i=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return this._ensureNumeric(s,i),this._numerics[s][i]}setComputedNumericAtIndex(e,s,i){const n=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;this._ensureNumeric(s,n),this._numerics[s][n]=i}getInstanceId(e){const s=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return this._ensureInstanceId(s),this._instanceIds[s]}setInstanceId(e,s){const i=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;this._ensureInstanceId(i),this._instanceIds[i]=s}getComputedStringAtIndex(e,s){const i=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return this._ensureString(s,i),this._strings[s][i]}setComputedStringAtIndex(e,s,i){const n=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;this._ensureString(s,n),this._strings[s][n]=i}getXMin(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)]}getYMin(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)+1]}getXMax(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)+2]}getYMax(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)+3]}setBounds(e,s){const i=s.readHydratedGeometry();if(!i||!i.coords.length)return!1;let r=1/0,u=1/0,o=-1/0,h=-1/0;i.forEachVertex(((t,e)=>{r=Math.min(r,t),u=Math.min(u,e),o=Math.max(o,t),h=Math.max(h,e)}));const d=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return n(this._bounds,4*d+4,0),this._bounds[4*d]=r,this._bounds[4*d+1]=u,this._bounds[4*d+2]=o,this._bounds[4*d+3]=h,!0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DisplayIdGenerator": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class r{constructor(){this._freeIds=[],this._idCounter=1}createId(r=!1){return (0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.createDisplayId)(this._getFreeId(),r)}releaseId(e){this._freeIds.push(e)}_getFreeId(){return this._freeIds.length?this._freeIds.pop():this._idCounter++}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureSetReader": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../arcade/ArcadeDate.js */ "./node_modules/@arcgis/core/arcade/ArcadeDate.js");
/* harmony import */ var _arcade_arcadeTimeUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../arcade/arcadeTimeUtils.js */ "./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/centroid.js */ "./node_modules/@arcgis/core/layers/graphics/centroid.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _StaticBitSet_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StaticBitSet.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let d=0;const h=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("featurelayer-simplify-thresholds")??[.5,.5,.5,.5],u=h[0],l=h[1],c=h[2],m=h[3],f=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("featurelayer-simplify-payload-size-factors")??[1,2,4],g=f[0],y=f[1],_=f[2],p=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("featurelayer-simplify-mobile-factor")??2,x=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-mobile");class I{constructor(e,t){this.type="FeatureSetReader",this.arcadeDeclaredClass="esri.arcade.Feature",this.seen=!1,this.instance=0,this._tx=0,this._ty=0,this._sx=1,this._sy=1,this._deleted=null,this._joined=[],this._objectIdToIndex=null,this._level=0,this._datetimeMetadata=null,this.contextTimeReference=null,this.instance=e,this._layerSchema=t}static createInstance(){return d++,d=d>65535?0:d,d}get isEmpty(){return null!=this._deleted&&this._deleted.countSet()===this.getSize()}set level(e){this._level=e}getAreaSimplificationThreshold(e,t){let r=1;const s=x?p:1;t>4e6?r=_*s:t>1e6?r=y*s:t>5e5?r=g*s:t>1e5&&(r=s);let i=0;e>4e3?i=m*r:e>2e3?i=c*r:e>100?i=l:e>15&&(i=u);let n=8;return this._level<4?n=1:this._level<5?n=2:this._level<6&&(n=4),i*n}createQuantizedExtrudedQuad(e,t){return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__["default"]([5],[e-1,t,1,-1,1,1,-1,1,-1,-1])}parseTimestampOffset(e){return e}setArcadeSpatialReference(e){this._arcadeSpatialReference=e}attachStorage(e){this._storage=e}getQuantizationTransform(){throw new Error("Unable to find transform for featureSet")}getStorage(){return this._storage}getComputedNumeric(e){return this.getComputedNumericAtIndex(0)}setComputedNumeric(e,t){return this.setComputedNumericAtIndex(t,0)}getComputedString(e){return this.getComputedStringAtIndex(0)}setComputedString(e,t){return this.setComputedStringAtIndex(0,t)}getComputedNumericAtIndex(e){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),e)}setComputedNumericAtIndex(e,t){this._storage.setComputedNumericAtIndex(this.getDisplayId(),e,t)}getComputedStringAtIndex(e){return this._storage.getComputedStringAtIndex(this.getDisplayId(),e)}setComputedStringAtIndex(e,t){return this._storage.setComputedStringAtIndex(this.getDisplayId(),e,t)}transform(e,t,r,s){const i=this.copy();return i._tx+=e,i._ty+=t,i._sx*=r,i._sy*=s,i}readAttribute(e,t=!1){const r=this._readAttribute(e,t);if(void 0!==r)return r;for(const s of this._joined){s.setIndex(this.getIndex());const r=s._readAttribute(e,t);if(void 0!==r)return r}}readAttributes(){const e=this._readAttributes();for(const t of this._joined){t.setIndex(this.getIndex());const r=t._readAttributes();for(const t of Object.keys(r))e[t]=r[t]}return e}joinAttributes(e){this._joined.push(e)}readArcadeFeature(){return this}hasField(e){return this.fields.has(e)}geometry(){const e=this.readHydratedGeometry(),t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.convertToGeometry)(e,this.geometryType,this.hasZ,this.hasM),r=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__.fromJSON)(t);return r&&(r.spatialReference=this._arcadeSpatialReference),r}get dateTimeReferenceFieldIndex(){return this._datetimeMetadata||(this._datetimeMetadata=_arcade_arcadeTimeUtils_js__WEBPACK_IMPORTED_MODULE_2__.DateTimeReferenceFieldIndex.create(this._layerSchema.fields,this._layerSchema)),this._datetimeMetadata}autocastArcadeDate(t,r){return r&&r instanceof Date?this.isUnknownDateTimeField(t)?_arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__.ArcadeDate.unknownDateJSToArcadeDate(r):_arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__.ArcadeDate.dateJSAndZoneToArcadeDate(r,this.contextTimeReference?.timeZone??"system"):r}isUnknownDateTimeField(e){return"unknown"===this.dateTimeReferenceFieldIndex?.fieldTimeZone(e)}fieldSourceTimeZone(e){return this.dateTimeReferenceFieldIndex?.fieldTimeZone(e)??""}get layerPreferredTimeZone(){return this.dateTimeReferenceFieldIndex?.layerPreferredTimeZone??""}field(e){if(this.hasField(e))return this.autocastArcadeDate(e,this.readAttribute(e,!0));for(const t of this._joined)if(t.setIndex(this.getIndex()),t.hasField(e)){const r=t._readAttribute(e,!0);return this.autocastArcadeDate(e,r)}throw new Error(`Field ${e} does not exist`)}setField(e,t){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this.fields.fields.map((e=>e.name))}castToText(e=!1){if(!e)return JSON.stringify(this.readLegacyFeature());const t=this.readLegacyFeature();if(!t)return JSON.stringify(null);const r={geometry:t.geometry,attributes:{...t.attributes??{}}};for(const s in r.attributes){const e=r.attributes[s];e instanceof Date&&(r.attributes[s]=e.getTime())}return JSON.stringify(r)}gdbVersion(){return null}fullSchema(){return this._layerSchema}castAsJson(e=null){return{attributes:this._readAttributes(),geometry:!0===e?.keepGeometryType?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(e=null,t=null){return Promise.resolve(this.castAsJson(t))}removeIds(e){if(null==this._objectIdToIndex){const e=new Map,t=this.getCursor();for(;t.next();){const s=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.unwrapOrThrow)(t.getObjectId());e.set(s,t.getIndex())}this._objectIdToIndex=e}const t=this._objectIdToIndex;for(const r of e)t.has(r)&&this.removeAtIndex(t.get(r))}removeAtIndex(e){null==this._deleted&&(this._deleted=_StaticBitSet_js__WEBPACK_IMPORTED_MODULE_8__.StaticBitSet.create(this.getSize())),this._deleted.set(e)}readGeometryForDisplay(){return this.readUnquantizedGeometry(!0)}readLegacyGeometryForDisplay(){return this.readLegacyGeometry(!0)}*features(){const e=this.getCursor();for(;e.next();)yield e.readOptimizedFeature()}_getExists(){return null==this._deleted||!this._deleted.has(this.getIndex())}_computeCentroid(){if("esriGeometryPolygon"!==this.geometryType)return null;const e=this.readUnquantizedGeometry();if(!e||e.hasIndeterminateRingOrder)return null;const t=this.getQuantizationTransform()??null;return (0,_layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_5__.getCentroidOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__["default"],e,this.hasM,this.hasZ,t)}copyInto(e){e.seen=this.seen,e._storage=this._storage,e._arcadeSpatialReference=this._arcadeSpatialReference,e._joined=this._joined,e._tx=this._tx,e._ty=this._ty,e._sx=this._sx,e._sy=this._sy,e._deleted=this._deleted,e._objectIdToIndex=this._objectIdToIndex}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureSetReaderJSON": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function d({coords:t,lengths:e}){let r=0;for(const s of e){for(let e=1;e<s;e++)t[2*(r+e)]+=t[2*(r+e)-2],t[2*(r+e)+1]+=t[2*(r+e)-1];r+=s}}class h extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReader{static fromFeatures(e,r){const{objectIdField:s,geometryType:i}=r,n=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertFromFeatures)([],e,i,!1,!1,s);for(let t=0;t<n.length;t++)n[t].displayId=e[t].displayId;return h.fromOptimizedFeatures(n,r)}static fromFeatureSet(t,r){const s=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertFromFeatureSet)(t,r.objectIdField);return h.fromOptimizedFeatureSet(s,r)}static fromOptimizedFeatureSet(t,e){const{features:r}=t,s=h.fromOptimizedFeatures(r,e);return s._exceededTransferLimit=t.exceededTransferLimit,s._transform=t.transform,s._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.fields),s}static fromOptimizedFeatures(t,e,r){const s=_FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReader.createInstance(),i=new h(s,t,e);return i._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.fields),i._transform=r,i}constructor(t,e,r){super(t,r),this._exceededTransferLimit=!1,this._featureIndex=-1,this._fieldsIndex=null,this._geometryType=r?.geometryType,this._features=e}get fields(){return this._fieldsIndex}get _current(){return this._features[this._featureIndex]}get geometryType(){return this._geometryType}get hasFeatures(){return!!this._features.length}get hasNext(){return this._featureIndex+1<this._features.length}get exceededTransferLimit(){return this._exceededTransferLimit}get hasZ(){return!1}get hasM(){return!1}removeIds(t){const e=new Set(t);this._features=this._features.filter((t=>!(null!=t.objectId&&e.has(t.objectId))))}append(t){for(const e of t)this._features.push(e)}getSize(){return this._features.length}getCursor(){return this.copy()}getQuantizationTransform(){return this._transform}getAttributeHash(){let t="";for(const e in this._current.attributes)t+=this._current.attributes[e];return t}getIndex(){return this._featureIndex}setIndex(t){this._featureIndex=t}getObjectId(){return this._current?.objectId}getDisplayId(){return this._current.displayId}setDisplayId(t){this._current.displayId=t}getGroupId(){return this._current.groupId}setGroupId(t){this._current.groupId=t}copy(){const t=new h(this.instance,this._features,this.fullSchema());return this.copyInto(t),t}next(){for(;++this._featureIndex<this._features.length&&!this._getExists(););return this._featureIndex<this._features.length}readLegacyFeature(){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToFeature)(this._current,this.geometryType,this.hasZ,this.hasM)}readOptimizedFeature(){return this._current}readLegacyPointGeometry(){return this.readGeometry()?{x:this.getX(),y:this.getY()}:null}readLegacyGeometry(){const t=this.readUnquantizedGeometry();return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToGeometry)(t,this.geometryType,this.hasZ,this.hasM)}readLegacyCentroid(){const t=this.readCentroid();return null==t?null:{x:t.coords[0]*this._sx+this._tx,y:t.coords[1]*this._sy+this._ty}}readGeometryArea(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.getQuantizedArea)(this._current.geometry,2):0}readUnquantizedGeometry(){const t=this.readGeometry();if("esriGeometryPoint"===this.geometryType||!t)return t;const e=t.clone();return d(e),e}readHydratedGeometry(){const t=this._current.geometry;if(null==t)return null;const e=t.clone();return null!=this._transform&&(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.unquantizeOptimizedGeometry)(e,e,this.hasZ,this.hasM,this._transform),e}getXHydrated(){if(!(0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current))return 0;const t=this._current.geometry.coords[0],e=this.getQuantizationTransform();return null==e?t:t*e.scale[0]+e.translate[0]}getYHydrated(){if(!(0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current))return 0;const t=this._current.geometry.coords[1],e=this.getQuantizationTransform();return null==e?t:e.translate[1]-t*e.scale[1]}getX(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._current.geometry.coords[0]*this._sx+this._tx:0}getY(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._current.geometry.coords[1]*this._sy+this._ty:0}readGeometry(){if(!(0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)){if(null!=this._current.centroid){const[t,e]=this._current.centroid.coords;return this.createQuantizedExtrudedQuad(t,e)}return null}const t=this._current.geometry.clone();if(t.isPoint)return t.coords[0]=t.coords[0]*this._sx+this._tx,t.coords[1]=t.coords[1]*this._sy+this._ty,t;let e=0;for(const r of t.lengths)t.coords[2*e]=t.coords[2*e]*this._sx+this._tx,t.coords[2*e+1]=t.coords[2*e+1]*this._sy+this._ty,e+=r;return t}readCentroid(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._computeCentroid():this._current.centroid}_readAttribute(t,e){const r=this._fieldsIndex.get(t);if(!r)return;let s=this._current.attributes[r.name];return null==s?s:("esriFieldTypeTimestampOffset"===this.fields.get(t)?.type&&(s=this.parseTimestampOffset(s)),e&&this.fields.isDateField(t)?new Date(s):s)}copyInto(t){super.copyInto(t),t._featureIndex=this._featureIndex,t._transform=this._transform,t._fieldsIndex=this._fieldsIndex}_readAttributes(){return this._current.attributes}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureSetReaderPBF": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_pbf_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/pbf.js */ "./node_modules/@arcgis/core/core/pbf.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/* harmony import */ var _FeatureSetReaderPBFHeader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./FeatureSetReaderPBFHeader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const u=!0,c=268435455,g=128,l=128e3,_={small:{delta:new Int32Array(g),decoded:new Int32Array(g)},large:{delta:new Int32Array(l),decoded:new Int32Array(l)}};function f(e){return e<=_.small.delta.length?_.small:(e<=_.large.delta.length||(_.large.delta=new Int32Array(Math.round(1.25*e)),_.large.decoded=new Int32Array(Math.round(1.25*e))),_.large)}function y(r){try{const e=2,t=new _core_pbf_js__WEBPACK_IMPORTED_MODULE_3__["default"](new Uint8Array(r),new DataView(r));for(;t.next();){if(t.tag()===e)return I(t.getMessage());t.skip()}}catch(i){const r=new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:i});_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.view.2d.layers.features.support.FeatureSetReaderPBF").error(r)}return null}function I(e){const t=1;for(;e.next();){if(e.tag()===t)return e.getMessage();e.skip()}return null}function p(e){const t=1,r=2,s=3,i=4,n=5,a=6,h=7,o=8,d=9,u=e.getLength(),c=e.pos()+u;for(;e.pos()<c&&e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case i:return e.getSInt32();case n:return e.getUInt32();case a:return e.getInt64();case h:return e.getUInt64();case o:return e.getSInt64();case d:return e.getBool();default:return e.skip(),null}return null}function m(e,t,r,s,i,n){return.5*Math.abs(e*s+r*n+i*t-e*n-r*t-i*s)}function x(e,t,r,s){return 0===e*s-r*t&&e*r+t*s>0}class S extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReader{static fromBuffer(e,t,r=!1){const s=t.geometryType,i=y(e),n=(0,_FeatureSetReaderPBFHeader_js__WEBPACK_IMPORTED_MODULE_8__.parseHeader)(i,"esriGeometryPoint"===s,r),a=_FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReader.createInstance();return new S(a,i,n,t)}constructor(e,t,r,s){super(e,s),this._hasNext=!1,this._isPoints=!1,this._featureIndex=-1,this._featureOffset=0,this._cache={area:0,unquantGeometry:void 0,geometry:void 0,centroid:void 0,legacyFeature:void 0,optFeature:void 0},this._geometryType=s.geometryType,this._reader=t,this._header=r,this._hasNext=r.hasFeatures,this._isPoints="esriGeometryPoint"===s.geometryType}get fields(){return this._header.fields}get geometryType(){return this._geometryType}get _size(){return this._header.featureCount}get hasZ(){return!1}get hasM(){return!1}get stride(){return 2+(this.hasZ?1:0)+(this.hasM?1:0)}get hasFeatures(){return this._header.hasFeatures}get hasNext(){return this._hasNext}get exceededTransferLimit(){return this._header.exceededTransferLimit}getSize(){return this._size}getQuantizationTransform(){return this._header.transform}getCursor(){return this.copy()}getIndex(){return this._featureIndex}setIndex(e){this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0,this._featureIndex=e}getAttributeHash(){let e="";for(const t of this._header.fields.fields)e+=this._readAttributeAtIndex(t.index)+".";return e}getObjectId(){return this._readAttributeAtIndex(this._header.objectIdFieldIndex)}getDisplayId(){return this._header.displayIds[this._featureIndex]}setDisplayId(e){this._header.displayIds[this._featureIndex]=e}getGroupId(){return this._header.groupIds[this._featureIndex]}setGroupId(e){this._header.groupIds[this._featureIndex]=e}readLegacyFeature(){if(void 0===this._cache.legacyFeature){const e=this.readCentroid(),t={attributes:this.readAttributes(),geometry:this._isPoints?this.readLegacyPointGeometry():this.readLegacyGeometry(),centroid:(e&&{x:e.coords[0],y:e.coords[1]})??null};return this._cache.legacyFeature=t,t}return this._cache.legacyFeature}readOptimizedFeature(){if(void 0===this._cache.optFeature){const e=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_5__.OptimizedFeature(this.readGeometry(),this.readAttributes(),this.readCentroid());return e.objectId=this.getObjectId(),e.displayId=this.getDisplayId(),this._cache.optFeature=e,e}return this._cache.optFeature}getXHydrated(){const e=this._header.centroid[2*this._featureIndex],t=this.getQuantizationTransform();return null==t?e:e*t.scale[0]+t.translate[0]}getYHydrated(){const e=this._header.centroid[2*this._featureIndex+1],t=this.getQuantizationTransform();return null==t?e:t.translate[1]-e*t.scale[1]}getX(){return this._header.centroid[2*this._featureIndex]*this._sx+this._tx}getY(){return this._header.centroid[2*this._featureIndex+1]*this._sy+this._ty}readLegacyPointGeometry(){return{x:this.getX(),y:this.getY()}}readLegacyGeometry(e){const t=this.readUnquantizedGeometry(e);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_4__.convertToGeometry)(t,this.geometryType,!1,!1)}readLegacyCentroid(){const e=this.readCentroid();if(!e)return null;const[t,r]=e.coords;return{x:t,y:r}}readGeometryArea(){return this._cache.area||this.readGeometry(!0),this._cache.area}readUnquantizedGeometry(e=!1){if(void 0===this._cache.unquantGeometry){const t=this.readGeometry(e);if(!t)return this._cache.unquantGeometry=void 0,null;const r=f(t.coords.length).decoded,s=t.clone(r),i=s.coords;let n=0;for(const e of s.lengths){for(let t=1;t<e;t++){const e=2*(n+t),r=2*(n+t-1);i[e]+=i[r],i[e+1]+=i[r+1]}n+=e}return this._cache.unquantGeometry=s,s}return this._cache.unquantGeometry}readHydratedGeometry(){if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===c)return null;const e=this.getXHydrated(),t=this.getYHydrated();return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}const e=this.readGeometry();if(!e)return null;const t=e.clone(),r=this.getQuantizationTransform();return null!=r&&(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_4__.unquantizeOptimizedGeometry)(t,t,this.hasZ,this.hasM,r),t}readGeometry(e=!1){if(void 0===this._cache.geometry){let r=null;if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===c)return null;const e=this.getX(),t=this.getY();r=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}else{const s=this._header.offsets.geometry[this._featureIndex],i=this._reader;if(0===s){const e=this._readServerCentroid();if(!e)return null;const[t,r]=e.coords;return this.createQuantizedExtrudedQuad(t,r)}i.move(s);try{if(r=e?this._parseGeometryForDisplay(i):this._parseGeometry(i),null===r){const e=this._readServerCentroid();if(!e)return null;const[t,r]=e.coords;return this.createQuantizedExtrudedQuad(t,r)}}catch(t){return console.error("Failed to parse geometry!",t),null}}return this._cache.geometry=r,r}return this._cache.geometry}readCentroid(){if(void 0===this._cache.centroid){let e;return e=this._computeCentroid(),e||(e=this._readServerCentroid()),this._cache.centroid=e??void 0,e??null}return this._cache.centroid}copy(){const e=this._reader.clone(),t=new S(this.instance,e,this._header,this.fullSchema());return this.copyInto(t),t}next(){for(this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0;++this._featureIndex<this._size&&!this._getExists(););return this._featureIndex<this._size}_readAttribute(e,t){const r=this._header.fields.get(e);if(null==r)return;let s=this._readAttributeAtIndex(r.index);"esriFieldTypeTimestampOffset"===this.fields.get(e)?.type&&(s=this.parseTimestampOffset(s));const i=this._header.fields.isDateField(r.name);return t?null==s?s:i?new Date(s):s:s}_readAttributes(){const e={};for(const t of this._header.fields.fields)e[t.name]=this._readAttributeAtIndex(t.index);return e}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._featureOffset=this._featureOffset,e._hasNext=this._hasNext}_readAttributeAtIndex(e){const t=this._header.offsets.attributes[this._featureIndex*this._header.fieldCount+e],r=this._reader;return r.move(t),p(r)}_readServerCentroid(){const e=this._header.centroid[2*this._featureIndex]+this._tx,t=this._header.centroid[2*this._featureIndex+1]+this._ty;return e===c?null:new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}_parseGeometry(e){const t=2,r=3,s=e.asUnsafe(),i=s.getLength(),n=s.pos()+i,a=[],o=[];for(;s.pos()<n&&s.next();)switch(s.tag()){case t:{const e=s.getUInt32(),t=s.pos()+e;for(;s.pos()<t;)o.push(s.getUInt32());break}case r:{const e=s.getUInt32(),t=s.pos()+e;for(a.push(s.getSInt32()+this._tx),a.push(s.getSInt32()+this._ty),this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();s.pos()<t;)a.push(s.getSInt32()),a.push(s.getSInt32()),this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();break}default:s.skip()}return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"](o,a)}_parseGeometryForDisplay(e){const t=2,s=3,i=e.asUnsafe(),n=i.getLength(),a=i.pos()+n,o=[],d=[];let c=0,g=0,l=null,_=0;const y="esriGeometryPolygon"===this.geometryType;for(;i.pos()<a&&i.next();)switch(i.tag()){case t:{const e=i.getUInt32(),t=i.pos()+e;for(;i.pos()<t;){const e=i.getUInt32();o.push(e),c+=e}l=f(2*c).delta;break}case s:{i.getUInt32();const e=2+(this.hasZ?1:0)+(this.hasM?1:0);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.assertIsSome)(l);for(const t of o)if(g+e*t>l.length)for(let e=0;e<t;e++)i.getSInt32(),i.getSInt32(),this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();else if(y&&u){const e=this.getAreaSimplificationThreshold(t,this._header.vertexCount);let r=2,s=1;const n=!1;let a=i.getSInt32(),h=i.getSInt32();l[g++]=a,l[g++]=h,this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();let o=i.getSInt32(),u=i.getSInt32();for(this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();r<t;){let t=i.getSInt32(),n=i.getSInt32();this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();const d=a+o,c=h+u;m(a,h,d,c,d+t,c+n)>=e?(_+=-.5*(d-a)*(c+h),s>1&&x(l[g-2],l[g-1],o,u)?(l[g-2]+=o,l[g-1]+=u):(l[g++]=o,l[g++]=u,s++),a=d,h=c):(t+=o,n+=u),o=t,u=n,r++}s<3||n?g-=2*s:(_+=-.5*(a+o-a)*(h+u+h),x(l[g-2],l[g-1],o,u)?(l[g-2]+=o,l[g-1]+=u,d.push(s)):(l[g++]=o,l[g++]=u,d.push(++s)))}else{let e=0,r=i.getSInt32(),s=i.getSInt32();this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32(),l[g++]=r,l[g++]=s,e+=1;for(let n=1;n<t;n++){const t=i.getSInt32(),a=i.getSInt32(),h=r+t,o=s+a;_+=-.5*(h-r)*(o+s),this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32(),n>2&&x(l[g-2],l[g-1],t,a)?(l[g-2]+=t,l[g-1]+=a):(l[g++]=t,l[g++]=a,e+=1),r=h,s=o}d.push(e)}break}default:i.skip()}if(this._cache.area=_,!d.length)return null;if(this._tx||this._ty){let e=0;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.assertIsSome)(l);for(const t of d)l[2*e]+=this._tx,l[2*e+1]+=this._ty,e+=t}return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"](d,l)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureSetHeader": () => (/* binding */ o),
/* harmony export */   "parseHeader": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../rest/query/operations/pbfFeatureServiceParser.js */ "./node_modules/@arcgis/core/rest/query/operations/pbfFeatureServiceParser.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=268435455;class o{constructor(){this.hasFeatures=!1,this.exceededTransferLimit=!1,this.fieldCount=0,this.featureCount=0,this.objectIdFieldIndex=0,this.vertexCount=0,this.offsets={attributes:new Array,geometry:new Array},this.centroid=new Array}}function a(a,i,c=!1){const f=1,d=3,u=9,g=12,l=13,p=15,h=a.asUnsafe(),b=h.pos(),w=new o;let m=0,y=0;const k=1,x=2,I=4,L=3;let A=null,F=null,C=null,S=!1;const j=[];for(;h.next();)switch(h.tag()){case f:A=h.getString();break;case d:F=h.getString();break;case g:C=h.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__.parseTransform);break;case u:if(w.exceededTransferLimit=h.getBool(),w.exceededTransferLimit){w.offsets.geometry=c?new Float64Array(8e3):new Int32Array(8e3),w.centroid=c?new Float64Array(16e3):new Int32Array(16e3);for(let e=0;e<w.centroid.length;e++)w.centroid[e]=n}break;case l:{const e=h.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__.parseField);e.index=m++,j.push(e);break}case p:{const e=h.getLength(),t=h.pos()+e;if(!w.exceededTransferLimit){const e=w.offsets.geometry,t=w.centroid;e.push(0),t.push(n),t.push(n)}!S&&w.exceededTransferLimit&&(S=!0,w.offsets.attributes=c?new Float64Array(8e3*m):new Uint32Array(8e3*m));let s=y*m;for(;h.pos()<t&&h.next();)switch(h.tag()){case k:{if(S)w.offsets.attributes[s++]=h.pos();else{w.offsets.attributes.push(h.pos())}const e=h.getLength();h.skipLen(e);break}case x:if(i){const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case L:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();w.centroid[2*y]=e,w.centroid[2*y+1]=t;break}default:h.skip()}}else{w.offsets.geometry[y]=h.pos();const e=h.getLength();w.vertexCount+=e,h.skipLen(e)}break;case I:{const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case L:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();w.centroid[2*y]=e,w.centroid[2*y+1]=t;break}default:h.skip()}break}default:h.skip()}y++,w.hasFeatures=!0;break}default:h.skip()}const U=A||F;if(!U)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("FeatureSet has no objectId or globalId field name");return w.fields=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"](j),w.featureCount=y,w.fieldCount=m,w.objectIdFieldIndex=w.fields.get(U)?.index,w.transform=C,w.displayIds=new Uint32Array(w.featureCount),w.groupIds=new Uint16Array(w.featureCount),h.move(b),w}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureSetReaderIndirect": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class r extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSetReader{static from(e,t){return new r(e.copy(),t)}constructor(r,t){super(_FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSetReader.createInstance(),r.fullSchema()),this._currentIndex=-1,this._reader=r,this._indices=t}get fields(){return this._reader.fields}get hasNext(){return this._currentIndex+1<this._indices.length}getSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const e=new r(this._reader.copy(),this._indices);return e._currentIndex=this._currentIndex,e}next(){for(;this._nextIndex()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}_nextIndex(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}setArcadeSpatialReference(e){this._reader.setArcadeSpatialReference(e)}attachStorage(e){this._reader.attachStorage(e)}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}getStorage(){return this._reader.getStorage()}getComputedNumeric(e){return this._reader.getComputedNumericAtIndex(0)}setComputedNumeric(e,r){return this._reader.setComputedNumericAtIndex(r,0)}getComputedString(e){return this._reader.getComputedStringAtIndex(0)}setComputedString(e,r){return this._reader.setComputedStringAtIndex(0,r)}getComputedNumericAtIndex(e){return this._reader.getComputedNumericAtIndex(e)}setComputedNumericAtIndex(e,r){this._reader.setComputedNumericAtIndex(e,r)}getComputedStringAtIndex(e){return this._reader.getComputedStringAtIndex(e)}setComputedStringAtIndex(e,r){return this._reader.setComputedStringAtIndex(e,r)}transform(e,r,t,d){const a=this.copy();return a._reader=this._reader.transform(e,r,t,d),a}readAttribute(e,r=!1){return this._reader.readAttribute(e,r)}readAttributes(){return this._reader.readAttributes()}joinAttributes(e){return this._reader.joinAttributes(e)}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(e){return this.readAttribute(e,!0)}hasField(e){return this._reader.hasField(e)}setField(e,r){return this._reader.setField(e,r)}keys(){return this._reader.keys()}castToText(e=!1){return this._reader.castToText(e)}getQuantizationTransform(){return this._reader.getQuantizationTransform()}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(e){return this._reader.setDisplayId(e)}getGroupId(){return this._reader.getGroupId()}setGroupId(e){return this._reader.setGroupId(e)}getXHydrated(){return this._reader.getXHydrated()}getYHydrated(){return this._reader.getYHydrated()}getX(){return this._reader.getX()}getY(){return this._reader.getY()}setIndex(e){return this._reader.setIndex(e)}getIndex(){return this._reader.getIndex()}readLegacyFeature(){return this._reader.readLegacyFeature()}readOptimizedFeature(){return this._reader.readOptimizedFeature()}readLegacyPointGeometry(){return this._reader.readLegacyPointGeometry()}readLegacyGeometry(){return this._reader.readLegacyGeometry()}readLegacyCentroid(){return this._reader.readLegacyCentroid()}readGeometryArea(){return this._reader.readGeometryArea()}readUnquantizedGeometry(){return this._reader.readUnquantizedGeometry()}readHydratedGeometry(){return this._reader.readHydratedGeometry()}readGeometry(){return this._reader.readGeometry()}readCentroid(){return this._reader.readCentroid()}_readAttribute(e,r){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}_readAttributes(){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StaticBitSet": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{static fromBuffer(e,s){return new t(e,s)}static create(e,s=4294967295){const r=new Uint32Array(Math.ceil(e/32));return new t(r,s)}constructor(t,e){this._mask=0,this._buf=t,this._mask=e}_getIndex(t){return Math.floor(t/32)}has(t){const e=this._mask&t;return!!(this._buf[this._getIndex(e)]&1<<e%32)}hasRange(t,e){let s=t,r=e;for(;s%32&&s!==r;){if(this.has(s))return!0;s++}for(;r%32&&s!==r;){if(this.has(s))return!0;r--}if(s===r)return!1;for(let h=s/32;h!==r/32;h++){if(this._buf[h])return!0}return!1}set(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]|=r}setRange(t,e){let s=t,r=e;for(;s%32&&s!==r;)this.set(s++);for(;r%32&&s!==r;)this.set(r--);if(s!==r)for(let h=s/32;h!==r/32;h++)this._buf[h]=4294967295}unset(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]&=4294967295^r}resize(t){const e=this._buf,s=new Uint32Array(Math.ceil(t/32));s.set(e),this._buf=s}or(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=t._buf[e];return this}and(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=t._buf[e];return this}xor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=t._buf[e];return this}ior(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=~t._buf[e];return this}iand(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=~t._buf[e];return this}ixor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=~t._buf[e];return this}any(){for(let t=0;t<this._buf.length;t++)if(this._buf[t])return!0;return!1}copy(t){for(let e=0;e<this._buf.length;e++)this._buf[e]=t._buf[e];return this}clone(){return new t(this._buf.slice(),this._mask)}clear(){for(let t=0;t<this._buf.length;t++)this._buf[t]=0}forEachSet(t){for(let e=0;e<this._buf.length;e++){let s=this._buf[e],r=32*e;if(s)for(;s;){1&s&&t(r),s>>>=1,r++}}}countSet(){let t=0;return this.forEachSet((e=>{t++})),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/Tile.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/Tile.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tile": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_ArrayPool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/ArrayPool.js */ "./node_modules/@arcgis/core/core/ArrayPool.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../rest/support/QuantizationParameters.js */ "./node_modules/@arcgis/core/rest/support/QuantizationParameters.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class n{constructor(t,e){this.key=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_4__["default"](0,0,0,0),this.bounds=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this.objectIds=new Set,this.key.set(e);const s=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=s.resolution,this.scale=s.scale,this.level=s.level}get id(){return this.key.id}get extent(){return _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const e=this.key.getChildKeys(),i=_core_ArrayPool_js__WEBPACK_IMPORTED_MODULE_0__["default"].acquire();for(let t=0;t<e.length;t++)i[t]=new n(this.tileInfoView,e[t]);return i}getQuantizationParameters(){return _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/TileStore.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/TileStore.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/rbush.js */ "./node_modules/@arcgis/core/chunks/rbush.js");
/* harmony import */ var _Tile_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Tile.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/Tile.js");
/* harmony import */ var _tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../tiling/TileCoverage.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const h={added:[],removed:[]},n=new Set,r=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_5__["default"](0,0,0,0);class d extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(e){super(),this._tiles=new Map,this._index=(0,_chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__.r)(9,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-csp-restrictions")?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const t={added:[],removed:[]};for(const i of e.added)if(!this.has(i)){const e=new _Tile_js__WEBPACK_IMPORTED_MODULE_3__.Tile(this.tileScheme,i);this._tiles.set(i,e),this._index.insert(e),t.added.push(e)}for(const s of e.removed)if(this.has(s)){const e=this.get(s);this._tiles.delete(s),this._index.remove(e),t.removed.push(e)}this.tiles.length=0,this._tiles.forEach((e=>this.tiles.push(e))),(t.added.length||t.removed.length)&&this.emit("update",t)}setViewState(e){const t=this.tileScheme.getTileCoverage(e,0);if(!t)return;const{spans:o,lodInfo:d}=t,{level:l}=d;if(o.length>0)for(const{row:i,colFrom:a,colTo:m}of o)for(let e=a;e<=m;e++){const t=r.set(l,i,d.normalizeCol(e),d.getWorldForColumn(e)).id;if(n.add(t),!this.has(t)){const e=new _Tile_js__WEBPACK_IMPORTED_MODULE_3__.Tile(this.tileScheme,t);this._tiles.set(t,e),this._index.insert(e),this.tiles.push(e),h.added.push(e)}}for(let s=this.tiles.length-1;s>=0;s--){const e=this.tiles[s];n.has(e.id)||(this._tiles.delete(e.id),this.tiles.splice(s,1),this._index.remove(e),h.removed.push(e))}(h.added.length||h.removed.length)&&this.emit("update",h),_tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_4__["default"].pool.release(t),n.clear(),h.added.length=0,h.removed.length=0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UpdateToken": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(){this.version=0,this.source=!1,this.targets={feature:!1,aggregate:!1},this.storage={filters:!1,data:!1},this.mesh=!1,this.queryFilter=!1,this.why={mesh:[],source:[]}}static create(e){const s=new t;let r;for(r in e){const t=e[r];if("object"==typeof t)for(const e in t){const a=e,i=t[a];s[r][a]=i}s[r]=t}return s}static empty(){return t.create({})}static all(){return t.create({source:!0,targets:{feature:!0,aggregate:!0},storage:{filters:!0,data:!0},mesh:!0})}unset(t){this.version=t.version,t.source&&(this.source=!1),t.targets.feature&&(this.targets.feature=!1),t.targets.aggregate&&(this.targets.aggregate=!1),t.storage.filters&&(this.storage.filters=!1),t.storage.data&&(this.storage.data=!1),t.mesh&&(this.mesh=!1),t.queryFilter&&(this.queryFilter=!1)}any(){return this.source||this.mesh||this.storage.filters||this.storage.data||this.targets.feature||this.targets.aggregate||this.queryFilter}describe(){let t=0,e="";if(this.mesh){t+=20,e+="-> (20) Mesh needs update\n";for(const t of this.why.mesh)e+=`    + ${t}\n`}if(this.source){t+=10,e+="-> (10) The source needs update\n";for(const t of this.why.source)e+=`    + ${t}\n`}this.targets.feature&&(t+=5,e+="-> (5) Feature target parameters changed\n"),this.storage.filters&&(t+=5,e+="-> (5) Feature filter parameters changed\n"),this.targets.aggregate&&(t+=4,e+="-> (4) Aggregate target parameters changed\n"),this.storage.data&&(t+=1,e+="-> (1) Texture storage parameters changed");const s=t<5?"Fastest":t<10?"Fast":t<15?"Moderate":t<20?"Slow":"Very Slow";console.debug(`Applying ${s} update of cost ${t}/45 `),console.debug(e)}toJSON(){return{queryFilter:this.queryFilter,source:this.source,targets:this.targets,storage:this.storage,mesh:this.mesh}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "convertColorVariable": () => (/* binding */ m),
/* harmony export */   "convertVisualVariables": () => (/* binding */ c),
/* harmony export */   "getVisualVariableSizeValueRepresentationRatio": () => (/* binding */ l),
/* harmony export */   "normalizeSizeElement": () => (/* binding */ u),
/* harmony export */   "normalizeSizeStops": () => (/* binding */ a),
/* harmony export */   "stopToSizeStop": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _engine_webgl_color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../engine/webgl/color.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/color.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _engine_webgl_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../engine/webgl/visualVariablesUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(e,t){if(!e||!t)return e;switch(t){case"radius":case"distance":return 2*e;case"diameter":case"width":return e;case"area":return Math.sqrt(e)}return e}function r(t){return{value:t.value,size:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.toPt)(t.size)}}function a(e){return(e??[]).map((e=>r(e)))}function u(t){if("string"==typeof t||"number"==typeof t)return (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.toPt)(t);const s=t;return{type:"size",expression:s.expression,stops:a(s.stops)}}const p=e=>{const s=[],o=[],i=a(e),l=i.length;for(let r=0;r<6;r++){const e=i[Math.min(r,l-1)];s.push(e.value),o.push(null==e.size?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_2__.NAN_MAGIC_NUMBER:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(e.size))}return{values:new Float32Array(s),sizes:new Float32Array(o)}};function c(e){const t=e&&e.length>0?{}:null,s=t?{}:null;if(!t||!s)return{vvFields:t,vvRanges:s};for(const n of e)if(n.field&&(t[n.type]=n.field),"size"===n.type){s.size||(s.size={});const e=n;switch((0,_engine_webgl_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_4__.getTypeOfSizeVisualVariable)(e)){case _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLVVFlag.SIZE_MINMAX_VALUE:s.size.minMaxValue={minDataValue:e.minDataValue,maxDataValue:e.maxDataValue,minSize:u(e.minSize),maxSize:u(e.maxSize)};break;case _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLVVFlag.SIZE_SCALE_STOPS:s.size.scaleStops={stops:a(e.stops)};break;case _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLVVFlag.SIZE_FIELD_STOPS:if(e.levels){const t={};for(const s in e.levels)t[s]=p(e.levels[s]);s.size.fieldStops={type:"level-dependent",levels:t}}else s.size.fieldStops={type:"static",...p(e.stops)};break;case _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLVVFlag.SIZE_UNIT_VALUE:s.size.unitValue={unit:e.valueUnit,valueRepresentation:e.valueRepresentation??void 0}}}else if("color"===n.type)s.color=m(n);else if("opacity"===n.type)s.opacity=f(n);else if("rotation"===n.type){const e=n;s.rotation={type:e.rotationType}}return{vvFields:t,vvRanges:s}}function f(e){const t={values:[0,0,0,0,0,0,0,0],opacities:[0,0,0,0,0,0,0,0]};if("string"==typeof e.field){if(!e.stops)return null;{if(e.stops.length>8)return null;const s=e.stops;for(let e=0;e<8;++e){const n=s[Math.min(e,s.length-1)];t.values[e]=n.value,t.opacities[e]=n.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return null;{const s=e.stops&&e.stops.length>=0?e.stops[0].opacity:0;for(let e=0;e<8;e++)t.values[e]=1/0,t.opacities[e]=s}}return t}function v(e,t,s){e[4*t]=s.r/255,e[4*t+1]=s.g/255,e[4*t+2]=s.b/255,e[4*t+3]=s.a}function m(e){if(null==e)return null;if(e.normalizationField)return null;const t={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};if("string"==typeof e.field){if(!e.stops)return null;{if(e.stops.length>8)return null;t.field=e.field;const s=e.stops;for(let e=0;e<8;++e){const n=s[Math.min(e,s.length-1)];t.values[e]=n.value,v(t.colors,e,n.color)}}}else{if(!(e.stops&&e.stops.length>=0))return null;{const s=e.stops&&e.stops.length>=0&&e.stops[0].color;for(let e=0;e<8;e++)t.values[e]=1/0,v(t.colors,e,s)}}for(let n=0;n<32;n+=4)(0,_engine_webgl_color_js__WEBPACK_IMPORTED_MODULE_1__.premultiplyAlpha)(t.colors,n,!0);return t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/LODInfo.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/LODInfo.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o(t,r){return[t,r]}function i(t,r,o){return t[0]=r,t[1]=o,t}function e(t,r,o,i,e){return t[0]=r,t[1]=o,t[2]=i,t[3]=e,t}const s=new _TileKey_js__WEBPACK_IMPORTED_MODULE_1__["default"]("0/0/0/0");class n{static create(r,e,s=null){const l=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__.getInfo)(r.spatialReference),h=e.origin||o(r.origin.x,r.origin.y),a=o(r.size[0]*e.resolution,r.size[1]*e.resolution),u=o(-1/0,-1/0),m=o(1/0,1/0),g=o(1/0,1/0);null!=s&&(i(u,Math.max(0,Math.floor((s.xmin-h[0])/a[0])),Math.max(0,Math.floor((h[1]-s.ymax)/a[1]))),i(m,Math.max(0,Math.floor((s.xmax-h[0])/a[0])),Math.max(0,Math.floor((h[1]-s.ymin)/a[1]))),i(g,m[0]-u[0]+1,m[1]-u[1]+1));const{cols:w,rows:c}=e;let d,f,F,z;return!s&&w&&c&&(i(u,w[0],c[0]),i(m,w[1],c[1]),i(g,w[1]-w[0]+1,c[1]-c[0]+1)),r.isWrappable?(d=o(Math.ceil(Math.round((l.valid[1]-l.valid[0])/e.resolution)/r.size[0]),g[1]),f=o(Math.floor((l.origin[0]-h[0])/a[0]),u[1]),F=o(d[0]+f[0]-1,m[1]),z=!0):(f=u,F=m,d=g,z=!1),new n(e.level,e.resolution,e.scale,h,u,m,g,a,f,F,d,z)}constructor(t,r,o,i,e,s,n,l,h,a,u,m){this.level=t,this.resolution=r,this.scale=o,this.origin=i,this.first=e,this.last=s,this.size=n,this.norm=l,this.worldStart=h,this.worldEnd=a,this.worldSize=u,this.wrap=m}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,o=!1){s.set(r);const i=o?s.col:this.denormalizeCol(s.col,s.world),n=s.row;return e(t,this.getXForColumn(i),this.getYForRow(n+1),this.getXForColumn(i+1),this.getYForRow(n)),t}getTileCoords(t,r,o=!1){s.set(r);const e=o?s.col:this.denormalizeCol(s.col,s.world);return Array.isArray(t)?i(t,this.getXForColumn(e),this.getYForRow(s.row)):(t.x=this.getXForColumn(e),t.y=this.getYForRow(s.row)),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/ObjectPool.js */ "./node_modules/@arcgis/core/core/ObjectPool.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class l{constructor(){this.spans=[]}acquire(o){this.lodInfo=o}release(){this.lodInfo=null,this.spans.length=0}forEach(o,l){const{spans:s,lodInfo:t}=this,{level:e}=t;if(0!==s.length)for(const{row:r,colFrom:n,colTo:c}of s)for(let s=n;s<=c;s++)o.call(l,e,r,t.normalizeCol(s),t.getWorldForColumn(s))}}l.pool=new _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__["default"](l);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _LODInfo_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LODInfo.js */ "./node_modules/@arcgis/core/views/2d/tiling/LODInfo.js");
/* harmony import */ var _TileCoverage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TileCoverage.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/* harmony import */ var _TileSpan_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TileSpan.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileSpan.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i=new _TileKey_js__WEBPACK_IMPORTED_MODULE_3__["default"]("0/0/0/0");class n{static create(e,t){e[1]>t[1]&&([e,t]=[t,e]);const[o,l]=e,[s,i]=t,r=s-o,a=i-l,h=0!==a?r/a:0,c=(Math.ceil(l)-l)*h,f=(Math.floor(l)-l)*h;return new n(o,Math.floor(l),Math.ceil(i),h,r<0?c:f,r<0?f:c,r<0?s:o,r<0?o:s)}constructor(e,t,o,l,s,i,n,r){this.x=e,this.ymin=t,this.ymax=o,this.invM=l,this.leftAdjust=s,this.rightAdjust=i,this.leftBound=n,this.rightBound=r}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const r=[[0,0],[0,0],[0,0],[0,0]],a=1e-6;class h{constructor(e,o=null,l=e.lods[0].level,s=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=o,this.scales=[],this._infoByScale={},this._infoByLevel={};const i=e.lods.filter((e=>e.level>=l&&e.level<=s));this.minScale=i[0].scale,this.maxScale=i[i.length-1].scale;const n=this._lodInfos=i.map((l=>_LODInfo_js__WEBPACK_IMPORTED_MODULE_1__["default"].create(e,l,o)));i.forEach(((e,t)=>{this._infoByLevel[e.level]=n[t],this._infoByScale[e.scale]=n[t],this.scales[t]=e.scale}),this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel["number"==typeof e?e:e.level]}getTileBounds(e,t,o=!1){i.set(t);const l=this._infoByLevel[i.level];return l?l.getTileBounds(e,i,o):e}getTileCoords(e,t,o=!1){i.set(t);const l=this._infoByLevel[i.level];return l?l.getTileCoords(e,i,o):e}getTileCoverage(e,t=192,l=!0,i="closest"){if(!l&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const a="closest"===i?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),h=_TileCoverage_js__WEBPACK_IMPORTED_MODULE_2__["default"].pool.acquire(a),c=this._wrap;let f,u,m,g=1/0,d=-1/0;const v=h.spans;r[0][0]=r[0][1]=r[1][1]=r[3][0]=-t,r[1][0]=r[2][0]=e.size[0]+t,r[2][1]=r[3][1]=e.size[1]+t;for(const o of r)e.toMap(o,o),o[0]=a.getColumnForX(o[0]),o[1]=a.getRowForY(o[1]);const y=[];let _=3;for(let o=0;o<4;o++){if(r[o][1]===r[_][1]){_=o;continue}const e=n.create(r[o],r[_]);g=Math.min(e.ymin,g),d=Math.max(e.ymax,d),void 0===y[e.ymin]&&(y[e.ymin]=[]),y[e.ymin].push(e),_=o}if(null==g||null==d||d-g>100)return null;let p=[];for(f=g;f<d;){null!=y[f]&&(p=p.concat(y[f])),u=1/0,m=-1/0;for(let e=p.length-1;e>=0;e--){const t=p[e];u=Math.min(u,t.getLeftCol()),m=Math.max(m,t.getRightCol())}if(u=Math.floor(u),m=Math.floor(m),f>=a.first[1]&&f<=a.last[1])if(c)if(a.size[0]<a.worldSize[0]){const e=Math.floor(m/a.worldSize[0]);for(let t=Math.floor(u/a.worldSize[0]);t<=e;t++)v.push(new _TileSpan_js__WEBPACK_IMPORTED_MODULE_4__["default"](f,Math.max(a.getFirstColumnForWorld(t),u),Math.min(a.getLastColumnForWorld(t),m)))}else v.push(new _TileSpan_js__WEBPACK_IMPORTED_MODULE_4__["default"](f,u,m));else u>a.last[0]||m<a.first[0]||(u=Math.max(u,a.first[0]),m=Math.min(m,a.last[0]),v.push(new _TileSpan_js__WEBPACK_IMPORTED_MODULE_4__["default"](f,u,m)));f+=1;for(let e=p.length-1;e>=0;e--){const t=p[e];t.ymax>=f?t.incrRow():p.splice(e,1)}}return h}getTileParentId(e){i.set(e);const t=this._infoByLevel[i.level],o=this._lodInfos.indexOf(t)-1;return o<0?null:(this._getTileIdAtLOD(i,this._lodInfos[o],i),i.id)}getTileResolution(e){const t=this._infoByLevel["object"==typeof e?e.level:e];return t?t.resolution:-1}getTileScale(e){const t=this._infoByLevel[e.level];return t?t.scale:-1}intersects(e,t){i.set(t);const o=this._infoByLevel[i.level],l=e.lodInfo;if(l.resolution>o.resolution){this._getTileIdAtLOD(i,l,i);const t=l.denormalizeCol(i.col,i.world);for(const o of e.spans)if(o.row===i.row&&o.colFrom<=t&&o.colTo>=t)return!0}if(l.resolution<o.resolution){const[t,s,n,r]=e.spans.reduce(((e,t)=>(e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e)),[1/0,-1/0,1/0,-1/0]),a=o.denormalizeCol(i.col,i.world),h=l.getColumnForX(o.getXForColumn(a)),c=l.getRowForY(o.getYForRow(i.row)),f=l.getColumnForX(o.getXForColumn(a+1))-1,u=l.getRowForY(o.getYForRow(i.row+1))-1;return!(h>r||f<n||c>s||u<t)}const s=l.denormalizeCol(i.col,i.world);return e.spans.some((e=>e.row===i.row&&e.colFrom<=s&&e.colTo>=s))}normalizeBounds(t,o,l){if(t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],this._wrap){const o=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__.getInfo)(this.tileInfo.spatialReference),s=-l*(o.valid[1]-o.valid[0]);t[0]+=s,t[2]+=s}return t}getSmallestInfoForScale(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>t[0])return this._infoByScale[t[0]];for(let o=1;o<t.length-1;o++)if(e>t[o]+a)return this._infoByScale[t[o-1]];return this._infoByScale[t[t.length-1]]}getClosestInfoForScale(e){const t=this.scales;return this._infoByScale[e]||(e=t.reduce(((t,o)=>Math.abs(o-e)<Math.abs(t-e)?o:t),t[0])),this._infoByScale[e]}scaleToLevel(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let o=t.length-1;o>=0;o--)if(e<t[o]){if(o===t.length-1)return this._infoByScale[t[t.length-1]].level;return this._infoByScale[t[o]].level+(t[o]-e)/(t[o]-t[o+1])}return this._infoByScale[t[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}_getTileIdAtLOD(e,t,o){const l=this._infoByLevel[o.level];return e.set(o),t.resolution<l.resolution?null:(t.resolution===l.resolution||(e.level=t.level,e.col=Math.floor(o.col*l.resolution/t.resolution+.01),e.row=Math.floor(o.row*l.resolution/t.resolution+.01)),e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileKey.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/ObjectPool.js */ "./node_modules/@arcgis/core/core/ObjectPool.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{static getId(t,e,l,s){return"object"==typeof t?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${e}/${l}/${s}`}constructor(t,e,l,s){this.set(t,e,l,s)}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}get hash(){const t=4095&this.row,e=4095&this.col,l=63&this.level;return(3&this.world)<<30|e<<22|t<<8|l}acquire(t,e,l,s){this.set(t,e,l,s)}contains(t){const e=t.level-this.level;return e>=0&&this.row===t.row>>e&&this.col===t.col>>e&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new e(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,e,l,s){if(null==t)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof t)this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if("string"==typeof t){const[e,l,s,o]=t.split("/");this.level=parseFloat(e),this.row=parseFloat(l),this.col=parseFloat(s),this.world=parseFloat(o)}else this.level=+t,this.row=+e,this.col=+l,this.world=+s||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new e(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,l=this.row<<1,s=this.col<<1,o=this.world;return[new e(t,l,s,o),new e(t,l,s+1,o),new e(t,l+1,s,o),new e(t,l+1,s+1,o)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}}e.pool=new _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__["default"](e,null,null,25,50);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileSpan.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileSpan.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o{constructor(o,s,t){this.row=o,this.colFrom=s,this.colTo=t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/QueueProcessor.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/QueueProcessor.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "QueueProcessor": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_Queue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Queue.js */ "./node_modules/@arcgis/core/core/Queue.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class n{constructor(e,s){this.item=e,this.controller=s,this.promise=null}}class u{constructor(e){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new _core_Queue_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.peeker),this.process=e.process;const s=e.scheduler;e.priority&&s&&(this._task=s.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.removeMaybe)(this._schedule),this._task=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.removeMaybe)(this._task)}get length(){return this._processingItems.size+this._queue.length}abort(e){const s=this._controllers.get(e);s&&s.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach((s=>e.push(s))),this._controllers.clear(),e.forEach((e=>e.abort())),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach(((s,t)=>e(t)))}get(e){const s=this._deferreds.get(e);return s?s.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(e,i){const o=this.get(e);if(o)return o;const c=new AbortController;let n=null;i&&(n=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.onAbort)(i,(()=>c.abort())));const u=()=>{const s=this._processingItems.get(e);s&&s.controller.abort(),l(),p.reject((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.createAbortError)())},l=()=>{_.remove(),null!=n&&n.remove(),this._deferreds.delete(e),this._controllers.delete(e),this._queue.remove(e),this._processingItems.delete(e),this._scheduleNext()},_=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.onAbortOrThrow)(c.signal,u),p=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.createResolver)();return this._deferreds.set(e,p),this._controllers.set(e,c),p.promise.then(l,l),this._queue.push(e),this._scheduleNext(),p.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const e=[];this._processingItems.forEach((s=>e.push(s))),this._processingItems.clear();for(const s of e)this._queue.push(s.item),s.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=(0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_3__.schedule)((()=>{this._schedule=null,this._next()})))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(s))}_processError(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(s))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(null==e)return;let s;const t=new AbortController,r=new n(e,t);this._processingItems.set(e,r);try{s=this.process(e,t.signal)}catch(h){this._processError(r,h)}(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPromiseLike)(s)?(r.promise=s,s.then((e=>this._processResult(r,e)),(e=>this._processError(r,e)))):this._processResult(r,s)}get test(){return{update:e=>this.runTask(e)}}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvMDVhMzgyNDI1ZDRiZGFmMWE0ZjNlZWEyOGY3ZmYwMWYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNvSSxTQUFTLE1BQU0sZUFBZSwyQ0FBQyx3QkFBd0IsZ0RBQWdELFNBQVMsR0FBRyxTQUFTLDBFQUEwRSxzQkFBc0IsaUJBQWlCLE1BQU0sbUVBQUMsOEhBQThILFFBQVEsZUFBZSw2REFBNkQsZ0RBQWdELG9GQUFvRixRQUFRLFFBQVEsaURBQU8sa0JBQWtCLGtDQUFrQyxRQUFRLG9DQUFvQyxRQUFRLGtDQUFrQyxRQUFRLGtDQUFrQyxRQUFRLHFDQUFxQyxNQUFNLHNEQUFZLEVBQUUsNERBQTRELEVBQUUsVUFBVSxFQUFFLHlCQUF5QixTQUFTLHFCQUFxQixPQUFPLHFCQUFxQixVQUFVLHFCQUFxQixVQUFVLHFCQUFxQixlQUFlLFlBQVkseUNBQXlDLGtFQUFrRSwwQ0FBMEMsYUFBYSxvSkFBb0osNkJBQTZCLGFBQWEsc0RBQVksSUFBSSxjQUFjLEdBQUcsK0NBQStDLGFBQWEsc0RBQVksSUFBSSxPQUFPLEdBQUcsbUNBQW1DLGFBQWEsc0RBQVksSUFBSSxnQkFBZ0IsR0FBRyxvQ0FBb0MsYUFBYSxzREFBWSxjQUFjLGdCQUFnQixHQUFHLHVDQUF1QyxhQUFhLHNEQUFZLElBQUksT0FBTyxHQUFHLCtCQUErQixnQkFBZ0IsUUFBUSx5QkFBeUIsa0JBQWtCLGFBQWEscURBQXFELHdDQUF3QyxhQUFhLDBJQUEwSSwwQkFBMEIsYUFBYSxzREFBWSxXQUFXLE9BQU8sR0FBRyw0QkFBNEIsYUFBYSwrQ0FBSyxJQUFJLGVBQWUsOEVBQThFLFVBQVUseUlBQXlJLHdCQUF3QixvQ0FBb0MsY0FBYywwQkFBMEIsV0FBVyx1QkFBdUIsYUFBYSx5QkFBeUIsVUFBVSxzQkFBc0IsbUJBQW1CLDBCQUEwQixrQkFBa0IseUJBQXlCLG9CQUFvQixrQkFBa0IsOEJBQThCLGVBQWUsd0JBQXdC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O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtQkFBbUIsd0NBQTZEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnhGO0FBQ0E7QUFDQTtBQUNBO0FBQytRLFFBQVEsaUJBQWlCLGlEQUFpRCxRQUFRLGVBQWUseU5BQXlOLHNEQUFDLGtDQUFrQyxvQkFBb0IsNERBQTRELFVBQVUsNEJBQTRCLDJEQUFDLDRCQUE0QiwyREFBQyxhQUFhLGFBQWEscURBQXFELFNBQVMsaUNBQWlDLGFBQWEsUUFBUSxvQkFBb0IsV0FBVywrSUFBK0ksV0FBVyx1Q0FBdUMsT0FBTywrQkFBK0IsMEJBQTBCLGFBQWEsb0NBQW9DLE9BQU8sOEJBQThCLFFBQVEsdURBQXVELFVBQVUsb0JBQW9CLGNBQWMsNEJBQTRCLFdBQVcsTUFBTSw4REFBQyxxQkFBcUIsYUFBYSxxQ0FBcUMscUNBQXFDLHVFQUFDLElBQUksUUFBUSxnS0FBZ0ssR0FBRyxxRUFBQyxlQUFlLHFFQUFDLEdBQUcsa0lBQWtJLE9BQU8sMEJBQTBCLE9BQU8sMEJBQTBCLFVBQVUsNkJBQTZCLFFBQVEsV0FBVyw0RUFBNEUsK0RBQStELHFCQUFxQixTQUFTLHlEQUF5RCxVQUFVLFdBQVcsS0FBSyxtQkFBbUIsMkJBQTJCLHNCQUFzQixjQUFjLHlGQUF5RixXQUFXLEtBQUssMkVBQTJFLG1EQUFtRCxnQkFBZ0IsNERBQTRELDZEQUFDLE9BQU8saUNBQWlDLElBQUksUUFBUSxLQUFLLGtFQUFrRSxrQ0FBa0MsY0FBYyw4REFBOEQsb0JBQW9CLDhGQUE4RixtQkFBbUIsNkZBQTZGLDBCQUEwQiwyRUFBMkUsWUFBWSxrQkFBa0IsTUFBTSx5Q0FBeUMsK0JBQStCLElBQUksMkJBQTJCLFNBQVMsd0JBQXdCLG9FQUFDLDhHQUE4RyxXQUFXLE9BQU8sNEJBQXdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvYXJjYWRlL0FyY2FkZURhdGUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvYXJjYWRlL2FyY2FkZVRpbWVVdGlscy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3MvcmJ1c2guanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9DaXJjdWxhckFycmF5LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb2hhc2gvR2VvaGFzaFRyZWUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvaGFzaC9nZW9oYXNoVXRpbHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL2RhdGEvU3RyZWFtRmVhdHVyZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvTE9ELmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L1RpbGVJbmZvLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L1RpbGVLZXkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvYXJjZ2lzTGF5ZXJVcmwuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvYXJjYWRlL2NhbGxFeHByZXNzaW9uV2l0aEN1cnNvci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvRGlzcGxheUlkLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9VdGlscy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvY29sb3IuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL2VudW1zLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9udW1iZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL3V0aWwvZGVidWcuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL3Zpc3VhbFZhcmlhYmxlc1V0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9GZWF0dXJlU3RvcmUyRC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvUGlwZWxpbmUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL1N0b3JlMkQuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL2NvbnRyb2xsZXJzL0ZlYXR1cmVDb250cm9sbGVyMkQuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL2NvbnRyb2xsZXJzL3N1cHBvcnQvc291cmNlQWRhcHRlcnMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3Byb2Nlc3NvcnMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvQmFzZUZlYXR1cmVTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvRGF0YVRpbGVTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvRGF0YVRpbGVTdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvRHJpbGxEb3duRmVhdHVyZVNvdXJjZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc291cmNlcy9QYWdlZEZlYXR1cmVTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvU25hcHNob3RGZWF0dXJlU291cmNlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL1N0cmVhbUNvbm5lY3Rpb25TdGF0ZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc291cmNlcy9TdHJlYW1Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvY3JlYXRlU291cmNlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0F0dHJpYnV0ZVN0b3JlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0JpblN0b3JlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0NsdXN0ZXJTdG9yZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9Db21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvRGlzcGxheUlkR2VuZXJhdG9yLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlckpTT04uanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlclBCRi5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVyUEJGSGVhZGVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJQQkZJbmRpcmVjdC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9TdGF0aWNCaXRTZXQuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvVGlsZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9UaWxlU3RvcmUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvVXBkYXRlVG9rZW4uanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3RpbGVSZW5kZXJlcnMvc3VwcG9ydC92aXN1YWxWYXJpYWJsZXNVdGlscy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC90aWxpbmcvTE9ESW5mby5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC90aWxpbmcvVGlsZUNvdmVyYWdlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL3RpbGluZy9UaWxlSW5mb1ZpZXcuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvdGlsaW5nL1RpbGVLZXkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvdGlsaW5nL1RpbGVTcGFuLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL3N1cHBvcnQvUXVldWVQcm9jZXNzb3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtkb1N1YnN0aXR1dGlvbnMgYXMgZX1mcm9tXCIuL2V4ZWN1dGlvbkVycm9yLmpzXCI7aW1wb3J0e0lBTkFab25lIGFzIHQsRGF0ZVRpbWUgYXMgbixab25lIGFzIHIsRml4ZWRPZmZzZXRab25lIGFzIHN9ZnJvbVwibHV4b25cIjtjbGFzcyBpe312YXIgbztpLmluc3RhbmNlPW5ldyB0KFwiRXRjL1VUQ1wiKSxmdW5jdGlvbihlKXtlLlRpbWVab25lTm90UmVjb2duaXNlZD1cIlRpbWVab25lTm90UmVjb2duaXNlZFwifShvfHwobz17fSkpO2NvbnN0IGE9e1tvLlRpbWVab25lTm90UmVjb2duaXNlZF06XCJUaW1lem9uZSBpZGVudGlmaWVyIGhhcyBub3QgYmVlbiByZWNvZ25pc2VkLlwifTtjbGFzcyBkIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxuKXtzdXBlcihlKGFbdF0sbikpLHRoaXMuZGVjbGFyZWRSb290Q2xhc3M9XCJlc3JpLmFyY2FkZS5hcmNhZGVkYXRlLmRhdGVlcnJvclwiLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLGQpfX1jbGFzcyBje2NvbnN0cnVjdG9yKGUpe3RoaXMuX2RhdGU9ZSx0aGlzLmRlY2xhcmVkUm9vdENsYXNzPVwiZXNyaS5hcmNhZGUuYXJjYWRlZGF0ZVwifXN0YXRpYyBmcm9tUGFydHMoZT0wLHQ9MSxyPTEscz0wLGk9MCxvPTAsYT0wLGQpe2lmKGlzTmFOKGUpfHxpc05hTih0KXx8aXNOYU4ocil8fGlzTmFOKHMpfHxpc05hTihpKXx8aXNOYU4obyl8fGlzTmFOKGEpKXJldHVybiBudWxsO2xldCBtPTA7Y29uc3QgaD1uLmxvY2FsKGUsdCkuZGF5c0luTW9udGg7cjwxJiYobT1yLTEscj0xKSxyPmgmJihtPXItaCxyPWgpO2xldCBsPTA7dD4xMj8obD10LTEyLHQ9MTIpOnQ8MSYmKGw9dC0xLHQ9MSk7bGV0IGY9MDtpPjU5PyhmPWktNTksaT01OSk6aTwwJiYoZj1pLGk9MCk7bGV0IHc9MDtvPjU5Pyh3PW8tNTksbz01OSk6bzwwJiYodz1vLG89MCk7bGV0IFQ9MDthPjk5OT8oVD1hLTk5OSxhPTk5OSk6YTwwJiYoVD1hLGE9MCk7bGV0IHk9bi5mcm9tT2JqZWN0KHtkYXk6cix5ZWFyOmUsbW9udGg6dCxob3VyOnMsbWludXRlOmksc2Vjb25kOm8sbWlsbGlzZWNvbmQ6YX0se3pvbmU6dShkKX0pO3JldHVybiAwIT09bCYmKHk9eS5wbHVzKHttb250aHM6bH0pKSwwIT09bSYmKHk9eS5wbHVzKHtkYXlzOm19KSksMCE9PWYmJih5PXkucGx1cyh7bWludXRlczpmfSkpLDAhPT13JiYoeT15LnBsdXMoe3NlY29uZHM6d30pKSwwIT09VCYmKHk9eS5wbHVzKHttaWxsaXNlY29uZHM6VH0pKSxuZXcgYyh5KX1zdGF0aWMgZ2V0IHN5c3RlbVRpbWVab25lQ2Fub25pY2FsTmFtZSgpe3JldHVybiBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU/P1wic3lzdGVtXCJ9c3RhdGljIGFyY2FkZURhdGVBbmRab25lVG9BcmNhZGVEYXRlKGUsdCl7Y29uc3Qgbj11KHQpO3JldHVybiBlLmlzVW5rbm93blRpbWVab25lfHxuPT09aS5pbnN0YW5jZT9jLmZyb21QYXJ0cyhlLnllYXIsZS5tb250aEpTKzEsZS5kYXksZS5ob3VyLGUubWludXRlLGUuc2Vjb25kLGUubWlsbGlzZWNvbmQsbik6bmV3IGMoZS5fZGF0ZS5zZXRab25lKHQpKX1zdGF0aWMgZGF0ZUpTVG9BcmNhZGVEYXRlKGUpe3JldHVybiBuZXcgYyhuLmZyb21KU0RhdGUoZSx7em9uZTpcInN5c3RlbVwifSkpfXN0YXRpYyBkYXRlSlNBbmRab25lVG9BcmNhZGVEYXRlKGUsdD1cInN5c3RlbVwiKXtyZXR1cm4gbmV3IGMobi5mcm9tSlNEYXRlKGUse3pvbmU6dH0pKX1zdGF0aWMgdW5rbm93bkVwb2NoVG9BcmNhZGVEYXRlKGUpe3JldHVybiBuZXcgYyhuLmZyb21NaWxsaXMoZSx7em9uZTppLmluc3RhbmNlfSkpfXN0YXRpYyB1bmtub3duRGF0ZUpTVG9BcmNhZGVEYXRlKGUpe3JldHVybiBuZXcgYyhuLmZyb21NaWxsaXMoZS5nZXRUaW1lKCkse3pvbmU6aS5pbnN0YW5jZX0pKX1zdGF0aWMgZXBvY2hUb0FyY2FkZURhdGUoZSx0PVwic3lzdGVtXCIpe3JldHVybiBuZXcgYyhuLmZyb21NaWxsaXMoZSx7em9uZTp0fSkpfXN0YXRpYyBkYXRlVGltZVRvQXJjYWRlRGF0ZShlKXtyZXR1cm4gbmV3IGMoZSl9Y2xvbmUoKXtyZXR1cm4gbmV3IGModGhpcy5fZGF0ZSl9Y2hhbmdlVGltZVpvbmUoZSl7Y29uc3QgdD11KGUpO3JldHVybiBjLmRhdGVUaW1lVG9BcmNhZGVEYXRlKHRoaXMuX2RhdGUuc2V0Wm9uZSh0KSl9c3RhdGljIGRhdGVUaW1lQW5kWm9uZVRvQXJjYWRlRGF0ZShlLHQpe2NvbnN0IG49dSh0KTtyZXR1cm4gZS56b25lPT09aS5pbnN0YW5jZXx8bj09PWkuaW5zdGFuY2U/Yy5mcm9tUGFydHMoZS55ZWFyLGUubW9udGgsZS5kYXksZS5ob3VyLGUubWludXRlLGUuc2Vjb25kLGUubWlsbGlzZWNvbmQsbik6bmV3IGMoZS5zZXRab25lKG4pKX1zdGF0aWMgbm93VG9BcmNhZGVEYXRlKGUpe3JldHVybiBuZXcgYyhuLmZyb21KU0RhdGUobmV3IERhdGUse3pvbmU6ZX0pKX1zdGF0aWMgbm93VVRDVG9BcmNhZGVEYXRlKCl7cmV0dXJuIG5ldyBjKG4udXRjKCkpfWdldCBpc1N5c3RlbSgpe3JldHVyblwic3lzdGVtXCI9PT10aGlzLnRpbWVab25lfHx0aGlzLnRpbWVab25lPT09Yy5zeXN0ZW1UaW1lWm9uZUNhbm9uaWNhbE5hbWV9ZXF1YWxzKGUpe3JldHVybiB0aGlzLmlzU3lzdGVtJiZlLmlzU3lzdGVtP3RoaXMudG9OdW1iZXIoKT09PWUudG9OdW1iZXIoKTp0aGlzLmlzVW5rbm93blRpbWVab25lPT09ZS5pc1Vua25vd25UaW1lWm9uZSYmdGhpcy5fZGF0ZS5lcXVhbHMoZS5fZGF0ZSl9Z2V0IGlzVW5rbm93blRpbWVab25lKCl7cmV0dXJuIHRoaXMuX2RhdGUuem9uZT09PWkuaW5zdGFuY2V9Z2V0IGlzVmFsaWQoKXtyZXR1cm4gdGhpcy5fZGF0ZS5pc1ZhbGlkfWdldCBob3VyKCl7cmV0dXJuIHRoaXMuX2RhdGUuaG91cn1nZXQgc2Vjb25kKCl7cmV0dXJuIHRoaXMuX2RhdGUuc2Vjb25kfWdldCBkYXkoKXtyZXR1cm4gdGhpcy5fZGF0ZS5kYXl9Z2V0IGRheU9mV2Vla0lTTygpe3JldHVybiB0aGlzLl9kYXRlLndlZWtkYXl9Z2V0IGRheU9mV2Vla0pTKCl7bGV0IGU9dGhpcy5fZGF0ZS53ZWVrZGF5O3JldHVybiBlPjYmJihlPTApLGV9Z2V0IG1pbGxpc2Vjb25kKCl7cmV0dXJuIHRoaXMuX2RhdGUubWlsbGlzZWNvbmR9Z2V0IG1vbnRoSVNPKCl7cmV0dXJuIHRoaXMuX2RhdGUubW9udGh9Z2V0IHdlZWtJU08oKXtyZXR1cm4gdGhpcy5fZGF0ZS53ZWVrTnVtYmVyfWdldCB5ZWFySVNPKCl7cmV0dXJuIHRoaXMuX2RhdGUud2Vla1llYXJ9Z2V0IG1vbnRoSlMoKXtyZXR1cm4gdGhpcy5fZGF0ZS5tb250aC0xfWdldCB5ZWFyKCl7cmV0dXJuIHRoaXMuX2RhdGUueWVhcn1nZXQgbWludXRlKCl7cmV0dXJuIHRoaXMuX2RhdGUubWludXRlfWdldCB6b25lKCl7cmV0dXJuIHRoaXMuX2RhdGUuem9uZX1nZXQgdGltZVpvbmVPZmZzZXQoKXtyZXR1cm4gdGhpcy5pc1Vua25vd25UaW1lWm9uZT8wOnRoaXMuX2RhdGUub2Zmc2V0fWdldCB0aW1lWm9uZSgpe2lmKHRoaXMuaXNVbmtub3duVGltZVpvbmUpcmV0dXJuXCJ1bmtub3duXCI7aWYoXCJzeXN0ZW1cIj09PXRoaXMuX2RhdGUuem9uZS50eXBlKXJldHVyblwic3lzdGVtXCI7Y29uc3QgZT10aGlzLnpvbmU7cmV0dXJuXCJmaXhlZFwiPT09ZS50eXBlPzA9PT1lLmZpeGVkP1widXRjXCI6ZS5mb3JtYXRPZmZzZXQoMCxcInNob3J0XCIpOmUubmFtZX1zdHJpbmdpZnkoKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy50b0pTRGF0ZSgpKX1wbHVzKGUpe3JldHVybiBuZXcgYyh0aGlzLl9kYXRlLnBsdXMoZSkpfWRpZmYoZSx0PVwibWlsbGlzZWNvbmRzXCIpe3JldHVybiB0aGlzLl9kYXRlLmRpZmYoZS5fZGF0ZSx0KVt0XX10b0lTT1N0cmluZyhlKXtyZXR1cm4gZT90aGlzLl9kYXRlLnRvSVNPKHtzdXBwcmVzc01pbGxpc2Vjb25kczohMCxpbmNsdWRlT2Zmc2V0OiF0aGlzLmlzVW5rbm93blRpbWVab25lfSk6dGhpcy5fZGF0ZS50b0lTTyh7aW5jbHVkZU9mZnNldDohdGhpcy5pc1Vua25vd25UaW1lWm9uZX0pfXRvRm9ybWF0KGUsdCl7cmV0dXJuIHRoaXMuX2RhdGUudG9Gb3JtYXQoZSx0KX10b0pTRGF0ZSgpe3JldHVybiB0aGlzLl9kYXRlLnRvSlNEYXRlKCl9dG9TUUxTdHJpbmcoKXtyZXR1cm5cInRpbWVzdGFtcCAnXCIrdGhpcy5fZGF0ZS50b0Zvcm1hdChcInl5eXktTEwtZGQgSEg6bW06c3NcIikrXCInXCJ9dG9EYXRlVGltZSgpe3JldHVybiB0aGlzLl9kYXRlfXRvTnVtYmVyKCl7cmV0dXJuIHRoaXMuX2RhdGUudG9NaWxsaXMoKX1nZXRUaW1lKCl7cmV0dXJuIHRoaXMuX2RhdGUudG9NaWxsaXMoKX10b1VUQygpe3JldHVybiBuZXcgYyh0aGlzLl9kYXRlLnRvVVRDKCkpfXRvTG9jYWwoKXtyZXR1cm4gbmV3IGModGhpcy5fZGF0ZS50b0xvY2FsKCkpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMudG9JU09TdHJpbmcoITApfX1mdW5jdGlvbiB1KGUpe2lmKGUgaW5zdGFuY2VvZiByKXJldHVybiBlO2lmKFwic3lzdGVtXCI9PT1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuXCJzeXN0ZW1cIjtpZihcInV0Y1wiPT09ZS50b0xvd2VyQ2FzZSgpKXJldHVyblwidXRjXCI7aWYoXCJ1bmtub3duXCI9PT1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGkuaW5zdGFuY2U7aWYoL15bXFwrXFwtXT9bMC05XXsxLDJ9KFs6XVswLTldezJ9KT8kLy50ZXN0KGUpKXtjb25zdCB0PXMucGFyc2VTcGVjaWZpZXIoXCJVVENcIisoZS5zdGFydHNXaXRoKFwiK1wiKXx8ZS5zdGFydHNXaXRoKFwiLVwiKT9cIlwiOlwiK1wiKStlKTtpZih0KXJldHVybiB0fWNvbnN0IG49dC5jcmVhdGUoZSk7aWYoIW4uaXNWYWxpZCl0aHJvdyBuZXcgZChvLlRpbWVab25lTm90UmVjb2duaXNlZCk7cmV0dXJuIG59ZXhwb3J0e2MgYXMgQXJjYWRlRGF0ZSxkIGFzIEFyY2FkZURhdGVFcnJvcixvIGFzIEFyY2FkZURhdGVFcnJvckNvZGVzLGEgYXMgQXJjYWRlRGF0ZUVycm9yTWVzc2FnZXMsaSBhcyBVbmtub3duVGltZVpvbmUsdSBhcyBjcmVhdGVEYXRlVGltZVpvbmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtVbmtub3duVGltZVpvbmUgYXMgZSxBcmNhZGVEYXRlRXJyb3IgYXMgdCxBcmNhZGVEYXRlRXJyb3JDb2RlcyBhcyBpfWZyb21cIi4vQXJjYWRlRGF0ZS5qc1wiO2ltcG9ydCBuIGZyb21cIi4uL2xheWVycy9zdXBwb3J0L0ZpZWxkc0luZGV4LmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vdGltZS9UaW1lUmVmZXJlbmNlLmpzXCI7aW1wb3J0e1pvbmUgYXMgcixTeXN0ZW1ab25lIGFzIHMsRml4ZWRPZmZzZXRab25lIGFzIGQsSUFOQVpvbmUgYXMgb31mcm9tXCJsdXhvblwiO2ltcG9ydHtjb252ZXJ0TGVnYWN5VGltZVpvbmUgYXMgZn1mcm9tXCIuLi90aW1lL3RpbWVSZWZlcmVuY2VVdGlscy5qc1wiO2Z1bmN0aW9uIGwoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfWZ1bmN0aW9uIG0obil7aWYoIW4pcmV0dXJuIG51bGw7aWYobChuKSYmKG49YyhuLnRvSlNPTigpKSksbiBpbnN0YW5jZW9mIHIpcmV0dXJuIG47aWYoXCJ1bmtub3duXCI9PT1uLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGUuaW5zdGFuY2U7aWYoXCJzeXN0ZW1cIj09PW4udG9Mb3dlckNhc2UoKSlyZXR1cm4gcy5pbnN0YW5jZTtpZihcInV0Y1wiPT09bi50b0xvd2VyQ2FzZSgpKXJldHVybiBkLnV0Y0luc3RhbmNlO2lmKC9eW1xcK1xcLV0/WzAtOV17MSwyfShbOl1bMC05XXsyfSk/JC8udGVzdChuKSl7Y29uc3QgZT1kLnBhcnNlU3BlY2lmaWVyKFwiVVRDXCIrKG4uc3RhcnRzV2l0aChcIitcIil8fG4uc3RhcnRzV2l0aChcIi1cIik/XCJcIjpcIitcIikrbik7aWYoZSlyZXR1cm4gZX1jb25zdCBhPW8uY3JlYXRlKG4pO2lmKCFhLmlzVmFsaWQpdGhyb3cgbmV3IHQoaS5UaW1lWm9uZU5vdFJlY29nbmlzZWQpO3JldHVybiBhfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/LnRpbWVab25lSUFOQT9lPy50aW1lWm9uZUlBTkE6ZT8udGltZVpvbmU/ZihlLFwiXCIpOlwiXCJ9Y2xhc3MgVHtjb25zdHJ1Y3Rvcigpe3RoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT1udWxsLHRoaXMuX2ZpZWxkVGltZVpvbmVJbmRleD17fSx0aGlzLl9maWVsZEluZGV4PW51bGwsdGhpcy5faWFuYVByZWZlcnJlZD1udWxsLHRoaXMuX2lhbmFUaW1lSW5mbz1udWxsLHRoaXMuX2lhbmFFZGl0RmllbGRzPW51bGwsdGhpcy5faWFuYUxheWVyRGF0ZUZpZWxkcz1udWxsfXN0YXRpYyBjcmVhdGUoZSx0KXtjb25zdCBpPW5ldyBUO3JldHVybiBpLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE9dCxpLl9maWVsZEluZGV4PWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSksaX1zdGF0aWMgY3JlYXRlRnJvbUxheWVyKGUpe2lmKCFlKXJldHVybiBudWxsO2lmKCFlLmZpZWxkc0luZGV4KXJldHVybiFlLmRlY2xhcmVkQ2xhc3MmJmUuZmllbGRzP1QuY3JlYXRlKGUuZmllbGRzLGUpOm51bGw7Y29uc3QgdD1uZXcgVDtyZXR1cm4gdC5fZmllbGRJbmRleD1lLmZpZWxkc0luZGV4LHQuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT17dGltZUluZm86ZT8udGltZUluZm8/LnRvSlNPTigpPz9udWxsLGVkaXRGaWVsZHNJbmZvOmU/LmVkaXRGaWVsZHNJbmZvPy50b0pTT04oKT8/bnVsbCxkYXRlRmllbGRzVGltZVJlZmVyZW5jZTplPy5kYXRlRmllbGRzVGltZVJlZmVyZW5jZT8udG9KU09OKCk/P251bGwscHJlZmVycmVkVGltZVJlZmVyZW5jZTplPy5wcmVmZXJyZWRUaW1lUmVmZXJlbmNlPy50b0pTT04oKT8/bnVsbCxkYXRlc0luVW5rbm93blRpbWV6b25lOiEwPT09ZT8uZGF0ZXNJblVua25vd25UaW1lem9uZX0sdH1maWVsZFRpbWVab25lKGUpe2NvbnN0IHQ9dGhpcy5fZmllbGRJbmRleD8uZ2V0KGUpO2lmKCF0KXJldHVybiBudWxsO2lmKFwiZGF0ZVwiIT09dC50eXBlJiZcImVzcmlGaWVsZFR5cGVEYXRlXCIhPT10LnR5cGUpcmV0dXJuIG51bGw7Y29uc3QgaT10aGlzLl9maWVsZFRpbWVab25lSW5kZXhbdC5uYW1lXTtpZih2b2lkIDAhPT1pKXJldHVybiBpO2NvbnN0IG49W3tmaWVsZDp0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmVkaXRGaWVsZHNJbmZvPy5jcmVhdGlvbkRhdGVGaWVsZCx0aW1lUmVmZXJlbmNlOnRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZWRpdEZpZWxkc0luZm8/LmRhdGVGaWVsZHNUaW1lUmVmZXJlbmNlLGlzdW5rbm93bjohMD09PXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZXNJblVua25vd25UaW1lem9uZX0se2ZpZWxkOnRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZWRpdEZpZWxkc0luZm8/LmVkaXREYXRlRmllbGQsdGltZVJlZmVyZW5jZTp0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmVkaXRGaWVsZHNJbmZvPy5kYXRlRmllbGRzVGltZVJlZmVyZW5jZSxpc3Vua25vd246ITA9PT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmV9LHtmaWVsZDp0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LnRpbWVJbmZvPy5zdGFydFRpbWVGaWVsZCx0aW1lUmVmZXJlbmNlOnRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8udGltZUluZm8/LnRpbWVSZWZlcmVuY2UsaXN1bmtub3duOiEwPT09dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5kYXRlc0luVW5rbm93blRpbWV6b25lfSx7ZmllbGQ6dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy50aW1lSW5mbz8uZW5kVGltZUZpZWxkLHRpbWVSZWZlcmVuY2U6dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy50aW1lSW5mbz8udGltZVJlZmVyZW5jZSxpc3Vua25vd246ITA9PT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmV9XTtmb3IoY29uc3QgciBvZiBuKWlmKHIuZmllbGQ9PT10Lm5hbWUpe2NvbnN0IGU9dGhpcy5jb252ZXJ0VG9JQU5BKHIudGltZVJlZmVyZW5jZSxyLmlzdW5rbm93bik7cmV0dXJuIHRoaXMuX2ZpZWxkVGltZVpvbmVJbmRleFt0Lm5hbWVdPWUsZX1jb25zdCBhPXRoaXMuY29udmVydFRvSUFOQSh0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVGaWVsZHNUaW1lUmVmZXJlbmNlLHRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZXNJblVua25vd25UaW1lem9uZSk7cmV0dXJuIHRoaXMuX2ZpZWxkVGltZVpvbmVJbmRleFt0Lm5hbWVdPWEsYX1jb252ZXJ0VG9JQU5BKGUsdCl7cmV0dXJuIHQ/XCJ1bmtub3duXCI6YyhlKX1nZXQgbGF5ZXJQcmVmZXJyZWRUaW1lWm9uZSgpe2lmKG51bGwhPT10aGlzLl9pYW5hUHJlZmVycmVkKXJldHVybiB0aGlzLl9pYW5hUHJlZmVycmVkO3RoaXMuX2lhbmFQcmVmZXJyZWQ9XCJcIjtjb25zdCBlPXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8ucHJlZmVycmVkVGltZVJlZmVyZW5jZTtyZXR1cm4gdGhpcy5faWFuYVByZWZlcnJlZD10aGlzLmNvbnZlcnRUb0lBTkEoZSwhMD09PXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZXNJblVua25vd25UaW1lem9uZSksdGhpcy5faWFuYVByZWZlcnJlZH1nZXQgbGF5ZXJUaW1lSW5mb1RpbWVab25lKCl7aWYobnVsbCE9PXRoaXMuX2lhbmFUaW1lSW5mbylyZXR1cm4gdGhpcy5faWFuYVRpbWVJbmZvO3RoaXMuX2lhbmFUaW1lSW5mbz1cIlwiO2NvbnN0IGU9dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy50aW1lSW5mbz8udGltZVJlZmVyZW5jZTtyZXR1cm4gdGhpcy5faWFuYVRpbWVJbmZvPXRoaXMuY29udmVydFRvSUFOQShlLCExKSx0aGlzLl9pYW5hVGltZUluZm99Z2V0IGxheWVyRWRpdEZpZWxkc1RpbWVab25lKCl7aWYobnVsbCE9PXRoaXMuX2lhbmFFZGl0RmllbGRzKXJldHVybiB0aGlzLl9pYW5hRWRpdEZpZWxkczt0aGlzLl9pYW5hRWRpdEZpZWxkcz1cIlwiO2NvbnN0IGU9dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5lZGl0RmllbGRzSW5mbz8uZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2U7cmV0dXJuIHRoaXMuX2lhbmFFZGl0RmllbGRzPXRoaXMuY29udmVydFRvSUFOQShlLHRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZXNJblVua25vd25UaW1lem9uZSksdGhpcy5faWFuYUVkaXRGaWVsZHN9Z2V0IGxheWVyRGF0ZUZpZWxkc1RpbWVab25lKCl7aWYobnVsbCE9PXRoaXMuX2lhbmFMYXllckRhdGVGaWVsZHMpcmV0dXJuIHRoaXMuX2lhbmFMYXllckRhdGVGaWVsZHM7dGhpcy5faWFuYUxheWVyRGF0ZUZpZWxkcz1cIlwiO2NvbnN0IGU9dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5kYXRlRmllbGRzVGltZVJlZmVyZW5jZTtyZXR1cm4gdGhpcy5faWFuYUxheWVyRGF0ZUZpZWxkcz10aGlzLmNvbnZlcnRUb0lBTkEoZSwhMD09PXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZXNJblVua25vd25UaW1lem9uZSksdGhpcy5faWFuYUxheWVyRGF0ZUZpZWxkc319ZXhwb3J0e1QgYXMgRGF0ZVRpbWVSZWZlcmVuY2VGaWVsZEluZGV4LG0gYXMgY29udmVydFRpbWVSZWZlcmVuY2UsYyBhcyBjb252ZXJ0VG9JQU5BfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7cSBhcyB0fWZyb21cIi4vcXVpY2tzZWxlY3QuanNcIjtmdW5jdGlvbiBpKHQsbil7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKHQsbik7dGhpcy5fbWF4RW50cmllcz1NYXRoLm1heCg0LHR8fDkpLHRoaXMuX21pbkVudHJpZXM9TWF0aC5tYXgoMixNYXRoLmNlaWwoLjQqdGhpcy5fbWF4RW50cmllcykpLG4mJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuP3RoaXMudG9CQm94PW46dGhpcy5faW5pdEZvcm1hdChuKSksdGhpcy5jbGVhcigpfWZ1bmN0aW9uIG4odCxpLG4pe2lmKCFuKXJldHVybiBpLmluZGV4T2YodCk7Zm9yKHZhciBoPTA7aDxpLmxlbmd0aDtoKyspaWYobih0LGlbaF0pKXJldHVybiBoO3JldHVybi0xfWZ1bmN0aW9uIGgodCxpKXthKHQsMCx0LmNoaWxkcmVuLmxlbmd0aCxpLHQpfWZ1bmN0aW9uIGEodCxpLG4saCxhKXthfHwoYT14KG51bGwpKSxhLm1pblg9MS8wLGEubWluWT0xLzAsYS5tYXhYPS0xLzAsYS5tYXhZPS0xLzA7Zm9yKHZhciBlLG89aTtvPG47bysrKWU9dC5jaGlsZHJlbltvXSxyKGEsdC5sZWFmP2goZSk6ZSk7cmV0dXJuIGF9ZnVuY3Rpb24gcih0LGkpe3JldHVybiB0Lm1pblg9TWF0aC5taW4odC5taW5YLGkubWluWCksdC5taW5ZPU1hdGgubWluKHQubWluWSxpLm1pblkpLHQubWF4WD1NYXRoLm1heCh0Lm1heFgsaS5tYXhYKSx0Lm1heFk9TWF0aC5tYXgodC5tYXhZLGkubWF4WSksdH1mdW5jdGlvbiBlKHQsaSl7cmV0dXJuIHQubWluWC1pLm1pblh9ZnVuY3Rpb24gbyh0LGkpe3JldHVybiB0Lm1pblktaS5taW5ZfWZ1bmN0aW9uIHModCl7cmV0dXJuKHQubWF4WC10Lm1pblgpKih0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiBsKHQpe3JldHVybiB0Lm1heFgtdC5taW5YKyh0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiBtKHQsaSl7cmV0dXJuKE1hdGgubWF4KGkubWF4WCx0Lm1heFgpLU1hdGgubWluKGkubWluWCx0Lm1pblgpKSooTWF0aC5tYXgoaS5tYXhZLHQubWF4WSktTWF0aC5taW4oaS5taW5ZLHQubWluWSkpfWZ1bmN0aW9uIGModCxpKXt2YXIgbj1NYXRoLm1heCh0Lm1pblgsaS5taW5YKSxoPU1hdGgubWF4KHQubWluWSxpLm1pblkpLGE9TWF0aC5taW4odC5tYXhYLGkubWF4WCkscj1NYXRoLm1pbih0Lm1heFksaS5tYXhZKTtyZXR1cm4gTWF0aC5tYXgoMCxhLW4pKk1hdGgubWF4KDAsci1oKX1mdW5jdGlvbiB1KHQsaSl7cmV0dXJuIHQubWluWDw9aS5taW5YJiZ0Lm1pblk8PWkubWluWSYmaS5tYXhYPD10Lm1heFgmJmkubWF4WTw9dC5tYXhZfWZ1bmN0aW9uIGYodCxpKXtyZXR1cm4gaS5taW5YPD10Lm1heFgmJmkubWluWTw9dC5tYXhZJiZpLm1heFg+PXQubWluWCYmaS5tYXhZPj10Lm1pbll9ZnVuY3Rpb24geCh0KXtyZXR1cm57Y2hpbGRyZW46dCxoZWlnaHQ6MSxsZWFmOiEwLG1pblg6MS8wLG1pblk6MS8wLG1heFg6LTEvMCxtYXhZOi0xLzB9fWZ1bmN0aW9uIGQoaSxuLGgsYSxyKXtmb3IodmFyIGUsbz1bbixoXTtvLmxlbmd0aDspKGg9by5wb3AoKSktKG49by5wb3AoKSk8PWF8fChlPW4rTWF0aC5jZWlsKChoLW4pL2EvMikqYSx0KGksZSxuLGgsciksby5wdXNoKG4sZSxlLGgpKX1pLnByb3RvdHlwZT17YWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FsbCh0aGlzLmRhdGEsW10pfSxzZWFyY2g6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5kYXRhLG49W10saD10aGlzLnRvQkJveDtpZighZih0LGkpKXJldHVybiBuO2Zvcih2YXIgYSxyLGUsbyxzPVtdO2k7KXtmb3IoYT0wLHI9aS5jaGlsZHJlbi5sZW5ndGg7YTxyO2ErKyllPWkuY2hpbGRyZW5bYV0sZih0LG89aS5sZWFmP2goZSk6ZSkmJihpLmxlYWY/bi5wdXNoKGUpOnUodCxvKT90aGlzLl9hbGwoZSxuKTpzLnB1c2goZSkpO2k9cy5wb3AoKX1yZXR1cm4gbn0sY29sbGlkZXM6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5kYXRhLG49dGhpcy50b0JCb3g7aWYoIWYodCxpKSlyZXR1cm4hMTtmb3IodmFyIGgsYSxyLGUsbz1bXTtpOyl7Zm9yKGg9MCxhPWkuY2hpbGRyZW4ubGVuZ3RoO2g8YTtoKyspaWYocj1pLmNoaWxkcmVuW2hdLGYodCxlPWkubGVhZj9uKHIpOnIpKXtpZihpLmxlYWZ8fHUodCxlKSlyZXR1cm4hMDtvLnB1c2gocil9aT1vLnBvcCgpfXJldHVybiExfSxsb2FkOmZ1bmN0aW9uKHQpe2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuIHRoaXM7aWYodC5sZW5ndGg8dGhpcy5fbWluRW50cmllcyl7Zm9yKHZhciBpPTAsbj10Lmxlbmd0aDtpPG47aSsrKXRoaXMuaW5zZXJ0KHRbaV0pO3JldHVybiB0aGlzfXZhciBoPXRoaXMuX2J1aWxkKHQuc2xpY2UoKSwwLHQubGVuZ3RoLTEsMCk7aWYodGhpcy5kYXRhLmNoaWxkcmVuLmxlbmd0aClpZih0aGlzLmRhdGEuaGVpZ2h0PT09aC5oZWlnaHQpdGhpcy5fc3BsaXRSb290KHRoaXMuZGF0YSxoKTtlbHNle2lmKHRoaXMuZGF0YS5oZWlnaHQ8aC5oZWlnaHQpe3ZhciBhPXRoaXMuZGF0YTt0aGlzLmRhdGE9aCxoPWF9dGhpcy5faW5zZXJ0KGgsdGhpcy5kYXRhLmhlaWdodC1oLmhlaWdodC0xLCEwKX1lbHNlIHRoaXMuZGF0YT1oO3JldHVybiB0aGlzfSxpbnNlcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2luc2VydCh0LHRoaXMuZGF0YS5oZWlnaHQtMSksdGhpc30sY2xlYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhPXgoW10pLHRoaXN9LHJlbW92ZTpmdW5jdGlvbih0LGkpe2lmKCF0KXJldHVybiB0aGlzO2Zvcih2YXIgaCxhLHIsZSxvPXRoaXMuZGF0YSxzPXRoaXMudG9CQm94KHQpLGw9W10sbT1bXTtvfHxsLmxlbmd0aDspe2lmKG98fChvPWwucG9wKCksYT1sW2wubGVuZ3RoLTFdLGg9bS5wb3AoKSxlPSEwKSxvLmxlYWYmJi0xIT09KHI9bih0LG8uY2hpbGRyZW4saSkpKXJldHVybiBvLmNoaWxkcmVuLnNwbGljZShyLDEpLGwucHVzaChvKSx0aGlzLl9jb25kZW5zZShsKSx0aGlzO2V8fG8ubGVhZnx8IXUobyxzKT9hPyhoKyssbz1hLmNoaWxkcmVuW2hdLGU9ITEpOm89bnVsbDoobC5wdXNoKG8pLG0ucHVzaChoKSxoPTAsYT1vLG89by5jaGlsZHJlblswXSl9cmV0dXJuIHRoaXN9LHRvQkJveDpmdW5jdGlvbih0KXtyZXR1cm4gdH0sY29tcGFyZU1pblg6ZSxjb21wYXJlTWluWTpvLHRvSlNPTjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9LGZyb21KU09OOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGE9dCx0aGlzfSxfYWxsOmZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBuPVtdO3Q7KXQubGVhZj9pLnB1c2guYXBwbHkoaSx0LmNoaWxkcmVuKTpuLnB1c2guYXBwbHkobix0LmNoaWxkcmVuKSx0PW4ucG9wKCk7cmV0dXJuIGl9LF9idWlsZDpmdW5jdGlvbih0LGksbixhKXt2YXIgcixlPW4taSsxLG89dGhpcy5fbWF4RW50cmllcztpZihlPD1vKXJldHVybiBoKHI9eCh0LnNsaWNlKGksbisxKSksdGhpcy50b0JCb3gpLHI7YXx8KGE9TWF0aC5jZWlsKE1hdGgubG9nKGUpL01hdGgubG9nKG8pKSxvPU1hdGguY2VpbChlL01hdGgucG93KG8sYS0xKSkpLChyPXgoW10pKS5sZWFmPSExLHIuaGVpZ2h0PWE7dmFyIHMsbCxtLGMsdT1NYXRoLmNlaWwoZS9vKSxmPXUqTWF0aC5jZWlsKE1hdGguc3FydChvKSk7Zm9yKGQodCxpLG4sZix0aGlzLmNvbXBhcmVNaW5YKSxzPWk7czw9bjtzKz1mKWZvcihkKHQscyxtPU1hdGgubWluKHMrZi0xLG4pLHUsdGhpcy5jb21wYXJlTWluWSksbD1zO2w8PW07bCs9dSljPU1hdGgubWluKGwrdS0xLG0pLHIuY2hpbGRyZW4ucHVzaCh0aGlzLl9idWlsZCh0LGwsYyxhLTEpKTtyZXR1cm4gaChyLHRoaXMudG9CQm94KSxyfSxfY2hvb3NlU3VidHJlZTpmdW5jdGlvbih0LGksbixoKXtmb3IodmFyIGEscixlLG8sbCxjLHUsZjtoLnB1c2goaSksIWkubGVhZiYmaC5sZW5ndGgtMSE9PW47KXtmb3IodT1mPTEvMCxhPTAscj1pLmNoaWxkcmVuLmxlbmd0aDthPHI7YSsrKWw9cyhlPWkuY2hpbGRyZW5bYV0pLChjPW0odCxlKS1sKTxmPyhmPWMsdT1sPHU/bDp1LG89ZSk6Yz09PWYmJmw8dSYmKHU9bCxvPWUpO2k9b3x8aS5jaGlsZHJlblswXX1yZXR1cm4gaX0sX2luc2VydDpmdW5jdGlvbih0LGksbil7dmFyIGg9dGhpcy50b0JCb3gsYT1uP3Q6aCh0KSxlPVtdLG89dGhpcy5fY2hvb3NlU3VidHJlZShhLHRoaXMuZGF0YSxpLGUpO2ZvcihvLmNoaWxkcmVuLnB1c2godCkscihvLGEpO2k+PTAmJmVbaV0uY2hpbGRyZW4ubGVuZ3RoPnRoaXMuX21heEVudHJpZXM7KXRoaXMuX3NwbGl0KGUsaSksaS0tO3RoaXMuX2FkanVzdFBhcmVudEJCb3hlcyhhLGUsaSl9LF9zcGxpdDpmdW5jdGlvbih0LGkpe3ZhciBuPXRbaV0sYT1uLmNoaWxkcmVuLmxlbmd0aCxyPXRoaXMuX21pbkVudHJpZXM7dGhpcy5fY2hvb3NlU3BsaXRBeGlzKG4scixhKTt2YXIgZT10aGlzLl9jaG9vc2VTcGxpdEluZGV4KG4scixhKSxvPXgobi5jaGlsZHJlbi5zcGxpY2UoZSxuLmNoaWxkcmVuLmxlbmd0aC1lKSk7by5oZWlnaHQ9bi5oZWlnaHQsby5sZWFmPW4ubGVhZixoKG4sdGhpcy50b0JCb3gpLGgobyx0aGlzLnRvQkJveCksaT90W2ktMV0uY2hpbGRyZW4ucHVzaChvKTp0aGlzLl9zcGxpdFJvb3QobixvKX0sX3NwbGl0Um9vdDpmdW5jdGlvbih0LGkpe3RoaXMuZGF0YT14KFt0LGldKSx0aGlzLmRhdGEuaGVpZ2h0PXQuaGVpZ2h0KzEsdGhpcy5kYXRhLmxlYWY9ITEsaCh0aGlzLmRhdGEsdGhpcy50b0JCb3gpfSxfY2hvb3NlU3BsaXRJbmRleDpmdW5jdGlvbih0LGksbil7dmFyIGgscixlLG8sbCxtLHUsZjtmb3IobT11PTEvMCxoPWk7aDw9bi1pO2grKylvPWMocj1hKHQsMCxoLHRoaXMudG9CQm94KSxlPWEodCxoLG4sdGhpcy50b0JCb3gpKSxsPXMocikrcyhlKSxvPG0/KG09byxmPWgsdT1sPHU/bDp1KTpvPT09bSYmbDx1JiYodT1sLGY9aCk7cmV0dXJuIGZ9LF9jaG9vc2VTcGxpdEF4aXM6ZnVuY3Rpb24odCxpLG4pe3ZhciBoPXQubGVhZj90aGlzLmNvbXBhcmVNaW5YOmUsYT10LmxlYWY/dGhpcy5jb21wYXJlTWluWTpvO3RoaXMuX2FsbERpc3RNYXJnaW4odCxpLG4saCk8dGhpcy5fYWxsRGlzdE1hcmdpbih0LGksbixhKSYmdC5jaGlsZHJlbi5zb3J0KGgpfSxfYWxsRGlzdE1hcmdpbjpmdW5jdGlvbih0LGksbixoKXt0LmNoaWxkcmVuLnNvcnQoaCk7dmFyIGUsbyxzPXRoaXMudG9CQm94LG09YSh0LDAsaSxzKSxjPWEodCxuLWksbixzKSx1PWwobSkrbChjKTtmb3IoZT1pO2U8bi1pO2UrKylvPXQuY2hpbGRyZW5bZV0scihtLHQubGVhZj9zKG8pOm8pLHUrPWwobSk7Zm9yKGU9bi1pLTE7ZT49aTtlLS0pbz10LmNoaWxkcmVuW2VdLHIoYyx0LmxlYWY/cyhvKTpvKSx1Kz1sKGMpO3JldHVybiB1fSxfYWRqdXN0UGFyZW50QkJveGVzOmZ1bmN0aW9uKHQsaSxuKXtmb3IodmFyIGg9bjtoPj0wO2gtLSlyKGlbaF0sdCl9LF9jb25kZW5zZTpmdW5jdGlvbih0KXtmb3IodmFyIGksbj10Lmxlbmd0aC0xO24+PTA7bi0tKTA9PT10W25dLmNoaWxkcmVuLmxlbmd0aD9uPjA/KGk9dFtuLTFdLmNoaWxkcmVuKS5zcGxpY2UoaS5pbmRleE9mKHRbbl0pLDEpOnRoaXMuY2xlYXIoKTpoKHRbbl0sdGhpcy50b0JCb3gpfSxfaW5pdEZvcm1hdDpmdW5jdGlvbih0KXt2YXIgaT1bXCJyZXR1cm4gYVwiLFwiIC0gYlwiLFwiO1wiXTt0aGlzLmNvbXBhcmVNaW5YPW5ldyBGdW5jdGlvbihcImFcIixcImJcIixpLmpvaW4odFswXSkpLHRoaXMuY29tcGFyZU1pblk9bmV3IEZ1bmN0aW9uKFwiYVwiLFwiYlwiLGkuam9pbih0WzFdKSksdGhpcy50b0JCb3g9bmV3IEZ1bmN0aW9uKFwiYVwiLFwicmV0dXJuIHttaW5YOiBhXCIrdFswXStcIiwgbWluWTogYVwiK3RbMV0rXCIsIG1heFg6IGFcIit0WzJdK1wiLCBtYXhZOiBhXCIrdFszXStcIn07XCIpfX07ZXhwb3J0e2kgYXMgcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnNpemU9MCx0aGlzLl9zdGFydD0wLHRoaXMubWF4U2l6ZT10LHRoaXMuX2J1ZmZlcj1uZXcgQXJyYXkodCl9Z2V0IGVudHJpZXMoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfWVucXVldWUodCl7aWYodGhpcy5zaXplPT09dGhpcy5tYXhTaXplKXtjb25zdCBzPXRoaXMuX2J1ZmZlclt0aGlzLl9zdGFydF07cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9zdGFydF09dCx0aGlzLl9zdGFydD0odGhpcy5fc3RhcnQrMSkldGhpcy5tYXhTaXplLHN9cmV0dXJuIHRoaXMuX2J1ZmZlclsodGhpcy5fc3RhcnQrdGhpcy5zaXplKyspJXRoaXMubWF4U2l6ZV09dCxudWxsfWRlcXVldWUoKXtpZigwPT09dGhpcy5zaXplKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5fYnVmZmVyW3RoaXMuX3N0YXJ0XTtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX3N0YXJ0XT1udWxsLHRoaXMuc2l6ZS0tLHRoaXMuX3N0YXJ0PSh0aGlzLl9zdGFydCsxKSV0aGlzLm1heFNpemUsdH1wZWVrKCl7cmV0dXJuIDA9PT10aGlzLnNpemU/bnVsbDp0aGlzLl9idWZmZXJbdGhpcy5fc3RhcnRdfWZpbmQodCl7aWYoMD09PXRoaXMuc2l6ZSlyZXR1cm4gbnVsbDtmb3IoY29uc3QgcyBvZiB0aGlzLl9idWZmZXIpaWYobnVsbCE9cyYmdChzKSlyZXR1cm4gcztyZXR1cm4gbnVsbH1jbGVhcih0KXtsZXQgcz10aGlzLmRlcXVldWUoKTtmb3IoO251bGwhPXM7KXQmJnQocykscz10aGlzLmRlcXVldWUoKX19ZXhwb3J0e3QgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vY29yZS9DaXJjdWxhckFycmF5LmpzXCI7aW1wb3J0e2RlY29kZUdlb2hhc2hYWSBhcyBlfWZyb21cIi4vZ2VvaGFzaFV0aWxzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydHtjb252ZXJ0RnJvbVBvbHlnb24gYXMgaSxxdWFudGl6ZU9wdGltaXplZEdlb21ldHJ5IGFzIG4sY29udmVydEZyb21Qb2ludCBhcyBvfWZyb21cIi4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e3Byb2plY3QgYXMgcn1mcm9tXCIuLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9wcm9qZWN0aW9uU3VwcG9ydC5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyBsfWZyb21cIi4uL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7Y2xhc3MgaHtjb25zdHJ1Y3RvcihlPVtdLHMsaT04MDk2KXt0aGlzLm9uUmVsZWFzZT10PT57fSx0aGlzLl9ub2Rlcz0wLHRoaXMuX3Jvb3Q9bmV3IGModGhpcywwLDAsMCksdGhpcy5fc3RhdGlzdGljRmllbGRzPWUsdGhpcy5fcG9vbD1pP25ldyB0KDgwOTYpOm51bGwsdGhpcy5fc2VydmljZUluZm89c31kZXN0cm95KCl7dGhpcy5jbGVhcigpfV9hY3F1aXJlKHQsZSxzKXt0aGlzLl9ub2RlcysrO2xldCBpPW51bGw7cmV0dXJuIG51bGwhPXRoaXMuX3Bvb2wmJihpPXRoaXMuX3Bvb2wuZGVxdWV1ZSgpKSxudWxsIT1pP2kucmVhbGxvYyh0LGUscyk6aT1uZXcgYyh0aGlzLHQsZSxzKSxpfV9yZWxlYXNlKHQpe3RoaXMub25SZWxlYXNlKHQpLHRoaXMuX25vZGVzLS0sbnVsbCE9dGhpcy5fcG9vbCYmdGhpcy5fcG9vbC5lbnF1ZXVlKHQpfWdldCBjb3VudCgpe3JldHVybiB0aGlzLl9yb290LmNvdW50fWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX25vZGVzfWdldCBwb29sU2l6ZSgpe3JldHVybiB0aGlzLl9wb29sPy5zaXplPz8wfWdldCBkZXB0aCgpe2xldCB0PTA7cmV0dXJuIHRoaXMuZm9yRWFjaCgoZT0+dD1NYXRoLm1heCh0LGUuZGVwdGgpKSksdH1kcm9wTGV2ZWxzKHQpe3RoaXMuZm9yRWFjaCgoZT0+e2lmKGUuZGVwdGg+PXQpZm9yKGxldCB0PTA7dDxlLmNoaWxkcmVuLmxlbmd0aDt0Kyspe2NvbnN0IHM9ZS5jaGlsZHJlblt0XTtzJiZ0aGlzLl9yZWxlYXNlKHMpfX0pKSx0aGlzLmZvckVhY2goKGU9PntpZihlLmRlcHRoPj10KWZvcihsZXQgdD0wO3Q8ZS5jaGlsZHJlbi5sZW5ndGg7dCsrKWUuY2hpbGRyZW5bdF09bnVsbH0pKX1jbGVhcigpe3RoaXMuZm9yRWFjaCgodD0+dGhpcy5fcmVsZWFzZSh0KSkpLHRoaXMuX3Jvb3Q9bmV3IGModGhpcywwLDAsMCl9aW5zZXJ0KHQsZSxzPTApe2NvbnN0IGk9bC5mcm9tT3B0aW1pemVkRmVhdHVyZXMoW3RdLHRoaXMuX3NlcnZpY2VJbmZvKS5nZXRDdXJzb3IoKTtpLm5leHQoKTtjb25zdCBuPWkucmVhZEdlb21ldHJ5KCk7aWYoIW4pcmV0dXJuO2NvbnN0W28sYV09bi5jb29yZHMscj10Lmdlb2hhc2hYLGg9dC5nZW9oYXNoWTt0aGlzLmluc2VydEN1cnNvcihpLHQuZGlzcGxheUlkLG8sYSxyLGgsZSxzKX1pbnNlcnRDdXJzb3IodCxlLHMsaSxuLG8sYSxyPTApe2xldCBsPXRoaXMuX3Jvb3QsaD0wLGM9MCx1PTA7Zm9yKDtudWxsIT09bDspe2lmKGwuZGVwdGg+PXImJihsLmNvdW50Kz0xLGwueFRvdGFsKz1zLGwueVRvdGFsKz1pLGwueEdlb2hhc2hUb3RhbCs9bixsLnlHZW9oYXNoVG90YWwrPW8sbC5yZWZlcmVuY2VJZD1lLHRoaXMuX3VwZGF0ZVN0YXRpc3RpY3NDdXJzb3IodCxsLDEpKSxoPj1hKXJldHVybiB2b2lkIGwuYWRkKGUpO2NvbnN0IGQ9TWF0aC5jZWlsKChoKzEpLzIpLGY9TWF0aC5mbG9vcigoaCsxKS8yKSx4PTEtaCUyLG09MzAtKDMqZCsyKmYpLGc9MzAtKDIqZCszKmYpLHk9KG4mNyp4KzMqKDEteCk8PG0pPj5tLHA9KG8mMyp4KzcqKDEteCk8PGcpPj5nLF89eStwKig4KngrNCooMS14KSk7Yz1jPDwzKngrMiooMS14KXx5LHU9dTw8Mip4KzMqKDEteCl8cCxudWxsPT1sLmNoaWxkcmVuW19dJiYobC5jaGlsZHJlbltfXT10aGlzLl9hY3F1aXJlKGMsdSxoKzEpKSxoKz0xLGw9bC5jaGlsZHJlbltfXX19cmVtb3ZlKHQsZSl7Y29uc3Qgcz1sLmZyb21PcHRpbWl6ZWRGZWF0dXJlcyhbdF0sdGhpcy5fc2VydmljZUluZm8pLmdldEN1cnNvcigpO3MubmV4dCgpO2NvbnN0IGk9cy5yZWFkR2VvbWV0cnkoKTtpZighaSlyZXR1cm47Y29uc3RbbixvXT1pLmNvb3JkcyxhPXQuZ2VvaGFzaFgscj10Lmdlb2hhc2hZO3RoaXMucmVtb3ZlQ3Vyc29yKHMsbixvLGEscixlKX1yZW1vdmVDdXJzb3IodCxlLHMsaSxuLG8pe2xldCBhPXRoaXMuX3Jvb3Qscj0wO2Zvcig7bnVsbCE9PWE7KXtpZihhLmNvdW50LT0xLGEueFRvdGFsLT1lLGEueVRvdGFsLT1zLGEueEdlb2hhc2hUb3RhbC09aSxhLnlHZW9oYXNoVG90YWwtPW4sdGhpcy5fdXBkYXRlU3RhdGlzdGljc0N1cnNvcih0LGEsLTEpLHI+PW8pcmV0dXJuIHZvaWQgYS5yZW1vdmUodC5nZXREaXNwbGF5SWQoKSk7Y29uc3QgbD1NYXRoLmNlaWwoKHIrMSkvMiksaD1NYXRoLmZsb29yKChyKzEpLzIpLGM9MS1yJTIsdT0zMC0oMypsKzIqaCksZD0zMC0oMipsKzMqaCksZj0oKGkmNypjKzMqKDEtYyk8PHUpPj51KSsoKG4mMypjKzcqKDEtYyk8PGQpPj5kKSooOCpjKzQqKDEtYykpLHg9YS5jaGlsZHJlbltmXTsxPT09eD8uY291bnQmJih0aGlzLl9yZWxlYXNlKHgpLGEuY2hpbGRyZW5bZl09bnVsbCkscis9MSxhPXh9fWZvckVhY2godCl7bGV0IGU9dGhpcy5fcm9vdDtmb3IoO251bGwhPT1lOyl7Y29uc3Qgcz10aGlzLl9saW5rQ2hpbGRyZW4oZSl8fGUubmV4dDt0KGUpLGU9c319ZmluZCh0LGUscyl7cmV0dXJuIHRoaXMuX3Jvb3QuZmluZCh0LGUscywwLDAsMCl9ZmluZElmKHQpe2xldCBlPW51bGw7cmV0dXJuIHRoaXMuZm9yRWFjaCgocz0+e3QocykmJihlPXMpfSkpLGV9ZmluZEFsbElmKHQpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgocz0+e3QocykmJmUucHVzaChzKX0pKSxlfWZpbmRTaW5nbGVPY2N1cGFuY3lOb2RlKHQsZSxzLGksbil7bGV0IG89dGhpcy5fcm9vdDtmb3IoO251bGwhPT1vOyl7Y29uc3QgYT1vLmRlcHRoLHI9by54Tm9kZSxsPW8ueU5vZGUsaD0xLWElMixjPW8ueEdlb2hhc2hUb3RhbC9vLmNvdW50LHU9by55R2VvaGFzaFRvdGFsL28uY291bnQ7aWYoMT09PW8uY291bnQmJnQ8YyYmYzw9cyYmZTx1JiZ1PD1pKXJldHVybiBvO2lmKGE+PW4pe289by5uZXh0O2NvbnRpbnVlfWNvbnN0IGQ9TWF0aC5jZWlsKChhKzEpLzIpLGY9TWF0aC5mbG9vcigoYSsxKS8yKSx4PTMwLSgzKmQrMipmKSxtPTMwLSgyKmQrMypmKSxnPX4oKDE8PHgpLTEpLHk9figoMTw8bSktMSkscD0odCZnKT4+eCxfPShlJnkpPj5tLHY9KHMmZyk+PngsTT0oaSZ5KT4+bSxUPXI8PDMqaCsyKigxLWgpLGI9bDw8MipoKzMqKDEtaCksaz1UKzgqaCs0KigxLWgpLE49Yis0KmgrOCooMS1oKSxJPU1hdGgubWF4KFQscCksQz1NYXRoLm1heChiLF8pLEc9TWF0aC5taW4oayx2KSxMPU1hdGgubWluKE4sTSk7bGV0IFM9bnVsbCx3PW51bGw7Zm9yKGxldCB0PUM7dDw9TDt0KyspZm9yKGxldCBlPUk7ZTw9RztlKyspe2NvbnN0IHM9ZS1UKyh0LWIpKig4KmgrNCooMS1oKSksaT1vLmNoaWxkcmVuW3NdO2kmJihTfHwoUz1pLFMubmV4dD1vLm5leHQpLHcmJih3Lm5leHQ9aSksdz1pLGkubmV4dD1vLm5leHQpfW89U3x8by5uZXh0fXJldHVybiBudWxsfWdldFJlZ2lvbkRpc3BsYXlJZHModCl7bGV0IGU9dGhpcy5fcm9vdDtjb25zdHtib3VuZHM6cyxnZW9oYXNoQm91bmRzOmksbGV2ZWw6bn09dCxbbyxhLHIsbF09cyxoPVtdO2Zvcig7bnVsbCE9PWU7KXtjb25zdCB0PWUuZGVwdGgscz1lLnhOb2RlLGM9ZS55Tm9kZTtpZih0Pj1uKXtjb25zdCB0PWUueFRvdGFsL2UuY291bnQscz1lLnlUb3RhbC9lLmNvdW50O3Q+PW8mJnQ8PXImJnM+PWEmJnM8PWwmJmUuZGlzcGxheUlkcy5mb3JFYWNoKCh0PT5oLnB1c2godCkpKSxlPWUubmV4dDtjb250aW51ZX1jb25zdCB1PU1hdGguY2VpbCgodCsxKS8yKSxkPU1hdGguZmxvb3IoKHQrMSkvMiksZj0xLXQlMix4PTMwLSgzKnUrMipkKSxtPTMwLSgyKnUrMypkKSxnPX4oKDE8PHgpLTEpLHk9figoMTw8bSktMSkscD0oaS54TEwmZyk+PngsXz0oaS55TEwmeSk+Pm0sdj0oaS54VFImZyk+PngsTT0oaS55VFImeSk+Pm0sVD1zPDwzKmYrMiooMS1mKSxiPWM8PDIqZiszKigxLWYpLGs9VCs4KmYrNCooMS1mKSxOPWIrNCpmKzgqKDEtZiksST1NYXRoLm1heChULHApLEM9TWF0aC5tYXgoYixfKSxHPU1hdGgubWluKGssdiksTD1NYXRoLm1pbihOLE0pO2xldCBTPW51bGwsdz1udWxsO2ZvcihsZXQgaT1DO2k8PUw7aSsrKWZvcihsZXQgdD1JO3Q8PUc7dCsrKXtjb25zdCBzPXQtVCsoaS1iKSooOCpmKzQqKDEtZikpLG49ZS5jaGlsZHJlbltzXTtuJiYoU3x8KFM9bixTLm5leHQ9ZS5uZXh0KSx3JiYody5uZXh0PW4pLHc9bixuLm5leHQ9ZS5uZXh0KX1lPVN8fGUubmV4dH1yZXR1cm4gaH1nZXRSZWdpb25TdGF0aXN0aWNzKHQpe2xldCBlPXRoaXMuX3Jvb3Qscz0wLGk9MCxuPTA7Y29uc3Qgbz17fSx7Ym91bmRzOmEsZ2VvaGFzaEJvdW5kczpyLGxldmVsOmx9PXQsW2gsYyx1LGRdPWE7bGV0IGY9MDtmb3IoO251bGwhPT1lOyl7Y29uc3QgdD1lLmRlcHRoLGE9ZS54Tm9kZSx4PWUueU5vZGU7aWYodD49bCl7Y29uc3QgdD1lLnhUb3RhbC9lLmNvdW50LGE9ZS55VG90YWwvZS5jb3VudDt0PmgmJnQ8PXUmJmE+YyYmYTw9ZCYmKHMrPWUuY291bnQsaSs9ZS54VG90YWwsbis9ZS55VG90YWwsMT09PWUuY291bnQmJihmPWUucmVmZXJlbmNlSWQpLHRoaXMuX2FnZ3JlZ2F0ZVN0YXRpc3RpY3MobyxlLnN0YXRpc3RpY3MpKSxlPWUubmV4dDtjb250aW51ZX1jb25zdCBtPU1hdGguY2VpbCgodCsxKS8yKSxnPU1hdGguZmxvb3IoKHQrMSkvMikseT0xLXQlMixwPTMwLSgzKm0rMipnKSxfPTMwLSgyKm0rMypnKSx2PX4oKDE8PHApLTEpLE09figoMTw8XyktMSksVD0oci54TEwmdik+PnAsYj0oci55TEwmTSk+Pl8saz0oci54VFImdik+PnAsTj0oci55VFImTSk+Pl8sST1hPDwzKnkrMiooMS15KSxDPXg8PDIqeSszKigxLXkpLEc9SSs4KnkrNCooMS15KSxMPUMrNCp5KzgqKDEteSksUz1NYXRoLm1heChJLFQpLHc9TWF0aC5tYXgoQyxiKSxSPU1hdGgubWluKEcsayksRj1NYXRoLm1pbihMLE4pO2xldCB6PW51bGwsaj1udWxsO2ZvcihsZXQgcj13O3I8PUY7cisrKWZvcihsZXQgdD1TO3Q8PVI7dCsrKXtjb25zdCBhPXQtSSsoci1DKSooOCp5KzQqKDEteSkpLGw9ZS5jaGlsZHJlblthXTtpZihsKXtpZihyIT09dyYmciE9PUYmJnQhPT1TJiZ0IT09Uil7Y29uc3QgdD1sLnhUb3RhbC9sLmNvdW50LGU9bC55VG90YWwvbC5jb3VudDt0PmgmJnQ8PXUmJmU+YyYmZTw9ZCYmKHMrPWwuY291bnQsaSs9bC54VG90YWwsbis9bC55VG90YWwsMT09PWwuY291bnQmJihmPWwucmVmZXJlbmNlSWQpLHRoaXMuX2FnZ3JlZ2F0ZVN0YXRpc3RpY3MobyxsLnN0YXRpc3RpY3MpKTtjb250aW51ZX16fHwoej1sLHoubmV4dD1lLm5leHQpLGomJihqLm5leHQ9bCksaj1sLGwubmV4dD1lLm5leHR9fWU9enx8ZS5uZXh0fXJldHVybntjb3VudDpzLGF0dHJpYnV0ZXM6dGhpcy5ub3JtYWxpemVTdGF0aXN0aWNzKG8scykseFRvdGFsOmkseVRvdGFsOm4scmVmZXJlbmNlSWQ6Zn19Z2V0Qmlucyh0KXtjb25zdCBlPVtdLHtnZW9oYXNoQm91bmRzOnMsbGV2ZWw6aX09dDtsZXQgbj10aGlzLl9yb290O2Zvcig7bnVsbCE9PW47KXtjb25zdCB0PW4uZGVwdGgsbz1uLnhOb2RlLGE9bi55Tm9kZTtpZih0Pj1pKXtlLnB1c2gobiksbj1uLm5leHQ7Y29udGludWV9Y29uc3Qgcj1NYXRoLmNlaWwoKHQrMSkvMiksbD1NYXRoLmZsb29yKCh0KzEpLzIpLGg9MS10JTIsYz0zMC0oMypyKzIqbCksdT0zMC0oMipyKzMqbCksZD1+KCgxPDxjKS0xKSxmPX4oKDE8PHUpLTEpLHg9KHMueExMJmQpPj5jLG09KHMueUxMJmYpPj51LGc9KHMueFRSJmQpPj5jLHk9KHMueVRSJmYpPj51LHA9bzw8MypoKzIqKDEtaCksXz1hPDwyKmgrMyooMS1oKSx2PXArOCpoKzQqKDEtaCksTT1fKzQqaCs4KigxLWgpLFQ9TWF0aC5tYXgocCx4KSxiPU1hdGgubWF4KF8sbSksaz1NYXRoLm1pbih2LGcpLE49TWF0aC5taW4oTSx5KTtsZXQgST1udWxsLEM9bnVsbDtmb3IobGV0IGU9YjtlPD1OO2UrKylmb3IobGV0IHQ9VDt0PD1rO3QrKyl7Y29uc3Qgcz10LXArKGUtXykqKDgqaCs0KigxLWgpKSxpPW4uY2hpbGRyZW5bc107aSYmKEl8fChJPWksSS5uZXh0PW4ubmV4dCksQyYmKEMubmV4dD1pKSxDPWksaS5uZXh0PW4ubmV4dCl9bj1JfHxuLm5leHR9cmV0dXJuIGV9X2xpbmtDaGlsZHJlbih0KXtsZXQgZT1udWxsLHM9bnVsbDtmb3IobGV0IGk9MDtpPD10LmNoaWxkcmVuLmxlbmd0aDtpKyspe2NvbnN0IG49dC5jaGlsZHJlbltpXTtuJiYoZXx8KGU9bixlLm5leHQ9dC5uZXh0KSxzJiYocy5uZXh0PW4pLHM9bixuLm5leHQ9dC5uZXh0KX1yZXR1cm4gZX1fdXBkYXRlU3RhdGlzdGljc0N1cnNvcih0LGUscyl7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fc3RhdGlzdGljRmllbGRzKXtjb25zdCBuPWkubmFtZSxvPWkuaW5GaWVsZD90LnJlYWRBdHRyaWJ1dGUoaS5pbkZpZWxkKTp0LmdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoaS5pbkZpZWxkSW5kZXgpO3N3aXRjaChpLnN0YXRpc3RpY1R5cGUpe2Nhc2VcIm1pblwiOntpZihpc05hTihvKSlicmVhaztpZighZS5zdGF0aXN0aWNzW25dKXtlLnN0YXRpc3RpY3Nbbl09e3ZhbHVlOm99O2JyZWFrfWNvbnN0IHQ9ZS5zdGF0aXN0aWNzW25dLnZhbHVlO2Uuc3RhdGlzdGljc1tuXS52YWx1ZT1NYXRoLm1pbih0LG8pO2JyZWFrfWNhc2VcIm1heFwiOntpZihpc05hTihvKSlicmVhaztpZighZS5zdGF0aXN0aWNzW25dKXtlLnN0YXRpc3RpY3Nbbl09e3ZhbHVlOm99O2JyZWFrfWNvbnN0IHQ9ZS5zdGF0aXN0aWNzW25dLnZhbHVlO2Uuc3RhdGlzdGljc1tuXS52YWx1ZT1NYXRoLm1heCh0LG8pO2JyZWFrfWNhc2VcImNvdW50XCI6YnJlYWs7Y2FzZVwic3VtXCI6Y2FzZVwiYXZnXCI6e2Uuc3RhdGlzdGljc1tuXXx8KGUuc3RhdGlzdGljc1tuXT17dmFsdWU6MCxuYW5Db3VudDowfSk7Y29uc3QgdD1lLnN0YXRpc3RpY3Nbbl0udmFsdWUsaT1lLnN0YXRpc3RpY3Nbbl0ubmFuQ291bnQ/PzA7bnVsbD09b3x8aXNOYU4obyk/ZS5zdGF0aXN0aWNzW25dLm5hbkNvdW50PWkrczplLnN0YXRpc3RpY3Nbbl0udmFsdWU9dCtzKm87YnJlYWt9Y2FzZVwiYXZnX2FuZ2xlXCI6e2Uuc3RhdGlzdGljc1tuXXx8KGUuc3RhdGlzdGljc1tuXT17eDowLHk6MCxuYW5Db3VudDowfSk7Y29uc3QgdD1lLnN0YXRpc3RpY3Nbbl0ueCxpPWUuc3RhdGlzdGljc1tuXS55LGE9ZS5zdGF0aXN0aWNzW25dLm5hbkNvdW50Pz8wLHI9TWF0aC5QSS8xODA7bnVsbD09b3x8aXNOYU4obyk/ZS5zdGF0aXN0aWNzW25dLm5hbkNvdW50PWErczooZS5zdGF0aXN0aWNzW25dLng9dCtzKk1hdGguY29zKG8qciksZS5zdGF0aXN0aWNzW25dLnk9aStzKk1hdGguc2luKG8qcikpO2JyZWFrfWNhc2VcIm1vZGVcIjp7ZS5zdGF0aXN0aWNzW25dfHwoZS5zdGF0aXN0aWNzW25dPXt9KTtjb25zdCB0PWUuc3RhdGlzdGljc1tuXVtvXXx8MDtlLnN0YXRpc3RpY3Nbbl1bb109dCtzO2JyZWFrfX19fV9hZ2dyZWdhdGVTdGF0aXN0aWNzKHQsZSl7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fc3RhdGlzdGljRmllbGRzKXtjb25zdCBpPXMubmFtZTtzd2l0Y2gocy5zdGF0aXN0aWNUeXBlKXtjYXNlXCJtaW5cIjp7aWYoIXRbaV0pe3RbaV09e3ZhbHVlOmVbaV0udmFsdWV9O2JyZWFrfWNvbnN0IHM9dFtpXS52YWx1ZTt0W2ldLnZhbHVlPU1hdGgubWluKHMsZVtpXS52YWx1ZSk7YnJlYWt9Y2FzZVwibWF4XCI6e2lmKCF0W2ldKXt0W2ldPXt2YWx1ZTplW2ldLnZhbHVlfTticmVha31jb25zdCBzPXRbaV0udmFsdWU7dFtpXS52YWx1ZT1NYXRoLm1heChzLGVbaV0udmFsdWUpO2JyZWFrfWNhc2VcImNvdW50XCI6YnJlYWs7Y2FzZVwic3VtXCI6Y2FzZVwiYXZnXCI6Y2FzZVwiYXZnX2FuZ2xlXCI6Y2FzZVwibW9kZVwiOnRbaV18fCh0W2ldPXt9KTtmb3IoY29uc3QgcyBpbiBlW2ldKXtjb25zdCBuPXRbaV1bc118fDA7dFtpXVtzXT1uK2VbaV1bc119fX19bm9ybWFsaXplU3RhdGlzdGljcyh0LGUpe2NvbnN0IHM9e307Zm9yKGNvbnN0IGkgb2YgdGhpcy5fc3RhdGlzdGljRmllbGRzKXtjb25zdCBuPWkubmFtZTtzd2l0Y2goaS5zdGF0aXN0aWNUeXBlKXtjYXNlXCJtaW5cIjpjYXNlXCJtYXhcIjp7Y29uc3QgaT10W25dO2lmKCFlfHwhaSlicmVhaztzW25dPWkudmFsdWU7YnJlYWt9Y2FzZVwiY291bnRcIjppZighZSlicmVhaztzW25dPWU7YnJlYWs7Y2FzZVwic3VtXCI6e2lmKCFlKWJyZWFrO2NvbnN0e3ZhbHVlOmksbmFuQ291bnQ6b309dFtuXTtpZighKGUtbykpYnJlYWs7c1tuXT1pO2JyZWFrfWNhc2VcImF2Z1wiOntpZighZSlicmVhaztjb25zdHt2YWx1ZTppLG5hbkNvdW50Om99PXRbbl07aWYoIShlLW8pKWJyZWFrO3Nbbl09aS8oZS1vKTticmVha31jYXNlXCJhdmdfYW5nbGVcIjp7aWYoIWUpYnJlYWs7Y29uc3R7eDppLHk6byxuYW5Db3VudDphfT10W25dO2lmKCEoZS1hKSlicmVhaztjb25zdCByPWkvKGUtYSksbD1vLyhlLWEpLGg9MTgwL01hdGguUEksYz1NYXRoLmF0YW4yKGwscikqaDtzW25dPWM7YnJlYWt9Y2FzZVwibW9kZVwiOntjb25zdCBlPXRbbl07bGV0IGk9MCxvPTAsYT1udWxsO2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IHM9ZVt0XTtzPT09aT9vKz0xOnM+aSYmKGk9cyxvPTEsYT10KX1zW25dPVwibnVsbFwiPT09YXx8bz4xP251bGw6YTticmVha319fXJldHVybiBzfX1jbGFzcyBje2NvbnN0cnVjdG9yKHQsZSxzLGkpe3RoaXMuY291bnQ9MCx0aGlzLnhUb3RhbD0wLHRoaXMueVRvdGFsPTAsdGhpcy5zdGF0aXN0aWNzPXt9LHRoaXMuZGlzcGxheUlkPTAsdGhpcy5yZWZlcmVuY2VJZD0wLHRoaXMuZGlzcGxheUlkcz1uZXcgU2V0LHRoaXMubmV4dD1udWxsLHRoaXMuZGVwdGg9MCx0aGlzLnhOb2RlPTAsdGhpcy55Tm9kZT0wLHRoaXMueEdlb2hhc2hUb3RhbD0wLHRoaXMueUdlb2hhc2hUb3RhbD0wLHRoaXMuX3RyZWU9dCx0aGlzLmNoaWxkcmVuPW5ldyBBcnJheSgzMik7Zm9yKGxldCBuPTA7bjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtuKyspdGhpcy5jaGlsZHJlbltuXT1udWxsO3RoaXMueE5vZGU9ZSx0aGlzLnlOb2RlPXMsdGhpcy5kZXB0aD1pfXJlYWxsb2ModCxlLHMpe2ZvcihsZXQgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXRoaXMuY2hpbGRyZW5baV09bnVsbDtyZXR1cm4gdGhpcy54Tm9kZT10LHRoaXMueU5vZGU9ZSx0aGlzLmRlcHRoPXMsdGhpcy5uZXh0PW51bGwsdGhpcy54R2VvaGFzaFRvdGFsPTAsdGhpcy55R2VvaGFzaFRvdGFsPTAsdGhpcy5kaXNwbGF5SWQ9MCx0aGlzLnJlZmVyZW5jZUlkPTAsdGhpcy54VG90YWw9MCx0aGlzLnlUb3RhbD0wLHRoaXMuY291bnQ9MCx0aGlzLnN0YXRpc3RpY3M9e30sdGhpcy5kaXNwbGF5SWRzLmNsZWFyKCksdGhpc31nZXQgaWQoKXtyZXR1cm5gJHt0aGlzLnhOb2RlfS4ke3RoaXMueU5vZGV9YH1hZGQodCl7dGhpcy5kaXNwbGF5SWRzLmFkZCh0KX1yZW1vdmUodCl7dGhpcy5kaXNwbGF5SWRzLmRlbGV0ZSh0KX1nZXRBdHRyaWJ1dGVzKCl7Y29uc3QgdD10aGlzLl90cmVlLm5vcm1hbGl6ZVN0YXRpc3RpY3ModGhpcy5zdGF0aXN0aWNzLHRoaXMuY291bnQpO3JldHVybiB0LnJlZmVyZW5jZUlkPW51bGwsdC5hZ2dyZWdhdGVJZD10aGlzLmlkLHQuYWdncmVnYXRlQ291bnQ9dGhpcy5jb3VudCx0fWdldEdlb21ldHJ5KHQsZSl7Y29uc3Qgbz10aGlzLmdldExuZ0xhdEJvdW5kcygpLFtsLGgsYyx1XT1vLGQ9cih7cmluZ3M6W1tbbCxoXSxbbCx1XSxbYyx1XSxbYyxoXSxbbCxoXV1dfSxzLldHUzg0LHQpLGY9aShuZXcgYSxkLCExLCExKTtpZihudWxsIT1lKXtyZXR1cm4gbihuZXcgYSxmLCExLCExLFwiZXNyaUdlb21ldHJ5UG9seWdvblwiLGUsITEsITEpfXJldHVybiBmfWdldEdlb21ldHJ5Q2VudHJvaWQodCxlKXtjb25zdCBpPXRoaXMuZ2V0TG5nTGF0Qm91bmRzKCksW2wsaCxjLHVdPWksZD1yKHt4OihsK2MpLzIseTooaCt1KS8yfSxzLldHUzg0LHQpLGY9byhuZXcgYSxkKTtpZihudWxsIT1lKXtyZXR1cm4gbihuZXcgYSxmLCExLCExLFwiZXNyaUdlb21ldHJ5UG9pbnRcIixlLCExLCExKX1yZXR1cm4gZn1nZXRMbmdMYXRCb3VuZHMoKXtjb25zdCB0PXRoaXMuZGVwdGgscz1NYXRoLmNlaWwodC8yKSxpPU1hdGguZmxvb3IodC8yKSxuPTMwLSgzKnMrMippKSxvPTMwLSgyKnMrMyppKSxhPXRoaXMueE5vZGU8PG4scj10aGlzLnlOb2RlPDxvO3JldHVybiBlKHtnZW9oYXNoWDphLGdlb2hhc2hZOnJ9LHRoaXMuZGVwdGgpfWZpbmQodCxlLHMsaSxuLG8pe2lmKGk+PXMpcmV0dXJuIHRoaXM7Y29uc3QgYT0xLWklMixyPTMqYSsyKigxLWEpLGw9MiphKzMqKDEtYSksaD0zMC1uLXIsYz0zMC1vLWwsdT0oKHQmNyphKzMqKDEtYSk8PGgpPj5oKSsoKGUmMyphKzcqKDEtYSk8PGMpPj5jKSooOCphKzQqKDEtYSkpLGQ9dGhpcy5jaGlsZHJlblt1XTtyZXR1cm4gbnVsbD09ZD9udWxsOmQuZmluZCh0LGUscyxpKzEsbityLG8rbCl9fWV4cG9ydHtjIGFzIEdlb2hhc2hOb2RlLGggYXMgR2VvaGFzaFRyZWV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHQ9MTYsbj04LG89NCxlPTIscj0xLGM9bmV3IEZsb2F0NjRBcnJheSgyKSxmPW5ldyBGbG9hdDY0QXJyYXkoMiksbD0tOTAsdT05MCxoPS0xODAscz0xODAsaT1cIjAxMjM0NTY3ODliY2RlZmdoamttbnBxcnN0dXZ3eHl6XCI7ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdDw9NTc/dC00ODp0PD0xMDQ/dC04ODp0PD0xMDc/dC04OTp0PD0xMTA/dC05MDp0LTkxfWZ1bmN0aW9uIGcodCl7cmV0dXJuIGlbdF19ZnVuY3Rpb24gQSh0KXtyZXR1cm4odFswXSt0WzFdKS8yfWZ1bmN0aW9uIGQodCxuLG8pe3JldHVybiB0WzBdPW4sdFsxXT1vLHR9ZnVuY3Rpb24gTSh0LG4pe2NvbnN0IG89QSh0KSxlPW4scj0hbjt0WzBdPXIqdFswXStlKm8sdFsxXT1yKm8rZSp0WzFdfWZ1bmN0aW9uIHcodCxuKXtjb25zdCBvPW4+QSh0KTtyZXR1cm4gTSh0LG8pLG99ZnVuY3Rpb24geShpLGcpe2NvbnN0IHc9ZChjLGwsdSkseT1kKGYsaCxzKTtmb3IobGV0IGM9MDtjPGcubGVuZ3RoO2MrKyl7Y29uc3QgZj1hKGcuY2hhckNvZGVBdChjKSk7YyUyPT0wPyhNKHksISEodCZmKSksTSh5LCEhKG8mZikpLE0oeSwhIShyJmYpKSxNKHcsISEobiZmKSksTSh3LCEhKGUmZikpKTooTSh3LCEhKHQmZikpLE0odywhIShvJmYpKSxNKHcsISEociZmKSksTSh5LCEhKG4mZikpLE0oeSwhIShlJmYpKSl9cmV0dXJuIGlbMF09QSh3KSxpWzFdPUEoeSksaX1mdW5jdGlvbiBDKHQsbil7bGV0IG89MCxlPTAscj0zMCxjPTMwO2ZvcihsZXQgZj0wO2Y8bi5sZW5ndGg7ZisrKXtjb25zdCB0PWEobi5jaGFyQ29kZUF0KGYpKSxsPWYlMj09MDtyLT1sPzM6MixjLT1sPzI6MyxvfD1GKHQsbCk8PHIsZXw9aih0LGwpPDxjfXJldHVybntnZW9oYXNoWDpvLGdlb2hhc2hZOmV9fWZ1bmN0aW9uIFgodCxuKXtsZXQgbz0tOTAsZT05MCxyPS0xODAsYz0xODA7Zm9yKGxldCBmPTA7ZjxuO2YrKyl7Y29uc3Qgbj1NYXRoLmNlaWwoKGYrMSkvMiksbD1NYXRoLmZsb29yKChmKzEpLzIpLHU9MS1mJTIsaD0zMC0oMypuKzIqbCkscz0zMC0oMipuKzMqbCksaT0zKnUrMiooMS11KSxhPTIqdSszKigxLXUpLGc9Myp1KzcqKDEtdSk8PHMsQT0oNyp1KzMqKDEtdSk8PGgmdC5nZW9oYXNoWCk+PmgsZD0oZyZ0Lmdlb2hhc2hZKT4+cztmb3IobGV0IHQ9aS0xO3Q+PTA7dC0tKXtjb25zdCBuPShyK2MpLzIsbz1BJjE8PHQ/MTowO3I9KDEtbykqcitvKm4sYz0oMS1vKSpuK28qY31mb3IobGV0IHQ9YS0xO3Q+PTA7dC0tKXtjb25zdCBuPShvK2UpLzIscj1kJjE8PHQ/MTowO289KDEtcikqbytyKm4sZT0oMS1yKSpuK3IqZX19cmV0dXJuW3IsbyxjLGVdfWZ1bmN0aW9uIFkodCxuLG8sZSl7ZSUyJiYoZSs9MSk7bGV0IHI9MCxjPTAsZj0tOTAsbD05MCx1PS0xODAsaD0xODA7Zm9yKGxldCBzPTA7czxlLzI7cysrKXtmb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBuPSh1K2gpLzIsZT1vPm4/MTowO3J8PWU8PDI5LSh0KzUqcyksdT0oMS1lKSp1K2UqbixoPSgxLWUpKm4rZSpofWZvcihsZXQgdD0wO3Q8NTt0Kyspe2NvbnN0IG89KGYrbCkvMixlPW4+bz8xOjA7Y3w9ZTw8MjktKHQrNSpzKSxmPSgxLWUpKmYrZSpvLGw9KDEtZSkqbytlKmx9fXQuZ2VvaGFzaFg9cix0Lmdlb2hhc2hZPWN9ZnVuY3Rpb24gYih0LG4sbyxlLHIpe3IlMiYmKHIrPTEpO2xldCBjPTAsZj0wLGw9LTkwLHU9OTAsaD0tMTgwLHM9MTgwO2ZvcihsZXQgaT0wO2k8ci8yO2krKyl7Zm9yKGxldCB0PTA7dDw1O3QrKyl7Y29uc3Qgbj0oaCtzKS8yLG89ZT5uPzE6MDtjfD1vPDwyOS0odCs1KmkpLGg9KDEtbykqaCtvKm4scz0oMS1vKSpuK28qc31mb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBuPShsK3UpLzIsZT1vPm4/MTowO2Z8PWU8PDI5LSh0KzUqaSksbD0oMS1lKSpsK2Uqbix1PSgxLWUpKm4rZSp1fX10WzIqbl09Yyx0WzIqbisxXT1mfWZ1bmN0aW9uIHAodCxuLG8pe2xldCBlPVwiXCI7Y29uc3Qgcj1kKGMsLTkwLDkwKSxsPWQoZiwtMTgwLDE4MCk7Zm9yKGxldCBjPTA7YzxvO2MrKyl7bGV0IG89MDshKGMlMik/KG98PXcobCxuKTw8NCxvfD13KHIsdCk8PDMsb3w9dyhsLG4pPDwyLG98PXcocix0KTw8MSxvfD13KGwsbik8PDApOihvfD13KHIsdCk8PDQsb3w9dyhsLG4pPDwzLG98PXcocix0KTw8MixvfD13KGwsbik8PDEsb3w9dyhyLHQpPDwwKSxlKz1nKG8pfXJldHVybiBlfWZ1bmN0aW9uIHgodCxuLGMpe3JldHVybiBjP3QmcnwobiZyKTw8MXwodCZlKTw8MXwobiZlKTw8MnwodCZvKTw8MjpuJnJ8KHQmcik8PDF8KG4mZSk8PDF8KHQmZSk8PDJ8KG4mbyk8PDJ9ZnVuY3Rpb24gRihjLGYpe3JldHVybiBmP3ImY3wobyZjKT4+MXwodCZjKT4+MjooZSZjKT4+MXwobiZjKT4+Mn1mdW5jdGlvbiBqKGMsZil7cmV0dXJuIGY/KGUmYyk+PjF8KG4mYyk+PjI6ciZjfChvJmMpPj4xfCh0JmMpPj4yfWZ1bmN0aW9uIGsoYyxmLGwpe2NvbnN0IHU9ISgoYy5sZW5ndGgtMSklMiksaD1jLnN1YnN0cmluZygwLGMubGVuZ3RoLTEpLHM9YShjLmNoYXJDb2RlQXQoYy5sZW5ndGgtMSkpO2xldCBpPTAsQT0wLGQ9MCxNPTA7dT8oaT04LEE9NCxkPXImc3wobyZzKT4+MXwodCZzKT4+MixNPShlJnMpPj4xfChuJnMpPj4yKTooaT00LEE9OCxNPXImc3wobyZzKT4+MXwodCZzKT4+MixkPShlJnMpPj4xfChuJnMpPj4yKTtjb25zdCB3PWQrZix5PU0rbCxDPU1hdGguZmxvb3Iody9pKSxYPU1hdGguZmxvb3IoeS9BKSxZPWcoeCh3LUMqaSx5LVgqQSx1KSk7cmV0dXJuIGMubGVuZ3RoPjEmJihDfHxYKT9rKGgsQyxYKStZOmgrWX1leHBvcnR7QyBhcyBjb252ZXJ0R2VvaGFzaDMyVG9YWSxhIGFzIGRlY29kZUJhc2UzMkNoYXIseSBhcyBkZWNvZGVHZW9oYXNoLFggYXMgZGVjb2RlR2VvaGFzaFhZLGcgYXMgZW5jb2RlQmFzZTMyQ2hhcixwIGFzIGVuY29kZUdlb2hhc2gsayBhcyBnZXRSZWxhdGl2ZUdlb2hhc2gsYiBhcyBzZXRHZW9oYXNoQnVmLFkgYXMgc2V0R2VvaGFzaFhZLEYgYXMgdW5wYWNrWEJpdHMsaiBhcyB1bnBhY2tZQml0c307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9DaXJjdWxhckFycmF5LmpzXCI7aW1wb3J0e2NsYW1wIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtjb25zdCBzPVwiX19lc3JpX3N0cmVhbV9pZF9fXCIsaT1cIl9fZXNyaV90aW1lc3RhbXBfX1wiLHI9MWUzO2NsYXNzIG97Y29uc3RydWN0b3IodCxlLGkscixvPTEyOCl7dGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zPW5ldyBNYXAsdGhpcy5faWRDb3VudGVyPTAsdGhpcy5fbGFzdFB1cmdlPXBlcmZvcm1hbmNlLm5vdygpLHRoaXMuX2FkZE9yVXBkYXRlZD1uZXcgTWFwLHRoaXMuX3JlbW92ZWQ9W10sdGhpcy5fbWF4QWdlPTAsdGhpcy5fdGltZUluZm89aSx0aGlzLl9wdXJnZU9wdGlvbnM9cix0aGlzLnN0b3JlPXQsdGhpcy5vYmplY3RJZEZpZWxkPWUsdGhpcy5wdXJnZUludGVydmFsPW8sdGhpcy5fdXNlR2VuZXJhdGVkSWRzPXRoaXMub2JqZWN0SWRGaWVsZD09PXN9cmVtb3ZlQnlJZCh0KXt0aGlzLl9yZW1vdmVkLnB1c2godCl9cmVtb3ZlQnlUcmFja0lkKHQpe2NvbnN0IGU9dGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmdldCh0KTtpZihlKWZvcihjb25zdCBzIG9mIGUuZW50cmllcyl0aGlzLl9yZW1vdmVkLnB1c2gocyl9YWRkKHMpe2lmKHRoaXMuX3VzZUdlbmVyYXRlZElkcyl7Y29uc3QgdD10aGlzLl9uZXh0SWQoKTtzLmF0dHJpYnV0ZXNbdGhpcy5vYmplY3RJZEZpZWxkXT10LHMub2JqZWN0SWQ9dH1lbHNlIHMub2JqZWN0SWQ9cy5hdHRyaWJ1dGVzW3RoaXMub2JqZWN0SWRGaWVsZF07Y29uc3QgaT1zLm9iamVjdElkO2lmKHRoaXMuX2FkZE9yVXBkYXRlZC5zZXQoaSxzKSx0aGlzLl9tYXhBZ2U9TWF0aC5tYXgodGhpcy5fbWF4QWdlLHMuYXR0cmlidXRlc1t0aGlzLl90aW1lSW5mby5zdGFydFRpbWVGaWVsZF0pLCF0aGlzLl90aW1lSW5mby50cmFja0lkRmllbGQpcmV0dXJuIG51bGw9PXRoaXMuX3RyYWNrSWRMZXNzT2JzZXJ2YXRpb25zJiYodGhpcy5fdHJhY2tJZExlc3NPYnNlcnZhdGlvbnM9bmV3IHQoMWU1KSksdm9pZCB0aGlzLl90cmFja0lkTGVzc09ic2VydmF0aW9ucy5lbnF1ZXVlKGkpO2NvbnN0IG89cy5hdHRyaWJ1dGVzW3RoaXMuX3RpbWVJbmZvLnRyYWNrSWRGaWVsZF07aWYoIXRoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy5oYXMobykpe2NvbnN0IHM9bnVsbCE9dGhpcy5fcHVyZ2VPcHRpb25zJiZudWxsIT10aGlzLl9wdXJnZU9wdGlvbnMubWF4T2JzZXJ2YXRpb25zP3RoaXMuX3B1cmdlT3B0aW9ucy5tYXhPYnNlcnZhdGlvbnM6cixpPWUocywwLHIpO3RoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy5zZXQobyxuZXcgdChpKSl9Y29uc3QgZD10aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuZ2V0KG8pLGE9ZD8uZW5xdWV1ZShpKTtudWxsIT1hJiYodGhpcy5fYWRkT3JVcGRhdGVkLmhhcyhhKT90aGlzLl9hZGRPclVwZGF0ZWQuZGVsZXRlKGEpOnRoaXMuX3JlbW92ZWQucHVzaChhKSl9Y2hlY2tGb3JVcGRhdGVzKCl7Y29uc3QgdD10aGlzLl9nZXRUb0FkZCgpLGU9dGhpcy5fZ2V0VG9SZW1vdmUoKSxzPXBlcmZvcm1hbmNlLm5vdygpO3MtdGhpcy5fbGFzdFB1cmdlPj10aGlzLnB1cmdlSW50ZXJ2YWwmJih0aGlzLl9wdXJnZShzKSx0aGlzLl9sYXN0UHVyZ2U9cyk7Y29uc3Qgcj1bXTtpZihudWxsIT1lKWZvcihjb25zdCBpIG9mIGUpe2NvbnN0IHQ9dGhpcy5zdG9yZS5yZW1vdmVCeUlkKGkpO251bGwhPXQmJnIucHVzaCh0KX1jb25zdCBvPVtdO2lmKG51bGwhPXQpe2NvbnN0IHI9bmV3IFNldChlPz9bXSk7Zm9yKGNvbnN0IGUgb2YgdClyLmhhcyhlLm9iamVjdElkKXx8KGUuYXR0cmlidXRlc1tpXT1zLHRoaXMuc3RvcmUuYWRkKGUpLG8ucHVzaChlKSl9KG8ubGVuZ3RofHxyPy5sZW5ndGgpJiZ0aGlzLnN0b3JlLnVwZGF0ZShvLHIpfV9nZXRUb0FkZCgpe2lmKCF0aGlzLl9hZGRPclVwZGF0ZWQuc2l6ZSlyZXR1cm4gbnVsbDtjb25zdCB0PW5ldyBBcnJheSh0aGlzLl9hZGRPclVwZGF0ZWQuc2l6ZSk7bGV0IGU9MDtyZXR1cm4gdGhpcy5fYWRkT3JVcGRhdGVkLmZvckVhY2goKHM9PnRbZSsrXT1zKSksdGhpcy5fYWRkT3JVcGRhdGVkLmNsZWFyKCksdH1fZ2V0VG9SZW1vdmUoKXtjb25zdCB0PXRoaXMuX3JlbW92ZWQ7cmV0dXJuIHRoaXMuX3JlbW92ZWQubGVuZ3RoPyh0aGlzLl9yZW1vdmVkPVtdLHQpOm51bGx9X25leHRJZCgpe2NvbnN0IHQ9dGhpcy5faWRDb3VudGVyO3JldHVybiB0aGlzLl9pZENvdW50ZXI9KHRoaXMuX2lkQ291bnRlcisxKSU0Mjk0OTY3Mjk0KzEsdH1fcHVyZ2UodCl7Y29uc3QgZT10aGlzLl9wdXJnZU9wdGlvbnM7bnVsbCE9ZSYmKHRoaXMuX3B1cmdlU29tZUJ5RGlzcGxheUNvdW50KGUpLHRoaXMuX3B1cmdlQnlBZ2UoZSksdGhpcy5fcHVyZ2VCeUFnZVJlY2VpdmVkKHQsZSksdGhpcy5fcHVyZ2VUcmFja3MoKSl9X3B1cmdlU29tZUJ5RGlzcGxheUNvdW50KHQpe2lmKCF0LmRpc3BsYXlDb3VudClyZXR1cm47bGV0IGU9dGhpcy5zdG9yZS5zaXplO2lmKGU+dC5kaXNwbGF5Q291bnQpe2lmKHRoaXMuX3RpbWVJbmZvLnRyYWNrSWRGaWVsZClmb3IoY29uc3QgcyBvZiB0aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMudmFsdWVzKCkpaWYoZT50LmRpc3BsYXlDb3VudCYmcy5zaXplKXtjb25zdCB0PXMuZGVxdWV1ZSgpO3RoaXMuX3JlbW92ZWQucHVzaCh0KSxlLS19aWYobnVsbCE9dGhpcy5fdHJhY2tJZExlc3NPYnNlcnZhdGlvbnMpe2xldCBzPWUtdC5kaXNwbGF5Q291bnQ7Zm9yKDtzLS0gPjA7KXtjb25zdCB0PXRoaXMuX3RyYWNrSWRMZXNzT2JzZXJ2YXRpb25zLmRlcXVldWUoKTtudWxsIT10JiZ0aGlzLl9yZW1vdmVkLnB1c2godCl9fX19X3B1cmdlQnlBZ2UodCl7Y29uc3QgZT10aGlzLl90aW1lSW5mbz8uc3RhcnRUaW1lRmllbGQ7aWYoIXQuYWdlfHwhZSlyZXR1cm47Y29uc3Qgcz02MCp0LmFnZSoxZTMsaT10aGlzLl9tYXhBZ2Utczt0aGlzLnN0b3JlLmZvckVhY2goKHQ9Pnt0LmF0dHJpYnV0ZXNbZV08aSYmdGhpcy5fcmVtb3ZlZC5wdXNoKHQub2JqZWN0SWQpfSkpfV9wdXJnZUJ5QWdlUmVjZWl2ZWQodCxlKXtpZighZS5hZ2VSZWNlaXZlZClyZXR1cm47Y29uc3Qgcz10LTYwKmUuYWdlUmVjZWl2ZWQqMWUzO3RoaXMuc3RvcmUuZm9yRWFjaCgodD0+e3QuYXR0cmlidXRlc1tpXTxzJiZ0aGlzLl9yZW1vdmVkLnB1c2godC5vYmplY3RJZCl9KSl9X3B1cmdlVHJhY2tzKCl7dGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmZvckVhY2goKCh0LGUpPT57MD09PXQuc2l6ZSYmdGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmRlbGV0ZShlKX0pKX19ZXhwb3J0e3MgYXMgREVGQVVMVF9TVFJFQU1fSURfRklFTEQsaSBhcyBFU1JJX1RJTUVTVEFNUCxvIGFzIFN0cmVhbUZlYXR1cmVNYW5hZ2VyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7SlNPTlN1cHBvcnQgYXMgb31mcm9tXCIuLi8uLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtJbnRlZ2VyIGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjt2YXIgaTtsZXQgbD1pPWNsYXNzIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmNvbHM9bnVsbCx0aGlzLmxldmVsPTAsdGhpcy5sZXZlbFZhbHVlPW51bGwsdGhpcy5vcmlnaW49bnVsbCx0aGlzLnJlc29sdXRpb249MCx0aGlzLnJvd3M9bnVsbCx0aGlzLnNjYWxlPTB9Y2xvbmUoKXtyZXR1cm4gbmV3IGkoe2NvbHM6dGhpcy5jb2xzLGxldmVsOnRoaXMubGV2ZWwsbGV2ZWxWYWx1ZTp0aGlzLmxldmVsVmFsdWUscmVzb2x1dGlvbjp0aGlzLnJlc29sdXRpb24scm93czp0aGlzLnJvd3Msc2NhbGU6dGhpcy5zY2FsZX0pfX07ZShbcih7anNvbjp7d3JpdGU6ITAsb3JpZ2luczp7XCJ3ZWItZG9jdW1lbnRcIjp7cmVhZDohMSx3cml0ZTohMX0sXCJwb3J0YWwtaXRlbVwiOntyZWFkOiExLHdyaXRlOiExfX19fSldLGwucHJvdG90eXBlLFwiY29sc1wiLHZvaWQgMCksZShbcih7dHlwZTp0LGpzb246e3dyaXRlOiEwfX0pXSxsLnByb3RvdHlwZSxcImxldmVsXCIsdm9pZCAwKSxlKFtyKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sbC5wcm90b3R5cGUsXCJsZXZlbFZhbHVlXCIsdm9pZCAwKSxlKFtyKHtqc29uOnt3cml0ZTohMCxvcmlnaW5zOntcIndlYi1kb2N1bWVudFwiOntyZWFkOiExLHdyaXRlOiExfSxcInBvcnRhbC1pdGVtXCI6e3JlYWQ6ITEsd3JpdGU6ITF9fX19KV0sbC5wcm90b3R5cGUsXCJvcmlnaW5cIix2b2lkIDApLGUoW3Ioe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxsLnByb3RvdHlwZSxcInJlc29sdXRpb25cIix2b2lkIDApLGUoW3Ioe2pzb246e3dyaXRlOiEwLG9yaWdpbnM6e1wid2ViLWRvY3VtZW50XCI6e3JlYWQ6ITEsd3JpdGU6ITF9LFwicG9ydGFsLWl0ZW1cIjp7cmVhZDohMSx3cml0ZTohMX19fX0pXSxsLnByb3RvdHlwZSxcInJvd3NcIix2b2lkIDApLGUoW3Ioe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxsLnByb3RvdHlwZSxcInNjYWxlXCIsdm9pZCAwKSxsPWk9ZShbcyhcImVzcmkubGF5ZXJzLnN1cHBvcnQuTE9EXCIpXSxsKTtjb25zdCBwPWw7ZXhwb3J0e3AgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e0pTT05NYXAgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2pzb25NYXAuanNcIjtpbXBvcnR7SlNPTlN1cHBvcnQgYXMgb31mcm9tXCIuLi8uLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0e2dldE1ldGVyc1BlclVuaXRGb3JTUiBhcyByfWZyb21cIi4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtJbnRlZ2VyIGFzIGl9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBufWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7d3JpdGVyIGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy93cml0ZXIuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2ltcG9ydCBjIGZyb21cIi4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHV9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtpc1ZhbGlkIGFzIGYsZ2V0SW5mbyBhcyBoLGlzR2VvZ3JhcGhpYyBhcyBtLGVxdWFscyBhcyBkfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e3Byb2plY3QgYXMgZ31mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3dlYk1lcmNhdG9yVXRpbHMuanNcIjtpbXBvcnQgeSBmcm9tXCIuL0xPRC5qc1wiO2ltcG9ydHtUaWxlS2V5IGFzIHZ9ZnJvbVwiLi9UaWxlS2V5LmpzXCI7dmFyIHc7Y29uc3QgeD1uZXcgdCh7UE5HOlwicG5nXCIsUE5HODpcInBuZzhcIixQTkcyNDpcInBuZzI0XCIsUE5HMzI6XCJwbmczMlwiLEpQRUc6XCJqcGdcIixKUEc6XCJqcGdcIixESUI6XCJkaWJcIixUSUZGOlwidGlmZlwiLEVNRjpcImVtZlwiLFBTOlwicHNcIixQREY6XCJwZGZcIixHSUY6XCJnaWZcIixTVkc6XCJzdmdcIixTVkdaOlwic3ZnelwiLE1peGVkOlwibWl4ZWRcIixNSVhFRDpcIm1peGVkXCIsTEVSQzpcImxlcmNcIixMRVJDMkQ6XCJsZXJjMmRcIixSQVc6XCJyYXdcIixwYmY6XCJwYmZcIn0pO2xldCBPPXc9Y2xhc3MgZXh0ZW5kcyBve3N0YXRpYyBjcmVhdGUoZT17fSl7Y29uc3R7cmVzb2x1dGlvbkZhY3Rvcjp0PTEsc2NhbGVzOm8sc2l6ZTpzPTI1NixzcGF0aWFsUmVmZXJlbmNlOmk9Yy5XZWJNZXJjYXRvcixudW1MT0RzOmw9MjR9PWU7aWYoIWYoaSkpe2NvbnN0IGU9W107aWYobylmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrKyl7Y29uc3Qgcj1vW3RdO2UucHVzaChuZXcgeSh7bGV2ZWw6dCxzY2FsZTpyLHJlc29sdXRpb246cn0pKX1lbHNle2xldCB0PTVlLTQ7Zm9yKGxldCBvPWwtMTtvPj0wO28tLSllLnVuc2hpZnQobmV3IHkoe2xldmVsOm8sc2NhbGU6dCxyZXNvbHV0aW9uOnR9KSksdCo9Mn1yZXR1cm4gbmV3IHcoe2RwaTo5Nixsb2RzOmUsb3JpZ2luOm5ldyBwKDAsMCxpKSxzaXplOltzLHNdLHNwYXRpYWxSZWZlcmVuY2U6aX0pfWNvbnN0IG49aChpKSxhPWUub3JpZ2luP25ldyBwKHt4OmUub3JpZ2luLngseTplLm9yaWdpbi55LHNwYXRpYWxSZWZlcmVuY2U6aX0pOm5ldyBwKG4/e3g6bi5vcmlnaW5bMF0seTpuLm9yaWdpblsxXSxzcGF0aWFsUmVmZXJlbmNlOml9Ont4OjAseTowLHNwYXRpYWxSZWZlcmVuY2U6aX0pLHU9OTYsZD0xLyhyKGkpKjM5LjM3KnUpLGc9W107aWYobylmb3IobGV0IHI9MDtyPG8ubGVuZ3RoO3IrKyl7Y29uc3QgZT1vW3JdLHQ9ZSpkO2cucHVzaChuZXcgeSh7bGV2ZWw6cixzY2FsZTplLHJlc29sdXRpb246dH0pKX1lbHNle2xldCBlPW0oaSk/NTEyL3MqNTkxNjU3NTI3LjU5MTcwOTQ6MjU2L3MqNTkxNjU3NTI3LjU5MTU1NTtjb25zdCBvPU1hdGguY2VpbChsL3QpO2cucHVzaChuZXcgeSh7bGV2ZWw6MCxzY2FsZTplLHJlc29sdXRpb246ZSpkfSkpO2ZvcihsZXQgcj0xO3I8bztyKyspe2NvbnN0IG89ZS8yKip0LHM9bypkO2cucHVzaChuZXcgeSh7bGV2ZWw6cixzY2FsZTpvLHJlc29sdXRpb246c30pKSxlPW99fXJldHVybiBuZXcgdyh7ZHBpOnUsbG9kczpnLG9yaWdpbjphLHNpemU6W3Msc10sc3BhdGlhbFJlZmVyZW5jZTppfSl9Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5kcGk9OTYsdGhpcy5mb3JtYXQ9bnVsbCx0aGlzLm9yaWdpbj1udWxsLHRoaXMuc2l6ZT1udWxsLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1udWxsfWdldCBpc1dyYXBwYWJsZSgpe2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6ZSxvcmlnaW46dH09dGhpcztpZihlJiZ0KXtjb25zdCBvPWgoZSk7cmV0dXJuIGUuaXNXcmFwcGFibGUmJiEhbyYmTWF0aC5hYnMoby5vcmlnaW5bMF0tdC54KTw9by5keH1yZXR1cm4hMX1yZWFkT3JpZ2luKGUsdCl7cmV0dXJuIHAuZnJvbUpTT04oe3NwYXRpYWxSZWZlcmVuY2U6dC5zcGF0aWFsUmVmZXJlbmNlLC4uLmV9KX1zZXQgbG9kcyhlKXtsZXQgdD0wLG89MDtjb25zdCByPVtdLHM9dGhpcy5fbGV2ZWxUb0xPRD17fTtlJiYodD0tMS8wLG89MS8wLGUuZm9yRWFjaCgoZT0+e3IucHVzaChlLnNjYWxlKSx0PWUuc2NhbGU+dD9lLnNjYWxlOnQsbz1lLnNjYWxlPG8/ZS5zY2FsZTpvLHNbZS5sZXZlbF09ZX0pKSksdGhpcy5fc2V0KFwic2NhbGVzXCIsciksdGhpcy5fc2V0KFwibG9kc1wiLGUpLHRoaXMuX2luaXRpYWxpemVVcHNhbXBsZUxldmVscygpfXJlYWRTaXplKGUsdCl7cmV0dXJuW3QuY29scyx0LnJvd3NdfXdyaXRlU2l6ZShlLHQpe3QuY29scz1lWzBdLHQucm93cz1lWzFdfXpvb21Ub1NjYWxlKGUpe2NvbnN0IHQ9dGhpcy5zY2FsZXM7aWYoZTw9MClyZXR1cm4gdFswXTtpZihlPj10Lmxlbmd0aC0xKXJldHVybiB0W3QubGVuZ3RoLTFdO2NvbnN0IG89TWF0aC5mbG9vcihlKSxyPW8rMTtyZXR1cm4gdFtvXS8odFtvXS90W3JdKSoqKGUtbyl9c2NhbGVUb1pvb20oZSl7Y29uc3QgdD10aGlzLnNjYWxlcyxvPXQubGVuZ3RoLTE7bGV0IHI9MDtmb3IoO3I8bztyKyspe2NvbnN0IG89dFtyXSxzPXRbcisxXTtpZihvPD1lKXJldHVybiByO2lmKHM9PT1lKXJldHVybiByKzE7aWYobz5lJiZzPGUpcmV0dXJuIHIrTWF0aC5sb2coby9lKS9NYXRoLmxvZyhvL3MpfXJldHVybiByfXNuYXBTY2FsZShlLHQ9Ljk1KXtjb25zdCBvPXRoaXMuc2NhbGVUb1pvb20oZSk7cmV0dXJuIG8lTWF0aC5mbG9vcihvKT49dD90aGlzLnpvb21Ub1NjYWxlKE1hdGguY2VpbChvKSk6dGhpcy56b29tVG9TY2FsZShNYXRoLmZsb29yKG8pKX10aWxlQXQoZSx0LG8scil7Y29uc3Qgcz10aGlzLmxvZEF0KGUpO2lmKCFzKXJldHVybiBudWxsO2xldCBpLGw7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpaT10LGw9bztlbHNlIGlmKGQodC5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuc3BhdGlhbFJlZmVyZW5jZSkpaT10LngsbD10Lnkscj1vO2Vsc2V7Y29uc3QgZT1nKHQsdGhpcy5zcGF0aWFsUmVmZXJlbmNlKTtpZihudWxsPT1lKXJldHVybiBudWxsO2k9ZS54LGw9ZS55LHI9b31jb25zdCBuPXMucmVzb2x1dGlvbip0aGlzLnNpemVbMF0sYT1zLnJlc29sdXRpb24qdGhpcy5zaXplWzFdO3JldHVybiByfHwocj1uZXcgdihudWxsLDAsMCwwLHUoKSkpLHIubGV2ZWw9ZSxyLnJvdz1NYXRoLmZsb29yKCh0aGlzLm9yaWdpbi55LWwpL2ErLjAwMSksci5jb2w9TWF0aC5mbG9vcigoaS10aGlzLm9yaWdpbi54KS9uKy4wMDEpLHRoaXMudXBkYXRlVGlsZUluZm8ocikscn11cGRhdGVUaWxlSW5mbyhlLHQ9dy5FeHRyYXBvbGF0ZU9wdGlvbnMuTk9ORSl7bGV0IG89dGhpcy5sb2RBdChlLmxldmVsKTtpZighbyYmdD09PXcuRXh0cmFwb2xhdGVPcHRpb25zLlBPV0VSX09GX1RXTyl7Y29uc3QgdD10aGlzLmxvZHNbdGhpcy5sb2RzLmxlbmd0aC0xXTt0LmxldmVsPGUubGV2ZWwmJihvPXQpfWlmKCFvKXJldHVybjtjb25zdCByPWUubGV2ZWwtby5sZXZlbCxzPW8ucmVzb2x1dGlvbip0aGlzLnNpemVbMF0vMioqcixpPW8ucmVzb2x1dGlvbip0aGlzLnNpemVbMV0vMioqcjtlLmlkPWAke2UubGV2ZWx9LyR7ZS5yb3d9LyR7ZS5jb2x9YCxlLmV4dGVudHx8KGUuZXh0ZW50PXUoKSksZS5leHRlbnRbMF09dGhpcy5vcmlnaW4ueCtlLmNvbCpzLGUuZXh0ZW50WzFdPXRoaXMub3JpZ2luLnktKGUucm93KzEpKmksZS5leHRlbnRbMl09ZS5leHRlbnRbMF0rcyxlLmV4dGVudFszXT1lLmV4dGVudFsxXStpfXVwc2FtcGxlVGlsZShlKXtjb25zdCB0PXRoaXMuX3Vwc2FtcGxlTGV2ZWxzW2UubGV2ZWxdO3JldHVybiEoIXR8fC0xPT09dC5wYXJlbnRMZXZlbCkmJihlLmxldmVsPXQucGFyZW50TGV2ZWwsZS5yb3c9TWF0aC5mbG9vcihlLnJvdy90LmZhY3RvcisuMDAxKSxlLmNvbD1NYXRoLmZsb29yKGUuY29sL3QuZmFjdG9yKy4wMDEpLHRoaXMudXBkYXRlVGlsZUluZm8oZSksITApfWdldFRpbGVCb3VuZHMoZSx0KXtjb25zdCBvPXRoaXMubG9kQXQodC5sZXZlbCk7aWYobnVsbD09bylyZXR1cm4gbnVsbDtjb25zdHtyZXNvbHV0aW9uOnJ9PW8scz1yKnRoaXMuc2l6ZVswXSxpPXIqdGhpcy5zaXplWzFdO3JldHVybiBlWzBdPXRoaXMub3JpZ2luLngrdC5jb2wqcyxlWzFdPXRoaXMub3JpZ2luLnktKHQucm93KzEpKmksZVsyXT1lWzBdK3MsZVszXT1lWzFdK2ksZX1sb2RBdChlKXtyZXR1cm4gdGhpcy5fbGV2ZWxUb0xPRD8uW2VdPz9udWxsfWNsb25lKCl7cmV0dXJuIHcuZnJvbUpTT04odGhpcy53cml0ZSh7fSkpfWdldE9yQ3JlYXRlQ29tcGF0aWJsZShlLHQpe2lmKDI1Nj09PXRoaXMuc2l6ZVswXSYmMjU2PT09dGhpcy5zaXplWzFdKXJldHVybiAyNTY9PT1lP3RoaXM6bnVsbDtjb25zdCBvPVtdLHI9dGhpcy5sb2RzLmxlbmd0aDtmb3IobGV0IHM9MDtzPHI7cysrKXtjb25zdCBlPXRoaXMubG9kc1tzXSxyPWUucmVzb2x1dGlvbip0O28ucHVzaChuZXcgeSh7bGV2ZWw6ZS5sZXZlbCxzY2FsZTplLnNjYWxlLHJlc29sdXRpb246cn0pKX1yZXR1cm4gbmV3IHcoe3NpemU6W2UsZV0sZHBpOnRoaXMuZHBpLGZvcm1hdDp0aGlzLmZvcm1hdCxjb21wcmVzc2lvblF1YWxpdHk6dGhpcy5jb21wcmVzc2lvblF1YWxpdHksb3JpZ2luOnRoaXMub3JpZ2luLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlLGxvZHM6b30pfV9pbml0aWFsaXplVXBzYW1wbGVMZXZlbHMoKXtjb25zdCBlPXRoaXMubG9kczt0aGlzLl91cHNhbXBsZUxldmVscz1bXTtsZXQgdD1udWxsO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCByPWVbb107dGhpcy5fdXBzYW1wbGVMZXZlbHNbci5sZXZlbF09e3BhcmVudExldmVsOnQ/dC5sZXZlbDotMSxmYWN0b3I6dD90LnJlc29sdXRpb24vci5yZXNvbHV0aW9uOjB9LHQ9cn19fTtlKFtzKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0sTy5wcm90b3R5cGUsXCJjb21wcmVzc2lvblF1YWxpdHlcIix2b2lkIDApLGUoW3Moe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxPLnByb3RvdHlwZSxcImRwaVwiLHZvaWQgMCksZShbcyh7dHlwZTpTdHJpbmcsanNvbjp7cmVhZDp4LnJlYWQsd3JpdGU6eC53cml0ZSxvcmlnaW5zOntcIndlYi1zY2VuZVwiOntyZWFkOiExLHdyaXRlOiExfX19fSldLE8ucHJvdG90eXBlLFwiZm9ybWF0XCIsdm9pZCAwKSxlKFtzKHtyZWFkT25seTohMH0pXSxPLnByb3RvdHlwZSxcImlzV3JhcHBhYmxlXCIsbnVsbCksZShbcyh7dHlwZTpwLGpzb246e3dyaXRlOiEwfX0pXSxPLnByb3RvdHlwZSxcIm9yaWdpblwiLHZvaWQgMCksZShbbChcIm9yaWdpblwiKV0sTy5wcm90b3R5cGUsXCJyZWFkT3JpZ2luXCIsbnVsbCksZShbcyh7dHlwZTpbeV0sdmFsdWU6bnVsbCxqc29uOnt3cml0ZTohMH19KV0sTy5wcm90b3R5cGUsXCJsb2RzXCIsbnVsbCksZShbcyh7cmVhZE9ubHk6ITB9KV0sTy5wcm90b3R5cGUsXCJzY2FsZXNcIix2b2lkIDApLGUoW3Moe2Nhc3Q6ZT0+QXJyYXkuaXNBcnJheShlKT9lOlwibnVtYmVyXCI9PXR5cGVvZiBlP1tlLGVdOlsyNTYsMjU2XX0pXSxPLnByb3RvdHlwZSxcInNpemVcIix2b2lkIDApLGUoW2woXCJzaXplXCIsW1wicm93c1wiLFwiY29sc1wiXSldLE8ucHJvdG90eXBlLFwicmVhZFNpemVcIixudWxsKSxlKFthKFwic2l6ZVwiLHtjb2xzOnt0eXBlOml9LHJvd3M6e3R5cGU6aX19KV0sTy5wcm90b3R5cGUsXCJ3cml0ZVNpemVcIixudWxsKSxlKFtzKHt0eXBlOmMsanNvbjp7d3JpdGU6ITB9fSldLE8ucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksTz13PWUoW24oXCJlc3JpLmxheWVycy5zdXBwb3J0LlRpbGVJbmZvXCIpXSxPKSxmdW5jdGlvbihlKXt2YXIgdDsodD1lLkV4dHJhcG9sYXRlT3B0aW9uc3x8KGUuRXh0cmFwb2xhdGVPcHRpb25zPXt9KSlbdC5OT05FPTBdPVwiTk9ORVwiLHRbdC5QT1dFUl9PRl9UV089MV09XCJQT1dFUl9PRl9UV09cIn0oT3x8KE89e30pKTtjb25zdCBqPU87ZXhwb3J0e2ogYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtjb25zdHJ1Y3Rvcih0LHMsaSxvLGU9dm9pZCAwKXt0aGlzLmlkPXQsdGhpcy5sZXZlbD1zLHRoaXMucm93PWksdGhpcy5jb2w9byx0aGlzLmV4dGVudD1lfX1leHBvcnR7dCBhcyBUaWxlS2V5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7dXJsVG9PYmplY3QgYXMgZSxyZW1vdmVUcmFpbGluZ1NsYXNoIGFzIHIscmVtb3ZlUXVlcnlQYXJhbWV0ZXJzIGFzIHQsam9pbiBhcyBuLFVybCBhcyBzLG1ha2VBYnNvbHV0ZSBhcyBsfWZyb21cIi4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7dyBhcyB1fWZyb21cIi4uLy4uL2NodW5rcy9wZXJzaXN0YWJsZVVybFV0aWxzLmpzXCI7Y29uc3QgaT17bWFwc2VydmVyOlwiTWFwU2VydmVyXCIsaW1hZ2VzZXJ2ZXI6XCJJbWFnZVNlcnZlclwiLGZlYXR1cmVzZXJ2ZXI6XCJGZWF0dXJlU2VydmVyXCIsc2NlbmVzZXJ2ZXI6XCJTY2VuZVNlcnZlclwiLHN0cmVhbXNlcnZlcjpcIlN0cmVhbVNlcnZlclwiLHZlY3RvcnRpbGVzZXJ2ZXI6XCJWZWN0b3JUaWxlU2VydmVyXCJ9LG89T2JqZWN0LnZhbHVlcyhpKSxjPW5ldyBSZWdFeHAoYF4oKD86aHR0cHM/Oik/XFxcXC9cXFxcL1xcXFxTKz9cXFxcL3Jlc3RcXFxcL3NlcnZpY2VzXFxcXC8oLis/KVxcXFwvKCR7by5qb2luKFwifFwiKX0pKSg/OlxcXFwvKD86bGF5ZXJzXFxcXC8pPyhcXFxcZCspKT9gLFwiaVwiKSxhPW5ldyBSZWdFeHAoYF4oKD86aHR0cHM/Oik/XFxcXC9cXFxcL1xcXFxTKz9cXFxcLyhbXlxcXFwvXFxcXG5dKylcXFxcLygke28uam9pbihcInxcIil9KSkoPzpcXFxcLyg/OmxheWVyc1xcXFwvKT8oXFxcXGQrKSk/YCxcImlcIiksZj0vKC4qPylcXC8oPzpsYXllcnNcXC8pPyhcXGQrKVxcLz8kL2k7ZnVuY3Rpb24gdihlKXtyZXR1cm4hIWMudGVzdChlKX1mdW5jdGlvbiBwKHIpe2lmKG51bGw9PXIpcmV0dXJuIG51bGw7Y29uc3QgdD1lKHIpLG49dC5wYXRoLm1hdGNoKGMpfHx0LnBhdGgubWF0Y2goYSk7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3RbLHMsbCx1LG9dPW4sZj1sLmluZGV4T2YoXCIvXCIpO3JldHVybnt0aXRsZTptKC0xIT09Zj9sLnNsaWNlKGYrMSk6bCksc2VydmVyVHlwZTppW3UudG9Mb3dlckNhc2UoKV0sc3VibGF5ZXI6bnVsbCE9byYmXCJcIiE9PW8/cGFyc2VJbnQobywxMCk6bnVsbCx1cmw6e3BhdGg6c319fWZ1bmN0aW9uIGQocil7Y29uc3QgdD1lKHIpLnBhdGgubWF0Y2goZik7cmV0dXJuIHQ/e3NlcnZpY2VVcmw6dFsxXSxzdWJsYXllcklkOk51bWJlcih0WzJdKX06bnVsbH1mdW5jdGlvbiBtKGUpe3JldHVybihlPWUucmVwbGFjZUFsbCgvXFxzKlsvX10rXFxzKi9nLFwiIFwiKSlbMF0udG9VcHBlckNhc2UoKStlLnNsaWNlKDEpfWZ1bmN0aW9uIGgoZSxyKXtjb25zdCB0PVtdO2lmKGUpe2NvbnN0IHI9cChlKTtudWxsIT1yJiZyLnRpdGxlJiZ0LnB1c2goci50aXRsZSl9aWYocil7Y29uc3QgZT1tKHIpO3QucHVzaChlKX1pZigyPT09dC5sZW5ndGgpe2lmKHRbMF0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0WzFdLnRvTG93ZXJDYXNlKCkpKXJldHVybiB0WzBdO2lmKHRbMV0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0WzBdLnRvTG93ZXJDYXNlKCkpKXJldHVybiB0WzFdfXJldHVybiB0LmpvaW4oXCIgLSBcIil9ZnVuY3Rpb24gdyhlKXtpZighZSlyZXR1cm4hMTtjb25zdCByPVwiLmFyY2dpcy5jb20vXCIsdD1cIi8vc2VydmljZXNcIixuPVwiLy90aWxlc1wiLHM9XCIvL2ZlYXR1cmVzXCIsbD0oZT1lLnRvTG93ZXJDYXNlKCkpLmluY2x1ZGVzKHIpLHU9ZS5pbmNsdWRlcyh0KXx8ZS5pbmNsdWRlcyhuKXx8ZS5pbmNsdWRlcyhzKTtyZXR1cm4gbCYmdX1mdW5jdGlvbiB5KGUsbil7cmV0dXJuIGU/cih0KGUsbikpOmV9ZnVuY3Rpb24gZyhuKXtsZXR7dXJsOnN9PW47aWYoIXMpcmV0dXJue3VybDpzfTtzPXQocyxuLmxvZ2dlcik7Y29uc3QgbD1lKHMpLHU9cChsLnBhdGgpO2xldCBpO2lmKG51bGwhPXUpbnVsbCE9dS5zdWJsYXllciYmbnVsbD09bi5sYXllci5sYXllcklkJiYoaT11LnN1YmxheWVyKSxzPXUudXJsLnBhdGg7ZWxzZSBpZihuLm5vblN0YW5kYXJkVXJsQWxsb3dlZCl7Y29uc3QgZT1kKGwucGF0aCk7bnVsbCE9ZSYmKHM9ZS5zZXJ2aWNlVXJsLGk9ZS5zdWJsYXllcklkKX1yZXR1cm57dXJsOnIocyksbGF5ZXJJZDppfX1mdW5jdGlvbiBTKGUscix0LHMsbCl7dShyLHMsXCJ1cmxcIixsKSxzLnVybCYmbnVsbCE9ZS5sYXllcklkJiYocy51cmw9bihzLnVybCx0LGUubGF5ZXJJZC50b1N0cmluZygpKSl9ZnVuY3Rpb24gQyhlKXtpZighZSlyZXR1cm4hMTtjb25zdCByPWUudG9Mb3dlckNhc2UoKSx0PXIuaW5jbHVkZXMoXCIvc2VydmljZXMvXCIpLG49ci5pbmNsdWRlcyhcIi9tYXBzZXJ2ZXIvd21zc2VydmVyXCIpLHM9ci5pbmNsdWRlcyhcIi9pbWFnZXNlcnZlci93bXNzZXJ2ZXJcIiksbD1yLmluY2x1ZGVzKFwiL3dtc3NlcnZlclwiKTtyZXR1cm4gdCYmKG58fHN8fGwpfWZ1bmN0aW9uIGIoZSl7aWYoIWUpcmV0dXJuITE7Y29uc3Qgcj1uZXcgcyhsKGUpKSx0PXIuYXV0aG9yaXR5Py50b0xvd2VyQ2FzZSgpO3JldHVyblwic2VydmVyLmFyY2dpc29ubGluZS5jb21cIj09PXR8fFwic2VydmljZXMuYXJjZ2lzb25saW5lLmNvbVwiPT09dH1leHBvcnR7bSBhcyBjbGVhblRpdGxlLHYgYXMgaXNBcmNHSVNVcmwsdyBhcyBpc0hvc3RlZEFnb2xTZXJ2aWNlLGIgYXMgaXNTZXJ2ZXJPclNlcnZpY2VzQUdPTFVybCxDIGFzIGlzV21zU2VydmVyLHAgYXMgcGFyc2UsZCBhcyBwYXJzZU5vblN0YW5kYXJkU3VibGF5ZXJVcmwseSBhcyBzYW5pdGl6ZVVybCxnIGFzIHNhbml0aXplVXJsV2l0aExheWVySWQsbyBhcyBzZXJ2ZXJUeXBlcyxoIGFzIHRpdGxlRnJvbVVybEFuZE5hbWUsUyBhcyB3cml0ZVVybFdpdGhMYXllcklkfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2Z1bmN0aW9uIHIocixhLHQpe2lmKG51bGw9PXIpcmV0dXJuIG51bGw7Y29uc3QgdT1hLnJlYWRBcmNhZGVGZWF0dXJlKCk7dHJ5e3JldHVybiByLmV2YWx1YXRlKHsuLi50LCRmZWF0dXJlOnV9LHIuc2VydmljZXMpfWNhdGNoKG4pe3JldHVybiBlLmdldExvZ2dlcihcImVzcmkudmlld3MuMmQuc3VwcG9ydC5hcmNhZGVPbkRlbWFuZFwiKS53YXJuKFwiRmVhdHVyZSBhcmNhZGUgZXZhbHVhdGlvbiBmYWlsZWQ6XCIsbiksbnVsbH19ZXhwb3J0e3IgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3Qgbj04Mzg4NjA3LHQ9ODM4ODYwOCxyPTI1NCxvPTI1NSx1PTAsYz0xLGU9bj0+KG4mdCk+Pj4yMyxmPXQ9PnQmbixpPW49PmUobik9PT1jP3I6bztmdW5jdGlvbiBwKG4pe3JldHVybiBlKG4pPT09Y31mdW5jdGlvbiBzKG4scil7cmV0dXJuKChyP3Q6MCl8bik+Pj4wfWV4cG9ydHtyIGFzIEFHR1JFR0FURV9WQUxJRF9GSUxURVJTX01BU0ssbiBhcyBESVNQTEFZX0lEX1RFWEVMX01BU0ssYyBhcyBESVNQTEFZX0lEX1RZUEVfQUdHUkVHQVRFLHUgYXMgRElTUExBWV9JRF9UWVBFX0ZFQVRVUkUsdCBhcyBESVNQTEFZX0lEX1RZUEVfTUFTSyxvIGFzIE5PTkFHR1JFR0FURV9WQUxJRF9GSUxURVJTX01BU0sscyBhcyBjcmVhdGVEaXNwbGF5SWQsaSBhcyBnZXREaXNwbGF5SWRGaWx0ZXJNYXNrLGYgYXMgZ2V0RGlzcGxheUlkVGV4ZWwsZSBhcyBnZXREaXNwbGF5SWRUeXBlLHAgYXMgaXNBZ2dyZWdhdGVJZH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e0NhcFR5cGUgYXMgbixKb2luVHlwZSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvY2ltL2VudW1zLmpzXCI7aW1wb3J0e1dHTEdlb21ldHJ5VHlwZSBhcyBzLFdHTFN5bWJvbG9neVR5cGUgYXMgYSxWVlR5cGUgYXMgaX1mcm9tXCIuL2VudW1zLmpzXCI7aW1wb3J0e1VzYWdlIGFzIGMsRGF0YVR5cGUgYXMgbyxQaXhlbFR5cGUgYXMgdX1mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtWZXJ0ZXhFbGVtZW50RGVzY3JpcHRvciBhcyBsfWZyb21cIi4uLy4uLy4uL3dlYmdsL1ZlcnRleEVsZW1lbnREZXNjcmlwdG9yLmpzXCI7Y29uc3QgbT10LmdldExvZ2dlcihcImVzcmkudmlld3MuMmQuZW5naW5lLndlYmdsLlV0aWxzXCIpLGY9XCJnZW9tZXRyeVwiLGQ9W3tuYW1lOmYsc3RyaWRlSW5CeXRlczoxMn1dLHA9W3tuYW1lOmYsc3RyaWRlSW5CeXRlczozNn1dLHk9W3tuYW1lOmYsc3RyaWRlSW5CeXRlczoyNH1dLEk9W3tuYW1lOmYsc3RyaWRlSW5CeXRlczoxMn1dLGc9W3tuYW1lOmYsc3RyaWRlSW5CeXRlczo0MH1dLFM9W3tuYW1lOmYsc3RyaWRlSW5CeXRlczozNn1dLFQ9W3tuYW1lOmYsc3RyaWRlSW5CeXRlczozNn1dO2Z1bmN0aW9uIHcoZSl7Y29uc3QgdD17fTtmb3IoY29uc3QgbiBvZiBlKXRbbi5uYW1lXT1uLnN0cmlkZUluQnl0ZXM7cmV0dXJuIHR9Y29uc3QgRT13KFt7bmFtZTpmLHN0cmlkZUluQnl0ZXM6MzZ9XSksaD13KGQpLEw9dyhwKSxOPXcoeSksRD13KEkpLEE9dyhnKSxNPXcoUyksVT13KFQpO2Z1bmN0aW9uIFIoZSx0KXtzd2l0Y2goZSl7Y2FzZSBzLk1BUktFUjpyZXR1cm4gdD09PWEuSEVBVE1BUD9oOkU7Y2FzZSBzLkZJTEw6c3dpdGNoKHQpe2Nhc2UgYS5ET1RfREVOU0lUWTpyZXR1cm4gRDtjYXNlIGEuU0lNUExFOmNhc2UgYS5PVVRMSU5FX0ZJTExfU0lNUExFOnJldHVybiBOO2RlZmF1bHQ6cmV0dXJuIEx9Y2FzZSBzLkxJTkU6cmV0dXJuIEE7Y2FzZSBzLlRFWFQ6cmV0dXJuIE07Y2FzZSBzLkxBQkVMOnJldHVybiBVfX1jb25zdCBfPVtmXSx2PVtmXSxCPVtmXSxPPVtmXSxDPVtmXTtmdW5jdGlvbiBiKGUpe3N3aXRjaChlKXtjYXNlIHMuTUFSS0VSOnJldHVybiBfO2Nhc2Ugcy5GSUxMOnJldHVybiB2O2Nhc2Ugcy5MSU5FOnJldHVybiBCO2Nhc2Ugcy5URVhUOnJldHVybiBPO2Nhc2Ugcy5MQUJFTDpyZXR1cm4gQ319ZnVuY3Rpb24gRihlKXtzd2l0Y2goZSU0KXtjYXNlIDA6Y2FzZSAyOnJldHVybiA0O2Nhc2UgMTpjYXNlIDM6cmV0dXJuIDF9fWZ1bmN0aW9uIHgoZSx0KXtzd2l0Y2godCU0KXtjYXNlIDA6Y2FzZSAyOnJldHVybiBuZXcgVWludDMyQXJyYXkoTWF0aC5mbG9vcihlKnQvNCkpO2Nhc2UgMTpjYXNlIDM6cmV0dXJuIG5ldyBVaW50OEFycmF5KGUqdCl9fWZ1bmN0aW9uIFAoZSx0KXtzd2l0Y2godCU0KXtjYXNlIDA6Y2FzZSAyOnJldHVybiBuZXcgVWludDMyQXJyYXkoZSk7Y2FzZSAxOmNhc2UgMzpyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSl9fWZ1bmN0aW9uIHooZSl7cmV0dXJuIG51bGwhPWV9ZnVuY3Rpb24gJChlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZX1mdW5jdGlvbiBrKHQpe3N3aXRjaCh0KXtjYXNlXCJidXR0XCI6cmV0dXJuIG4uQlVUVDtjYXNlXCJyb3VuZFwiOnJldHVybiBuLlJPVU5EO2Nhc2VcInNxdWFyZVwiOnJldHVybiBuLlNRVUFSRTtkZWZhdWx0OnJldHVybiBtLmVycm9yKG5ldyBlKFwibWFwdmlldy1pbnZhbGlkLXR5cGVcIixgQ2FwIHR5cGUgJHt0fSBpcyBub3QgYSB2YWxpZCBvcHRpb24uIERlZmF1bHRpbmcgdG8gcm91bmRgKSksbi5ST1VORH19ZnVuY3Rpb24gRyh0KXtzd2l0Y2godCl7Y2FzZVwibWl0ZXJcIjpyZXR1cm4gci5NSVRFUjtjYXNlXCJiZXZlbFwiOnJldHVybiByLkJFVkVMO2Nhc2VcInJvdW5kXCI6cmV0dXJuIHIuUk9VTkQ7ZGVmYXVsdDpyZXR1cm4gbS5lcnJvcihuZXcgZShcIm1hcHZpZXctaW52YWxpZC10eXBlXCIsYEpvaW4gdHlwZSAke3R9IGlzIG5vdCBhIHZhbGlkIG9wdGlvbi4gRGVmYXVsdGluZyB0byByb3VuZGApKSxyLlJPVU5EfX1mdW5jdGlvbiBWKGUpe3N3aXRjaChlKXtjYXNlXCJvcGFjaXR5XCI6cmV0dXJuIGkuT1BBQ0lUWTtjYXNlXCJjb2xvclwiOnJldHVybiBpLkNPTE9SO2Nhc2VcInJvdGF0aW9uXCI6cmV0dXJuIGkuUk9UQVRJT047Y2FzZVwic2l6ZVwiOnJldHVybiBpLlNJWkU7ZGVmYXVsdDpyZXR1cm4gbS5lcnJvcihgQ2Fubm90IGludGVycHJldCB1bmtub3duIHZ2OiAke2V9YCksbnVsbH19ZnVuY3Rpb24gaihlLHQsbixyLHMsYSxpKXtmb3IoY29uc3QgYyBpbiBhKXtjb25zdCB0PWFbY10uc3RyaWRlLHI9Rih0KSxpPWFbY10uZGF0YSxvPW5bY10uZGF0YTtpZihudWxsPT1pfHxudWxsPT1vKWNvbnRpbnVlO2NvbnN0IHU9dCpzLnZlcnRleENvdW50L3IsbD10KmUvcixtPXQqcy52ZXJ0ZXhGcm9tL3I7Zm9yKGxldCBlPTA7ZTx1OysrZSlvW2UrbF09aVtlK21dfWlmKG51bGwhPWkmJm51bGwhPXIpe2NvbnN0IG49cy5pbmRleENvdW50O2ZvcihsZXQgYT0wO2E8bjsrK2EpclthK3RdPWlbYStzLmluZGV4RnJvbV0tcy52ZXJ0ZXhGcm9tK2V9fWNvbnN0IFk9e1tmXTpjLlNUQVRJQ19EUkFXfTtmdW5jdGlvbiBIKGUsdCl7Y29uc3Qgbj1bXTtmb3IobGV0IHI9MDtyPDU7KytyKXtjb25zdCBzPWIociksYT17fTtmb3IoY29uc3QgZSBvZiBzKWFbZV09e2RhdGE6dChyLGUpfTtuLnB1c2goe2RhdGE6ZShyKSxidWZmZXJzOmF9KX1yZXR1cm4gbn1mdW5jdGlvbiBxKGUpe3N3aXRjaChlKXtjYXNlIG8uQllURTpjYXNlIG8uVU5TSUdORURfQllURTpyZXR1cm4gMTtjYXNlIG8uU0hPUlQ6Y2FzZSBvLlVOU0lHTkVEX1NIT1JUOnJldHVybiAyO2Nhc2Ugby5GTE9BVDpjYXNlIG8uSU5UOmNhc2Ugby5VTlNJR05FRF9JTlQ6cmV0dXJuIDR9fWZ1bmN0aW9uIEsodCl7c3dpdGNoKHQpe2Nhc2UgdS5VTlNJR05FRF9CWVRFOnJldHVybiAxO2Nhc2UgdS5VTlNJR05FRF9TSE9SVF80XzRfNF80OnJldHVybiAyO2Nhc2UgdS5GTE9BVDpyZXR1cm4gNDtkZWZhdWx0OnJldHVybiB2b2lkIG0uZXJyb3IobmV3IGUoXCJ3ZWJnbC11dGlsc1wiLGBVbmFibGUgdG8gaGFuZGxlIHR5cGUgJHt0fWApKX19ZnVuY3Rpb24gVyh0KXtzd2l0Y2godCl7Y2FzZSB1LlVOU0lHTkVEX0JZVEU6cmV0dXJuIFVpbnQ4QXJyYXk7Y2FzZSB1LlVOU0lHTkVEX1NIT1JUXzRfNF80XzQ6cmV0dXJuIFVpbnQxNkFycmF5O2Nhc2UgdS5GTE9BVDpyZXR1cm4gRmxvYXQzMkFycmF5O2RlZmF1bHQ6cmV0dXJuIHZvaWQgbS5lcnJvcihuZXcgZShcIndlYmdsLXV0aWxzXCIsYFVuYWJsZSB0byBoYW5kbGUgdHlwZSAke3R9YCkpfX1mdW5jdGlvbiBYKGUpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IG4gaW4gZSl7Y29uc3Qgcj1lW25dO2xldCBzPTA7dFtuXT1yLm1hcCgoZT0+e2NvbnN0IHQ9bmV3IGwoZS5uYW1lLGUuY291bnQsZS50eXBlLHMsMCxlLm5vcm1hbGl6ZWR8fCExKTtyZXR1cm4gcys9ZS5jb3VudCpxKGUudHlwZSksdH0pKSx0W25dPy5mb3JFYWNoKChlPT5lLnN0cmlkZT1zKSl9cmV0dXJuIHR9Y29uc3QgSj1lPT57Y29uc3QgdD1uZXcgTWFwO2Zvcihjb25zdCBuIGluIGUpZm9yKGNvbnN0IHIgb2YgZVtuXSl0LnNldChyLm5hbWUsci5sb2NhdGlvbik7cmV0dXJuIHR9LFE9ZT0+e2NvbnN0IHQ9e307Zm9yKGNvbnN0IG4gaW4gZSl7Y29uc3Qgcj1lW25dO3Rbbl09cj8ubGVuZ3RoP3JbMF0uc3RyaWRlOjB9cmV0dXJuIHR9LFo9bmV3IE1hcCxlZT0oZSx0KT0+e2lmKCFaLmhhcyhlKSl7Y29uc3Qgbj1YKHQpLHI9e3N0cmlkZXM6UShuKSxidWZmZXJMYXlvdXRzOm4sYXR0cmlidXRlczpKKHQpfTtaLnNldChlLHIpfXJldHVybiBaLmdldChlKX07ZnVuY3Rpb24gdGUoZSl7ZShzLkZJTEwpLGUocy5MSU5FKSxlKHMuTUFSS0VSKSxlKHMuVEVYVCksZShzLkxBQkVMKX1jb25zdCBuZT1lPT5cInBhdGhcImluIGUmJnllKGUucGF0aCkscmU9ZT0+XCJ1cmxcImluIGUmJmUudXJsfHxcImltYWdlRGF0YVwiaW4gZSYmZS5pbWFnZURhdGEsc2U9ZT0+XCJpbWFnZURhdGFcImluIGUmJmUuaW1hZ2VEYXRhJiZcImNvbnRlbnRUeXBlXCJpbiBlJiZlLmNvbnRlbnRUeXBlP2BkYXRhOiR7ZS5jb250ZW50VHlwZX07YmFzZTY0LCR7ZS5pbWFnZURhdGF9YDpcInVybFwiaW4gZT9lLnVybDpudWxsLGFlPWU9Pm51bGwhPWUmJmUuc3RhcnRzV2l0aChcImRhdGE6aW1hZ2UvZ2lmXCIpLGllPWU9PlwidXJsXCJpbiBlJiZlLnVybCYmKGUudXJsLmluY2x1ZGVzKFwiLmdpZlwiKXx8YWUoZS51cmwpKXx8XCJjb250ZW50VHlwZVwiaW4gZSYmXCJpbWFnZS9naWZcIj09PWUuY29udGVudFR5cGV8fFwiaW1hZ2VEYXRhXCJpbiBlJiZhZShlLmltYWdlRGF0YSksY2U9ZT0+bnVsbCE9ZSYmZS5zdGFydHNXaXRoKFwiZGF0YTppbWFnZS9wbmdcIiksb2U9ZT0+XCJ1cmxcImluIGUmJmUudXJsJiYoZS51cmwuaW5jbHVkZXMoXCIucG5nXCIpfHxjZShlLnVybCkpfHxcImNvbnRlbnRUeXBlXCJpbiBlJiZcImltYWdlL3BuZ1wiPT09ZS5jb250ZW50VHlwZXx8XCJpbWFnZURhdGFcImluIGUmJmNlKGUuaW1hZ2VEYXRhKSx1ZT1lPT5lLnR5cGUmJmUudHlwZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiM2RcIik7ZnVuY3Rpb24gbGUoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwibGluZVwiOntjb25zdCB0PWU7cmV0dXJuXCJDSU1Tb2xpZFN0cm9rZVwiPT09dC5jaW0udHlwZSYmIXQuZGFzaFRlbXBsYXRlfWNhc2VcImZpbGxcIjpyZXR1cm5cIkNJTVNvbGlkRmlsbFwiPT09ZS5jaW0udHlwZTtjYXNlXCJlc3JpU0ZTXCI6cmV0dXJuXCJlc3JpU0ZTU29saWRcIj09PWUuc3R5bGV8fFwiZXNyaVNGU051bGxcIj09PWUuc3R5bGU7Y2FzZVwiZXNyaVNMU1wiOnJldHVyblwiZXNyaVNMU1NvbGlkXCI9PT1lLnN0eWxlfHxcImVzcmlTTFNOdWxsXCI9PT1lLnN0eWxlO2RlZmF1bHQ6cmV0dXJuITF9fWNvbnN0IG1lPWU9PmUuaW5jbHVkZXMoXCJkYXRhOmltYWdlL3N2Zyt4bWxcIik7ZnVuY3Rpb24gZmUoZSl7c3dpdGNoKFwiY2ltXCJpbiBlP2UuY2ltLnR5cGU6ZS50eXBlKXtjYXNlXCJlc3JpU01TXCI6Y2FzZVwiZXNyaVBNU1wiOmNhc2VcIkNJTVBvaW50U3ltYm9sXCI6cmV0dXJuITE7Y2FzZVwiQ0lNVmVjdG9yTWFya2VyXCI6Y2FzZVwiQ0lNQ2hhcmFjdGVyTWFya2VyXCI6Y2FzZVwiQ0lNUGljdHVyZU1hcmtlclwiOnJldHVybiBJZShlKTtkZWZhdWx0OnJldHVybiEwfX1mdW5jdGlvbiBkZShlKXtjb25zdCB0PVwibWF4VlZTaXplXCJpbiBlJiZlLm1heFZWU2l6ZSxuPVwid2lkdGhcImluIGUmJmUud2lkdGh8fFwic2l6ZVwiaW4gZSYmZS5zaXplfHwwO3JldHVybiB0fHxufWZ1bmN0aW9uIHBlKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspdC5wdXNoKGUuY2hhckNvZGVBdChuKSk7cmV0dXJuIHR9Y29uc3QgeWU9ZT0+ISFlJiYoZT1lLnRyaW0oKSwhISgvXlttemxodmNzcXRhXVxccypbLSsuMC05XVtebWxodnpjc3F0YV0rL2kudGVzdChlKSYmL1tcXGR6XSQvaS50ZXN0KGUpJiZlLmxlbmd0aD40KSksSWU9ZT0+XCJmaWxsXCI9PT1lLnR5cGUmJlwiQ0lNTWFya2VyUGxhY2VtZW50SW5zaWRlUG9seWdvblwiPT09ZT8uY2ltPy5tYXJrZXJQbGFjZW1lbnQ/LnR5cGU7ZXhwb3J0e1kgYXMgQ19WQk9fSU5GTyx4IGFzIGFsbG9jYXRlVHlwZWRBcnJheUJ1ZmZlcixQIGFzIGFsbG9jYXRlVHlwZWRBcnJheUJ1ZmZlcndpdGhEYXRhLHBlIGFzIGNoYXJDb2RlcyxqIGFzIGNvcHlNZXNoRGF0YSxIIGFzIGNyZWF0ZUdlb21ldHJ5RGF0YSxlZSBhcyBjcmVhdGVQcm9ncmFtRGVzY3JpcHRvcix0ZSBhcyBmb3JFYWNoR2VvbWV0cnlUeXBlLHEgYXMgZ2V0Qnl0ZXMsayBhcyBnZXRDYXBUeXBlLEcgYXMgZ2V0Sm9pblR5cGUsYiBhcyBnZXROYW1lZEJ1ZmZlcnMsZGUgYXMgZ2V0UE1TUmVzb3VyY2VTaXplLFcgYXMgZ2V0UGl4ZWxBcnJheUN0b3IsSyBhcyBnZXRQaXhlbEJ5dGVzLFIgYXMgZ2V0U3RyaWRlcyxzZSBhcyBnZXRVcmwsViBhcyBnZXRWVlR5cGUsdWUgYXMgaXMzRCx6IGFzIGlzRGVmaW5lZCxpZSBhcyBpc0dJRixhZSBhcyBpc0dJRkRhdGFVcmkscmUgYXMgaXNJbWFnZVJlc291cmNlLEllIGFzIGlzTWFya2VyUGxhY2VtZW50SW5zaWRlUG9seWdvbiwkIGFzIGlzTnVtYmVyLG9lIGFzIGlzUE5HLGNlIGFzIGlzUE5HRGF0YVVyaSxtZSBhcyBpc1NWR0ltYWdlLG5lIGFzIGlzU1ZHUmVzb3VyY2UsbGUgYXMgaXNTaW1wbGUseWUgYXMgaXNWYWxpZFNWRyxmZSBhcyBzaG91bGRSZXBlYXQsRiBhcyBzdHJpZGVUb1BhY2tpbmdGYWN0b3J9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpODg4OHRvMzIgYXMgbn1mcm9tXCIuL251bWJlci5qc1wiO2Z1bmN0aW9uIHIobixyPTAsdD0hMSl7Y29uc3Qgbz1uW3IrM107cmV0dXJuIG5bcl0qPW8sbltyKzFdKj1vLG5bcisyXSo9byx0fHwobltyKzNdKj0yNTUpLG59ZnVuY3Rpb24gdChyKXtpZighcilyZXR1cm4gMDtjb25zdHtyOnQsZzpvLGI6dSxhOml9PXI7cmV0dXJuIG4odCppLG8qaSx1KmksMjU1KmkpfWZ1bmN0aW9uIG8ocil7aWYoIXIpcmV0dXJuIDA7Y29uc3RbdCxvLHUsaV09cjtyZXR1cm4gbih0KihpLzI1NSksbyooaS8yNTUpLHUqKGkvMjU1KSxpKX1mdW5jdGlvbiB1KG4scix0PTApe2lmKG51bGw9PXIpcmV0dXJuIG5bdF09MCxuW3QrMV09MCxuW3QrMl09MCx2b2lkKG5bdCszXT0wKTtjb25zdHtyOm8sZzp1LGI6aSxhOmN9PXI7blt0XT1vKmMvMjU1LG5bdCsxXT11KmMvMjU1LG5bdCsyXT1pKmMvMjU1LG5bdCszXT1jfWV4cG9ydHtyIGFzIHByZW11bHRpcGx5QWxwaGEsdCBhcyBwcmVtdWx0aXBseUFscGhhUkdCQSxvIGFzIHByZW11bHRpcGx5QWxwaGFSR0JBQXJyYXksdSBhcyB3cml0ZUNvbG9yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgRSxULEksTCxBLF8sUzshZnVuY3Rpb24oRSl7RVtFLkZJTEw9MF09XCJGSUxMXCIsRVtFLkxJTkU9MV09XCJMSU5FXCIsRVtFLk1BUktFUj0yXT1cIk1BUktFUlwiLEVbRS5URVhUPTNdPVwiVEVYVFwiLEVbRS5MQUJFTD00XT1cIkxBQkVMXCJ9KEV8fChFPXt9KSksZnVuY3Rpb24oRSl7RVtFLk5PTkU9MF09XCJOT05FXCIsRVtFLk1BUD0xXT1cIk1BUFwiLEVbRS5MQUJFTD0yXT1cIkxBQkVMXCIsRVtFLkxBQkVMX0FMUEhBPTRdPVwiTEFCRUxfQUxQSEFcIixFW0UuSElUVEVTVD04XT1cIkhJVFRFU1RcIixFW0UuSElHSExJR0hUPTE2XT1cIkhJR0hMSUdIVFwiLEVbRS5DTElQPTMyXT1cIkNMSVBcIixFW0UuREVCVUc9NjRdPVwiREVCVUdcIixFW0UuTlVNX0RSQVdfUEhBU0VTPTldPVwiTlVNX0RSQVdfUEhBU0VTXCJ9KFR8fChUPXt9KSksZnVuY3Rpb24oRSl7RVtFLlNJWkU9MF09XCJTSVpFXCIsRVtFLkNPTE9SPTFdPVwiQ09MT1JcIixFW0UuT1BBQ0lUWT0yXT1cIk9QQUNJVFlcIixFW0UuUk9UQVRJT049M109XCJST1RBVElPTlwifShJfHwoST17fSkpLGZ1bmN0aW9uKEUpe0VbRS5OT05FPTBdPVwiTk9ORVwiLEVbRS5PUEFDSVRZPTFdPVwiT1BBQ0lUWVwiLEVbRS5DT0xPUj0yXT1cIkNPTE9SXCIsRVtFLlJPVEFUSU9OPTRdPVwiUk9UQVRJT05cIixFW0UuU0laRV9NSU5NQVhfVkFMVUU9OF09XCJTSVpFX01JTk1BWF9WQUxVRVwiLEVbRS5TSVpFX1NDQUxFX1NUT1BTPTE2XT1cIlNJWkVfU0NBTEVfU1RPUFNcIixFW0UuU0laRV9GSUVMRF9TVE9QUz0zMl09XCJTSVpFX0ZJRUxEX1NUT1BTXCIsRVtFLlNJWkVfVU5JVF9WQUxVRT02NF09XCJTSVpFX1VOSVRfVkFMVUVcIn0oTHx8KEw9e30pKSxmdW5jdGlvbihFKXtFW0UuTUlOTUFYX1RBUkdFVFNfT1VUTElORT0xMjhdPVwiTUlOTUFYX1RBUkdFVFNfT1VUTElORVwiLEVbRS5TQ0FMRV9UQVJHRVRTX09VVExJTkU9MjU2XT1cIlNDQUxFX1RBUkdFVFNfT1VUTElORVwiLEVbRS5GSUVMRF9UQVJHRVRTX09VVExJTkU9NTEyXT1cIkZJRUxEX1RBUkdFVFNfT1VUTElORVwiLEVbRS5VTklUX1RBUkdFVFNfT1VUTElORT0xMDI0XT1cIlVOSVRfVEFSR0VUU19PVVRMSU5FXCJ9KEF8fChBPXt9KSksZnVuY3Rpb24oRSl7RVtFLlNQUklURT0wXT1cIlNQUklURVwiLEVbRS5HTFlQSD0xXT1cIkdMWVBIXCJ9KF98fChfPXt9KSksZnVuY3Rpb24oRSl7RVtFLkRFRkFVTFQ9MF09XCJERUZBVUxUXCIsRVtFLlNJTVBMRT0xXT1cIlNJTVBMRVwiLEVbRS5ET1RfREVOU0lUWT0yXT1cIkRPVF9ERU5TSVRZXCIsRVtFLk9VVExJTkVfRklMTD0zXT1cIk9VVExJTkVfRklMTFwiLEVbRS5PVVRMSU5FX0ZJTExfU0lNUExFPTRdPVwiT1VUTElORV9GSUxMX1NJTVBMRVwiLEVbRS5IRUFUTUFQPTVdPVwiSEVBVE1BUFwiLEVbRS5QSUVfQ0hBUlQ9Nl09XCJQSUVfQ0hBUlRcIn0oU3x8KFM9e30pKTtleHBvcnR7XyBhcyBNb3NhaWNUeXBlLEkgYXMgVlZUeXBlLFQgYXMgV0dMRHJhd1BoYXNlLEUgYXMgV0dMR2VvbWV0cnlUeXBlLFMgYXMgV0dMU3ltYm9sb2d5VHlwZSxMIGFzIFdHTFZWRmxhZyxBIGFzIFdHTFZWVGFyZ2V0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBuPW5ldyBGbG9hdDMyQXJyYXkoMSkscj1uZXcgVWludDMyQXJyYXkobi5idWZmZXIpO2Z1bmN0aW9uIHQobixyLHQpe3JldHVybiBNYXRoLnJvdW5kKE1hdGgubWF4KE1hdGgubWluKG4sdCkscikpfWZ1bmN0aW9uIHUobil7cmV0dXJuIHQobiwtMTI4LDEyNyl9ZnVuY3Rpb24gZShuKXtyZXR1cm4gdChuLC0zMjc2OCwzMjc2Nyl9ZnVuY3Rpb24gbyhuKXtyZXR1cm4gdChuLC0yMTQ3NDgzNjQ4LDIxNDc0ODM2NDcpfWZ1bmN0aW9uIGYobil7cmV0dXJuIHQobiwwLDI1NSl9ZnVuY3Rpb24gaShuKXtyZXR1cm4gdChuLDAsNjU1MzUpfWZ1bmN0aW9uIGMobil7cmV0dXJuIHQobiwwLDQyOTQ5NjcyOTUpfWZ1bmN0aW9uIGEodCl7cmV0dXJuIG5bMF09dCxyWzBdfWZ1bmN0aW9uIGgodCl7cmV0dXJuIHJbMF09dCxuWzBdfWZ1bmN0aW9uIE0obil7cmV0dXJuWzI1NSZuLCg2NTI4MCZuKT4+PjgsKDE2NzExNjgwJm4pPj4+MTYsKDQyNzgxOTAwODAmbik+Pj4yNF19ZnVuY3Rpb24gbShuLHIpe3JldHVybiAxNSZufCgxNSZyKTw8NH1mdW5jdGlvbiB3KG4scil7cmV0dXJuIDY1NTM1Jm58cjw8MTZ9ZnVuY3Rpb24geChuLHIsdCx1KXtyZXR1cm4gMjU1Jm58KDI1NSZyKTw8OHwoMjU1JnQpPDwxNnx1PDwyNH1mdW5jdGlvbiB5KG4scix0KXtyZXR1cm4gMjU1Jm58KDI1NSZyKTw8OHx0PDwxNn1mdW5jdGlvbiBBKG4pe3JldHVybiAwfG59ZXhwb3J0e2UgYXMgaTE2LHcgYXMgaTE2MTZ0bzMyLG8gYXMgaTMyLHUgYXMgaTgseSBhcyBpODgxNnRvMzIseCBhcyBpODg4OHRvMzIsQSBhcyBudW1UbzMyLGggYXMgdG9GbG9hdDMyLGEgYXMgdG9VaW50MzIsaSBhcyB1MTYsYyBhcyB1MzIsTSBhcyB1MzJ0bzRYdTgsbSBhcyB1NHU0dG84LGYgYXMgdTh9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG49KG4sbCk9Pm4mJigoLi4ubik9Pmwud2FybihcIkRFQlVHOlwiLC4uLm4pKXx8KCgpPT5udWxsKSxsPSExO2V4cG9ydHtsIGFzIERFQlVHX0FUVFJfVVBEQVRFUyxuIGFzIGNyZWF0ZURlYnVnTG9nZ2VyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7V0dMVlZGbGFnIGFzIGl9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtpc051bWJlciBhcyByfWZyb21cIi4vVXRpbHMuanNcIjtmdW5jdGlvbiBsKGwpe3JldHVybiByKGwubWluRGF0YVZhbHVlKSYmcihsLm1heERhdGFWYWx1ZSkmJm51bGwhPWwubWluU2l6ZSYmbnVsbCE9bC5tYXhTaXplP2kuU0laRV9NSU5NQVhfVkFMVUU6KGwuZXhwcmVzc2lvbiYmXCJ2aWV3LnNjYWxlXCI9PT1sLmV4cHJlc3Npb258fGwudmFsdWVFeHByZXNzaW9uJiZcIiR2aWV3LnNjYWxlXCI9PT1sLnZhbHVlRXhwcmVzc2lvbikmJkFycmF5LmlzQXJyYXkobC5zdG9wcyk/aS5TSVpFX1NDQUxFX1NUT1BTOihudWxsIT1sLmZpZWxkfHxsLmV4cHJlc3Npb24mJlwidmlldy5zY2FsZVwiIT09bC5leHByZXNzaW9ufHxsLnZhbHVlRXhwcmVzc2lvbiYmXCIkdmlldy5zY2FsZVwiIT09bC52YWx1ZUV4cHJlc3Npb24pJiYoQXJyYXkuaXNBcnJheShsLnN0b3BzKXx8XCJsZXZlbHNcImluIGwmJmwubGV2ZWxzKT9pLlNJWkVfRklFTERfU1RPUFM6KG51bGwhPWwuZmllbGR8fGwuZXhwcmVzc2lvbiYmXCJ2aWV3LnNjYWxlXCIhPT1sLmV4cHJlc3Npb258fGwudmFsdWVFeHByZXNzaW9uJiZcIiR2aWV3LnNjYWxlXCIhPT1sLnZhbHVlRXhwcmVzc2lvbikmJm51bGwhPWwudmFsdWVVbml0P2kuU0laRV9VTklUX1ZBTFVFOihzLmdldExvZ2dlcihcImVzcmkudmlld3MuMmQuZW5naW5lLndlYmdsXCIpLmVycm9yKG5ldyBlKFwibWFwdmlldy1iYWQtdHlwZVwiLFwiRm91bmQgaW52YWxpZCBzaXplIFZpc3VhbFZhcmlhYmxlXCIsbCkpLGkuTk9ORSl9ZXhwb3J0e2wgYXMgZ2V0VHlwZU9mU2l6ZVZpc3VhbFZhcmlhYmxlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0NpcmN1bGFyQXJyYXkuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3IgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvcmJ1c2guanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGEsZnJvbVJlY3RWYWx1ZXMgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7U3RvcmUyRCBhcyBufWZyb21cIi4vU3RvcmUyRC5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySW5kaXJlY3QgYXMgaX1mcm9tXCIuL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlclBCRkluZGlyZWN0LmpzXCI7Y29uc3Qgbz1hKCk7ZnVuY3Rpb24gZCh0LGUpe3JldHVybiB0PDwxNnxlfWZ1bmN0aW9uIGgodCl7cmV0dXJuKDQyOTQ5MDE3NjAmdCk+Pj4xNn1mdW5jdGlvbiBjKHQpe3JldHVybiA2NTUzNSZ0fWNvbnN0IEk9e2dldE9iamVjdElkOnQ9PnQuZ2V0T2JqZWN0SWQoKSxnZXRBdHRyaWJ1dGVzOnQ9PnQucmVhZEF0dHJpYnV0ZXMoKSxnZXRBdHRyaWJ1dGU6KHQsZSk9PnQucmVhZEF0dHJpYnV0ZShlKSxjbG9uZVdpdGhHZW9tZXRyeToodCxlKT0+dCxnZXRHZW9tZXRyeTp0PT50LnJlYWRIeWRyYXRlZEdlb21ldHJ5KCksZ2V0Q2VudHJvaWQ6KHQsZSk9PnQucmVhZENlbnRyb2lkKCl9O2NsYXNzIHUgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGEscixuKXtzdXBlcihhLHIpLHRoaXMuZmVhdHVyZUFkYXB0ZXI9SSx0aGlzLmV2ZW50cz1uZXcgZSx0aGlzLl9mZWF0dXJlU2V0c0J5SW5zdGFuY2U9bmV3IE1hcCx0aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkPW5ldyBNYXAsdGhpcy5fc3BhdGlhbEluZGV4SW52YWxpZD0hMCx0aGlzLl9pbmRleFNlYXJjaENhY2hlPW5ldyB0KDUwKSx0aGlzLl9pbmRleD1zKDksKHQ9Pih7bWluWDp0aGlzLl9zdG9yYWdlLmdldFhNaW4odCksbWluWTp0aGlzLl9zdG9yYWdlLmdldFlNaW4odCksbWF4WDp0aGlzLl9zdG9yYWdlLmdldFhNYXgodCksbWF4WTp0aGlzLl9zdG9yYWdlLmdldFlNYXgodCl9KSkpLHRoaXMubW9kZT1ufWdldCBzdG9yZVN0YXRpc3RpY3MoKXtsZXQgdD0wLGU9MCxzPTA7cmV0dXJuIHRoaXMuZm9yRWFjaCgoYT0+e2NvbnN0IHI9YS5yZWFkR2VvbWV0cnkoKTtyJiYoZSs9ci5pc1BvaW50PzE6ci5sZW5ndGhzLnJlZHVjZSgoKHQsZSk9PnQrZSksMCkscys9ci5pc1BvaW50PzE6ci5sZW5ndGhzLmxlbmd0aCx0Kz0xKX0pKSx7ZmVhdHVyZUNvdW50OnQsdmVydGV4Q291bnQ6ZSxyaW5nQ291bnQ6c319aGFzSW5zdGFuY2UodCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVTZXRzQnlJbnN0YW5jZS5oYXModCl9b25UaWxlRGF0YSh0LGUpe2lmKG51bGw9PWUuYWRkT3JVcGRhdGUpcmV0dXJuIGU7aWYoZS5hZGRPclVwZGF0ZS5hdHRhY2hTdG9yYWdlKHRoaXMuX3N0b3JhZ2UpLFwic25hcHNob3RcIj09PXRoaXMubW9kZSl7Y29uc3Qgcz1lLmFkZE9yVXBkYXRlLmdldEN1cnNvcigpO2Zvcig7cy5uZXh0KCk7KXtjb25zdCBlPXMuZ2V0RGlzcGxheUlkKCk7dGhpcy5zZXRDb21wdXRlZEF0dHJpYnV0ZXModGhpcy5fc3RvcmFnZSxzLGUsdC5zY2FsZSl9cmV0dXJuIGV9dGhpcy5fZmVhdHVyZVNldHNCeUluc3RhbmNlLnNldChlLmFkZE9yVXBkYXRlLmluc3RhbmNlLGUuYWRkT3JVcGRhdGUpO2NvbnN0IHM9ZS5hZGRPclVwZGF0ZS5nZXRDdXJzb3IoKTtmb3IoO3MubmV4dCgpOyl0aGlzLl9pbnNlcnRGZWF0dXJlKHMsdC5zY2FsZSk7cmV0dXJuIHRoaXMuX3NwYXRpYWxJbmRleEludmFsaWQ9ITAsdGhpcy5ldmVudHMuZW1pdChcImNoYW5nZWRcIiksZX1zZWFyY2godCl7dGhpcy5fcmVidWlsZEluZGV4KCk7Y29uc3QgZT10LmlkLHM9dGhpcy5faW5kZXhTZWFyY2hDYWNoZS5maW5kKCh0PT50LnRpbGVJZD09PWUpKTtpZihudWxsIT1zKXJldHVybiBzLnJlYWRlcnM7Y29uc3QgYT1uZXcgTWFwLHI9dGhpcy5fc2VhcmNoSW5kZXgodC5ib3VuZHMpLG49W107Zm9yKGNvbnN0IGkgb2Ygcil7Y29uc3QgdD10aGlzLl9zdG9yYWdlLmdldEluc3RhbmNlSWQoaSksZT1oKHQpLHM9Yyh0KTthLmhhcyhlKXx8YS5zZXQoZSxbXSk7YS5nZXQoZSkucHVzaChzKX1yZXR1cm4gYS5mb3JFYWNoKCgodCxlKT0+e2NvbnN0IHM9dGhpcy5fZmVhdHVyZVNldHNCeUluc3RhbmNlLmdldChlKTtuLnB1c2goaS5mcm9tKHMsdCkpfSkpLHRoaXMuX2luZGV4U2VhcmNoQ2FjaGUuZW5xdWV1ZSh7dGlsZUlkOmUscmVhZGVyczpufSksbn1pbnNlcnQodCl7Y29uc3QgZT10LmdldEN1cnNvcigpLHM9dGhpcy5fc3RvcmFnZTtmb3IoO2UubmV4dCgpOyl7Y29uc3QgdD1kKGUuaW5zdGFuY2UsZS5nZXRJbmRleCgpKSxhPWUuZ2V0T2JqZWN0SWQoKSxyPXRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZ2V0KGEpPz90aGlzLl9zdG9yYWdlLmNyZWF0ZURpc3BsYXlJZCgpO2Uuc2V0RGlzcGxheUlkKHIpLHMuc2V0SW5zdGFuY2VJZChyLHQpLHRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuc2V0KGEscil9dGhpcy5fZmVhdHVyZVNldHNCeUluc3RhbmNlLnNldCh0Lmluc3RhbmNlLHQpLHRoaXMuX3NwYXRpYWxJbmRleEludmFsaWQ9ITB9cmVtb3ZlKHQpe2NvbnN0IGU9dGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZC5nZXQodCk7aWYoIWUpcmV0dXJuO2NvbnN0IHM9dGhpcy5fc3RvcmFnZS5nZXRJbnN0YW5jZUlkKGUpLGE9YyhzKSxyPWgocyksbj10aGlzLl9mZWF0dXJlU2V0c0J5SW5zdGFuY2UuZ2V0KHIpO3RoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZGVsZXRlKHQpLHRoaXMuX3N0b3JhZ2UucmVsZWFzZURpc3BsYXlJZChlKSxuLnJlbW92ZUF0SW5kZXgoYSksbi5pc0VtcHR5JiZ0aGlzLl9mZWF0dXJlU2V0c0J5SW5zdGFuY2UuZGVsZXRlKHIpLHRoaXMuX3NwYXRpYWxJbmRleEludmFsaWQ9ITB9Zm9yRWFjaCh0KXt0aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkLmZvckVhY2goKGU9Pntjb25zdCBzPXRoaXMuX3N0b3JhZ2UuZ2V0SW5zdGFuY2VJZChlKSxhPXRoaXMuX2xvb2t1cEZlYXR1cmUocyk7dChhKX0pKX1mb3JFYWNoVW5zYWZlKHQpe3RoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZm9yRWFjaCgoZT0+e2NvbnN0IHM9dGhpcy5fc3RvcmFnZS5nZXRJbnN0YW5jZUlkKGUpLGE9aChzKSxyPWMocyksbj10aGlzLl9nZXRGZWF0dXJlU2V0KGEpO24uc2V0SW5kZXgociksdChuKX0pKX1mb3JFYWNoSW5Cb3VuZHModCxlKXtjb25zdCBzPXRoaXMuX3NlYXJjaEluZGV4KHQpO2Zvcihjb25zdCBhIG9mIHMpe2UodGhpcy5sb29rdXBGZWF0dXJlQnlEaXNwbGF5SWQoYSx0aGlzLl9zdG9yYWdlKSl9fWZvckVhY2hCb3VuZHModCxlKXt0aGlzLl9yZWJ1aWxkSW5kZXgoKTtmb3IoY29uc3QgcyBvZiB0KXtpZighcy5yZWFkR2VvbWV0cnkoKSljb250aW51ZTtjb25zdCB0PXMuZ2V0RGlzcGxheUlkKCk7cihvLHRoaXMuX3N0b3JhZ2UuZ2V0WE1pbih0KSx0aGlzLl9zdG9yYWdlLmdldFlNaW4odCksdGhpcy5fc3RvcmFnZS5nZXRYTWF4KHQpLHRoaXMuX3N0b3JhZ2UuZ2V0WU1heCh0KSksZShvKX19c3dlZXBGZWF0dXJlcyh0LGUscyl7dGhpcy5fc3BhdGlhbEluZGV4SW52YWxpZD0hMCx0aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkLmZvckVhY2goKChhLHIpPT57dC5oYXMoYSl8fChlLnJlbGVhc2VEaXNwbGF5SWQoYSkscyYmcy51bnNldEF0dHJpYnV0ZURhdGEoYSksdGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZC5kZWxldGUocikpfSkpLHRoaXMuZXZlbnRzLmVtaXQoXCJjaGFuZ2VkXCIpfXN3ZWVwRmVhdHVyZVNldHModCl7dGhpcy5fc3BhdGlhbEluZGV4SW52YWxpZD0hMCx0aGlzLl9mZWF0dXJlU2V0c0J5SW5zdGFuY2UuZm9yRWFjaCgoKGUscyk9Pnt0LmhhcyhzKXx8dGhpcy5fZmVhdHVyZVNldHNCeUluc3RhbmNlLmRlbGV0ZShzKX0pKX1sb29rdXBPYmplY3RJZCh0LGUpe2NvbnN0IHM9dGhpcy5sb29rdXBGZWF0dXJlQnlEaXNwbGF5SWQodCxlKTtyZXR1cm4gbnVsbD09cz9udWxsOnMuZ2V0T2JqZWN0SWQoKX1sb29rdXBEaXNwbGF5SWQodCl7cmV0dXJuIHRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZ2V0KHQpfWxvb2t1cEZlYXR1cmVCeURpc3BsYXlJZCh0LGUpe2NvbnN0IHM9ZS5nZXRJbnN0YW5jZUlkKHQpO3JldHVybiB0aGlzLl9sb29rdXBGZWF0dXJlKHMpfWxvb2t1cEJ5RGlzcGxheUlkVW5zYWZlKHQpe2NvbnN0IGU9dGhpcy5fc3RvcmFnZS5nZXRJbnN0YW5jZUlkKHQpLHM9aChlKSxhPWMoZSkscj10aGlzLl9nZXRGZWF0dXJlU2V0KHMpO3JldHVybiByPyhyLnNldEluZGV4KGEpLHIpOm51bGx9X2luc2VydEZlYXR1cmUodCxlKXtjb25zdCBzPXRoaXMuX3N0b3JhZ2UsYT10LmdldE9iamVjdElkKCkscj1kKHQuaW5zdGFuY2UsdC5nZXRJbmRleCgpKTtzLmdldEluc3RhbmNlSWQodC5nZXREaXNwbGF5SWQoKSk7bGV0IG49dGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZC5nZXQoYSk7bnx8KG49cy5jcmVhdGVEaXNwbGF5SWQoKSx0aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkLnNldChhLG4pLHRoaXMuX3NwYXRpYWxJbmRleEludmFsaWQ9ITApLHQuc2V0RGlzcGxheUlkKG4pLHMuc2V0SW5zdGFuY2VJZChuLHIpLHRoaXMuc2V0Q29tcHV0ZWRBdHRyaWJ1dGVzKHMsdCxuLGUpfV9zZWFyY2hJbmRleCh0KXt0aGlzLl9yZWJ1aWxkSW5kZXgoKTtjb25zdCBlPXttaW5YOnRbMF0sbWluWTp0WzFdLG1heFg6dFsyXSxtYXhZOnRbM119O3JldHVybiB0aGlzLl9pbmRleC5zZWFyY2goZSl9X3JlYnVpbGRJbmRleCgpe2lmKCF0aGlzLl9zcGF0aWFsSW5kZXhJbnZhbGlkKXJldHVybjtjb25zdCB0PVtdO1wic25hcHNob3RcIj09PXRoaXMubW9kZT90aGlzLl9mZWF0dXJlU2V0c0J5SW5zdGFuY2UuZm9yRWFjaCgoZT0+e2NvbnN0IHM9ZS5nZXRDdXJzb3IoKTtmb3IoO3MubmV4dCgpOyl7Y29uc3QgZT1zLmdldERpc3BsYXlJZCgpO3RoaXMuX3N0b3JhZ2Uuc2V0Qm91bmRzKGUscykmJnQucHVzaChlKX19KSk6dGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZC5mb3JFYWNoKChlPT57Y29uc3Qgcz10aGlzLl9zdG9yYWdlLmdldEluc3RhbmNlSWQoZSk7dGhpcy5fc3RvcmFnZS5zZXRCb3VuZHMoZSx0aGlzLl9sb29rdXBGZWF0dXJlKHMpKSYmdC5wdXNoKGUpfSkpLHRoaXMuX2luZGV4LmNsZWFyKCksdGhpcy5faW5kZXgubG9hZCh0KSx0aGlzLl9pbmRleFNlYXJjaENhY2hlLmNsZWFyKCksdGhpcy5fc3BhdGlhbEluZGV4SW52YWxpZD0hMX1fbG9va3VwRmVhdHVyZSh0KXtjb25zdCBlPWgodCkscz10aGlzLl9nZXRGZWF0dXJlU2V0KGUpO2lmKCFzKXJldHVybjtjb25zdCBhPXMuZ2V0Q3Vyc29yKCkscj1jKHQpO3JldHVybiBhLnNldEluZGV4KHIpLGF9X2dldEZlYXR1cmVTZXQodCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVTZXRzQnlJbnN0YW5jZS5nZXQodCl9fWV4cG9ydHt1IGFzIEZlYXR1cmVTdG9yZTJELEkgYXMgZmVhdHVyZUFkYXB0ZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtIYW5kbGVPd25lciBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvSGFuZGxlT3duZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtlcXVhbHMgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L1RpbGVJbmZvLmpzXCI7aW1wb3J0e2xvYWRQcm9jZXNzb3JNb2R1bGUgYXMgbn1mcm9tXCIuL3Byb2Nlc3NvcnMuanNcIjtpbXBvcnQgYSBmcm9tXCIuL2NvbnRyb2xsZXJzL0ZlYXR1cmVDb250cm9sbGVyMkQuanNcIjtpbXBvcnQgYyBmcm9tXCIuL3N1cHBvcnQvVGlsZVN0b3JlLmpzXCI7aW1wb3J0e1VwZGF0ZVRva2VuIGFzIHB9ZnJvbVwiLi9zdXBwb3J0L1VwZGF0ZVRva2VuLmpzXCI7aW1wb3J0IGggZnJvbVwiLi4vLi4vdGlsaW5nL1RpbGVJbmZvVmlldy5qc1wiO2xldCBkPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5jb250cm9sbGVyPW51bGwsdGhpcy5wcm9jZXNzb3I9bnVsbCx0aGlzLnJlbW90ZUNsaWVudD1udWxsLHRoaXMudGlsZVN0b3JlPW51bGwsdGhpcy5zZXJ2aWNlPW51bGwsdGhpcy52aWV3U3RhdGU9bnVsbCx0aGlzLl9wYXVzZWQ9ITEsdGhpcy5fcGVuZGluZ1RpbGVVcGRhdGVzPVtdfWluaXRpYWxpemUoKXt0aGlzLmhhbmRsZXMuYWRkKHIoKCgpPT50aGlzLnVwZGF0aW5nKSwoZT0+e3RoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcInNldFVwZGF0aW5nXCIsZSkuY2F0Y2goKGU9Pnt9KSl9KSkpfWRlc3Ryb3koKXt0aGlzLnN0b3AoKSx0aGlzLmNvbnRyb2xsZXI/LmRlc3Ryb3koKSx0aGlzLnByb2Nlc3Nvcj8uZGVzdHJveSgpLHRoaXMuY29udHJvbGxlcj10aGlzLnByb2Nlc3Nvcj10aGlzLnRpbGVTdG9yZT10aGlzLnJlbW90ZUNsaWVudD1udWxsfWdldCB1cGRhdGluZygpe3JldHVybiF0aGlzLmNvbnRyb2xsZXJ8fHRoaXMuY29udHJvbGxlci51cGRhdGluZ31zdG9wKCl7dGhpcy5fcGF1c2VkPSEwLEFycmF5LmlzQXJyYXkodGhpcy5zZXJ2aWNlPy5zb3VyY2UpJiYodGhpcy5zZXJ2aWNlLnNvdXJjZS5mb3JFYWNoKChlPT5lLmNsb3NlKCkpKSx0aGlzLnNlcnZpY2Uuc291cmNlLmxlbmd0aD0wKSx0aGlzLnRpbGVTdG9yZT8udXBkYXRlVGlsZXMoe2FkZGVkOltdLHJlbW92ZWQ6dGhpcy50aWxlU3RvcmUudGlsZXMubWFwKChlPT5lLmlkKSl9KSx0aGlzLnRpbGVTdG9yZT8uZGVzdHJveSgpLHRoaXMudGlsZVN0b3JlPW51bGwsdGhpcy5fcGVuZGluZ1RpbGVVcGRhdGVzLmxlbmd0aD0wfWFzeW5jIHN0YXJ0dXAoe3NlcnZpY2U6ZSxjb25maWc6dCx0aWxlSW5mbzpyLHRpbGVzOnN9KXtpZih0aGlzLl9wYXVzZWQ9ITAsQXJyYXkuaXNBcnJheSh0aGlzLnNlcnZpY2U/LnNvdXJjZSkmJih0aGlzLnNlcnZpY2Uuc291cmNlLmZvckVhY2goKGU9PmUuY2xvc2UoKSkpLHRoaXMuc2VydmljZS5zb3VyY2UubGVuZ3RoPTApLHRoaXMuc2VydmljZT1lLCF0aGlzLnRpbGVTdG9yZXx8IWkodGhpcy50aWxlU3RvcmUudGlsZVNjaGVtZS5zcGF0aWFsUmVmZXJlbmNlLHIuc3BhdGlhbFJlZmVyZW5jZSkpe2NvbnN0IGU9bmV3IGgobC5mcm9tSlNPTihyKSk7cy5hZGRlZC5sZW5ndGg9cy5yZW1vdmVkLmxlbmd0aD0wLHRoaXMudGlsZVN0b3JlPy51cGRhdGVUaWxlcyh7YWRkZWQ6W10scmVtb3ZlZDp0aGlzLnRpbGVTdG9yZS50aWxlcy5tYXAoKGU9PmUuaWQpKX0pLHRoaXMudGlsZVN0b3JlPy5kZXN0cm95KCksdGhpcy50aWxlU3RvcmU9bmV3IGMoZSksdGhpcy5fcGVuZGluZ1RpbGVVcGRhdGVzLmxlbmd0aD0wfWZvcihhd2FpdCB0aGlzLl9jcmVhdGVQcm9jZXNzb3JBbmRDb250cm9sbGVyKHQpLGF3YWl0IHRoaXMudXBkYXRlKHtjb25maWc6dH0pLHRoaXMuY29udHJvbGxlci5yZXN1bWUoKSx0aGlzLnRpbGVTdG9yZS5jbGVhcigpLHRoaXMudGlsZVN0b3JlLnVwZGF0ZVRpbGVzKHMpLHRoaXMuX3BhdXNlZD0hMTt0aGlzLl9wZW5kaW5nVGlsZVVwZGF0ZXMubGVuZ3RoOyl0aGlzLnRpbGVTdG9yZS51cGRhdGVUaWxlcyh0aGlzLl9wZW5kaW5nVGlsZVVwZGF0ZXMucG9wKCkpfWFzeW5jIHVwZGF0ZVRpbGVzKGUpe3RoaXMuX3BhdXNlZD90aGlzLl9wZW5kaW5nVGlsZVVwZGF0ZXMucHVzaChlKTp0aGlzLnRpbGVTdG9yZT8udXBkYXRlVGlsZXMoZSl9YXN5bmMgdXBkYXRlKHtjb25maWc6ZX0pe2NvbnN0IHQ9cC5lbXB0eSgpO3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wcm9jZXNzb3IudXBkYXRlKHQsZSksdGhpcy5jb250cm9sbGVyLnVwZGF0ZSh0LGUpXSksdC50b0pTT04oKX1hc3luYyBhcHBseVVwZGF0ZShlKXtyZXR1cm4gdGhpcy5jb250cm9sbGVyLmFwcGx5VXBkYXRlKHAuY3JlYXRlKGUpKX1hc3luYyBfY3JlYXRlUHJvY2Vzc29yQW5kQ29udHJvbGxlcihlKXthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5faGFuZGxlQ29udHJvbGxlckNvbmZpZyhlKSx0aGlzLl9oYW5kbGVQcm9jZXNzb3JDb25maWcoZSldKSx0aGlzLmNvbnRyb2xsZXIucHJvY2Vzc29yPXRoaXMucHJvY2Vzc29yfWFzeW5jIF9oYW5kbGVDb250cm9sbGVyQ29uZmlnKGUpe3JldHVybiB0aGlzLl9jcmVhdGVDb250cm9sbGVyKHRoaXMuc2VydmljZSxlKX1hc3luYyBfaGFuZGxlUHJvY2Vzc29yQ29uZmlnKGUpe3JldHVybiB0aGlzLl9jcmVhdGVQcm9jZXNzb3IodGhpcy5zZXJ2aWNlLGUpfWFzeW5jIF9jcmVhdGVDb250cm9sbGVyKGUsdCl7dGhpcy5jb250cm9sbGVyJiZ0aGlzLmNvbnRyb2xsZXIuZGVzdHJveSgpO2NvbnN0e3RpbGVTdG9yZTpyLHJlbW90ZUNsaWVudDpzfT10aGlzLG89bmV3IGEoe3NlcnZpY2U6ZSx0aWxlU3RvcmU6cixyZW1vdGVDbGllbnQ6c30pO3JldHVybiB0aGlzLmNvbnRyb2xsZXI9byxvfWFzeW5jIF9jcmVhdGVQcm9jZXNzb3IoZSx0KXtjb25zdCByPXQuc2NoZW1hLnByb2Nlc3NvcnNbMF0udHlwZSxzPShhd2FpdCBuKHIpKS5kZWZhdWx0LHtyZW1vdGVDbGllbnQ6byx0aWxlU3RvcmU6aX09dGhpcyxsPW5ldyBzKHtzZXJ2aWNlOmUsY29uZmlnOnQsdGlsZVN0b3JlOmkscmVtb3RlQ2xpZW50Om99KTtyZXR1cm4gdGhpcy5wcm9jZXNzb3ImJnRoaXMucHJvY2Vzc29yLmRlc3Ryb3koKSx0aGlzLnByb2Nlc3Nvcj1sLGx9fTtlKFtzKCldLGQucHJvdG90eXBlLFwiY29udHJvbGxlclwiLHZvaWQgMCksZShbcygpXSxkLnByb3RvdHlwZSxcInByb2Nlc3NvclwiLHZvaWQgMCksZShbcygpXSxkLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbcygpXSxkLnByb3RvdHlwZSxcInZpZXdTdGF0ZVwiLHZvaWQgMCksZD1lKFtvKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMuUGlwZWxpbmVcIildLGQpO2NvbnN0IHU9ZDtleHBvcnR7dSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2RpZmYgYXMgZSxoYXNEaWZmIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGlmZlV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZVJlbmRlcmVyRXhwcmVzc2lvbiBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL3N1cHBvcnQvYXJjYWRlT25EZW1hbmQuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi9hcmNhZGUvY2FsbEV4cHJlc3Npb25XaXRoQ3Vyc29yLmpzXCI7Y2xhc3MgYXtjb25zdHJ1Y3RvcihlLHMpe3RoaXMuX2NhbkNhY2hlRXhwcmVzc2lvblZhbHVlPSExLHRoaXMuX3NvdXJjZUluZm89ZSx0aGlzLl9zdG9yYWdlPXMsdGhpcy5fYml0c2V0cz17Y29tcHV0ZWQ6cy5nZXRCaXRzZXQocy5jcmVhdGVCaXRzZXQoKSl9fWdldCBzdG9yYWdlKCl7cmV0dXJuIHRoaXMuX3N0b3JhZ2V9aW52YWxpZGF0ZSgpe3RoaXMuX2JpdHNldHMuY29tcHV0ZWQuY2xlYXIoKX1hc3luYyB1cGRhdGVTY2hlbWEodCxpKXtjb25zdCBhPWUodGhpcy5fc2NoZW1hLGkpO2lmKHRoaXMuX3NjaGVtYT1pLCFpfHxudWxsPT1hfHwhcyhhLFwiYXR0cmlidXRlc1wiKSlyZXR1cm47aGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBcHBseWluZyBVcGRhdGUgLSBTdG9yZTpcIixhKSx0aGlzLl9iaXRzZXRzLmNvbXB1dGVkLmNsZWFyKCksdC50YXJnZXRzW2kubmFtZV09ITA7Y29uc3Qgcj1pLmF0dHJpYnV0ZXMsbz1bXSxjPVtdO2Zvcihjb25zdCBlIGluIHIpe2NvbnN0IHM9cltlXTtzd2l0Y2gocy50eXBlKXtjYXNlXCJmaWVsZFwiOmJyZWFrO2Nhc2VcImV4cHJlc3Npb25cIjpvLnB1c2godGhpcy5fY3JlYXRlQXJjYWRlQ29tcHV0ZWRGaWVsZChzKSk7YnJlYWs7Y2FzZVwibGFiZWwtZXhwcmVzc2lvblwiOm8ucHVzaCh0aGlzLl9jcmVhdGVMYWJlbEFyY2FkZUNvbXB1dGVkRmllbGQocykpO2JyZWFrO2Nhc2VcInN0YXRpc3RpY1wiOmMucHVzaChzKX19dGhpcy5fY29tcHV0ZWRGaWVsZHM9YXdhaXQgUHJvbWlzZS5hbGwobyksdGhpcy5fY2FuQ2FjaGVFeHByZXNzaW9uVmFsdWU9IXRoaXMuX2NvbXB1dGVkRmllbGRzLnNvbWUoKGU9PlwiZXhwcmVzc2lvblwiPT09ZS50eXBlJiZudWxsIT1lLmV4cHJlc3Npb24mJmUuZXhwcmVzc2lvbi5yZWZlcmVuY2VzU2NhbGUoKSkpLHRoaXMuX3N0YXRpc3RpY0ZpZWxkcz1jfXNldENvbXB1dGVkQXR0cmlidXRlcyhlLHMsdCxpKXtjb25zdCBhPXRoaXMuX2JpdHNldHMuY29tcHV0ZWQ7aWYoIXRoaXMuX2NhbkNhY2hlRXhwcmVzc2lvblZhbHVlfHwhYS5oYXModCkpe2Euc2V0KHQpO2Zvcihjb25zdCBhIG9mIHRoaXMuX2NvbXB1dGVkRmllbGRzKXtjb25zdCByPXRoaXMuX2V2YWx1YXRlRmllbGQocyxhLGkpO3N3aXRjaChhLnJlc3VsdFR5cGUpe2Nhc2VcIm51bWVyaWNcIjplLnNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgodCxhLmZpZWxkSW5kZXgscik7YnJlYWs7Y2FzZVwic3RyaW5nXCI6ZS5zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgodCxhLmZpZWxkSW5kZXgscil9fX19YXN5bmMgX2NyZWF0ZUFyY2FkZUNvbXB1dGVkRmllbGQoZSl7Y29uc3Qgcz10aGlzLl9zb3VyY2VJbmZvLnNwYXRpYWxSZWZlcmVuY2UsaT10aGlzLl9zb3VyY2VJbmZvLmZpZWxkc0luZGV4O3JldHVybnsuLi5lLGV4cHJlc3Npb246YXdhaXQgdChlLnZhbHVlRXhwcmVzc2lvbixzLGkpfX1hc3luYyBfY3JlYXRlTGFiZWxBcmNhZGVDb21wdXRlZEZpZWxkKGUpe2NvbnN0IHM9dGhpcy5fc291cmNlSW5mby5zcGF0aWFsUmVmZXJlbmNlLHQ9dGhpcy5fc291cmNlSW5mby5maWVsZHNJbmRleCx7Y3JlYXRlTGFiZWxGdW5jdGlvbjppfT1hd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9sYWJlbEZvcm1hdFV0aWxzLmpzXCIpLGE9YXdhaXQgaShlLmxhYmVsLHQscyk7cmV0dXJuey4uLmUsYnVpbGRlcjphfX1fZXZhbHVhdGVGaWVsZChlLHMsdCl7c3dpdGNoKHMudHlwZSl7Y2FzZVwibGFiZWwtZXhwcmVzc2lvblwiOntjb25zdCB0PWUucmVhZEFyY2FkZUZlYXR1cmUoKTtyZXR1cm4gcy5idWlsZGVyLmV2YWx1YXRlKHQpfHxcIlwifWNhc2VcImV4cHJlc3Npb25cIjp7Y29uc3R7ZXhwcmVzc2lvbjphfT1zO3JldHVybiBpKGEsZSx7JHZpZXc6e3NjYWxlOnR9fSl9fX19ZXhwb3J0e2EgYXMgU3RvcmUyRH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e2lzU29tZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtIYW5kbGVPd25lciBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvSGFuZGxlT3duZXIuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2FwcGx5U29tZSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7aWdub3JlQWJvcnRFcnJvcnMgYXMgaSxhZnRlciBhcyBhLHRocm93SWZBYm9ydGVkIGFzIG8sdGhyb3dJZk5vdEFib3J0RXJyb3IgYXMgbixpc0Fib3J0RXJyb3IgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3aGVuIGFzIGcsd2F0Y2ggYXMgbCx3aGVuT25jZSBhcyBkfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBofWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2NvbnZlcnRUb0dlb21ldHJ5IGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7UXVlcnlFbmdpbmUgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9RdWVyeUVuZ2luZS5qc1wiO2ltcG9ydCBmIGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0ZpZWxkc0luZGV4LmpzXCI7aW1wb3J0e0ZlYXR1cmVTdG9yZTJEIGFzIG19ZnJvbVwiLi4vRmVhdHVyZVN0b3JlMkQuanNcIjtpbXBvcnR7Y3JlYXRlU291cmNlIGFzIFN9ZnJvbVwiLi4vc291cmNlcy9jcmVhdGVTb3VyY2UuanNcIjtpbXBvcnQgXyBmcm9tXCIuLi9zdXBwb3J0L0F0dHJpYnV0ZVN0b3JlLmpzXCI7aW1wb3J0e0JpblN0b3JlIGFzIGJ9ZnJvbVwiLi4vc3VwcG9ydC9CaW5TdG9yZS5qc1wiO2ltcG9ydHtDbHVzdGVyU3RvcmUgYXMgdn1mcm9tXCIuLi9zdXBwb3J0L0NsdXN0ZXJTdG9yZS5qc1wiO2ltcG9ydHtDb21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2UgYXMgSX1mcm9tXCIuLi9zdXBwb3J0L0NvbXB1dGVkQXR0cmlidXRlU3RvcmFnZS5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyBRfWZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtpbXBvcnR7VXBkYXRlVG9rZW4gYXMgQ31mcm9tXCIuLi9zdXBwb3J0L1VwZGF0ZVRva2VuLmpzXCI7aW1wb3J0e1F1ZXVlUHJvY2Vzc29yIGFzIEZ9ZnJvbVwiLi4vLi4vLi4vLi4vc3VwcG9ydC9RdWV1ZVByb2Nlc3Nvci5qc1wiO2NvbnN0IEU9NWUzLHc9XCJ0aWxlUmVuZGVyZXIuZmVhdHVyZXNWaWV3LmF0dHJpYnV0ZVZpZXcuaW5pdGlhbGl6ZVwiLFQ9XCJ0aWxlUmVuZGVyZXIuZmVhdHVyZXNWaWV3LmF0dHJpYnV0ZVZpZXcucmVxdWVzdFVwZGF0ZVwiLGo9XCJ0aWxlUmVuZGVyZXIuZmVhdHVyZXNWaWV3LnJlcXVlc3RSZW5kZXJcIjtmdW5jdGlvbiBrKGUpe3JldHVyblwid29ya2VyOnBvcnQtY2xvc2VkXCI9PT1lLm5hbWV9ZnVuY3Rpb24gQShlKXtpZighdShlKSYmIWsoZSkpdGhyb3cgZX1mdW5jdGlvbiB4KGUpe3JldHVyblwiZmVhdHVyZVwiPT09ZS50eXBlJiZcInNuYXBzaG90XCI9PT1lLm1vZGV9bGV0IFU9Y2xhc3MgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9zdG9yYWdlPW5ldyBJLHRoaXMuX21hcmtlZElkc0J1ZklkPXRoaXMuX3N0b3JhZ2UuY3JlYXRlQml0c2V0KCksdGhpcy5fbGFzdENsZWFudXA9cGVyZm9ybWFuY2Uubm93KCksdGhpcy5fY2xlYW51cE5lZWRlZD0hMSx0aGlzLl9pbnZhbGlkYXRlZD0hMSx0aGlzLl90aWxlVG9SZXNvbHZlcj1uZXcgTWFwLHRoaXMuX2RpZEVkaXQ9ITEsdGhpcy5fdXBkYXRlVmVyc2lvbj0xLHRoaXMudGlsZVN0b3JlPW51bGwsdGhpcy5jb25maWc9bnVsbCx0aGlzLnByb2Nlc3Nvcj1udWxsLHRoaXMucmVtb3RlQ2xpZW50PW51bGwsdGhpcy5zZXJ2aWNlPW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMuX2luaXRTdG9yZXMoKSx0aGlzLl9pbml0U291cmNlKCksdGhpcy5fdXBkYXRlUXVldWU9bmV3IEYoe2NvbmN1cnJlbmN5Olwic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZT8xOjQscHJvY2VzczooZSx0KT0+dGhpcy5fb25UaWxlTWVzc2FnZShlLHtzaWduYWw6dH0pfSksdGhpcy5hZGRIYW5kbGVzKFt0aGlzLnRpbGVTdG9yZS5vbihcInVwZGF0ZVwiLHRoaXMub25UaWxlVXBkYXRlLmJpbmQodGhpcykpLGcoKCgpPT4hdGhpcy51cGRhdGluZyksKCgpPT50aGlzLm9uSWRsZSgpKSldKX1faW5pdFNvdXJjZSgpe2NvbnN0IGU9dGhpcy50aWxlU3RvcmUudGlsZVNjaGVtZSx0PSgpPT50aGlzLl91cGRhdGVRdWV1ZSYmdGhpcy5fdXBkYXRlUXVldWUubGVuZ3RoPDUwLHI9KGUsdCk9Pih0aGlzLl9pbnZhbGlkYXRlZD0hMCx0aGlzLl9wYXRjaFRpbGUoZSx0KSk7dGhpcy5fc291cmNlPVModGhpcy5zZXJ2aWNlLHRoaXMuc3BhdGlhbFJlZmVyZW5jZSxlLHIsdCx0aGlzLmZlYXR1cmVTdG9yZSksdGhpcy5fcHJveHlFdmVudHMoKX1fc2V0U3RyZWFtQ2xpZW50UHJvcGVydHkoZSx0KXt0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJzZXRQcm9wZXJ0eVwiLHtwcm9wZXJ0eU5hbWU6ZSx2YWx1ZTp0fSkuY2F0Y2goQSl9X3Byb3h5RXZlbnRzKCl7aWYoXCJzdHJlYW1cIj09PXRoaXMuX3NvdXJjZS50eXBlKXtjb25zdCBlPXRoaXMuX3NvdXJjZS5ldmVudHMsdD10aGlzLl9zb3VyY2U7dGhpcy5hZGRIYW5kbGVzKFtsKCgoKT0+dC5jb25uZWN0aW9uU3RhdHVzKSwoZT0+dGhpcy5fc2V0U3RyZWFtQ2xpZW50UHJvcGVydHkoXCJwaXBlbGluZUNvbm5lY3Rpb25TdGF0dXNcIixlKSkse2luaXRpYWw6ITB9KSxsKCgoKT0+dC5lcnJvclN0cmluZyksKGU9PnRoaXMuX3NldFN0cmVhbUNsaWVudFByb3BlcnR5KFwicGlwZWxpbmVFcnJvclN0cmluZ1wiLGUpKSx7aW5pdGlhbDohMH0pLGUub24oXCJkYXRhLXJlY2VpdmVkXCIsKGU9PnRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcImVtaXRFdmVudFwiLHtuYW1lOlwiZGF0YS1yZWNlaXZlZFwiLGV2ZW50OnthdHRyaWJ1dGVzOmUuYXR0cmlidXRlcyxjZW50cm9pZDplLmNlbnRyb2lkLGdlb21ldHJ5OmUuZ2VvbWV0cnl9fSkuY2F0Y2goQSkpKSxlLm9uKFwibWVzc2FnZS1yZWNlaXZlZFwiLChlPT50aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJlbWl0RXZlbnRcIix7bmFtZTpcIm1lc3NhZ2UtcmVjZWl2ZWRcIixldmVudDplfSkuY2F0Y2goQSkpKSxlLm9uKFwidXBkYXRlUmF0ZVwiLChlPT50aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJlbWl0RXZlbnRcIix7bmFtZTpcInVwZGF0ZS1yYXRlXCIsZXZlbnQ6ey4uLmV9fSkuY2F0Y2goQSkpKV0pfX1faW5pdEF0dHJpYnV0ZVN0b3JlKGUpe3RoaXMuYXR0cmlidXRlU3RvcmV8fCh0aGlzLmF0dHJpYnV0ZVN0b3JlPW5ldyBfKHt0eXBlOlwicmVtb3RlXCIsaW5pdGlhbGl6ZTooZSx0KT0+aSh0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UodyxlLHtzaWduYWw6dH0pLmNhdGNoKEEpKSx1cGRhdGU6KGUsdCk9PmkodGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFQsZSx7c2lnbmFsOnR9KS5jYXRjaChBKSkscmVuZGVyOmU9PmkodGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKGosdm9pZCAwLHtzaWduYWw6ZX0pLmNhdGNoKEEpKX0sZSkpfV9pbml0U3RvcmVzKCl7Y29uc3QgZT1cInNuYXBzaG90XCI9PT10aGlzLnNlcnZpY2UudHlwZT9cInNuYXBzaG90XCI6XCJvbi1kZW1hbmRcIix0PXtnZW9tZXRyeUluZm86e2dlb21ldHJ5VHlwZTp0aGlzLnNlcnZpY2UuZ2VvbWV0cnlUeXBlLGhhc006ITEsaGFzWjohMX0sc3BhdGlhbFJlZmVyZW5jZTp0aGlzLnNwYXRpYWxSZWZlcmVuY2UsZmllbGRzSW5kZXg6dGhpcy5maWVsZHNJbmRleCxmaWVsZHM6dGhpcy5zZXJ2aWNlLmZpZWxkc307dGhpcy5mZWF0dXJlU3RvcmU9bmV3IG0odCx0aGlzLl9zdG9yYWdlLGUpfV9pbml0UXVlcnlFbmdpbmUoZSl7Y29uc3QgdD10aGlzO3RoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lPy5kZXN0cm95KCksdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmU9bmV3IHkoe2RlZmluaXRpb25FeHByZXNzaW9uOmUuc2NoZW1hLnNvdXJjZS5kZWZpbml0aW9uRXhwcmVzc2lvbj8/dm9pZCAwLGZpZWxkczp0aGlzLnNlcnZpY2UuZmllbGRzLGdlb21ldHJ5VHlwZTp0aGlzLnNlcnZpY2UuZ2VvbWV0cnlUeXBlLG9iamVjdElkRmllbGQ6dGhpcy5zZXJ2aWNlLm9iamVjdElkRmllbGQsaGFzTTohMSxoYXNaOiExLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlLnRvSlNPTigpLGNhY2hlU3BhdGlhbFF1ZXJpZXM6ITAsZmVhdHVyZVN0b3JlOnRoaXMuZmVhdHVyZVN0b3JlLGFnZ3JlZ2F0ZUFkYXB0ZXI6e2dldEZlYXR1cmVPYmplY3RJZHMoZSl7aWYobnVsbD09dC5hZ2dyZWdhdGVTdG9yZSlyZXR1cm5bXTtyZXR1cm4gdC5hZ2dyZWdhdGVTdG9yZS5nZXRGZWF0dXJlRGlzcGxheUlkc0ZvckFnZ3JlZ2F0ZShlKS5tYXAoKGU9PnQuZ2V0T2JqZWN0SWQoZSkpKX19LHRpbWVJbmZvOnRoaXMuc2VydmljZS50aW1lSW5mb30pfV9pbml0QWdncmVnYXRlUXVlcnlFbmdpbmUoZSx0KXtpZih0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lPy5kZXN0cm95KCksbnVsbD09ZSlyZXR1cm47Y29uc3Qgcj10LnRhcmdldHMuYWdncmVnYXRlLnBhcmFtcy5maWVsZHMuc2xpY2UoKTt0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lPW5ldyB5KHtkZWZpbml0aW9uRXhwcmVzc2lvbjp2b2lkIDAsZmllbGRzOnIsZ2VvbWV0cnlUeXBlOmUuZ2VvbWV0cnlJbmZvLmdlb21ldHJ5VHlwZSxvYmplY3RJZEZpZWxkOmUub2JqZWN0SWRGaWVsZCxoYXNNOmUuZ2VvbWV0cnlJbmZvLmhhc00saGFzWjplLmdlb21ldHJ5SW5mby5oYXNaLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlLnRvSlNPTigpLGNhY2hlU3BhdGlhbFF1ZXJpZXM6ITEsZmVhdHVyZVN0b3JlOmUsYWdncmVnYXRlQWRhcHRlcjp7Z2V0RmVhdHVyZU9iamVjdElkczplPT5bXX19KX1kZXN0cm95KCl7dGhpcy5fdXBkYXRlUXVldWUuZGVzdHJveSgpLHRoaXMuX3NvdXJjZS5kZXN0cm95KCksdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmU/LmRlc3Ryb3koKSx0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lPy5kZXN0cm95KCksdGhpcy5hdHRyaWJ1dGVTdG9yZT8uZGVzdHJveSgpO2Zvcihjb25zdCBlIG9mIHRoaXMudGlsZVN0b3JlLnRpbGVzKXRoaXMuX3NvdXJjZS51bnN1YnNjcmliZShlKTtjbGVhckludGVydmFsKHRoaXMuX2NoZWNrVXBkYXRpbmcpfWdldCBmaWVsZHNJbmRleCgpe3JldHVybiBuZXcgZih0aGlzLnNlcnZpY2UuZmllbGRzKX1nZXQgc3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLnRpbGVTdG9yZS50aWxlU2NoZW1lLnNwYXRpYWxSZWZlcmVuY2V9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMuaXNVcGRhdGluZygpfWlzVXBkYXRpbmcoKXtjb25zdCBlPXRoaXMuX3NvdXJjZS51cGRhdGluZ0hhbmRsZXMudXBkYXRpbmcsdD0hdGhpcy5hdHRyaWJ1dGVTdG9yZXx8dGhpcy5hdHRyaWJ1dGVTdG9yZS51cGRhdGluZ0hhbmRsZXMudXBkYXRpbmcscj1lfHx0fHx0aGlzLnVwZGF0aW5nSGFuZGxlcy51cGRhdGluZztpZihoYXMoXCJlc3JpLTJkLWxvZy11cGRhdGluZ1wiKSl7bGV0IHM9YFVwZGF0aW5nIEZlYXR1cmVDb250cm9sbGVyMkQ6ICR7cn1cXG5gO3MrPWAgIC0+IHVwZGF0aW5nU291cmNlICR7ZX1cXG5gO2Zvcihjb25zdCBlIG9mIHRoaXMuX3NvdXJjZS5zdWJzY3JpcHRpb25zKXMrPWAgICAgICR7ZS50aWxlLmlkfSAke2UuaXNEb25lfVxcbmA7cys9YCAgLT4gdXBkYXRpbmdBdHRyaWJ1dGVTdG9yZSAke3R9XFxuYCxzKz1gICAtPiB1cGRhdGluZ0hhbmRsZXMgJHt0aGlzLnVwZGF0aW5nSGFuZGxlcy51cGRhdGluZ30gKHF1ZXVlOiAke3RoaXMuX3VwZGF0ZVF1ZXVlLmxlbmd0aH0pXFxuYCxjb25zb2xlLmxvZyhzKX1yZXR1cm4gcn11cGRhdGVDdXN0b21QYXJhbWV0ZXJzKGUpe1wic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmdGhpcy5fc291cmNlLnVwZGF0ZUN1c3RvbVBhcmFtZXRlcnMoZSl9ZW5hYmxlRXZlbnQoZSl7dGhpcy5fc291cmNlLmVuYWJsZUV2ZW50KGUubmFtZSxlLnZhbHVlKX1wYXVzZSgpe3RoaXMuX3VwZGF0ZVF1ZXVlLnBhdXNlKCksdGhpcy5fdXBkYXRlUXVldWUuY2xlYXIoKX1yZXN1bWUoKXt0aGlzLl91cGRhdGVRdWV1ZS5yZXN1bWUoKX1wYXVzZVN0cmVhbSgpe1wic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmdGhpcy5fc291cmNlLnBhdXNlU3RyZWFtKCl9cmVzdW1lU3RyZWFtKCl7XCJzdHJlYW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZ0aGlzLl9zb3VyY2UucmVzdW1lU3RyZWFtKCl9c2VuZE1lc3NhZ2VUb1NvY2tldChlKXtcInN0cmVhbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJnRoaXMuX3NvdXJjZS5zZW5kTWVzc2FnZVRvU29ja2V0KGUpfXNlbmRNZXNzYWdlVG9DbGllbnQoZSl7XCJzdHJlYW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZ0aGlzLl9zb3VyY2Uuc2VuZE1lc3NhZ2VUb0NsaWVudChlKX1faW5pdEFnZ3JlZ2F0ZVN0b3JlKGUpe2NvbnN0IHQ9ZS5zY2hlbWEudGFyZ2V0cz8uYWdncmVnYXRlPy50eXBlLHI9cyh0aGlzLmNvbmZpZywoZT0+ZS5zY2hlbWEudGFyZ2V0cz8uYWdncmVnYXRlPy50eXBlKSk7aWYociE9PXQmJihudWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlJiYodGhpcy5yZW1vdmVIYW5kbGVzKFwidmFsdWVSYW5nZXNDaGFuZ2VkXCIpLHRoaXMuYWdncmVnYXRlU3RvcmUuZGVzdHJveSgpLHRoaXMuYWdncmVnYXRlU3RvcmU9bnVsbCksdCkpe3N3aXRjaCh0KXtjYXNlXCJjbHVzdGVyXCI6e2NvbnN0IGU9e2dlb21ldHJ5SW5mbzp7Z2VvbWV0cnlUeXBlOlwiZXNyaUdlb21ldHJ5UG9pbnRcIixoYXNNOiExLGhhc1o6ITF9LHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlLGZpZWxkc0luZGV4OnRoaXMuZmllbGRzSW5kZXgsZmllbGRzOnRoaXMuc2VydmljZS5maWVsZHN9O3RoaXMuYWdncmVnYXRlU3RvcmU9bmV3IHYoZSx0aGlzLnNwYXRpYWxSZWZlcmVuY2UsdGhpcy5fc3RvcmFnZSx0aGlzLnNlcnZpY2UpLHRoaXMuYWRkSGFuZGxlcyh0aGlzLmFnZ3JlZ2F0ZVN0b3JlLmV2ZW50cy5vbihcInZhbHVlUmFuZ2VzQ2hhbmdlZFwiLChlPT57dGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwiZW1pdEV2ZW50XCIse25hbWU6XCJ2YWx1ZVJhbmdlc0NoYW5nZWRcIixldmVudDp7dmFsdWVSYW5nZXM6ZS52YWx1ZVJhbmdlc319KS5jYXRjaChBKX0pKSxcInZhbHVlUmFuZ2VzQ2hhbmdlZFwiKTticmVha31jYXNlXCJiaW5cIjp7Y29uc3QgZT17Z2VvbWV0cnlJbmZvOntnZW9tZXRyeVR5cGU6XCJlc3JpR2VvbWV0cnlQb2x5Z29uXCIsaGFzTTohMSxoYXNaOiExfSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZSxmaWVsZHNJbmRleDp0aGlzLmZpZWxkc0luZGV4LGZpZWxkczp0aGlzLnNlcnZpY2UuZmllbGRzfTt0aGlzLmFnZ3JlZ2F0ZVN0b3JlPW5ldyBiKGUsdGhpcy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuX3N0b3JhZ2UsdGhpcy5zZXJ2aWNlKTticmVha319dGhpcy5hZ2dyZWdhdGVTdG9yZS5vblRpbGVVcGRhdGUoe2FkZGVkOnRoaXMudGlsZVN0b3JlLnRpbGVzLHJlbW92ZWQ6W119KX19YXN5bmMgdXBkYXRlKGUsdCl7dGhpcy5fdXBkYXRlVmVyc2lvbisrLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKGBGZWF0dXJlQ29udHJvbGxlcjJEOjp1cGRhdGU6IFRva2VuIHZlcnNpb24gJHt0aGlzLl91cGRhdGVWZXJzaW9ufWApLHRoaXMuX2luaXRRdWVyeUVuZ2luZSh0KSx0aGlzLl9pbml0QXR0cmlidXRlU3RvcmUodCksdGhpcy5wYXVzZSgpLGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLl9zb3VyY2UudXBkYXRlKGUsdC5zY2hlbWEuc291cmNlKSx0aGlzLmZlYXR1cmVTdG9yZS51cGRhdGVTY2hlbWEoZSx0LnNjaGVtYS50YXJnZXRzLmZlYXR1cmUpLHRoaXMuYXR0cmlidXRlU3RvcmUudXBkYXRlKGUsdCksdGhpcy5hdHRyaWJ1dGVTdG9yZS51cGRhdGVGaWx0ZXJzKGUsdCx0aGlzKV0pLHRoaXMuX2luaXRBZ2dyZWdhdGVTdG9yZSh0KSxudWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlJiZhd2FpdCB0aGlzLmFnZ3JlZ2F0ZVN0b3JlLnVwZGF0ZVNjaGVtYShlLHQuc2NoZW1hLnRhcmdldHMuYWdncmVnYXRlKSx0aGlzLl9pbml0QWdncmVnYXRlUXVlcnlFbmdpbmUodGhpcy5hZ2dyZWdhdGVTdG9yZSx0LnNjaGVtYSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmUuZGVzY3JpYmUoKSx0aGlzLl9zZXQoXCJjb25maWdcIix0KX1hc3luYyBhcHBseVVwZGF0ZShlKXtlLnZlcnNpb249dGhpcy5fdXBkYXRlVmVyc2lvbixoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhgRmVhdHVyZUNvbnRyb2xsZXIyRDo6YXBwbHlVcGRhdGU6IFRva2VuIHZlcnNpb24gJHtlLnZlcnNpb259YCksZS5tZXNoJiZ0aGlzLmNsZWFyVGlsZXMoKSx0aGlzLl91cGRhdGVRdWV1ZS5yZXN1bWUoKSxhd2FpdCB0aGlzLl9zb3VyY2UuYXBwbHlVcGRhdGUoZSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlQ29udHJvbGxlcjJEOjphcHBseVVwZGF0ZSBXYWl0aW5nIGZvciBzb3VyY2UgdXBkYXRlIHRvIGZpbmlzaFwiKSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpLGF3YWl0IGQoKCgpPT4hdGhpcy51cGRhdGluZykpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUNvbnRyb2xsZXIyRDo6YXBwbHlVcGRhdGUgU291cmNlIHVwZGF0ZSBmaW5zaWhlZFwiKSxudWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlJiYoYXdhaXQgYSgxMCksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlQ29udHJvbGxlcjJEOjphcHBseVVwZGF0ZSBXYWl0aW5nIGZvciBhZ2dyZWdhdGUgaWRsZSBjYWxsXCIpLGF3YWl0IGQoKCgpPT4hdGhpcy51cGRhdGluZykpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUNvbnRyb2xsZXIyRDo6YXBwbHlVcGRhdGUgQWdncmVnYXRlIGlkbGUgY2FsbGVkXCIpKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkZlYXR1cmVDb250cm9sbGVyMkQ6OmFwcGx5VXBkYXRlIFVwZGF0ZSBmaW5pc2hlZFwiKX1hc3luYyBvbkVkaXRzKHtlZGl0czplfSl7aGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBcHBseWluZyBFZGl0OlwiLGUpLHRoaXMuX2RpZEVkaXQ9ITA7dHJ5e2NvbnN0IHQ9ZS5yZW1vdmVkLm1hcCgoZT0+ZS5vYmplY3RJZCYmLTEhPT1lLm9iamVjdElkP2Uub2JqZWN0SWQ6dGhpcy5fbG9va3VwT2JqZWN0SWRCeUdsb2JhbElkKGUuZ2xvYmFsSWQpKSkscj1lLmFkZE9yTW9kaWZpZWQubWFwKCgoe29iamVjdElkOmV9KT0+ZSkpO3RoaXMuZmVhdHVyZVN0b3JlLmludmFsaWRhdGUoKSxhd2FpdCB0aGlzLl9zb3VyY2UuZWRpdChyLHQpLHRoaXMuY2xlYXJUaWxlcygpLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksbnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZSYmdGhpcy5hZ2dyZWdhdGVTdG9yZS5jbGVhcigpLGF3YWl0IHRoaXMuX3NvdXJjZS5yZXNlbmQoKSxhd2FpdCBkKCgoKT0+IXRoaXMudXBkYXRpbmcpKX1jYXRjaCh0KXt9fWFzeW5jIHJlZnJlc2goZSl7aWYoIWUuZGF0YUNoYW5nZWQpe2NvbnN0IGU9Qy5lbXB0eSgpO3JldHVybiBlLnN0b3JhZ2UuZmlsdGVycz0hMCx0aGlzLmFwcGx5VXBkYXRlKGUpfXRoaXMuZmVhdHVyZVN0b3JlLmludmFsaWRhdGUoKSx0aGlzLmNsZWFyVGlsZXMoKSx0aGlzLl9zb3VyY2UucmVmcmVzaCh0aGlzLl91cGRhdGVWZXJzaW9uLGUpLHRoaXMuX2NsZWFudXBOZWVkZWQ9ITAsdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSxhd2FpdCBkKCgoKT0+IXRoaXMudXBkYXRpbmcpKX1jbGVhclRpbGVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy50aWxlU3RvcmUudGlsZXMpdGhpcy5wcm9jZXNzb3Iub25UaWxlQ2xlYXIoZSwhMSl9b25UaWxlVXBkYXRlKGUpe251bGwhPXRoaXMuYWdncmVnYXRlU3RvcmUmJnRoaXMuYWdncmVnYXRlU3RvcmUub25UaWxlVXBkYXRlKGUpO2Zvcihjb25zdCB0IG9mIGUuYWRkZWQpdGhpcy5fc291cmNlLnN1YnNjcmliZSh0LHRoaXMuX3VwZGF0ZVZlcnNpb24pLHRoaXMuX2xldmVsPXQubGV2ZWw7Zm9yKGNvbnN0IHQgb2YgZS5yZW1vdmVkKXRoaXMuX3NvdXJjZS51bnN1YnNjcmliZSh0KSx0aGlzLl9jbGVhbnVwTmVlZGVkPSEwLHRoaXMuX3RpbGVUb1Jlc29sdmVyLmhhcyh0LmlkKSYmKHRoaXMuX3RpbGVUb1Jlc29sdmVyLmdldCh0LmlkKS5yZXNvbHZlKCksdGhpcy5fdGlsZVRvUmVzb2x2ZXIuZGVsZXRlKHQuaWQpKTt0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpfWFzeW5jIG9uSWRsZSgpe3RoaXMuX2ludmFsaWRhdGVkJiYodGhpcy5faW52YWxpZGF0ZWQ9ITEsbnVsbD09dGhpcy5hZ2dyZWdhdGVTdG9yZSYmXCJoZWF0bWFwXCIhPT10aGlzLnByb2Nlc3Nvci50eXBlfHxhd2FpdCB0aGlzLl9yZXB1c2hDdXJyZW50TGV2ZWxUaWxlcygpKSx0aGlzLl9tYXJrQW5kU3dlZXAoKX1hc3luYyBxdWVyeVN1bW1hcnlTdGF0aXN0aWNzKHtxdWVyeTplLHBhcmFtczp0fSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvclN1bW1hcnlTdGF0aXN0aWNzKGUsdCl9YXN5bmMgcXVlcnlBZ2dyZWdhdGVTdW1tYXJ5U3RhdGlzdGljcyh7cXVlcnk6ZSxwYXJhbXM6dH0pe3JldHVybiB0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvclN1bW1hcnlTdGF0aXN0aWNzKHRoaXMuX25vcm1hbGl6ZUFnZ3JlZ2F0ZVF1ZXJ5KGUpLHQpfWFzeW5jIHF1ZXJ5VW5pcXVlVmFsdWVzKHtxdWVyeTplLHBhcmFtczp0fSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvclVuaXF1ZVZhbHVlcyhlLHQpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlVW5pcXVlVmFsdWVzKHtxdWVyeTplLHBhcmFtczp0fSl7cmV0dXJuIHRoaXMuYWdncmVnYXRlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yVW5pcXVlVmFsdWVzKHRoaXMuX25vcm1hbGl6ZUFnZ3JlZ2F0ZVF1ZXJ5KGUpLHQpfWFzeW5jIHF1ZXJ5Q2xhc3NCcmVha3Moe3F1ZXJ5OmUscGFyYW1zOnR9KXtyZXR1cm4gdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yQ2xhc3NCcmVha3MoZSx0KX1hc3luYyBxdWVyeUFnZ3JlZ2F0ZUNsYXNzQnJlYWtzKHtxdWVyeTplLHBhcmFtczp0fSl7cmV0dXJuIHRoaXMuYWdncmVnYXRlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yQ2xhc3NCcmVha3ModGhpcy5fbm9ybWFsaXplQWdncmVnYXRlUXVlcnkoZSksdCl9YXN5bmMgcXVlcnlIaXN0b2dyYW0oe3F1ZXJ5OmUscGFyYW1zOnR9KXtyZXR1cm4gdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9ySGlzdG9ncmFtKGUsdCl9YXN5bmMgcXVlcnlBZ2dyZWdhdGVIaXN0b2dyYW0oe3F1ZXJ5OmUscGFyYW1zOnR9KXtyZXR1cm4gdGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JIaXN0b2dyYW0odGhpcy5fbm9ybWFsaXplQWdncmVnYXRlUXVlcnkoZSksdCl9cXVlcnlFeHRlbnQoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckV4dGVudChlKX1xdWVyeUFnZ3JlZ2F0ZXMoZSl7cmV0dXJuIHRoaXMuYWdncmVnYXRlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5KHRoaXMuX25vcm1hbGl6ZUFnZ3JlZ2F0ZVF1ZXJ5KGUpKX1xdWVyeUFnZ3JlZ2F0ZUNvdW50KGUpe3JldHVybiB0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckNvdW50KHRoaXMuX25vcm1hbGl6ZUFnZ3JlZ2F0ZVF1ZXJ5KGUpKX1xdWVyeUFnZ3JlZ2F0ZUlkcyhlKXtyZXR1cm4gdGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JJZHModGhpcy5fbm9ybWFsaXplQWdncmVnYXRlUXVlcnkoZSkpfXF1ZXJ5RmVhdHVyZXMoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeShlKX1hc3luYyBxdWVyeVZpc2libGVGZWF0dXJlcyhlKXtjb25zdCB0PWF3YWl0IHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeShlKSxyPXQub2JqZWN0SWRGaWVsZE5hbWU7cmV0dXJuIHQuZmVhdHVyZXM9dC5mZWF0dXJlcy5maWx0ZXIoKGU9Pntjb25zdCB0PWUuYXR0cmlidXRlc1tyXSxpPXRoaXMuZ2V0RGlzcGxheUlkKHQpO3JldHVybiBzKGksKGU9PnRoaXMuYXR0cmlidXRlU3RvcmUuaXNWaXNpYmxlKGUpKSl9KSksdH1xdWVyeUZlYXR1cmVDb3VudChlKXtyZXR1cm4gdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQoZSl9cXVlcnlMYXRlc3RPYnNlcnZhdGlvbnMoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckxhdGVzdE9ic2VydmF0aW9ucyhlKX1xdWVyeU9iamVjdElkcyhlKXtyZXR1cm4gdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9ySWRzKGUpfWFzeW5jIHF1ZXJ5U3RhdGlzdGljcygpe3JldHVybiB0aGlzLmZlYXR1cmVTdG9yZS5zdG9yZVN0YXRpc3RpY3N9Z2V0T2JqZWN0SWQoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZVN0b3JlLmxvb2t1cE9iamVjdElkKGUsdGhpcy5fc3RvcmFnZSl9Z2V0RGlzcGxheUlkKGUpe2lmKG51bGwhPXRoaXMuYWdncmVnYXRlU3RvcmUpe2NvbnN0IHQ9dGhpcy5hZ2dyZWdhdGVTdG9yZS5nZXREaXNwbGF5SWQoZSk7aWYobnVsbD09dCl7Y29uc3QgdD10aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBEaXNwbGF5SWQoZSk7cmV0dXJuIHRoaXMuYWdncmVnYXRlU3RvcmUuZ2V0RGlzcGxheUlkRm9yUmVmZXJlbmNlSWQodCl9cmV0dXJuIHR9cmV0dXJuIHRoaXMuZmVhdHVyZVN0b3JlLmxvb2t1cERpc3BsYXlJZChlKX1nZXRGZWF0dXJlcyhlKXtjb25zdCB0PVtdLHI9W107Zm9yKGNvbnN0IHMgb2YgZSl7Y29uc3QgZT1udWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlP3RoaXMuZ2V0QWdncmVnYXRlKHMpOm51bGw7aWYobnVsbCE9ZSlpZihudWxsIT1lLmF0dHJpYnV0ZXMucmVmZXJlbmNlSWQpe2NvbnN0IHI9dGhpcy5nZXRGZWF0dXJlKGUuYXR0cmlidXRlcy5yZWZlcmVuY2VJZCk7bnVsbCE9ciYmdC5wdXNoKHIpfWVsc2Ugci5wdXNoKGUpO2Vsc2V7Y29uc3QgZT10aGlzLmdldEZlYXR1cmUocyk7bnVsbCE9ZSYmdC5wdXNoKGUpfX1yZXR1cm57ZmVhdHVyZXM6dCxhZ2dyZWdhdGVzOnJ9fWdldEZlYXR1cmUoZSl7Y29uc3QgdD10aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBGZWF0dXJlQnlEaXNwbGF5SWQoZSx0aGlzLl9zdG9yYWdlKTtpZihudWxsPT10KXJldHVybiBudWxsO2NvbnN0IHI9dC5yZWFkSHlkcmF0ZWRHZW9tZXRyeSgpLHM9cChyLHQuZ2VvbWV0cnlUeXBlLHQuaGFzWix0Lmhhc00pO3JldHVybnthdHRyaWJ1dGVzOnQucmVhZEF0dHJpYnV0ZXMoKSxnZW9tZXRyeTpzfX1nZXRBZ2dyZWdhdGUoZSl7cmV0dXJuIG51bGw9PXRoaXMuYWdncmVnYXRlU3RvcmU/bnVsbDp0aGlzLmFnZ3JlZ2F0ZVN0b3JlLmdldEFnZ3JlZ2F0ZShlKX1nZXRBZ2dyZWdhdGVzKCl7cmV0dXJuIG51bGw9PXRoaXMuYWdncmVnYXRlU3RvcmU/W106dGhpcy5hZ2dyZWdhdGVTdG9yZS5nZXRBZ2dyZWdhdGVzKCl9YXN5bmMgc2V0SGlnaGxpZ2h0KGUpe2NvbnN0IHI9ZS5tYXAoKGU9PnRoaXMuZ2V0RGlzcGxheUlkKGUpKSkuZmlsdGVyKHQpO3JldHVybiB0aGlzLmF0dHJpYnV0ZVN0b3JlLnNldEhpZ2hsaWdodChlLHIpfV9ub3JtYWxpemVBZ2dyZWdhdGVRdWVyeShlKXtjb25zdCB0PWUub2JqZWN0SWRzPz9bXTtmb3IoY29uc3QgciBvZiBlLmFnZ3JlZ2F0ZUlkcz8/W10pdC5wdXNoKHIpO3JldHVybiBlLm9iamVjdElkcz10LGUuYWdncmVnYXRlSWRzPVtdLGV9X2xvb2t1cE9iamVjdElkQnlHbG9iYWxJZChlKXtjb25zdCB0PXRoaXMuc2VydmljZS5nbG9iYWxJZEZpZWxkO2lmKG51bGw9PXQpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgZ2xvYmFsSWRGaWVsZCB0byBiZSBkZWZpbmVkXCIpO2xldCByPW51bGw7aWYodGhpcy5mZWF0dXJlU3RvcmUuZm9yRWFjaCgocz0+e2U9PT1zLnJlYWRBdHRyaWJ1dGUodCkmJihyPXMuZ2V0T2JqZWN0SWQoKSl9KSksbnVsbD09cil0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIHRvIGZpbmQgYSBmZWF0dXJlIHdpdGggZ2xvYmFsSWQgJHtlfWApO3JldHVybiByfWFzeW5jIF9yZXB1c2hDdXJyZW50TGV2ZWxUaWxlcygpe2NvbnN0IGU9dGhpcy50aWxlU3RvcmUudGlsZXMuZmlsdGVyKChlPT5lLmxldmVsPT09dGhpcy5fbGV2ZWwpKTtlLm1hcCgoYXN5bmMgZT0+dGhpcy5fcGF0Y2hUaWxlKHt0eXBlOlwiYXBwZW5kXCIsaWQ6ZS5rZXkuaWQsY2xlYXI6ITAsYWRkT3JVcGRhdGU6bnVsbCxlbmQ6ITF9KSkpO2NvbnN0IHQ9ZS5tYXAoKGFzeW5jIGU9PnRoaXMuX3BhdGNoVGlsZSh7dHlwZTpcImFwcGVuZFwiLGlkOmUua2V5LmlkLGFkZE9yVXBkYXRlOlEuZnJvbU9wdGltaXplZEZlYXR1cmVzKFtdLHRoaXMuc2VydmljZSkscmVtb3ZlOltdLGVuZDohMCxpc1JlcHVzaDohMCxzdGF0dXM6Qy5lbXB0eSgpfSkpKTthd2FpdCBQcm9taXNlLmFsbCh0KX1fbWF5YmVGb3JjZUNsZWFudXAoKXtwZXJmb3JtYW5jZS5ub3coKS10aGlzLl9sYXN0Q2xlYW51cD5FJiZ0aGlzLl9tYXJrQW5kU3dlZXAoKX1fcGF0Y2hUaWxlKGUsdCl7Y29uc3Qgcj10aGlzLl91cGRhdGVRdWV1ZS5wdXNoKGUsdCkuY2F0Y2goKGU9Pnt9KSk7cmV0dXJuIHRoaXMudXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2Uocil9YXN5bmMgX29uVGlsZU1lc3NhZ2UoZSx0KXtpZihvKHQpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpKXtjb25zdCB0PXMoZS5hZGRPclVwZGF0ZSwoZT0+ZS5oYXNGZWF0dXJlcykpO2NvbnNvbGUuZGVidWcoZS5pZCxgRmVhdHVyZUNvbnRyb2xsZXI6b25UaWxlTWVzc2FnZTogW2NsZWFyOiR7ZS5jbGVhcn0sIGVuZDoke2UuZW5kfSwgZmVhdHVyZXM6ICR7dH1dYCl9Y29uc3Qgcj10aGlzLnRpbGVTdG9yZS5nZXQoZS5pZCk7aWYoIXIpcmV0dXJuO2lmKGUuY2xlYXIpcmV0dXJuIHRoaXMucHJvY2Vzc29yLm9uVGlsZUNsZWFyKHIsZS5lbmQpO2NvbnN0IGk9ZS5zdGF0dXM7dGhpcy5fY2xlYW51cE5lZWRlZD0hMDtjb25zdCBhPVtdO2Zvcihjb25zdCBzIG9mIGUucmVtb3ZlPz9bXSl7Y29uc3QgZT10aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBEaXNwbGF5SWQocyk7ZSYmYS5wdXNoKGUpfWUucmVtb3ZlPWE7dHJ5e2lmKG51bGw9PWUuYWRkT3JVcGRhdGUpcmV0dXJuIHZvaWQgdGhpcy5wcm9jZXNzb3Iub25UaWxlTWVzc2FnZShyLHsuLi5lLGFkZE9yVXBkYXRlOm51bGx9LG51bGwhPXRoaXMuYWdncmVnYXRlU3RvcmUsdCkuY2F0Y2gobik7aWYoZS5hZGRPclVwZGF0ZS5zZXRBcmNhZGVTcGF0aWFsUmVmZXJlbmNlKHRoaXMuc3BhdGlhbFJlZmVyZW5jZSksdGhpcy5mZWF0dXJlU3RvcmUuaGFzSW5zdGFuY2UoZS5hZGRPclVwZGF0ZS5pbnN0YW5jZSkmJmkudGFyZ2V0cy5mZWF0dXJlfHwoaS50YXJnZXRzLmZlYXR1cmU9ITAsdGhpcy5mZWF0dXJlU3RvcmUub25UaWxlRGF0YShyLGUpKSwhaS5zdG9yYWdlLmRhdGF8fCFpLnN0b3JhZ2UuZmlsdGVycyl7aS5zdG9yYWdlLmRhdGE9ITAsaS5zdG9yYWdlLmZpbHRlcnM9ITAsdGhpcy5hdHRyaWJ1dGVTdG9yZS5vblRpbGVEYXRhKHIsZSk7XCJzdHJlYW1cIj09PXRoaXMuX3NvdXJjZS50eXBlfHx0aGlzLl9kaWRFZGl0Pyhhd2FpdCB0aGlzLmF0dHJpYnV0ZVN0b3JlLnNlbmRVcGRhdGVzKCksbyh0KSk6dGhpcy5hdHRyaWJ1dGVTdG9yZS5zZW5kVXBkYXRlcygpfWlmKG51bGwhPXRoaXMuYWdncmVnYXRlU3RvcmUmJiFpLnRhcmdldHMuYWdncmVnYXRlKXtpLnRhcmdldHMuYWdncmVnYXRlPSEwO2NvbnN0IHQ9eCh0aGlzLl9zb3VyY2UpJiZ0aGlzLl9zb3VyY2UubG9hZGluZyxzPSF4KHRoaXMuX3NvdXJjZSl8fHR8fGUuZW5kO2lmKHRoaXMuYWdncmVnYXRlU3RvcmUub25UaWxlRGF0YShyLGUsdGhpcy5fc3RvcmFnZSx0aGlzLmF0dHJpYnV0ZVN0b3JlLHMpLCFzKXJldHVybjtpLm1lc2h8fCh0aGlzLmF0dHJpYnV0ZVN0b3JlLm9uVGlsZURhdGEocixlKSxhd2FpdCB0aGlzLmF0dHJpYnV0ZVN0b3JlLnNlbmRVcGRhdGVzKCkpfWlmKCFpLm1lc2gpe2kubWVzaD0hMDtjb25zdCBzPW51bGwhPXRoaXMuYWdncmVnYXRlU3RvcmUmJlwiY2x1c3RlclwiPT09dGhpcy5hZ2dyZWdhdGVTdG9yZS50eXBlO2F3YWl0IHRoaXMucHJvY2Vzc29yLm9uVGlsZU1lc3NhZ2UocixlLHMsdCksbyh0KX10aGlzLl9tYXliZUZvcmNlQ2xlYW51cCgpfWNhdGNoKHUpe24odSl9fV9tYXJrKGUsdCxyKXtjb25zdCBzPSg0Mjk0OTAxNzYwJnRoaXMuX3N0b3JhZ2UuZ2V0SW5zdGFuY2VJZChlKSk+Pj4xNjtlJiYodC5hZGQocyksci5zZXQoZSkpfV9tYXJrQW5kU3dlZXAoKXt0aGlzLl9sYXN0Q2xlYW51cD1wZXJmb3JtYW5jZS5ub3coKTtpZighKCEoXCJmZWF0dXJlXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmXCJzbmFwc2hvdFwiPT09dGhpcy5fc291cmNlLm1vZGUpJiYoXCJzdHJlYW1cIj09PXRoaXMuX3NvdXJjZS50eXBlfHx0aGlzLl9jbGVhbnVwTmVlZGVkKSkpcmV0dXJuO3RoaXMuX2NsZWFudXBOZWVkZWQ9ITE7Y29uc3QgZT10aGlzLl9zdG9yYWdlLmdldEJpdHNldCh0aGlzLl9tYXJrZWRJZHNCdWZJZCksdD1uZXcgU2V0O2UuY2xlYXIoKTtmb3IoY29uc3QgciBvZiB0aGlzLnRpbGVTdG9yZS50aWxlcylmb3IoY29uc3QgcyBvZiB0aGlzLl9zb3VyY2UucmVhZGVycyhyLmlkKSl7Y29uc3Qgcj1zLmdldEN1cnNvcigpO2Zvcig7ci5uZXh0KCk7KXtsZXQgcz1yLmdldERpc3BsYXlJZCgpO2lmKCFzKXtjb25zdCBlPXIuZ2V0T2JqZWN0SWQoKTtzPXRoaXMuZmVhdHVyZVN0b3JlLmxvb2t1cERpc3BsYXlJZChlKX10aGlzLl9tYXJrKHMsdCxlKX19XCJzeW1ib2xcIj09PXRoaXMucHJvY2Vzc29yLnR5cGUmJnRoaXMucHJvY2Vzc29yLmZvckVhY2hCdWZmZXJJZCgocj0+e3RoaXMuX21hcmsocix0LGUpfSkpLHRoaXMuX3VwZGF0ZVF1ZXVlLmZvckVhY2goKHI9Pntmb3IoY29uc3QgcyBvZiByLnJlbW92ZT8/W10pe2NvbnN0IHI9dGhpcy5mZWF0dXJlU3RvcmUubG9va3VwRGlzcGxheUlkKHMpO3RoaXMuX21hcmsocix0LGUpfX0pKSxudWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlJiYodGhpcy5hZ2dyZWdhdGVTdG9yZS5zd2VlcEZlYXR1cmVzKGUsdGhpcy5mZWF0dXJlU3RvcmUpLFwic3dlZXBBZ2dyZWdhdGVzXCJpbiB0aGlzLmFnZ3JlZ2F0ZVN0b3JlJiZ0aGlzLmFnZ3JlZ2F0ZVN0b3JlLnN3ZWVwQWdncmVnYXRlcyh0aGlzLl9zdG9yYWdlLHRoaXMuYXR0cmlidXRlU3RvcmUsdGhpcy5fbGV2ZWwpKSx0aGlzLmZlYXR1cmVTdG9yZS5zd2VlcEZlYXR1cmVzKGUsdGhpcy5fc3RvcmFnZSx0aGlzLmF0dHJpYnV0ZVN0b3JlKSx0aGlzLmZlYXR1cmVTdG9yZS5zd2VlcEZlYXR1cmVTZXRzKHQpfX07ZShbaCh7Y29uc3RydWN0T25seTohMH0pXSxVLnByb3RvdHlwZSxcInRpbGVTdG9yZVwiLHZvaWQgMCksZShbaCgpXSxVLnByb3RvdHlwZSxcImNvbmZpZ1wiLHZvaWQgMCksZShbaCh7cmVhZE9ubHk6ITB9KV0sVS5wcm90b3R5cGUsXCJmaWVsZHNJbmRleFwiLG51bGwpLGUoW2goKV0sVS5wcm90b3R5cGUsXCJwcm9jZXNzb3JcIix2b2lkIDApLGUoW2goe2NvbnN0cnVjdE9ubHk6ITB9KV0sVS5wcm90b3R5cGUsXCJyZW1vdGVDbGllbnRcIix2b2lkIDApLGUoW2goe2NvbnN0cnVjdE9ubHk6ITB9KV0sVS5wcm90b3R5cGUsXCJzZXJ2aWNlXCIsdm9pZCAwKSxlKFtoKCldLFUucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVwiLG51bGwpLGUoW2goKV0sVS5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLFU9ZShbYyhcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLmNvbnRyb2xsZXJzLkZlYXR1cmVDb250cm9sbGVyMkRcIildLFUpO2NvbnN0IFI9VTtleHBvcnR7UiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS93b3JrZXJzL0Nvbm5lY3Rpb24uanNcIjtpbXBvcnR7dG9RdWFudGl6YXRpb25UcmFuc2Zvcm0gYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3F1YW50aXphdGlvblV0aWxzLmpzXCI7aW1wb3J0e2NvbnZlcnRGcm9tRmVhdHVyZVNldCBhcyByLHF1YW50aXplT3B0aW1pemVkRmVhdHVyZVNldCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e3F1ZXJ5T3B0aW1pemVkRmVhdHVyZVNldCBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2xheWVycy9vZ2Mvb2djRmVhdHVyZVV0aWxzLmpzXCI7aW1wb3J0e2V4ZWN1dGVRdWVyeVBCRkJ1ZmZlciBhcyBhLGV4ZWN1dGVRdWVyeSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL3Jlc3QvcXVlcnkvb3BlcmF0aW9ucy9xdWVyeS5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyBufWZyb21cIi4uLy4uL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlclBCRiBhcyB1fWZyb21cIi4uLy4uL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlclBCRi5qc1wiO2NsYXNzIGN7Y29uc3RydWN0b3IoZSl7dGhpcy5zZXJ2aWNlPWV9ZGVzdHJveSgpe319ZnVuY3Rpb24gbShlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlLnNvdXJjZSl9ZnVuY3Rpb24gcChlKXtyZXR1cm5cIm9nYy1zb3VyY2VcIj09PWU/LnR5cGV9ZnVuY3Rpb24gbChlKXtjb25zdHtjYXBhYmlsaXRpZXM6dH09ZTtyZXR1cm4gcChlLnNvdXJjZSk/bmV3IHYoZSk6bShlKT9uZXcgeShlKTp0LnF1ZXJ5LnN1cHBvcnRzRm9ybWF0UEJGJiZoYXMoXCJmZWF0dXJlbGF5ZXItcGJmXCIpP25ldyBoKGUpOm5ldyBkKGUpfWFzeW5jIGZ1bmN0aW9uIGYodCl7Y29uc3Qgcj1uZXcgZTtyZXR1cm4gYXdhaXQgci5vcGVuKHQse30pLHJ9Y2xhc3MgeSBleHRlbmRzIGN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fcG9ydHNPcGVuPWYoZS5zb3VyY2UpLnRoZW4oKGU9PnRoaXMuY2xpZW50PWUpKX1kZXN0cm95KCl7dGhpcy5jbGllbnQuY2xvc2UoKSx0aGlzLmNsaWVudD1udWxsfWFzeW5jIGV4ZWN1dGVRdWVyeShlLHQpe2F3YWl0IHRoaXMuX3BvcnRzT3Blbjtjb25zdCByPWF3YWl0IHRoaXMuY2xpZW50Lmludm9rZShcInF1ZXJ5RmVhdHVyZXNcIixlLnRvSlNPTigpLHQpO3JldHVybiBuLmZyb21GZWF0dXJlU2V0KHIsdGhpcy5zZXJ2aWNlKX19Y2xhc3MgaCBleHRlbmRzIGN7YXN5bmMgZXhlY3V0ZVF1ZXJ5KGUsdCl7Y29uc3R7ZGF0YTpyfT1hd2FpdCBhKHRoaXMuc2VydmljZS5zb3VyY2UsZSx0KSxzPSFlLnF1YW50aXphdGlvblBhcmFtZXRlcnM7cmV0dXJuIHUuZnJvbUJ1ZmZlcihyLHRoaXMuc2VydmljZSxzKX19Y2xhc3MgZCBleHRlbmRzIGN7YXN5bmMgZXhlY3V0ZVF1ZXJ5KGUsaSl7Y29uc3R7c291cmNlOmEsY2FwYWJpbGl0aWVzOnUsc3BhdGlhbFJlZmVyZW5jZTpjLG9iamVjdElkRmllbGQ6bSxnZW9tZXRyeVR5cGU6cH09dGhpcy5zZXJ2aWNlO2lmKG51bGwhPWUucXVhbnRpemF0aW9uUGFyYW1ldGVycyYmIXUucXVlcnkuc3VwcG9ydHNRdWFudGl6YXRpb24pe2NvbnN0IHU9ZS5jbG9uZSgpLHA9dCh1LnF1YW50aXphdGlvblBhcmFtZXRlcnMpO3UucXVhbnRpemF0aW9uUGFyYW1ldGVycz1udWxsO2NvbnN0e2RhdGE6bH09YXdhaXQgbyhhLHUsYyxpKSxmPXIobCxtKTtyZXR1cm4gcyhwLGYpLG4uZnJvbU9wdGltaXplZEZlYXR1cmVTZXQoZix0aGlzLnNlcnZpY2UpfWNvbnN0e2RhdGE6bH09YXdhaXQgbyhhLGUsdGhpcy5zZXJ2aWNlLnNwYXRpYWxSZWZlcmVuY2UsaSk7cmV0dXJuXCJlc3JpR2VvbWV0cnlQb2ludFwiPT09cCYmKGwuZmVhdHVyZXM9bC5mZWF0dXJlcz8uZmlsdGVyKChlPT57aWYobnVsbCE9ZS5nZW9tZXRyeSl7Y29uc3QgdD1lLmdlb21ldHJ5O3JldHVybiBOdW1iZXIuaXNGaW5pdGUodC54KSYmTnVtYmVyLmlzRmluaXRlKHQueSl9cmV0dXJuITB9KSkpLG4uZnJvbUZlYXR1cmVTZXQobCx0aGlzLnNlcnZpY2UpfX1jbGFzcyB2IGV4dGVuZHMgY3thc3luYyBleGVjdXRlUXVlcnkoZSxyKXtjb25zdHtjYXBhYmlsaXRpZXM6YX09dGhpcy5zZXJ2aWNlO2lmKGUucXVhbnRpemF0aW9uUGFyYW1ldGVycyYmIWEucXVlcnkuc3VwcG9ydHNRdWFudGl6YXRpb24pe2NvbnN0IGE9ZS5jbG9uZSgpLG89dChhLnF1YW50aXphdGlvblBhcmFtZXRlcnMpO2EucXVhbnRpemF0aW9uUGFyYW1ldGVycz1udWxsO2NvbnN0IHU9YXdhaXQgaSh0aGlzLnNlcnZpY2Uuc291cmNlLGUscik7cmV0dXJuIHMobyx1KSxuLmZyb21PcHRpbWl6ZWRGZWF0dXJlU2V0KHUsdGhpcy5zZXJ2aWNlKX1jb25zdCBvPWF3YWl0IGkodGhpcy5zZXJ2aWNlLnNvdXJjZSxlLHIpO3JldHVybiBuLmZyb21PcHRpbWl6ZWRGZWF0dXJlU2V0KG8sdGhpcy5zZXJ2aWNlKX19ZXhwb3J0e2MgYXMgU291cmNlQWRhcHRlcixsIGFzIGNyZWF0ZVNvdXJjZUFkYXB0ZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG8obyl7cmV0dXJuXCJoZWF0bWFwXCI9PT1vP2ltcG9ydChcIi4vcHJvY2Vzc29ycy9IZWF0bWFwUHJvY2Vzc29yLmpzXCIpOmltcG9ydChcIi4vcHJvY2Vzc29ycy9TeW1ib2xQcm9jZXNzb3IuanNcIil9ZXhwb3J0e28gYXMgbG9hZFByb2Nlc3Nvck1vZHVsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgcyxpc0Fib3J0RXJyb3IgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGVTb3VyY2VBZGFwdGVyIGFzIGF9ZnJvbVwiLi4vY29udHJvbGxlcnMvc3VwcG9ydC9zb3VyY2VBZGFwdGVycy5qc1wiO2ltcG9ydHtEYXRhVGlsZVNvdXJjZSBhcyBvfWZyb21cIi4vRGF0YVRpbGVTb3VyY2UuanNcIjtpbXBvcnR7UXVldWVQcm9jZXNzb3IgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9zdXBwb3J0L1F1ZXVlUHJvY2Vzc29yLmpzXCI7Y29uc3QgdT00O2NsYXNzIGMgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudHlwZT1cImZlYXR1cmVcIix0aGlzLm1vZGU9XCJvbi1kZW1hbmRcIix0aGlzLl9hZGFwdGVyPWEoZS5zZXJ2aWNlSW5mbyksdGhpcy5fcXVldWU9bmV3IG4oe2NvbmN1cnJlbmN5OjgscHJvY2Vzczphc3luYyBlPT57aWYocyhlKSxudWxsIT1lLnRpbGUpe2NvbnN0IHQ9ZS50aWxlLmtleS5pZCx7c2lnbmFsOnJ9PWUscz1oYXMoXCJlc3JpLXRpbGVzLWRlYnVnXCIpP3t0aWxlOnQucmVwbGFjZUFsbChcIi9cIixcIi5cIiksZGVwdGg6ZS5kZXB0aH06dm9pZCAwLGk9YXdhaXQgdGhpcy5fYWRhcHRlci5leGVjdXRlUXVlcnkoZS5xdWVyeSx7c2lnbmFsOnIscXVlcnk6ey4uLnMsLi4udGhpcy5fc2NoZW1hPy5jdXN0b21QYXJhbWV0ZXJzfX0pO3JldHVybiBpLmxldmVsPWUudGlsZS5rZXkubGV2ZWwsaX1yZXR1cm4gdGhpcy5fYWRhcHRlci5leGVjdXRlUXVlcnkoZS5xdWVyeSx7Li4uZSxxdWVyeTp0aGlzLl9zY2hlbWE/LmN1c3RvbVBhcmFtZXRlcnN9KX19KSx0aGlzLl9wYXRjaFF1ZXVlPW5ldyBuKHtjb25jdXJyZW5jeTo4LHByb2Nlc3M6YXN5bmMgZT0+e2lmKHMoZSksbnVsbCE9ZS50aWxlKXtjb25zdCB0PWUudGlsZS5rZXkuaWQse3NpZ25hbDpyfT1lLHM9aGFzKFwiZXNyaS10aWxlcy1kZWJ1Z1wiKT97dGlsZTp0LnJlcGxhY2VBbGwoXCIvXCIsXCIuXCIpLGRlcHRoOmUuZGVwdGh9OnZvaWQgMCxpPWF3YWl0IHRoaXMuX2FkYXB0ZXIuZXhlY3V0ZVF1ZXJ5KGUucXVlcnkse3NpZ25hbDpyLHF1ZXJ5OnsuLi5zLC4uLnRoaXMuX3NjaGVtYT8uY3VzdG9tUGFyYW1ldGVyc319KTtyZXR1cm4gaS5sZXZlbD1lLnRpbGUua2V5LmxldmVsLGl9cmV0dXJuIHRoaXMuX2FkYXB0ZXIuZXhlY3V0ZVF1ZXJ5KGUucXVlcnksey4uLmUscXVlcnk6dGhpcy5fc2NoZW1hPy5jdXN0b21QYXJhbWV0ZXJzfSl9fSl9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSx0aGlzLl9hZGFwdGVyLmRlc3Ryb3koKSx0aGlzLl9xdWV1ZS5kZXN0cm95KCksdGhpcy5fcGF0Y2hRdWV1ZS5kZXN0cm95KCl9ZW5xdWV1ZVF1ZXJ5KGUsdCl7cmV0dXJuIHRoaXMudXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fcXVldWUucHVzaChlLHQpKX1lbnF1ZXVlUGF0Y2hRdWVyeShlLHQpe3JldHVybiB0aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX3BhdGNoUXVldWUucHVzaChlLHQpKX1nZXQgbWF4UmVjb3JkQ291bnRGYWN0b3IoKXtjb25zdHtxdWVyeTplfT10aGlzLl9zZXJ2aWNlSW5mby5jYXBhYmlsaXRpZXM7cmV0dXJuIGUuc3VwcG9ydHNNYXhSZWNvcmRDb3VudEZhY3Rvcj91Om51bGx9Z2V0IG1heFBhZ2VTaXplKCl7Y29uc3R7cXVlcnk6ZX09dGhpcy5fc2VydmljZUluZm8uY2FwYWJpbGl0aWVzO3JldHVybihlLm1heFJlY29yZENvdW50Pz84ZTMpKih0aGlzLm1heFJlY29yZENvdW50RmFjdG9yPz8xKX1nZXQgcGFnZVNpemUoKXtyZXR1cm4gTWF0aC5taW4oOGUzLHRoaXMubWF4UGFnZVNpemUpfWVuYWJsZUV2ZW50KGUsdCl7fXN1YnNjcmliZShlLHMpe3N1cGVyLnN1YnNjcmliZShlLHMpLHRoaXMuX2ZldGNoRGF0YVRpbGUoZSkuY2F0Y2goKHM9PntpKHMpfHxyLmdldExvZ2dlcihcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLnNvdXJjZXMuQmFzZUZlYXR1cmVTb3VyY2VcIikuZXJyb3IobmV3IHQoXCJtYXB2aWV3LXF1ZXJ5LWVycm9yXCIsXCJFbmNvdW50ZXJlZCBlcnJvciB3aGVuIGZldGNoaW5nIHRpbGVcIix7dGlsZTplLGVycm9yOnN9KSl9KSl9dW5zdWJzY3JpYmUoZSl7c3VwZXIudW5zdWJzY3JpYmUoZSl9cmVhZGVycyhlKXtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQoZSkucmVhZGVycygpfWFzeW5jIHF1ZXJ5KGUsdD17fSl7Y29uc3Qgcj10LnF1ZXJ5Pz97fTtyZXR1cm4gdGhpcy5fYWRhcHRlci5leGVjdXRlUXVlcnkoZSx7Li4udCxxdWVyeTp7Li4uciwuLi50aGlzLl9zY2hlbWE/LmN1c3RvbVBhcmFtZXRlcnN9fSl9YXN5bmMgcXVlcnlMYXN0RWRpdERhdGUoKXtjb25zdCB0PXRoaXMuX3NlcnZpY2VJbmZvLnNvdXJjZSxyPXsuLi50LnF1ZXJ5LGY6XCJqc29uXCJ9O3JldHVybihhd2FpdCBlKHQucGF0aCx7cXVlcnk6cixyZXNwb25zZVR5cGU6XCJqc29uXCJ9KSkuZGF0YS5lZGl0aW5nSW5mby5sYXN0RWRpdERhdGV9Y3JlYXRlVGlsZVF1ZXJ5KGUsdD17fSl7Y29uc3Qgcj10aGlzLl9zZXJ2aWNlSW5mby5nZW9tZXRyeVR5cGUscz10aGlzLmNyZWF0ZVF1ZXJ5KHQpO3MucXVhbnRpemF0aW9uUGFyYW1ldGVycz10LnF1YW50aXphdGlvblBhcmFtZXRlcnM/P2UuZ2V0UXVhbnRpemF0aW9uUGFyYW1ldGVycygpLHMucmVzdWx0VHlwZT1cInRpbGVcIixzLmdlb21ldHJ5PWUuZXh0ZW50LHRoaXMuX3NlcnZpY2VJbmZvLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c1F1YW50aXphdGlvbj9cImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI9PT1yJiYocy5tYXhBbGxvd2FibGVPZmZzZXQ9ZS5yZXNvbHV0aW9uKmhhcyhcImZlYXR1cmUtcG9seWxpbmUtZ2VuZXJhbGl6YXRpb24tZmFjdG9yXCIpKTpcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCIhPT1yJiZcImVzcmlHZW9tZXRyeVBvbHlnb25cIiE9PXJ8fChzLm1heEFsbG93YWJsZU9mZnNldD1lLnJlc29sdXRpb24sXCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiPT09ciYmKHMubWF4QWxsb3dhYmxlT2Zmc2V0Kj1oYXMoXCJmZWF0dXJlLXBvbHlsaW5lLWdlbmVyYWxpemF0aW9uLWZhY3RvclwiKSkpO2NvbnN0IGk9dGhpcy5fc2VydmljZUluZm8uY2FwYWJpbGl0aWVzLnF1ZXJ5O3JldHVybiBzLmRlZmF1bHRTcGF0aWFsUmVmZXJlbmNlRW5hYmxlZD1pLnN1cHBvcnRzRGVmYXVsdFNwYXRpYWxSZWZlcmVuY2Uscy5jb21wYWN0R2VvbWV0cnlFbmFibGVkPWkuc3VwcG9ydHNDb21wYWN0R2VvbWV0cnksc31hc3luYyBfZXhlY3V0ZVBhdGNoUXVlcnkoZSx0LHIscyl7Y29uc3QgaT10LmNsb25lKCk7aS5vdXRGaWVsZHM9W3RoaXMuX3NlcnZpY2VJbmZvLm9iamVjdElkRmllbGQsLi4ucl0saS5yZXR1cm5DZW50cm9pZD0hMSxpLnJldHVybkdlb21ldHJ5PSExO2NvbnN0IGE9bnVsbCE9aS5zdGFydD9pLnN0YXJ0LzhlMzowLG89cy5zaWduYWw7cmV0dXJuIGF3YWl0IHRoaXMuZW5xdWV1ZVBhdGNoUXVlcnkoe3RpbGU6ZSxxdWVyeTppLHNpZ25hbDpvLGRlcHRoOmF9KX1hc3luYyBfcmVzZW5kKGUsdCl7Y29uc3R7cXVlcnk6cixtZXNzYWdlOml9PWUsYT1udWxsIT1yLm91dEZpZWxkcz9yLm91dEZpZWxkczpbXSxvPXRoaXMuX3F1ZXJ5SW5mby5vdXRGaWVsZHMsbj1vLmZpbHRlcigoZT0+IWEuaW5jbHVkZXMoZSkpKTtpZihudWxsIT1pLmFkZE9yVXBkYXRlKWlmKG4ubGVuZ3RoKXRyeXtjb25zdCBlPXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KGkuaWQpLnRpbGUsYT1hd2FpdCB0aGlzLl9leGVjdXRlUGF0Y2hRdWVyeShlLHIsbix0KTtzKHQpLHIub3V0RmllbGRzPW8saS5hZGRPclVwZGF0ZS5qb2luQXR0cmlidXRlcyhhKSx0aGlzLl9vbk1lc3NhZ2Uoey4uLmksZW5kOmkuZW5kLHR5cGU6XCJhcHBlbmRcIn0pfWNhdGNoKHUpe31lbHNlIHRoaXMuX29uTWVzc2FnZSh7Li4uaSx0eXBlOlwiYXBwZW5kXCJ9KTtlbHNlIHRoaXMuX29uTWVzc2FnZSh7Li4uaSx0eXBlOlwiYXBwZW5kXCJ9KX1hc3luYyBfcmVzZW5kU3Vic2NyaXB0aW9uKGUpe2lmKGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKGUudGlsZS5pZCxcIlJlc2VuZCBTdWJzY3JpcHRpb25cIiksZS5lbXB0eSlyZXR1cm4gdGhpcy5fb25NZXNzYWdlKHtpZDplLnRpbGUuaWQsYWRkT3JVcGRhdGU6bnVsbCxlbmQ6ITEsdHlwZTpcImFwcGVuZFwifSk7Y29uc3QgdD1lLnNpZ25hbDtmb3IoY29uc3QgciBvZiBlLnJlcXVlc3RzLmRvbmUpYXdhaXQgdGhpcy5fcmVzZW5kKHIse3NpZ25hbDp0fSk7cmV0dXJuIG51bGwhPWUuZWRpdHM/dGhpcy5fb25NZXNzYWdlKGUuZWRpdHMpOnZvaWQgMH1hc3luYyByZXNlbmQoKXtjb25zdCBlPUFycmF5LmZyb20odGhpcy5fc3Vic2NyaXB0aW9ucy52YWx1ZXMoKSk7YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGU9PnRoaXMuX3Jlc2VuZFN1YnNjcmlwdGlvbihlKSkpKX19ZXhwb3J0e2MgYXMgQmFzZUZlYXR1cmVTb3VyY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL1RpbWVFeHRlbnQuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2NyZWF0ZVJlc29sdmVyIGFzIHQsaWdub3JlQWJvcnRFcnJvcnMgYXMgaSxlYWNoQWx3YXlzVmFsdWVzIGFzIHIsZWFjaEFsd2F5cyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2RpZmYgYXMgbixoYXNEaWZmIGFzIHUsaGFzRGlmZkFueSBhcyBjfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtXYXRjaFVwZGF0aW5nVHJhY2tpbmcgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3N1cHBvcnQvV2F0Y2hVcGRhdGluZ1RyYWNraW5nLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e0RhdGFUaWxlU3Vic2NyaXB0aW9uIGFzIGh9ZnJvbVwiLi9EYXRhVGlsZVN1YnNjcmlwdGlvbi5qc1wiO2ltcG9ydHtVcGRhdGVUb2tlbiBhcyBsfWZyb21cIi4uL3N1cHBvcnQvVXBkYXRlVG9rZW4uanNcIjtmdW5jdGlvbiBwKGUscyl7Y29uc3QgdD1uZXcgU2V0O3JldHVybiBlJiZlLmZvckVhY2goKGU9PnQuYWRkKGUpKSkscyYmcy5mb3JFYWNoKChlPT50LmFkZChlKSkpLHQuaGFzKFwiKlwiKT9bXCIqXCJdOkFycmF5LmZyb20odCl9Y2xhc3MgbXtjb25zdHJ1Y3RvcihlKXt0aGlzLnVwZGF0aW5nSGFuZGxlcz1uZXcgYSx0aGlzLmV2ZW50cz1uZXcgcyx0aGlzLl9yZXNvbHZlcj10KCksdGhpcy5fZGlkRWRpdD0hMSx0aGlzLl9zdWJzY3JpcHRpb25zPW5ldyBNYXAsdGhpcy5fb3V0U1I9ZS5vdXRTUix0aGlzLl9zZXJ2aWNlSW5mbz1lLnNlcnZpY2VJbmZvLHRoaXMuX29uVGlsZVVwZGF0ZU1lc3NhZ2U9ZS5vbk1lc3NhZ2V9ZGVzdHJveSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3N1YnNjcmlwdGlvbnMudmFsdWVzKCkpZS5hYm9ydCgpO3RoaXMudXBkYXRpbmdIYW5kbGVzLmRlc3Ryb3koKX1nZXQgc3Vic2NyaXB0aW9ucygpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zLnZhbHVlcygpfWFzeW5jIF9vbk1lc3NhZ2UoZSl7Y29uc3Qgcz10aGlzLl9zdWJzY3JpcHRpb25zLmdldChlLmlkKTtpZighcylyZXR1cm47Y29uc3QgdD17Li4uZSxyZW1vdmU6ZS5yZW1vdmU/P1tdLHN0YXR1czplLnN0YXR1cz8/bC5lbXB0eSgpfTtyZXR1cm4gaSh0aGlzLl9vblRpbGVVcGRhdGVNZXNzYWdlKHQscy5vcHRpb25zKSl9dXBkYXRlKHMsdCl7Y29uc3QgaT10LmZpZWxkcy5sZW5ndGg7dC5vdXRGaWVsZHM9cCh0aGlzLl9zY2hlbWE/Lm91dEZpZWxkcyx0Lm91dEZpZWxkcyksdC5vdXRGaWVsZHM9dC5vdXRGaWVsZHMubGVuZ3RoPj0uNzUqaT9bXCIqXCJdOnQub3V0RmllbGRzLHQub3V0RmllbGRzLnNvcnQoKTtjb25zdCByPW4odGhpcy5fc2NoZW1hLHQpO2lmKCFyKXJldHVybjtoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkFwcGx5aW5nIFVwZGF0ZSAtIFNvdXJjZTpcIixyKTtjb25zdCBvPVwib3JkZXJCeUZpZWxkc1wiaW4gdGhpcy5fc2VydmljZUluZm8mJnRoaXMuX3NlcnZpY2VJbmZvLm9yZGVyQnlGaWVsZHM/dGhpcy5fc2VydmljZUluZm8ub3JkZXJCeUZpZWxkczp0aGlzLl9zZXJ2aWNlSW5mby5vYmplY3RJZEZpZWxkK1wiIEFTQ1wiLGE9e3JldHVybkNlbnRyb2lkOlwiZXNyaUdlb21ldHJ5UG9seWdvblwiPT09dGhpcy5fc2VydmljZUluZm8uZ2VvbWV0cnlUeXBlLHJldHVybkdlb21ldHJ5OiEwLHRpbWVSZWZlcmVuY2VVbmtub3duQ2xpZW50Olwic3RyZWFtXCIhPT10aGlzLl9zZXJ2aWNlSW5mby50eXBlJiZ0aGlzLl9zZXJ2aWNlSW5mby50aW1lUmVmZXJlbmNlVW5rbm93bkNsaWVudCxvdXRGaWVsZHM6dC5vdXRGaWVsZHMsb3V0U3BhdGlhbFJlZmVyZW5jZTp0aGlzLl9vdXRTUixvcmRlckJ5RmllbGRzOltvXSx3aGVyZTp0LmRlZmluaXRpb25FeHByZXNzaW9ufHxcIjE9MVwiLGdkYlZlcnNpb246dC5nZGJWZXJzaW9uLGhpc3RvcmljTW9tZW50OnQuaGlzdG9yaWNNb21lbnQsdGltZUV4dGVudDp0LnRpbWVFeHRlbnQ/ZS5mcm9tSlNPTih0LnRpbWVFeHRlbnQpOm51bGx9LGQ9dGhpcy5fc2NoZW1hJiZ1KHIsXCJvdXRGaWVsZHNcIik7dGhpcy5fc2NoZW1hJiZjKHIsW1widGltZUV4dGVudFwiLFwiZGVmaW5pdGlvbkV4cHJlc3Npb25cIixcImdkYlZlcnNpb25cIixcImhpc3RvcmljTW9tZW50XCIsXCJjdXN0b21QYXJhbWV0ZXJzXCJdKSYmKHMud2h5Lm1lc2gucHVzaChcIkxheWVyIGZpbHRlciBhbmQvb3IgY3VzdG9tIHBhcmFtZXRlcnMgY2hhbmdlZFwiKSxzLndoeS5zb3VyY2UucHVzaChcIkxheWVyIGZpbHRlciBhbmQvb3IgY3VzdG9tIHBhcmFtZXRlcnMgY2hhbmdlZFwiKSxzLm1lc2g9ITAscy5zb3VyY2U9ITAscy5xdWVyeUZpbHRlcj0hMCksZCYmKHMud2h5LnNvdXJjZS5wdXNoKFwiTGF5ZXIgcmVxdWlyZWQgZmllbGRzIGNoYW5nZWRcIikscy5zb3VyY2U9ITApLG4oYSx0aGlzLl9xdWVyeUluZm8pJiYodGhpcy5fcXVlcnlJbmZvPWEpLHRoaXMuX3NjaGVtYT10LHRoaXMuX3Jlc29sdmVyLnJlc29sdmUoKX13aGVuSW5pdGlhbGl6ZWQoKXtyZXR1cm4gdGhpcy5fcmVzb2x2ZXIucHJvbWlzZX1hc3luYyBhcHBseVVwZGF0ZShlKXtpZihlLnF1ZXJ5RmlsdGVyfHxlLnNvdXJjZSYmdGhpcy5fZGlkRWRpdClyZXR1cm4gdGhpcy5yZWZyZXNoKGUudmVyc2lvbiksdm9pZCh0aGlzLl9kaWRFZGl0PSExKTt0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKHM9PnMuYXBwbHlVcGRhdGUoZSkpKSxhd2FpdCB0aGlzLnJlc2VuZCgpfXJlZnJlc2goZSxzKXtmb3IoY29uc3QgdCBvZiB0aGlzLl90aWxlcygpKXRoaXMudW5zdWJzY3JpYmUodCksdGhpcy5zdWJzY3JpYmUodCxlKX1zdWJzY3JpYmUoZSxzKXtjb25zdCB0PW5ldyBoKGUscyk7dGhpcy5fc3Vic2NyaXB0aW9ucy5zZXQoZS5pZCx0KSx0aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHQuZG9uZSl9dW5zdWJzY3JpYmUoZSl7Y29uc3Qgcz10aGlzLmdldFN1YnNjcmlwdGlvbihlLmlkKTtudWxsIT1zJiZzLmFib3J0KCksdGhpcy5fc3Vic2NyaXB0aW9ucy5kZWxldGUoZS5pZCl9Y3JlYXRlUXVlcnkoZT17fSl7Y29uc3Qgcz10aGlzLl9xdWVyeUluZm8uaGlzdG9yaWNNb21lbnQ/bmV3IERhdGUodGhpcy5fcXVlcnlJbmZvLmhpc3RvcmljTW9tZW50KTpudWxsO3JldHVybiBuZXcgZCh7Li4udGhpcy5fcXVlcnlJbmZvLGhpc3RvcmljTW9tZW50OnMsLi4uZX0pfWdldFN1YnNjcmlwdGlvbihlKXtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9ucy5oYXMoZSk/dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQoZSk6bnVsbH1hc3luYyBxdWVyeUxhc3RFZGl0RGF0ZSgpe3Rocm93IG5ldyBFcnJvcihcIlNlcnZpY2UgZG9lcyBub3Qgc3VwcG9ydCBxdWVyeSB0eXBlXCIpfWFzeW5jIHF1ZXJ5KGUscyl7dGhyb3cgbmV3IEVycm9yKFwiU2VydmljZSBkb2VzIG5vdCBzdXBwb3J0IHF1ZXJ5XCIpfSpfdGlsZXMoKXtjb25zdCBlPUFycmF5LmZyb20odGhpcy5fc3Vic2NyaXB0aW9ucy52YWx1ZXMoKSk7Zm9yKGNvbnN0IHMgb2YgZSl5aWVsZCBzLnRpbGV9YXN5bmMgZWRpdChlLHMpe2NvbnN0IHQ9QXJyYXkuZnJvbSh0aGlzLl9zdWJzY3JpcHRpb25zLnZhbHVlcygpKSxpPXQubWFwKCgoe3RpbGU6ZX0pPT5lKSk7Zm9yKGNvbnN0IHIgb2YgdClyLnJlbW92ZUlkcyhzKTtpZihlLmxlbmd0aCl7Y29uc3QgdD1pLm1hcCgocz0+e2NvbnN0IHQ9dGhpcy5jcmVhdGVUaWxlUXVlcnkocyk7cmV0dXJuIHQub2JqZWN0SWRzPWUse3RpbGU6cyxxdWVyeTp0fX0pKS5tYXAoKGFzeW5jKHt0aWxlOmUscXVlcnk6c30pPT4oe3RpbGU6ZSxyZXN1bHQ6YXdhaXQgdGhpcy5xdWVyeShzLHtxdWVyeTp7dGlsZTpoYXMoXCJlc3JpLXRpbGVzLWRlYnVnXCIpP2UuaWQucmVwbGFjZUFsbChcIi9cIixcIi5cIik6dm9pZCAwfX0pLHF1ZXJ5OnN9KSkpLG49KGF3YWl0IHIodCkpLm1hcCgoYXN5bmMoe3RpbGU6dCxyZXN1bHQ6aX0pPT57aWYoIWkuaGFzRmVhdHVyZXMmJiFzLmxlbmd0aCYmIWUubGVuZ3RoKXJldHVybjtjb25zdCByPXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KHQua2V5LmlkKTtyJiZyLmVkaXQoaSxlKX0pKTthd2FpdCBvKG4pfXRoaXMuX2RpZEVkaXQ9ITB9fWV4cG9ydHttIGFzIERhdGFUaWxlU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNTb21lIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9DaXJjdWxhckFycmF5LmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtjcmVhdGVSZXNvbHZlciBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJKU09OIGFzIHJ9ZnJvbVwiLi4vc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVySlNPTi5qc1wiO2ltcG9ydHtVcGRhdGVUb2tlbiBhcyBpfWZyb21cIi4uL3N1cHBvcnQvVXBkYXRlVG9rZW4uanNcIjtjbGFzcyBke2NvbnN0cnVjdG9yKGUscil7dGhpcy5yZXF1ZXN0cz17ZG9uZTpuZXcgQXJyYXksc3RyZWFtOm5ldyBzKDEwKX0sdGhpcy5fZWRpdHM9bnVsbCx0aGlzLl9hYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcix0aGlzLl92ZXJzaW9uPTAsdGhpcy5fcmVzb2x2ZXI9dCgpLHRoaXMuX2lzRG9uZT0hMSx0aGlzLmRpZFNlbmQ9ITEsdGhpcy50aWxlPWUsdGhpcy5fdmVyc2lvbj1yfWdldCBzaWduYWwoKXtyZXR1cm4gdGhpcy5fYWJvcnRDb250cm9sbGVyLnNpZ25hbH1nZXQgb3B0aW9ucygpe3JldHVybntzaWduYWw6dGhpcy5fYWJvcnRDb250cm9sbGVyLnNpZ25hbH19Z2V0IGVtcHR5KCl7cmV0dXJuIXRoaXMucmVxdWVzdHMuZG9uZS5sZW5ndGgmJm51bGw9PXRoaXMuZWRpdHN9Z2V0IGVkaXRzKCl7cmV0dXJuIHRoaXMuX2VkaXRzfWdldCBkb25lKCl7cmV0dXJuIHRoaXMuX3Jlc29sdmVyLnByb21pc2V9Z2V0IGlzRG9uZSgpe3JldHVybiB0aGlzLl9pc0RvbmV9cmVzb2x2ZSgpe3RoaXMuX2lzRG9uZT0hMCx0aGlzLl9yZXNvbHZlci5yZXNvbHZlKCl9Y2xlYXIoKXt0aGlzLnJlcXVlc3RzLmRvbmU9W119YXBwbHlVcGRhdGUoZSl7dGhpcy5yZXF1ZXN0cy5kb25lLmZvckVhY2goKHM9PnMubWVzc2FnZS5zdGF0dXMudW5zZXQoZSkpKSx0aGlzLl92ZXJzaW9uPWUudmVyc2lvbixudWxsIT10aGlzLl9lZGl0cyYmdGhpcy5fZWRpdHMuc3RhdHVzLnVuc2V0KGUpfWFkZChlKXtlLm1lc3NhZ2Uuc3RhdHVzPWUubWVzc2FnZS5zdGF0dXM/P2kuZW1wdHkoKSxlLm1lc3NhZ2Uuc3RhdHVzLnZlcnNpb249dGhpcy5fdmVyc2lvbixoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1Zyh0aGlzLnRpbGUuaWQsXCJEYXRhVGlsZVN1YnNjcmlwdGlvbjphZGRcIix0aGlzLl92ZXJzaW9uKSxlLm1lc3NhZ2UuZW5kJiYodGhpcy5yZXF1ZXN0cy5kb25lLmZvckVhY2goKGU9PntudWxsIT1lLm1lc3NhZ2UmJmUubWVzc2FnZS5lbmQmJihlLm1lc3NhZ2UuZW5kPSExKX0pKSx0aGlzLl9yZXNvbHZlci5yZXNvbHZlKCksdGhpcy5faXNEb25lPSEwKSx0aGlzLnJlcXVlc3RzLmRvbmUucHVzaChlKX1lZGl0KHMsdCl7Y29uc3QgZD1zLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpLG89cy5mdWxsU2NoZW1hKCksYT1BcnJheS5mcm9tKHMuZmVhdHVyZXMoKSkuZmlsdGVyKGUpLG49Wy4uLnQsLi4uYS5tYXAoKGU9PmUub2JqZWN0SWQpKV07aWYodGhpcy5yZW1vdmVJZHMobiksdGhpcy5faW52YWxpZGF0ZSgpLG51bGw9PXRoaXMuX2VkaXRzKXJldHVybiB2b2lkKHRoaXMuX2VkaXRzPXt0eXBlOlwiYXBwZW5kXCIsYWRkT3JVcGRhdGU6ci5mcm9tT3B0aW1pemVkRmVhdHVyZXMoYSxvLGQpLGlkOnRoaXMudGlsZS5pZCxzdGF0dXM6aS5lbXB0eSgpLGVuZDohMH0pO3RoaXMucmVxdWVzdHMuZG9uZS5mb3JFYWNoKChlPT5lLm1lc3NhZ2UuZW5kPSExKSk7dGhpcy5fZWRpdHMuYWRkT3JVcGRhdGUuYXBwZW5kKHMuZmVhdHVyZXMoKSl9KnJlYWRlcnMoKXtmb3IoY29uc3R7bWVzc2FnZTplfW9mIHRoaXMucmVxdWVzdHMuZG9uZSludWxsIT1lLmFkZE9yVXBkYXRlJiYoeWllbGQgZS5hZGRPclVwZGF0ZSk7bnVsbCE9dGhpcy5fZWRpdHMmJm51bGwhPXRoaXMuX2VkaXRzLmFkZE9yVXBkYXRlJiYoeWllbGQgdGhpcy5fZWRpdHMuYWRkT3JVcGRhdGUpfV9pbnZhbGlkYXRlKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5yZXF1ZXN0cy5kb25lKWUubWVzc2FnZS5zdGF0dXM9aS5lbXB0eSgpO251bGwhPXRoaXMuX2VkaXRzJiYodGhpcy5fZWRpdHMuc3RhdHVzPWkuZW1wdHkoKSl9cmVtb3ZlSWRzKGUpe3RoaXMuX2ludmFsaWRhdGUoKTtmb3IoY29uc3R7bWVzc2FnZTpzfW9mIHRoaXMucmVxdWVzdHMuZG9uZSl7Y29uc3QgdD1zLmFkZE9yVXBkYXRlO251bGwhPXQmJih0LnJlbW92ZUlkcyhlKSx0LmlzRW1wdHkmJihoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIlJlbW92aW5nIEZlYXR1cmVTZXRSZWFkZXJcIikscy5hZGRPclVwZGF0ZT1udWxsKSl9bnVsbCE9dGhpcy5fZWRpdHMmJm51bGwhPXRoaXMuX2VkaXRzLmFkZE9yVXBkYXRlJiZ0aGlzLl9lZGl0cy5hZGRPclVwZGF0ZS5yZW1vdmVJZHMoZSksdGhpcy5yZXF1ZXN0cy5kb25lPXRoaXMucmVxdWVzdHMuZG9uZS5maWx0ZXIoKGU9PmUubWVzc2FnZS5hZGRPclVwZGF0ZXx8ZS5tZXNzYWdlLmVuZCkpfWFib3J0KCl7dGhpcy5fYWJvcnRDb250cm9sbGVyLmFib3J0KCksdGhpcy5fcmVzb2x2ZXIucmVqZWN0KCl9fWV4cG9ydHtkIGFzIERhdGFUaWxlU3Vic2NyaXB0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIGUsaXNBYm9ydEVycm9yIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7QmFzZUZlYXR1cmVTb3VyY2UgYXMgcn1mcm9tXCIuL0Jhc2VGZWF0dXJlU291cmNlLmpzXCI7Y29uc3Qgcz1oYXMoXCJlc3JpLW1vYmlsZVwiKSxpPXttYXhEcmlsbExldmVsOnM/MTo0LG1heFJlY29yZENvdW50RmFjdG9yOnM/MTozfTtjbGFzcyBhIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1hc3luYyBfZmV0Y2hEYXRhVGlsZShyKXtjb25zdCBzPXRoaXMuX3NlcnZpY2VJbmZvLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c01heFJlY29yZENvdW50RmFjdG9yLGE9dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQoci5rZXkuaWQpLG89YS5zaWduYWwsbj1yLmdldFF1YW50aXphdGlvblBhcmFtZXRlcnMoKTtsZXQgYz0wO2NvbnN0IGQ9YXN5bmModSxsKT0+e2NvbnN0IG09dGhpcy5fcXVlcnlJbmZvLHA9dGhpcy5jcmVhdGVUaWxlUXVlcnkodSx7bWF4UmVjb3JkQ291bnRGYWN0b3I6cz9pLm1heFJlY29yZENvdW50RmFjdG9yOnZvaWQgMCxyZXR1cm5FeGNlZWRlZExpbWl0RmVhdHVyZXM6ITEscXVhbnRpemF0aW9uUGFyYW1ldGVyczpufSk7YysrO3RyeXtjb25zdCB0PWF3YWl0IHRoaXMuZW5xdWV1ZVF1ZXJ5KHt0aWxlOnIscXVlcnk6cCxzaWduYWw6byxkZXB0aDpsfSk7aWYoYy0tLGUobyksIXQpcmV0dXJuO2lmKG0hPT10aGlzLl9xdWVyeUluZm8pcmV0dXJuIHZvaWQgZCh1LGwpO2lmKHQuZXhjZWVkZWRUcmFuc2ZlckxpbWl0JiZsPGkubWF4RHJpbGxMZXZlbCl7Zm9yKGNvbnN0IGUgb2YgdS5jcmVhdGVDaGlsZFRpbGVzKCkpZChlLGwrMSk7cmV0dXJufWNvbnN0IHM9e2lkOnIuaWQsYWRkT3JVcGRhdGU6dCxlbmQ6MD09PWMsdHlwZTpcImFwcGVuZFwifTthLmFkZCh7cXVlcnk6cCxtZXNzYWdlOnN9KSx0aGlzLl9vbk1lc3NhZ2Uocyl9Y2F0Y2goZil7aWYoIXQoZikpe2NvbnN0IGU9e2lkOnIuaWQsYWRkT3JVcGRhdGU6bnVsbCxlbmQ6ITAsdHlwZTpcImFwcGVuZFwifTthLmFkZCh7cXVlcnk6cCxtZXNzYWdlOmV9KSx0aGlzLl9vbk1lc3NhZ2UoZSl9fX07ZChyLDApfX1leHBvcnR7YSBhcyBEcmlsbERvd25GZWF0dXJlU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIHIsdGhyb3dJZkFib3J0ZWQgYXMgYSx0aHJvd0lmTm90QWJvcnRFcnJvciBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e0Jhc2VGZWF0dXJlU291cmNlIGFzIGl9ZnJvbVwiLi9CYXNlRmVhdHVyZVNvdXJjZS5qc1wiO2NsYXNzIG8gZXh0ZW5kcyBpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9mZXRjaERhdGFUaWxlKHMpe2NvbnN0IGk9NixvPTIwLG49dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQocy5rZXkuaWQpO2xldCBkPSExLGM9MCx1PTA7Y29uc3QgaD0oZSx0KT0+e3UtLSxhKG4pO2NvbnN0IHI9cy5pZCxpPWUucmVhZGVyLG89ZS5xdWVyeTtpZighaS5leGNlZWRlZFRyYW5zZmVyTGltaXQpe2lmKGQ9ITAsMCE9PXQmJiFpLmhhc0ZlYXR1cmVzKXtjb25zdCBlPXtpZDpyLGFkZE9yVXBkYXRlOmksZW5kOjA9PT11LHR5cGU6XCJhcHBlbmRcIn07cmV0dXJuIG4uYWRkKHttZXNzYWdlOmUscXVlcnk6b30pLHZvaWQgdGhpcy5fb25NZXNzYWdlKGUpfWNvbnN0IGU9e2lkOnIsYWRkT3JVcGRhdGU6aSxlbmQ6MD09PXUsdHlwZTpcImFwcGVuZFwifTtyZXR1cm4gbi5hZGQoe21lc3NhZ2U6ZSxxdWVyeTpvfSksdm9pZCB0aGlzLl9vbk1lc3NhZ2UoZSl9Y29uc3QgYz17aWQ6cixhZGRPclVwZGF0ZTppLGVuZDpkJiYwPT09dSx0eXBlOlwiYXBwZW5kXCJ9O24uYWRkKHttZXNzYWdlOmMscXVlcnk6b30pLHRoaXMuX29uTWVzc2FnZShjKX07bGV0IG09MCxwPTA7Zm9yKDshZCYmcCsrPG87KXtsZXQgbztmb3IobGV0IGE9MDthPG0rMTthKyspe2NvbnN0IGE9YysrO3UrKyxvPXRoaXMuX2ZldGNoRGF0YVRpbGVQYWdlKHMsYSxuKS50aGVuKChlPT5lJiZoKGUsYSkpKS5jYXRjaCgoYT0+e2lmKGQ9ITAsIXIoYSkpe3QuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMuc291cmNlcy5QYWdlZEZlYXR1cmVTb3VyY2VcIikuZXJyb3IobmV3IGUoXCJtYXB2aWV3LXF1ZXJ5LWVycm9yXCIsXCJFbmNvdW50ZXJlZCBlcnJvciB3aGVuIGZldGNoaW5nIHRpbGVcIix7dGlsZTpzLGVycm9yOmF9KSk7Y29uc3Qgcj17aWQ6cy5pZCxhZGRPclVwZGF0ZTpudWxsLGVuZDpkLHR5cGU6XCJhcHBlbmRcIn0saT17c3RhcnQ6dGhpcy5wYWdlU2l6ZSpjLG51bTp0aGlzLnBhZ2VTaXplLHJldHVybkV4Y2VlZGVkTGltaXRGZWF0dXJlczohMCxxdWFudGl6YXRpb25QYXJhbWV0ZXJzOnMuZ2V0UXVhbnRpemF0aW9uUGFyYW1ldGVycygpfTtudWxsIT10aGlzLm1heFJlY29yZENvdW50RmFjdG9yJiYoaS5tYXhSZWNvcmRDb3VudEZhY3Rvcj10aGlzLm1heFJlY29yZENvdW50RmFjdG9yKTtjb25zdCBvPXRoaXMuY3JlYXRlVGlsZVF1ZXJ5KHMsaSk7bi5hZGQoe21lc3NhZ2U6cixxdWVyeTpvfSksdGhpcy5fb25NZXNzYWdlKHIpfX0pKX1hd2FpdCBvLGEobiksbT1NYXRoLm1pbihtKzIsaSl9fWFzeW5jIF9mZXRjaERhdGFUaWxlUGFnZShlLHQscil7YShyKTtjb25zdCBpPXRoaXMuX3F1ZXJ5SW5mbyxvPXtzdGFydDp0aGlzLnBhZ2VTaXplKnQsbnVtOnRoaXMucGFnZVNpemUscmV0dXJuRXhjZWVkZWRMaW1pdEZlYXR1cmVzOiEwLHF1YW50aXphdGlvblBhcmFtZXRlcnM6ZS5nZXRRdWFudGl6YXRpb25QYXJhbWV0ZXJzKCl9O251bGwhPXRoaXMubWF4UmVjb3JkQ291bnRGYWN0b3ImJihvLm1heFJlY29yZENvdW50RmFjdG9yPXRoaXMubWF4UmVjb3JkQ291bnRGYWN0b3IpO2NvbnN0IG49dGhpcy5jcmVhdGVUaWxlUXVlcnkoZSxvKTt0cnl7Y29uc3Qgcz1yLnNpZ25hbCxvPWF3YWl0IHRoaXMuZW5xdWV1ZVF1ZXJ5KHt0aWxlOmUscXVlcnk6bixzaWduYWw6cyxkZXB0aDp0fSk7cmV0dXJuIGEociksbz9pIT09dGhpcy5fcXVlcnlJbmZvP3RoaXMuX2ZldGNoRGF0YVRpbGVQYWdlKGUsdCxyKTp7cmVhZGVyOm8scXVlcnk6bn06bnVsbH1jYXRjaChkKXtyZXR1cm4gcyhkKSxudWxsfX19ZXhwb3J0e28gYXMgUGFnZWRGZWF0dXJlU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7dW53cmFwT3JUaHJvdyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgcixhZnRlciBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e0Jhc2VGZWF0dXJlU291cmNlIGFzIGl9ZnJvbVwiLi9CYXNlRmVhdHVyZVNvdXJjZS5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySW5kaXJlY3QgYXMgZH1mcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJQQkZJbmRpcmVjdC5qc1wiO2ltcG9ydHtVcGRhdGVUb2tlbiBhcyB1fWZyb21cIi4uL3N1cHBvcnQvVXBkYXRlVG9rZW4uanNcIjtmdW5jdGlvbiBsKGUsdCxzKXtjb25zdCByPWUuZ2V0WEh5ZHJhdGVkKCksbz1lLmdldFlIeWRyYXRlZCgpLG49dC5nZXRDb2x1bW5Gb3JYKHIpLGE9TWF0aC5mbG9vcih0Lm5vcm1hbGl6ZUNvbChuKSk7cmV0dXJuYCR7c30vJHtNYXRoLmZsb29yKHQuZ2V0Um93Rm9yWShvKSl9LyR7YX1gfWZ1bmN0aW9uIGgoZSx0KXtpZihudWxsPT1lKXJldHVybiBudWxsO2NvbnN0IHM9dC50cmFuc2Zvcm0scj1lLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpO2lmKG51bGw9PXIpe2NvbnN0W3Qscl09cy5zY2FsZSxbbyxuXT1zLnRyYW5zbGF0ZSxhPS1vL3QsaT0xL3QsZD1uL3IsdT0xLy1yO3JldHVybiBlLnRyYW5zZm9ybShhLGQsaSx1KX1jb25zdFtvLG5dPXIuc2NhbGUsW2EsaV09ci50cmFuc2xhdGUsW2QsdV09cy5zY2FsZSxbbCxoXT1zLnRyYW5zbGF0ZSxjPW8vZCxnPShhLWwpL2QscD1uL3UsXz0oLWkraCkvdTtyZXR1cm4gZS50cmFuc2Zvcm0oZyxfLGMscCl9bGV0IGM9Y2xhc3MgZXh0ZW5kcyBpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMubW9kZT1cInNuYXBzaG90XCIsdGhpcy5fbG9hZGluZz0hMCx0aGlzLl9jb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsdGhpcy5fZG93bmxvYWRQcm9taXNlPW51bGwsdGhpcy5fZGlkU2VuZEVuZD0hMSx0aGlzLl9xdWVyaWVzPW5ldyBBcnJheSx0aGlzLl9pbnZhbGlkYXRlZD0hMSx0aGlzLl9oYXNBZ2dyZWdhdGVzPSExLHRoaXMuX3JhbmRvbT1uZXcgbigxZTMpLHRoaXMuX3N0b3JlPWUuc3RvcmUsdGhpcy5fbWFya2VkSWRzQnVmSWQ9dGhpcy5fc3RvcmUuc3RvcmFnZS5jcmVhdGVCaXRzZXQoKX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLHRoaXMuX2NvbnRyb2xsZXIuYWJvcnQoKX1nZXQgbG9hZGluZygpe3JldHVybiB0aGlzLl9sb2FkaW5nfWdldCBfc2lnbmFsKCl7cmV0dXJuIHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsfXVwZGF0ZShlLHQpe3N1cGVyLnVwZGF0ZShlLHQpLG51bGw9PXRoaXMuX2ZlYXR1cmVDb3VudCYmKHRoaXMuX2ZlYXR1cmVDb3VudD10LmluaXRpYWxGZWF0dXJlQ291bnQpLG51bGwhPXQuY2hhbmdlZEZlYXR1cmVDb3VudCYmKHRoaXMuX2ZlYXR1cmVDb3VudD10LmNoYW5nZWRGZWF0dXJlQ291bnQpLHRoaXMuX2hhc0FnZ3JlZ2F0ZXM9ISFlLnRhcmdldHM/LmFnZ3JlZ2F0ZX1hc3luYyByZXNlbmQoZT0hMSl7aWYoYXdhaXQgdGhpcy5fZG93bmxvYWRQcm9taXNlLHRoaXMuX2ludmFsaWRhdGVkfHxlKXtjb25zdCBlPXModGhpcy5fZmVhdHVyZUNvdW50LFwiRXhwZWN0ZWQgZmVhdHVyZUNvdW50IHRvIGJlIGRlZmluZWRcIik7cmV0dXJuIHRoaXMuX2ludmFsaWRhdGVkPSExLHRoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+ZS5jbGVhcigpKSksdGhpcy5fZG93bmxvYWRQcm9taXNlPXRoaXMuX2Rvd25sb2FkKGUpLHZvaWQgYXdhaXQgdGhpcy5fZG93bmxvYWRQcm9taXNlfWNvbnN0IHQ9dGhpcy5fcXVlcmllcy5tYXAoKCh7cXVlcnk6ZSxyZWFkZXI6dH0pPT50aGlzLl9zZW5kUGF0Y2hRdWVyeShlLHQpKSk7YXdhaXQgUHJvbWlzZS5hbGwodCksdGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChlPT57ZS5yZXF1ZXN0cy5kb25lLmZvckVhY2goKGU9PnRoaXMuX29uTWVzc2FnZShlLm1lc3NhZ2UpKSl9KSl9YXN5bmMgcmVmcmVzaChlLHQpe3QmJih0aGlzLl9mZWF0dXJlQ291bnQ9dC5mZWF0dXJlQ291bnQpLGF3YWl0IHRoaXMucmVzZW5kKCEwKX1hc3luYyBfc2VuZFBhdGNoUXVlcnkoZSx0KXtjb25zdCBzPW51bGwhPWUub3V0RmllbGRzP2Uub3V0RmllbGRzOltdLG89dGhpcy5fcXVlcnlJbmZvLm91dEZpZWxkcyxuPW8uZmlsdGVyKChlPT4hcy5pbmNsdWRlcyhlKSkpO2lmKCFuLmxlbmd0aClyZXR1cm47Y29uc3QgYT1lLmNsb25lKCksaT10aGlzLl9zaWduYWw7YS5yZXR1cm5HZW9tZXRyeT0hMSxhLnJldHVybkNlbnRyb2lkPSExLGEub3V0RmllbGRzPW4sZS5vdXRGaWVsZHM9bztjb25zdCBkPWF3YWl0IHRoaXMuZW5xdWV1ZVF1ZXJ5KHtxdWVyeTphLGRlcHRoOjAsc2lnbmFsOml9KTtyKHtzaWduYWw6aX0pLHQuam9pbkF0dHJpYnV0ZXMoZCl9YXN5bmMgX2ZldGNoRGF0YVRpbGUoZSl7aWYoIXRoaXMuX2Rvd25sb2FkUHJvbWlzZSl7Y29uc3QgZT1zKHRoaXMuX2ZlYXR1cmVDb3VudCxcIkV4cGVjdGVkIGZlYXR1cmVDb3VudCB0byBiZSBkZWZpbmVkXCIpO3RoaXMuX2Rvd25sb2FkUHJvbWlzZT10aGlzLl9kb3dubG9hZChlKX1jb25zdCB0PXRoaXMuX3N0b3JlLnNlYXJjaChlKSxyPXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KGUua2V5LmlkKSxuPXQubGVuZ3RoLTE7Zm9yKGxldCBzPTA7czxuO3MrKyl7Y29uc3Qgbj1oKHRbc10sZSksYT17dHlwZTpcImFwcGVuZFwiLGlkOmUuaWQsYWRkT3JVcGRhdGU6bixlbmQ6ITEsc3RhdHVzOnUuZW1wdHkoKX07ci5hZGQoe3F1ZXJ5Om51bGwsbWVzc2FnZTphfSksdGhpcy5faGFzQWdncmVnYXRlc3x8YXdhaXQgbygxKSx0aGlzLl9vbk1lc3NhZ2UoYSl9Y29uc3QgYT1oKG4+PTA/dFtuXTpudWxsLGUpLGk9dGhpcy5fZGlkU2VuZEVuZCxkPXt0eXBlOlwiYXBwZW5kXCIsaWQ6ZS5pZCxhZGRPclVwZGF0ZTphLGVuZDppLHN0YXR1czp1LmVtcHR5KCl9O3IuYWRkKHtxdWVyeTpudWxsLG1lc3NhZ2U6ZH0pLHRoaXMuX29uTWVzc2FnZShkKX1hc3luYyBfZG93bmxvYWQoZSl7dHJ5e2F3YWl0IHRoaXMud2hlbkluaXRpYWxpemVkKCk7Y29uc3QgdD10aGlzLl9zdG9yZS5zdG9yYWdlLmdldEJpdHNldCh0aGlzLl9tYXJrZWRJZHNCdWZJZCkscz1uZXcgU2V0O3QuY2xlYXIoKTtjb25zdCByPU1hdGguY2VpbChlL3RoaXMucGFnZVNpemUpLG89QXJyYXkuZnJvbSh7bGVuZ3RoOnJ9LCgoZSx0KT0+dCkpLnNvcnQoKChlLHQpPT50aGlzLl9yYW5kb20uZ2V0SW50KCktdGhpcy5fcmFuZG9tLmdldEludCgpKSkubWFwKChlPT50aGlzLl9kb3dubG9hZFBhZ2UoZSx0LHMpKSk7YXdhaXQgUHJvbWlzZS5hbGwobyksdGhpcy5fc3RvcmUuc3dlZXBGZWF0dXJlcyh0LHRoaXMuX3N0b3JlLnN0b3JhZ2UpLHRoaXMuX3N0b3JlLnN3ZWVwRmVhdHVyZVNldHMocyl9Y2F0Y2gocyl7dC5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy5zb3VyY2VzLlNuYXBzaG90RmVhdHVyZVNvdXJjZVwiKS5lcnJvcihcIm1hcHZpZXctc25hcHNob3Qtc291cmNlXCIsXCJFbmNvdW50ZXJlZCBhbmQgZXJyb3Igd2hlbiBkb3dubG9hZGluZyBmZWF0dXJlIHNuYXBzaG90XCIscyl9dGhpcy5fc2VuZEVuZCgpLHRoaXMuX2xvYWRpbmc9ITF9YXN5bmMgX2Rvd25sb2FkUGFnZShlLHQscyl7Y29uc3Qgbz10aGlzLnBhZ2VTaXplLG49e3N0YXJ0OmUqbyxudW06byxjYWNoZUhpbnQ6ITB9O251bGwhPXRoaXMubWF4UmVjb3JkQ291bnRGYWN0b3ImJihuLm1heFJlY29yZENvdW50RmFjdG9yPXRoaXMubWF4UmVjb3JkQ291bnRGYWN0b3IpO2NvbnN0IGE9dGhpcy5jcmVhdGVRdWVyeShuKSxpPXRoaXMuX3NpZ25hbCxkPWF3YWl0IHRoaXMuZW5xdWV1ZVF1ZXJ5KHtxdWVyeTphLGRlcHRoOmUsc2lnbmFsOml9KTtyKHtzaWduYWw6aX0pLHRoaXMuX3F1ZXJpZXMucHVzaCh7cXVlcnk6YSxyZWFkZXI6ZH0pLHRoaXMuX3N0b3JlLmluc2VydChkKSxzLmFkZChkLmluc3RhbmNlKTtjb25zdCB1PWQuZ2V0Q3Vyc29yKCk7Zm9yKDt1Lm5leHQoKTspdC5zZXQodS5nZXREaXNwbGF5SWQoKSk7dGhpcy5fc2VuZChkKX1fc2VuZChlKXtpZighdGhpcy5fc3Vic2NyaXB0aW9ucy5zaXplKXJldHVybjtsZXQgdD1udWxsO2NvbnN0IHM9bmV3IE1hcCxyPW5ldyBTZXQsbz1uZXcgTWFwO3RoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e2NvbnN0IG49ZS50aWxlO3Muc2V0KG4ua2V5LmlkLG51bGwpLHQ9bi50aWxlSW5mb1ZpZXcsci5hZGQobi5sZXZlbCk7Y29uc3R7cm93OmEsY29sOml9PW4ua2V5LGQ9YCR7bi5sZXZlbH0vJHthfS8ke2l9YCx1PW8uZ2V0KGQpPz9bXTt1LnB1c2goZSksby5zZXQoZCx1KX0pKTtmb3IoY29uc3QgbiBvZiByKXtjb25zdCByPXQuZ2V0TE9ESW5mb0F0KG4pLGE9ZS5nZXRDdXJzb3IoKTtmb3IoO2EubmV4dCgpOyl7Y29uc3QgZT1sKGEscixuKSx0PWEuZ2V0SW5kZXgoKTtpZihvLmhhcyhlKSlmb3IoY29uc3QgciBvZiBvLmdldChlKSl7Y29uc3QgZT1yLnRpbGUuaWQ7bGV0IG89cy5nZXQoZSk7bnVsbD09byYmKG89W10scy5zZXQoZSxvKSksby5wdXNoKHQpfX19cy5mb3JFYWNoKCgodCxzKT0+e2lmKG51bGwhPXQpe2NvbnN0IHI9dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQocyksbz17dHlwZTpcImFwcGVuZFwiLGlkOnMsYWRkT3JVcGRhdGU6aChkLmZyb20oZSx0KSxyLnRpbGUpLGVuZDohMSxzdGF0dXM6dS5lbXB0eSgpfTtyLmFkZCh7cXVlcnk6bnVsbCxtZXNzYWdlOm99KSx0aGlzLl9vbk1lc3NhZ2Uobyl9fSkpfV9zZW5kRW5kKCl7dGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChlPT57Y29uc3QgdD17dHlwZTpcImFwcGVuZFwiLGlkOmUudGlsZS5pZCxhZGRPclVwZGF0ZTpudWxsLGVuZDohMCxzdGF0dXM6dS5lbXB0eSgpfTtlLmFkZCh7cXVlcnk6bnVsbCxtZXNzYWdlOnR9KSx0aGlzLl9vbk1lc3NhZ2UodCl9KSksdGhpcy5fZGlkU2VuZEVuZD0hMH19O2M9ZShbYShcImVzcmkudmlldy4yZC5sYXllcnMuZmVhdHVyZXMuc291cmNlcy5TbmFwc2hvdEZlYXR1cmVTb3VyY2VcIildLGMpO2V4cG9ydHtjIGFzIFNuYXBzaG90RmVhdHVyZVNvdXJjZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7bGV0IHM9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHIpe3N1cGVyKHIpfWdldCBjb25uZWN0aW9uU3RhdHVzKCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbj8uY29ubmVjdGlvblN0YXR1c31nZXQgZXJyb3JTdHJpbmcoKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uPy5lcnJvclN0cmluZ319O3IoW3QoKV0scy5wcm90b3R5cGUsXCJjb25uZWN0aW9uXCIsdm9pZCAwKSxyKFt0KCldLHMucHJvdG90eXBlLFwiY29ubmVjdGlvblN0YXR1c1wiLG51bGwpLHIoW3QoKV0scy5wcm90b3R5cGUsXCJlcnJvclN0cmluZ1wiLG51bGwpLHM9cihbZShcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLnNvdXJjZXMuU3RyZWFtQ29ubmVjdGlvblN0YXRlXCIpXSxzKTtleHBvcnR7cyBhcyBTdHJlYW1Db25uZWN0aW9uU3RhdGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtoYW5kbGVzR3JvdXAgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3JidXNoLmpzXCI7aW1wb3J0e2NvbnZlcnRGcm9tRmVhdHVyZSBhcyBzLHF1YW50aXplT3B0aW1pemVkR2VvbWV0cnkgYXMgaSxxdWFudGl6ZVggYXMgbixxdWFudGl6ZVkgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtTdHJlYW1GZWF0dXJlTWFuYWdlciBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL1N0cmVhbUZlYXR1cmVNYW5hZ2VyLmpzXCI7aW1wb3J0e2NyZWF0ZUNvbm5lY3Rpb24gYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3Mvc291cmNlcy9jb25uZWN0aW9ucy9jcmVhdGVDb25uZWN0aW9uLmpzXCI7aW1wb3J0e0RhdGFUaWxlU291cmNlIGFzIGN9ZnJvbVwiLi9EYXRhVGlsZVNvdXJjZS5qc1wiO2ltcG9ydHtTdHJlYW1Db25uZWN0aW9uU3RhdGUgYXMgaH1mcm9tXCIuL1N0cmVhbUNvbm5lY3Rpb25TdGF0ZS5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyB1fWZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtpbXBvcnR7VXBkYXRlVG9rZW4gYXMgbH1mcm9tXCIuLi9zdXBwb3J0L1VwZGF0ZVRva2VuLmpzXCI7Y29uc3QgcD0yNTAwO2Z1bmN0aW9uIF8oZSx0KXtjb25zdCBzPWUud2Vha0Nsb25lKCk7aWYobnVsbCE9ZS5nZW9tZXRyeSl7Y29uc3QgaT1uKHQsZS5nZW9tZXRyeS5jb29yZHNbMF0pLGE9cih0LGUuZ2VvbWV0cnkuY29vcmRzWzFdKTtzLmdlb21ldHJ5PW5ldyBvKFtdLFtpLGFdKX1yZXR1cm4gc31mdW5jdGlvbiBtKGUpe3JldHVyblwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PWU/XzoodCxzKT0+e2NvbnN0IG49dC53ZWFrQ2xvbmUoKSxyPW5ldyBvLGE9ITEsZD0hMSxjPWkocix0Lmdlb21ldHJ5LGEsZCxlLHMsITEsITEpO3JldHVybiBuLmdlb21ldHJ5PWMsbn19ZnVuY3Rpb24gZyhlKXtyZXR1cm5cImVzcmlHZW9tZXRyeVBvaW50XCI9PT1lP2U9Pm51bGwhPWUuZ2VvbWV0cnk/e21pblg6ZS5nZW9tZXRyeS5jb29yZHNbMF0sbWluWTplLmdlb21ldHJ5LmNvb3Jkc1sxXSxtYXhYOmUuZ2VvbWV0cnkuY29vcmRzWzBdLG1heFk6ZS5nZW9tZXRyeS5jb29yZHNbMV19OnttaW5YOjEvMCxtaW5ZOjEvMCxtYXhYOi0xLzAsbWF4WTotMS8wfTplPT57bGV0IHQ9MS8wLHM9MS8wLGk9LTEvMCxuPS0xLzA7cmV0dXJuIG51bGwhPWUuZ2VvbWV0cnkmJmUuZ2VvbWV0cnkuZm9yRWFjaFZlcnRleCgoKGUscik9Pnt0PU1hdGgubWluKHQsZSkscz1NYXRoLm1pbihzLHIpLGk9TWF0aC5tYXgoaSxlKSxuPU1hdGgubWF4KG4scil9KSkse21pblg6dCxtaW5ZOnMsbWF4WDppLG1heFk6bn19fWZ1bmN0aW9uIHkoZSxzKXtjb25zdCBpPXQoOSxnKHMpKTtyZXR1cm4gaS5sb2FkKGUpLGl9ZnVuY3Rpb24gZihlLHQpe3JldHVybiBlLnNlYXJjaCh7bWluWDp0LmJvdW5kc1swXSxtaW5ZOnQuYm91bmRzWzFdLG1heFg6dC5ib3VuZHNbMl0sbWF4WTp0LmJvdW5kc1szXX0pfWNsYXNzIHZ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLm9uVXBkYXRlPWUsdGhpcy5fZ2VvbWV0cnlUeXBlPXQsdGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmU9bmV3IE1hcCx0aGlzLl9pbmRleD1udWxsfWdldCBfZmVhdHVyZXMoKXtjb25zdCBlPVtdO3JldHVybiB0aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5mb3JFYWNoKCh0PT5lLnB1c2godCkpKSxlfWFkZChlKXt0aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5zZXQoZS5vYmplY3RJZCxlKSx0aGlzLl9pbmRleD1udWxsfWdldChlKXtyZXR1cm4gdGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuaGFzKGUpP3RoaXMuX29iamVjdElkVG9GZWF0dXJlLmdldChlKTpudWxsfWZvckVhY2goZSl7dGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuZm9yRWFjaChlKX1zZWFyY2goZSl7cmV0dXJuIHRoaXMuX2luZGV4fHwodGhpcy5faW5kZXg9eSh0aGlzLl9mZWF0dXJlcyx0aGlzLl9nZW9tZXRyeVR5cGUpKSxmKHRoaXMuX2luZGV4LGUpfWNsZWFyKCl7dGhpcy5faW5kZXg9bnVsbCx0aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5jbGVhcigpfXJlbW92ZUJ5SWQoZSl7Y29uc3QgdD10aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5nZXQoZSk7cmV0dXJuIHQ/KHRoaXMuX29iamVjdElkVG9GZWF0dXJlLmRlbGV0ZShlKSx0aGlzLl9pbmRleD1udWxsLHQpOm51bGx9dXBkYXRlKGUsdCl7dGhpcy5vblVwZGF0ZShlLHQpfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX29iamVjdElkVG9GZWF0dXJlLnNpemV9fWNsYXNzIEkgZXh0ZW5kcyBje2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMudHlwZT1cInN0cmVhbVwiLHRoaXMuX3VwZGF0ZUludGVydmFsSWQ9MCx0aGlzLl9sZXZlbD0wLHRoaXMuX2lzUGF1c2VkPSExLHRoaXMuX3VwZGF0ZUluZm89e3dlYnNvY2tldDowLGNsaWVudDowfSx0aGlzLl9pblVwZGF0ZT0hMTtjb25zdHtvdXRTUjpzfT10LHtnZW9tZXRyeVR5cGU6aSxvYmplY3RJZEZpZWxkOm4sdGltZUluZm86cixwdXJnZU9wdGlvbnM6byxzb3VyY2U6YyxzcGF0aWFsUmVmZXJlbmNlOnUsc2VydmljZUZpbHRlcjpsLG1heFJlY29ubmVjdGlvbkF0dGVtcHRzOl8sbWF4UmVjb25uZWN0aW9uSW50ZXJ2YWw6Zyx1cGRhdGVJbnRlcnZhbDp5LGN1c3RvbVBhcmFtZXRlcnM6ZixlbmFibGVkRXZlbnRUeXBlczpJfT10LnNlcnZpY2VJbmZvLGI9bmV3IHYodGhpcy5fb25VcGRhdGUuYmluZCh0aGlzKSxpKSxUPW5ldyBhKGIsbixyLG8pLGo9ZChjLHUscyxpLGwsXyxnLGY/P3t9KTt0aGlzLl9jb25uZWN0aW9uU3RhdGU9bmV3IGgoe2Nvbm5lY3Rpb246an0pLHRoaXMuX3N0b3JlPWIsdGhpcy5fbWFuYWdlcj1ULHRoaXMuX2Nvbm5lY3Rpb249aix0aGlzLl9xdWFudGl6ZT1tKGkpLHRoaXMuX2VuYWJsZWRFdmVudFR5cGVzPW5ldyBTZXQoSSksdGhpcy5faGFuZGxlc0dyb3VwPWUoW3RoaXMuX2Nvbm5lY3Rpb24ub24oXCJkYXRhLXJlY2VpdmVkXCIsKGU9PnRoaXMuX29uRmVhdHVyZShlKSkpLHRoaXMuX2Nvbm5lY3Rpb24ub24oXCJtZXNzYWdlLXJlY2VpdmVkXCIsKGU9PnRoaXMuX29uV2ViU29ja2V0TWVzc2FnZShlKSkpXSksdGhpcy5faW5pdFVwZGF0ZUludGVydmFsPSgpPT57bGV0IGU9cGVyZm9ybWFuY2Uubm93KCk7dGhpcy5fdXBkYXRlSW50ZXJ2YWxJZD1zZXRJbnRlcnZhbCgoKCk9Pntjb25zdCBzPXBlcmZvcm1hbmNlLm5vdygpLGk9cy1lO2lmKGk+cCl7ZT1zO2NvbnN0IHQ9TWF0aC5yb3VuZCh0aGlzLl91cGRhdGVJbmZvLmNsaWVudC8oaS8xZTMpKSxuPU1hdGgucm91bmQodGhpcy5fdXBkYXRlSW5mby53ZWJzb2NrZXQvKGkvMWUzKSk7dGhpcy5fdXBkYXRlSW5mby5jbGllbnQ9MCx0aGlzLl91cGRhdGVJbmZvLndlYnNvY2tldD0wLHRoaXMuZXZlbnRzLmVtaXQoXCJ1cGRhdGVSYXRlXCIse2NsaWVudDp0LHdlYnNvY2tldDpufSl9dC5jYW5BY2NlcHRSZXF1ZXN0KCkmJiF0aGlzLl9pblVwZGF0ZSYmdGhpcy5fbWFuYWdlci5jaGVja0ZvclVwZGF0ZXMoKX0pLHkpfSx0aGlzLl9pc1BhdXNlZD10LnNlcnZpY2VJbmZvLmlzUGF1c2VkLHRoaXMuX2lzUGF1c2VkfHx0aGlzLl9pbml0VXBkYXRlSW50ZXJ2YWwoKX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLHRoaXMuX2NsZWFyVXBkYXRlSW50ZXJ2YWwoKSx0aGlzLl9jb25uZWN0aW9uLmRlc3Ryb3koKSx0aGlzLl9oYW5kbGVzR3JvdXA/LnJlbW92ZSgpfV9mZXRjaERhdGFUaWxlKCl7fWdldCBjb25uZWN0aW9uU3RhdHVzKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZS5jb25uZWN0aW9uU3RhdHVzfWdldCBlcnJvclN0cmluZygpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGUuZXJyb3JTdHJpbmd9dXBkYXRlQ3VzdG9tUGFyYW1ldGVycyhlKXt0aGlzLl9jb25uZWN0aW9uLnVwZGF0ZUN1c3RvbVBhcmFtZXRlcnMoZSl9cGF1c2VTdHJlYW0oKXt0aGlzLl9pc1BhdXNlZHx8KHRoaXMuX2lzUGF1c2VkPSEwLHRoaXMuX2NsZWFyVXBkYXRlSW50ZXJ2YWwoKSl9cmVzdW1lU3RyZWFtKCl7dGhpcy5faXNQYXVzZWQmJih0aGlzLl9pc1BhdXNlZD0hMSx0aGlzLl9pbml0VXBkYXRlSW50ZXJ2YWwoKSl9c2VuZE1lc3NhZ2VUb1NvY2tldChlKXt0aGlzLl9jb25uZWN0aW9uLnNlbmRNZXNzYWdlVG9Tb2NrZXQoZSl9c2VuZE1lc3NhZ2VUb0NsaWVudChlKXt0aGlzLl9pc1BhdXNlZCYmXCJ0eXBlXCJpbiBlJiZcImNsZWFyXCI9PT1lLnR5cGU/KHRoaXMuX3N0b3JlLmNsZWFyKCksdGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKCgoZSx0KT0+e2UuZGlkU2VuZCYmZS50aWxlLmxldmVsPT09dGhpcy5fbGV2ZWwmJnRoaXMuX29uTWVzc2FnZSh7dHlwZTpcImFwcGVuZFwiLGlkOnQsYWRkT3JVcGRhdGU6bnVsbCxjbGVhcjohMCxlbmQ6ITB9KX0pKSk6dGhpcy5fY29ubmVjdGlvbi5zZW5kTWVzc2FnZVRvQ2xpZW50KGUpfWVuYWJsZUV2ZW50KGUsdCl7dD90aGlzLl9lbmFibGVkRXZlbnRUeXBlcy5hZGQoZSk6dGhpcy5fZW5hYmxlZEV2ZW50VHlwZXMuZGVsZXRlKGUpfXN1YnNjcmliZShlLHQpe3N1cGVyLnN1YnNjcmliZShlLHQpO2NvbnN0IHM9dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQoZS5pZCk7cy5yZXNvbHZlKCksdGhpcy5fbGV2ZWw9ZS5sZXZlbDtjb25zdCBpPXRoaXMuX2dldFRpbGVGZWF0dXJlcyhlKTt0aGlzLl9vbk1lc3NhZ2Uoe3R5cGU6XCJhcHBlbmRcIixpZDplLmtleS5pZCxhZGRPclVwZGF0ZTppLGVuZDohMH0pLHMuZGlkU2VuZD0hMH11bnN1YnNjcmliZShlKXtzdXBlci51bnN1YnNjcmliZShlKX0qcmVhZGVycyhlKXtjb25zdCB0PXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KGUpLHt0aWxlOnN9PXQ7eWllbGQgdGhpcy5fZ2V0VGlsZUZlYXR1cmVzKHMpfWNyZWF0ZVRpbGVRdWVyeShlKXt0aHJvdyBuZXcgRXJyb3IoXCJTZXJ2aWNlIGRvZXMgbm90IHN1cHBvcnQgdGlsZSAgcXVlcmllc1wiKX1hc3luYyByZXNlbmQoKXt0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKGU9Pntjb25zdHt0aWxlOnR9PWUscz17dHlwZTpcImFwcGVuZFwiLGlkOnQuaWQsYWRkT3JVcGRhdGU6dGhpcy5fZ2V0VGlsZUZlYXR1cmVzKHQpLGVuZDohMH07dGhpcy5fb25NZXNzYWdlKHMpfSkpfV9nZXRUaWxlRmVhdHVyZXMoZSl7Y29uc3QgdD10aGlzLl9zdG9yZS5zZWFyY2goZSkubWFwKCh0PT50aGlzLl9xdWFudGl6ZSh0LGUudHJhbnNmb3JtKSkpO3JldHVybiB1LmZyb21PcHRpbWl6ZWRGZWF0dXJlcyh0LHRoaXMuX3NlcnZpY2VJbmZvLGUudHJhbnNmb3JtKX1fb25XZWJTb2NrZXRNZXNzYWdlKGUpe2lmKHRoaXMuX2VuYWJsZWRFdmVudFR5cGVzLmhhcyhcIm1lc3NhZ2UtcmVjZWl2ZWRcIikmJnRoaXMuZXZlbnRzLmVtaXQoXCJtZXNzYWdlLXJlY2VpdmVkXCIsZSksXCJ0eXBlXCJpbiBlKXN3aXRjaChlLnR5cGUpe2Nhc2VcImRlbGV0ZVwiOmlmKGUub2JqZWN0SWRzKWZvcihjb25zdCB0IG9mIGUub2JqZWN0SWRzKXRoaXMuX21hbmFnZXIucmVtb3ZlQnlJZCh0KTtpZihlLnRyYWNrSWRzKWZvcihjb25zdCB0IG9mIGUudHJhY2tJZHMpdGhpcy5fbWFuYWdlci5yZW1vdmVCeVRyYWNrSWQodCk7YnJlYWs7Y2FzZVwiY2xlYXJcIjp0aGlzLl9zdG9yZS5mb3JFYWNoKChlPT50aGlzLl9tYW5hZ2VyLnJlbW92ZUJ5SWQoZS5vYmplY3RJZCkpKX19X29uRmVhdHVyZShlKXt0aGlzLl91cGRhdGVJbmZvLndlYnNvY2tldCsrO3RyeXt0aGlzLl9lbmFibGVkRXZlbnRUeXBlcy5oYXMoXCJkYXRhLXJlY2VpdmVkXCIpJiZ0aGlzLmV2ZW50cy5lbWl0KFwiZGF0YS1yZWNlaXZlZFwiLGUpO2NvbnN0IHQ9cyhlLHRoaXMuX3NlcnZpY2VJbmZvLmdlb21ldHJ5VHlwZSwhMSwhMSx0aGlzLl9zZXJ2aWNlSW5mby5vYmplY3RJZEZpZWxkKTt0aGlzLl9tYW5hZ2VyLmFkZCh0KX1jYXRjaCh0KXt9fV9jbGVhclVwZGF0ZUludGVydmFsKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLl91cGRhdGVJbnRlcnZhbElkKSx0aGlzLl91cGRhdGVJbnRlcnZhbElkPTB9YXN5bmMgX29uVXBkYXRlKGUsdCl7dGhpcy5faW5VcGRhdGU9ITA7dHJ5e251bGwhPWUmJih0aGlzLl91cGRhdGVJbmZvLmNsaWVudCs9ZS5sZW5ndGgpLHRoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoKGUsdCk9PntlLmRpZFNlbmQmJmUudGlsZS5sZXZlbD09PXRoaXMuX2xldmVsJiZ0aGlzLl9vbk1lc3NhZ2Uoe3R5cGU6XCJhcHBlbmRcIixpZDp0LGFkZE9yVXBkYXRlOm51bGwsY2xlYXI6ITAsZW5kOiExfSl9KSk7Y29uc3QgdD1bXTt0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKChlLHMpPT57aWYoIWUuZGlkU2VuZHx8ZS50aWxlLmxldmVsIT09dGhpcy5fbGV2ZWwpcmV0dXJuO2NvbnN0IGk9ZS50aWxlLG49e3R5cGU6XCJhcHBlbmRcIixpZDpzLGFkZE9yVXBkYXRlOnRoaXMuX2dldFRpbGVGZWF0dXJlcyhpKSxyZW1vdmU6W10sZW5kOiExLHN0YXR1czpsLmVtcHR5KCl9O2UucmVxdWVzdHMuc3RyZWFtLmVucXVldWUobiksdC5wdXNoKHRoaXMuX29uTWVzc2FnZShuKSl9KSksYXdhaXQgUHJvbWlzZS5hbGwodCksdGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKCgoZSx0KT0+e2UuZGlkU2VuZCYmZS50aWxlLmxldmVsPT09dGhpcy5fbGV2ZWwmJnRoaXMuX29uTWVzc2FnZSh7dHlwZTpcImFwcGVuZFwiLGlkOnQsYWRkT3JVcGRhdGU6bnVsbCxlbmQ6ITB9KX0pKX1jYXRjaHt9dGhpcy5faW5VcGRhdGU9ITF9fWV4cG9ydHtJIGFzIFN0cmVhbVNvdXJjZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzSG9zdGVkQWdvbFNlcnZpY2UgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9hcmNnaXNMYXllclVybC5qc1wiO2ltcG9ydHtEcmlsbERvd25GZWF0dXJlU291cmNlIGFzIHJ9ZnJvbVwiLi9EcmlsbERvd25GZWF0dXJlU291cmNlLmpzXCI7aW1wb3J0e1BhZ2VkRmVhdHVyZVNvdXJjZSBhcyB0fWZyb21cIi4vUGFnZWRGZWF0dXJlU291cmNlLmpzXCI7aW1wb3J0e1NuYXBzaG90RmVhdHVyZVNvdXJjZSBhcyBvfWZyb21cIi4vU25hcHNob3RGZWF0dXJlU291cmNlLmpzXCI7aW1wb3J0e1N0cmVhbVNvdXJjZSBhcyBzfWZyb21cIi4vU3RyZWFtU291cmNlLmpzXCI7ZnVuY3Rpb24gbihlLG4sYyx1LGkscCl7Y29uc3QgZj1hKGUsbixjLHUsaSxwKTtzd2l0Y2goZi50eXBlKXtjYXNlXCJmZWF0dXJlXCI6c3dpdGNoKGYub3JpZ2luKXtjYXNlXCJob3N0ZWRcIjpjYXNlXCJsb2NhbFwiOnJldHVybiBuZXcgdChmKTtjYXNlXCJzbmFwc2hvdFwiOnJldHVybiBuZXcgbyhmKTtkZWZhdWx0OnJldHVybiBuZXcgcihmKX1jYXNlXCJzdHJlYW1cIjpyZXR1cm4gbmV3IHMoZil9fWZ1bmN0aW9uIGEocix0LG8scyxuLGEpe3N3aXRjaChyLnR5cGUpe2Nhc2VcInNuYXBzaG90XCI6cmV0dXJue3R5cGU6XCJmZWF0dXJlXCIsb3JpZ2luOlwic25hcHNob3RcIixmZWF0dXJlQ291bnQ6ci5mZWF0dXJlQ291bnQ/PzAsc2VydmljZUluZm86cixvbk1lc3NhZ2U6cyxvdXRTUjp0LHRpbGVJbmZvVmlldzpvLGNhbkFjY2VwdFJlcXVlc3Q6bixzdG9yZTphfTtjYXNlXCJzdHJlYW1cIjpyZXR1cm57dHlwZTpcInN0cmVhbVwiLHNlcnZpY2VJbmZvOnIsb25NZXNzYWdlOnMsb3V0U1I6dCxjYW5BY2NlcHRSZXF1ZXN0Om59O2Nhc2VcIm1lbW9yeVwiOmNhc2VcIm9uLWRlbWFuZFwiOnJldHVybnt0eXBlOlwiZmVhdHVyZVwiLHNlcnZpY2VJbmZvOnIsb25NZXNzYWdlOnMsb3V0U1I6dCxvcmlnaW46YyhyLnNvdXJjZSksdGlsZUluZm9WaWV3Om8sY2FuQWNjZXB0UmVxdWVzdDpufX1mdW5jdGlvbiBjKHIpe3JldHVybiBBcnJheS5pc0FycmF5KHIpP1wibG9jYWxcIjpcInBhdGhcImluIHImJmUoci5wYXRoKT9cImhvc3RlZFwiOlwidW5rbm93blwifX1leHBvcnR7biBhcyBjcmVhdGVTb3VyY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7Y2xhbXAgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHttYXBNYW55IGFzIHMsZm9yRWFjaFNvbWUgYXMgcixhcHBseVNvbWUgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e2NyZWF0ZVJlc29sdmVyIGFzIG4saXNBYm9ydEVycm9yIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7ZGlmZiBhcyBsfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtXYXRjaFVwZGF0aW5nVHJhY2tpbmcgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3N1cHBvcnQvV2F0Y2hVcGRhdGluZ1RyYWNraW5nLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmllbGRzSW5kZXguanNcIjtpbXBvcnR7TUFYX0ZJTFRFUlMgYXMgZCxISUdITElHSFRfRkxBRyBhcyBwLEFUVFJJQlVURV9EQVRBX1ZWIGFzIGMsTkFOX01BR0lDX05VTUJFUiBhcyBnLEFUVFJJQlVURV9EQVRBX0FOSU1BVElPTiBhcyBfLEFUVFJJQlVURV9EQVRBX0dQR1BVIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0e0RJU1BMQVlfSURfVFlQRV9BR0dSRUdBVEUgYXMgbSxESVNQTEFZX0lEX1RZUEVfRkVBVFVSRSBhcyB5LGdldERpc3BsYXlJZFRleGVsIGFzIGIsZ2V0RGlzcGxheUlkVHlwZSBhcyB4LGdldERpc3BsYXlJZEZpbHRlck1hc2sgYXMgU31mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvRGlzcGxheUlkLmpzXCI7aW1wb3J0e2dldFBpeGVsQXJyYXlDdG9yIGFzIFR9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL1V0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZURlYnVnTG9nZ2VyIGFzIHosREVCVUdfQVRUUl9VUERBVEVTIGFzIFV9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL3V0aWwvZGVidWcuanNcIjtpbXBvcnR7Z2V0VmlzdWFsVmFyaWFibGVTaXplVmFsdWVSZXByZXNlbnRhdGlvblJhdGlvIGFzIEF9ZnJvbVwiLi4vdGlsZVJlbmRlcmVycy9zdXBwb3J0L3Zpc3VhbFZhcmlhYmxlc1V0aWxzLmpzXCI7aW1wb3J0e1BpeGVsVHlwZSBhcyB3fWZyb21cIi4uLy4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7Y29uc3QgRT1lLmdldExvZ2dlcihcImVzcmkudmlld3MubGF5ZXJzLjJkLmZlYXR1cmVzLnN1cHBvcnQuQXR0cmlidXRlU3RvcmVcIiksaz16KFUsRSksRD17c2hhcmVkQXJyYXlCdWZmZXI6aGFzKFwiZXNyaS1zaGFyZWQtYXJyYXktYnVmZmVyXCIpLGF0b21pY3M6aGFzKFwiZXNyaS1hdG9taWNzXCIpfTtmdW5jdGlvbiBGKHQsZSl7cmV0dXJuIGk9PmUodChpKSl9Y2xhc3MgSXtjb25zdHJ1Y3Rvcih0LGUsaSxzKXt0aGlzLnNpemU9MCx0aGlzLnRleGVsU2l6ZT00LHRoaXMuZGlydHlTdGFydD0wLHRoaXMuZGlydHlFbmQ9MDtjb25zdHtwaXhlbFR5cGU6cixsYXlvdXQ6YSx0ZXh0dXJlT25seTpufT1zO3RoaXMudGV4dHVyZU9ubHk9bnx8ITEsdGhpcy5waXhlbFR5cGU9cix0aGlzLl9jdHlwZT1lLHRoaXMubGF5b3V0PWEsdGhpcy5fcmVzZXRSYW5nZSgpLHRoaXMuX3NoYXJlZD10LHRoaXMuc2l6ZT1pLG58fCh0aGlzLmRhdGE9dGhpcy5faW5pdERhdGEocixpLHQsZSkpfWdldCBidWZmZXIoKXtyZXR1cm4gYSh0aGlzLmRhdGEsKHQ9PnQuYnVmZmVyKSl9dW5zZXRDb21wb25lbnRBbGxUZXhlbHModCxlKXtjb25zdCBpPXRoaXMuZGF0YTtmb3IobGV0IHM9MDtzPHRoaXMuc2l6ZSp0aGlzLnNpemU7cysrKWlbcyp0aGlzLnRleGVsU2l6ZSt0XSY9fmU7dGhpcy5kaXJ0eVN0YXJ0PTAsdGhpcy5kaXJ0eUVuZD10aGlzLnNpemUqdGhpcy5zaXplLTF9c2V0Q29tcG9uZW50QWxsVGV4ZWxzKHQsZSl7Y29uc3QgaT10aGlzLmRhdGE7Zm9yKGxldCBzPTA7czx0aGlzLnNpemUqdGhpcy5zaXplO3MrKylpW3MqdGhpcy50ZXhlbFNpemUrdF18PTI1NSZlO3RoaXMuZGlydHlTdGFydD0wLHRoaXMuZGlydHlFbmQ9dGhpcy5zaXplKnRoaXMuc2l6ZS0xfXNldENvbXBvbmVudCh0LGUsaSl7Y29uc3Qgcz10aGlzLmRhdGE7Zm9yKGNvbnN0IHIgb2YgaSlzW3IqdGhpcy50ZXhlbFNpemUrdF18PWUsdGhpcy5kaXJ0eVN0YXJ0PU1hdGgubWluKHRoaXMuZGlydHlTdGFydCxyKSx0aGlzLmRpcnR5RW5kPU1hdGgubWF4KHRoaXMuZGlydHlFbmQscil9c2V0Q29tcG9uZW50VGV4ZWwodCxlLGkpe3RoaXMuZGF0YVtpKnRoaXMudGV4ZWxTaXplK3RdfD1lLHRoaXMuZGlydHlTdGFydD1NYXRoLm1pbih0aGlzLmRpcnR5U3RhcnQsaSksdGhpcy5kaXJ0eUVuZD1NYXRoLm1heCh0aGlzLmRpcnR5RW5kLGkpfXVuc2V0Q29tcG9uZW50VGV4ZWwodCxlLGkpe3RoaXMuZGF0YVtpKnRoaXMudGV4ZWxTaXplK3RdJj1+ZSx0aGlzLmRpcnR5U3RhcnQ9TWF0aC5taW4odGhpcy5kaXJ0eVN0YXJ0LGkpLHRoaXMuZGlydHlFbmQ9TWF0aC5tYXgodGhpcy5kaXJ0eUVuZCxpKX1nZXREYXRhKHQsZSl7Y29uc3QgaT1iKHQpO3JldHVybiB0aGlzLmRhdGFbaSp0aGlzLnRleGVsU2l6ZStlXX1zZXREYXRhKHQsZSxpKXtjb25zdCBzPWIodCkscj0xPDxlOzAhPSh0aGlzLmxheW91dCZyKT9udWxsIT10aGlzLmRhdGEmJih0aGlzLmRhdGFbcyp0aGlzLnRleGVsU2l6ZStlXT1pLHRoaXMuZGlydHlTdGFydD1NYXRoLm1pbih0aGlzLmRpcnR5U3RhcnQscyksdGhpcy5kaXJ0eUVuZD1NYXRoLm1heCh0aGlzLmRpcnR5RW5kLHMpKTpFLmVycm9yKFwibWFwdmlldy1hdHRyaWJ1dGVzLXN0b3JlXCIsXCJUcmllZCB0byBzZXQgYSB2YWx1ZSBmb3IgYSB0ZXhlbCdzIHJlYWRvbmx5IGNvbXBvbmVudFwiKX1sb2NrKCl7dGhpcy5waXhlbFR5cGU9PT13LlVOU0lHTkVEX0JZVEUmJnRoaXMuX3NoYXJlZCYmRC5hdG9taWNzJiZcImxvY2FsXCIhPT10aGlzLl9jdHlwZSYmQXRvbWljcy5zdG9yZSh0aGlzLmRhdGEsMCwxKX11bmxvY2soKXt0aGlzLnBpeGVsVHlwZT09PXcuVU5TSUdORURfQllURSYmdGhpcy5fc2hhcmVkJiZELmF0b21pY3MmJlwibG9jYWxcIiE9PXRoaXMuX2N0eXBlJiZBdG9taWNzLnN0b3JlKHRoaXMuZGF0YSwwLDApfWV4cGFuZCh0KXtpZih0aGlzLnNpemU9dCwhdGhpcy50ZXh0dXJlT25seSl7Y29uc3QgZT10aGlzLl9pbml0RGF0YSh0aGlzLnBpeGVsVHlwZSx0LHRoaXMuX3NoYXJlZCx0aGlzLl9jdHlwZSksaT10aGlzLmRhdGE7ZS5zZXQoaSksdGhpcy5kYXRhPWV9fXRvTWVzc2FnZSgpe2NvbnN0IHQ9dGhpcy5kaXJ0eVN0YXJ0LGU9dGhpcy5kaXJ0eUVuZCxpPXRoaXMudGV4ZWxTaXplO2lmKHQ+ZSlyZXR1cm4gbnVsbDt0aGlzLl9yZXNldFJhbmdlKCk7Y29uc3Qgcz0hKHRoaXMuX3NoYXJlZHx8XCJsb2NhbFwiPT09dGhpcy5fY3R5cGUpLHI9dGhpcy5waXhlbFR5cGUsYT10aGlzLmxheW91dCxuPXRoaXMuZGF0YTtyZXR1cm57c3RhcnQ6dCxlbmQ6ZSxkYXRhOnMmJm4uc2xpY2UodCppLChlKzEpKmkpfHxudWxsLHBpeGVsVHlwZTpyLGxheW91dDphfX1faW5pdERhdGEodCxlLGkscyl7Y29uc3Qgcj1pJiZcImxvY2FsXCIhPT1zP1NoYXJlZEFycmF5QnVmZmVyOkFycmF5QnVmZmVyLGE9VCh0KSxuPW5ldyBhKG5ldyByKGUqZSo0KmEuQllURVNfUEVSX0VMRU1FTlQpKTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoO28rPTQpbltvKzFdPTI1NTtyZXR1cm4gbn1fcmVzZXRSYW5nZSgpe3RoaXMuZGlydHlTdGFydD0yMTQ3NDgzNjQ3LHRoaXMuZGlydHlFbmQ9MH19Y2xhc3MgQntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2NsaWVudD10LHRoaXMuY29uZmlnPWUsdGhpcy51cGRhdGluZ0hhbmRsZXM9bmV3IGgsdGhpcy5fYmxvY2tzPW5ldyBBcnJheSx0aGlzLl9maWx0ZXJzPW5ldyBBcnJheShkKSx0aGlzLl9hdHRyaWJ1dGVDb21wdXRlSW5mbz1udWxsLHRoaXMuX3RhcmdldFR5cGU9MCx0aGlzLl9hYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcix0aGlzLl9oYXNTY2FsZUV4cHI9ITEsdGhpcy5fc2l6ZT0zMix0aGlzLl9uZXh0VXBkYXRlPW51bGwsdGhpcy5fY3VyclVwZGF0ZT1udWxsLHRoaXMuX2lkc1RvSGlnaGxpZ2h0PW5ldyBTZXQ7Y29uc3QgaT1lLnN1cHBvcnRzVGV4dHVyZUZsb2F0P3cuRkxPQVQ6dy5VTlNJR05FRF9CWVRFO2soYENyZWF0aW5nIEF0dHJpYnV0ZVN0b3JlICR7RC5zaGFyZWRBcnJheUJ1ZmZlcj9cIndpdGhcIjpcIndpdGhvdXRcIn0gc2hhcmVkIG1lbW9yeWApLHRoaXMuX2Jsb2NrRGVzY3JpcHRvcnM9W3twaXhlbFR5cGU6dy5VTlNJR05FRF9CWVRFLGxheW91dDoxfSx7cGl4ZWxUeXBlOncuVU5TSUdORURfQllURSxsYXlvdXQ6MTUsdGV4dHVyZU9ubHk6ITB9LHtwaXhlbFR5cGU6dy5VTlNJR05FRF9CWVRFLGxheW91dDoxNSx0ZXh0dXJlT25seTohMH0se3BpeGVsVHlwZTppLGxheW91dDoxNX0se3BpeGVsVHlwZTppLGxheW91dDoxNX0se3BpeGVsVHlwZTppLGxheW91dDoxNX0se3BpeGVsVHlwZTppLGxheW91dDoxNX1dLHRoaXMuX2Jsb2Nrcz10aGlzLl9ibG9ja0Rlc2NyaXB0b3JzLm1hcCgoKCk9Pm51bGwpKX1kZXN0cm95KCl7dGhpcy5fYWJvcnRDb250cm9sbGVyLmFib3J0KCksdGhpcy51cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpfWdldCBoYXNTY2FsZUV4cHIoKXtyZXR1cm4gdGhpcy5faGFzU2NhbGVFeHByfWdldCBfc2lnbmFsKCl7cmV0dXJuIHRoaXMuX2Fib3J0Q29udHJvbGxlci5zaWduYWx9Z2V0IGhhc0hpZ2hsaWdodCgpe3JldHVybiB0aGlzLl9pZHNUb0hpZ2hsaWdodC5zaXplPjB9aXNVcGRhdGluZygpe2NvbnN0IHQ9dGhpcy51cGRhdGluZ0hhbmRsZXMudXBkYXRpbmd8fCEhdGhpcy5fbmV4dFVwZGF0ZTtyZXR1cm4gaGFzKFwiZXNyaS0yZC1sb2ctdXBkYXRpbmdcIikmJmNvbnNvbGUubG9nKGBVcGRhdGluZyBBdHRyaWJ1dGVTdG9yZTogJHt0fVxcbiAgLT4gdXBkYXRpbmdIYW5kbGVzICR7dGhpcy51cGRhdGluZ0hhbmRsZXMudXBkYXRpbmd9IChjdXJyVXBkYXRlOiAkeyEhdGhpcy5fY3VyclVwZGF0ZX0pXFxuICAtPiBuZXh0VXBkYXRlOiAkeyEhdGhpcy5fbmV4dFVwZGF0ZX1cXG5gKSx0fXVwZGF0ZSh0LGUpe3RoaXMuY29uZmlnPWU7Y29uc3QgaT1lLnNjaGVtYS5wcm9jZXNzb3JzWzBdLnN0b3JhZ2Uscz1sKHRoaXMuX3NjaGVtYSxpKTtpZigodC50YXJnZXRzLmZlYXR1cmV8fHQudGFyZ2V0cy5hZ2dyZWdhdGUpJiYodC5zdG9yYWdlLmRhdGE9ITApLHMmJihoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkFwcGx5aW5nIFVwZGF0ZSAtIEF0dHJpYnV0ZVN0b3JlOlwiLHMpLHQuc3RvcmFnZS5kYXRhPSEwLHRoaXMuX3NjaGVtYT1pLHRoaXMuX2F0dHJpYnV0ZUNvbXB1dGVJbmZvPW51bGwsbnVsbCE9aSkpe3N3aXRjaChpLnRhcmdldCl7Y2FzZVwiZmVhdHVyZVwiOnRoaXMuX3RhcmdldFR5cGU9eTticmVhaztjYXNlXCJhZ2dyZWdhdGVcIjp0aGlzLl90YXJnZXRUeXBlPW19aWYoXCJzdWJ0eXBlXCI9PT1pLnR5cGUpe3RoaXMuX2F0dHJpYnV0ZUNvbXB1dGVJbmZvPXtpc1N1YnR5cGU6ITAsc3VidHlwZUZpZWxkOmkuc3VidHlwZUZpZWxkLG1hcDpuZXcgTWFwfTtmb3IoY29uc3QgdCBpbiBpLm1hcHBpbmcpe2NvbnN0IGU9aS5tYXBwaW5nW3RdO2lmKG51bGwhPWUmJm51bGwhPWUudnZNYXBwaW5nKWZvcihjb25zdCBpIG9mIGUudnZNYXBwaW5nKXRoaXMuX2JpbmRBdHRyaWJ1dGUoaSxwYXJzZUludCh0LDEwKSl9fWVsc2V7aWYodGhpcy5fYXR0cmlidXRlQ29tcHV0ZUluZm89e2lzU3VidHlwZTohMSxtYXA6bmV3IE1hcH0sbnVsbCE9aS52dk1hcHBpbmcpZm9yKGNvbnN0IHQgb2YgaS52dk1hcHBpbmcpdGhpcy5fYmluZEF0dHJpYnV0ZSh0KTtpZihudWxsIT1pLmF0dHJpYnV0ZU1hcHBpbmcpZm9yKGNvbnN0IHQgb2YgaS5hdHRyaWJ1dGVNYXBwaW5nKXRoaXMuX2JpbmRBdHRyaWJ1dGUodCl9fX1vblRpbGVEYXRhKHQsZSl7aWYobnVsbD09ZS5hZGRPclVwZGF0ZSlyZXR1cm47Y29uc3QgaT1lLmFkZE9yVXBkYXRlLmdldEN1cnNvcigpO2Zvcig7aS5uZXh0KCk7KXtjb25zdCB0PWkuZ2V0RGlzcGxheUlkKCk7dGhpcy5zZXRBdHRyaWJ1dGVEYXRhKHQsaSl9fWFzeW5jIHNldEhpZ2hsaWdodCh0LGUpe2NvbnN0IGk9MSxzPXRoaXMuX2dldEJsb2NrKDApLHI9ZS5tYXAoKHQ9PmIodCkpKTtzLmxvY2soKSxzLnVuc2V0Q29tcG9uZW50QWxsVGV4ZWxzKDAsaSkscy5zZXRDb21wb25lbnQoMCxpLHIpLHMudW5sb2NrKCksdGhpcy5faWRzVG9IaWdobGlnaHQuY2xlYXIoKTtmb3IoY29uc3QgYSBvZiB0KXRoaXMuX2lkc1RvSGlnaGxpZ2h0LmFkZChhKTthd2FpdCB0aGlzLnNlbmRVcGRhdGVzKCl9YXN5bmMgdXBkYXRlRmlsdGVycyh0LGUsaSl7aGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBdHRyaWJ1dGVTdG9yZTo6dXBkYXRlRmlsdGVyc1wiKTtjb25zdHtzZXJ2aWNlOnMsc3BhdGlhbFJlZmVyZW5jZTpyfT1pLHtmaWx0ZXJzOmF9PWUsbj1hLm1hcCgoKHQsZSk9PnRoaXMuX3VwZGF0ZUZpbHRlcih0LGUscyxyKSkpLG89KGF3YWl0IFByb21pc2UuYWxsKG4pKS5zb21lKCh0PT50KSk7aGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBdHRyaWJ1dGVTdG9yZTo6dXBkYXRlRmlsdGVycyAtIGZpbnNpaGVkXCIpLG8mJih0LnN0b3JhZ2UuZmlsdGVycz0hMCxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkFwcGx5aW5nIFVwZGF0ZSAtIEF0dHJpYnV0ZVN0b3JlOlwiLFwiRmlsdGVycyBjaGFuZ2VkXCIpKX1zZXREYXRhKHQsZSxpLHMpe2NvbnN0IHI9Yih0KTt0aGlzLl9lbnN1cmVTaXplRm9yVGV4ZWwociksdGhpcy5fZ2V0QmxvY2soZSkuc2V0RGF0YSh0LGkscyl9Z2V0RGF0YSh0LGUsaSl7cmV0dXJuIHRoaXMuX2dldEJsb2NrKGUpLmdldERhdGEodCxpKX1nZXRIaWdobGlnaHRGbGFnKHQpe3JldHVybiB0aGlzLl9pZHNUb0hpZ2hsaWdodC5oYXModCk/cDowfXVuc2V0QXR0cmlidXRlRGF0YSh0KXtjb25zdCBlPWIodCk7dGhpcy5fZ2V0QmxvY2soMCkuc2V0RGF0YShlLDAsMCl9c2V0QXR0cmlidXRlRGF0YSh0LGUpe2NvbnN0IHM9Yih0KTtpZih0aGlzLl9lbnN1cmVTaXplRm9yVGV4ZWwocyksdGhpcy5fZ2V0QmxvY2soMCkuc2V0RGF0YShzLDAsdGhpcy5nZXRGaWx0ZXJGbGFncyhlKSksdGhpcy5fdGFyZ2V0VHlwZSE9PXgodCkpcmV0dXJuO2NvbnN0IHI9dGhpcy5fYXR0cmlidXRlQ29tcHV0ZUluZm8sYT10aGlzLmNvbmZpZy5zdXBwb3J0c1RleHR1cmVGbG9hdD8xOjIsbj00O2xldCBvPW51bGw7ciYmKG89ci5pc1N1YnR5cGU/ci5tYXAuZ2V0KGUucmVhZEF0dHJpYnV0ZShyLnN1YnR5cGVGaWVsZCkpOnIubWFwLG8mJm8uc2l6ZSYmby5mb3JFYWNoKCgodCxyKT0+e2NvbnN0IG89ciphJW4sbD1NYXRoLmZsb29yKHIqYS9uKSxoPXRoaXMuX2dldEJsb2NrKGwrYyksdT10KGUpO2lmKHRoaXMuY29uZmlnLnN1cHBvcnRzVGV4dHVyZUZsb2F0KWguc2V0RGF0YShzLG8sdSk7ZWxzZSBpZih1PT09ZyloLnNldERhdGEocyxvLDI1NSksaC5zZXREYXRhKHMsbysxLDI1NSk7ZWxzZXtjb25zdCB0PWkoTWF0aC5yb3VuZCh1KSwtMzI3NjcsMzI3NjYpKzMyNzY4LGU9MjU1JnQscj0oNjUyODAmdCk+Pjg7aC5zZXREYXRhKHMsbyxlKSxoLnNldERhdGEocyxvKzEscil9fSkpKX1zZW5kVXBkYXRlcygpe2lmKGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXR0cmlidXRlU3RvcmU6OnNlbmRVcGRhdGVcIiksdGhpcy5fbmV4dFVwZGF0ZSlyZXR1cm4gdGhpcy5fbmV4dFVwZGF0ZS5wcm9taXNlO2lmKHRoaXMuX2N1cnJVcGRhdGUpcmV0dXJuIHRoaXMuX25leHRVcGRhdGU9bigpLHRoaXMudXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fbmV4dFVwZGF0ZS5wcm9taXNlKSx0aGlzLl9uZXh0VXBkYXRlLnByb21pc2U7Y29uc3QgZT17YmxvY2tzOnRoaXMuX2Jsb2Nrcy5tYXAoKHQ9Pm51bGwhPXQ/dC50b01lc3NhZ2UoKTpudWxsKSl9O3JldHVybiB0aGlzLl9jdXJyVXBkYXRlPXRoaXMuX2NyZWF0ZVJlc291cmNlcygpLnRoZW4oKCgpPT57Y29uc3QgdD0oKT0+e2lmKHRoaXMuX2N1cnJVcGRhdGU9bnVsbCx0aGlzLl9uZXh0VXBkYXRlKXtjb25zdCB0PXRoaXMuX25leHRVcGRhdGU7dGhpcy5fbmV4dFVwZGF0ZT1udWxsLHRoaXMuc2VuZFVwZGF0ZXMoKS50aGVuKCgoKT0+dC5yZXNvbHZlKCkpKX1lbHNlIGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXR0cmlidXRlU3RvcmU6OnNlbmRVcGRhdGU6Ok5vIGFkZGl0aW9uYWwgdXBkYXRlcyBxdWV1ZWRcIil9O2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXR0cmlidXRlU3RvcmU6OnNlbmRVcGRhdGU6OmNsaWVudC51cGRhdGVcIik7Y29uc3QgaT10aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX2NsaWVudC51cGRhdGUoZSx0aGlzLl9zaWduYWwpLnRoZW4odCkuY2F0Y2godCkpO3JldHVybiB0aGlzLl9jbGllbnQucmVuZGVyKHRoaXMuX3NpZ25hbCksaX0pKS5jYXRjaCgoZT0+e2lmKG8oZSkpcmV0dXJuIHRoaXMuX2NyZWF0ZVJlc291cmNlc1Byb21pc2U9bnVsbCx0aGlzLl9jcmVhdGVSZXNvdXJjZXMoKTtFLmVycm9yKG5ldyB0KFwibWFwdmlldy1hdHRyaWJ1dGUtc3RvcmVcIixcIkVuY291bnRlcmVkIGFuIGVycm9yIGR1cmluZyBjbGllbnQgdXBkYXRlXCIsZSkpfSkpLHRoaXMuX2N1cnJVcGRhdGV9X2Vuc3VyZVNpemVGb3JUZXhlbCh0KXtmb3IoO3Q+PXRoaXMuX3NpemUqdGhpcy5fc2l6ZTspaWYodGhpcy5fZXhwYW5kKCkpcmV0dXJufV9iaW5kQXR0cmlidXRlKHQsZSl7ZnVuY3Rpb24gaSgpe2NvbnN0e25vcm1hbGl6YXRpb25GaWVsZDplfT10O3JldHVybiBlP2k9Pntjb25zdCBzPWkucmVhZEF0dHJpYnV0ZShlKTtpZighcylyZXR1cm4gbnVsbDtyZXR1cm4gaS5yZWFkQXR0cmlidXRlKHQuZmllbGQpL3N9OmU9PmUucmVhZEF0dHJpYnV0ZSh0LmZpZWxkKX1mdW5jdGlvbiBzKCl7cmV0dXJuIHQubm9ybWFsaXphdGlvbkZpZWxkJiZFLndhcm4oXCJtYXB2aWV3LWFyY2FkZVwiLFwiSWdub3Jpbmcgbm9ybWFsaXphdGlvbkZpZWxkIHNwZWNpZmllZCB3aXRoIGFuIGFyY2FkZSBleHByZXNzaW9uIHdoaWNoIGlzIG5vdCBzdXBwb3J0ZWQuXCIpLGU9PmUuZ2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCh0LmZpZWxkSW5kZXgpfWxldCByO2lmKG51bGwhPXQuZmllbGRJbmRleClyPXMoKTtlbHNle2lmKCF0LmZpZWxkKXJldHVybjtyPWkoKX1jb25zdHt2YWx1ZVJlcHJlc2VudGF0aW9uOmF9PXQ7aWYoYSl7cj1GKHIsKHQ9PkEodCxhKSkpfWNvbnN0IG49dD0+bnVsbD09PXR8fGlzTmFOKHQpfHx0PT09MS8wfHx0PT09LTEvMD9nOnQsbz10aGlzLl9hdHRyaWJ1dGVDb21wdXRlSW5mbztpZihvLmlzU3VidHlwZSl7Y29uc3QgaT1vLm1hcC5nZXQoZSk/P25ldyBNYXA7aS5zZXQodC5iaW5kaW5nLEYocixuKSksby5tYXAuc2V0KGUsaSl9ZWxzZSBvLm1hcC5zZXQodC5iaW5kaW5nLEYocixuKSl9X2NyZWF0ZVJlc291cmNlcygpe2lmKG51bGwhPXRoaXMuX2NyZWF0ZVJlc291cmNlc1Byb21pc2UpcmV0dXJuIHRoaXMuX2NyZWF0ZVJlc291cmNlc1Byb21pc2U7dGhpcy5fZ2V0QmxvY2soXyksdGhpcy5fZ2V0QmxvY2soZiksayhcIkluaXRpYWxpemluZyBBdHRyaWJ1dGVTdG9yZVwiKTtjb25zdCBlPXtzaGFyZWQ6RC5zaGFyZWRBcnJheUJ1ZmZlciYmIShcImxvY2FsXCI9PT10aGlzLl9jbGllbnQudHlwZSksc2l6ZTp0aGlzLl9zaXplLGJsb2NrczpzKHRoaXMuX2Jsb2NrcywodD0+KHt0ZXh0dXJlT25seTp0LnRleHR1cmVPbmx5LGJ1ZmZlcjp0LmJ1ZmZlcixwaXhlbFR5cGU6dC5waXhlbFR5cGV9KSkpfSxpPXRoaXMuX2NsaWVudC5pbml0aWFsaXplKGUsdGhpcy5fc2lnbmFsKS5jYXRjaCgoZT0+e28oZSk/dGhpcy5fY3JlYXRlUmVzb3VyY2VzUHJvbWlzZT1udWxsOkUuZXJyb3IobmV3IHQoXCJtYXB2aWV3LWF0dHJpYnV0ZS1zdG9yZVwiLFwiRW5jb3VudGVyZWQgYW4gZXJyb3IgZHVyaW5nIGNsaWVudCBpbml0aWFsaXphdGlvblwiLGUpKX0pKTtyZXR1cm4gdGhpcy5fY3JlYXRlUmVzb3VyY2VzUHJvbWlzZT1pLGkudGhlbigoKCk9Pm51bGw9PXRoaXMuX2NyZWF0ZVJlc291cmNlc1Byb21pc2U/dGhpcy5fY3JlYXRlUmVzb3VyY2VzKCk6dm9pZCAwKSksaX1fZ2V0QmxvY2sodCl7Y29uc3QgZT10aGlzLl9ibG9ja3NbdF07aWYobnVsbCE9ZSlyZXR1cm4gZTtrKGBJbml0aWFsaXppbmcgQXR0cmlidXRlQmxvY2sgYXQgaW5kZXggJHt0fWApO2NvbnN0IGk9RC5zaGFyZWRBcnJheUJ1ZmZlcixzPXRoaXMuX2NsaWVudC50eXBlLHI9bmV3IEkoaSxzLHRoaXMuX3NpemUsdGhpcy5fYmxvY2tEZXNjcmlwdG9yc1t0XSk7cmV0dXJuIHRoaXMuX2Jsb2Nrc1t0XT1yLHRoaXMuX2NyZWF0ZVJlc291cmNlc1Byb21pc2U9bnVsbCxyfV9leHBhbmQoKXtpZih0aGlzLl9zaXplPHRoaXMuY29uZmlnLm1heFRleHR1cmVTaXplKXtjb25zdCB0PXRoaXMuX3NpemU8PD0xO3JldHVybiBrKFwiRXhwYW5kaW5nIGJsb2NrIHNpemUgdG9cIix0LHRoaXMuX2Jsb2Nrcykscih0aGlzLl9ibG9ja3MsKGU9PmUuZXhwYW5kKHQpKSksdGhpcy5fY3JlYXRlUmVzb3VyY2VzUHJvbWlzZT1udWxsLHRoaXMuX3NpemU9dCwwfXJldHVybiBFLmVycm9yKG5ldyB0KFwibWFwdmlldy1saW1pdGF0aW9uc1wiLFwiTWF4aW11bSBudW1iZXIgb2Ygb25zY3JlZW4gZmVhdHVyZXMgZXhjZWVkZWQuXCIpKSwtMX1hc3luYyBfdXBkYXRlRmlsdGVyKHQsZSxpLHMpe2NvbnN0IHI9dGhpcy5fZmlsdGVyc1tlXSxhPW51bGwhPXImJnIuaGFzaDtpZighciYmIXQpcmV0dXJuITE7aWYoYT09PUpTT04uc3RyaW5naWZ5KHQpKXJldHVybiExO2lmKG51bGw9PXQpe2lmKCFyKXJldHVybiExO2NvbnN0IHQ9MTw8ZSsxLGk9dGhpcy5fZ2V0QmxvY2soMCk7cmV0dXJuIHRoaXMuX2ZpbHRlcnNbZV09bnVsbCxpLnNldENvbXBvbmVudEFsbFRleGVscygwLHQpLHRoaXMuc2VuZFVwZGF0ZXMoKSwhMH1jb25zdCBuPWF3YWl0IHRoaXMuX2dldEZpbHRlcihlLGkpO3JldHVybiBhd2FpdCBuLnVwZGF0ZSh0LHMpLCEwfWFzeW5jIF9nZXRGaWx0ZXIodCxlKXtjb25zdCBpPXRoaXMuX2ZpbHRlcnNbdF07aWYobnVsbCE9aSlyZXR1cm4gaTtjb25zdHtkZWZhdWx0OnN9PWF3YWl0IGltcG9ydChcIi4vRmVhdHVyZUZpbHRlci5qc1wiKSxyPW5ldyBzKHtnZW9tZXRyeVR5cGU6ZS5nZW9tZXRyeVR5cGUsaGFzTTohMSxoYXNaOiExLHRpbWVJbmZvOmUudGltZUluZm8sZmllbGRzSW5kZXg6bmV3IHUoZS5maWVsZHMpfSk7cmV0dXJuIHRoaXMuX2ZpbHRlcnNbdF09cixyfWlzVmlzaWJsZSh0KXtyZXR1cm4hISgyJnRoaXMuX2dldEJsb2NrKDApLmdldERhdGEodCwwKSl9Z2V0RmlsdGVyRmxhZ3ModCl7bGV0IGU9MDtjb25zdCBpPVModC5nZXREaXNwbGF5SWQoKSk7Zm9yKGxldCByPTA7cjx0aGlzLl9maWx0ZXJzLmxlbmd0aDtyKyspe2NvbnN0IHM9ISEoaSYxPDxyKSxhPXRoaXMuX2ZpbHRlcnNbcl07ZXw9KCFzfHxudWxsPT1hfHxhLmNoZWNrKHQpPzE6MCk8PHJ9bGV0IHM9MDtpZih0aGlzLl9pZHNUb0hpZ2hsaWdodC5zaXplKXtjb25zdCBlPXQuZ2V0T2JqZWN0SWQoKTtzPXRoaXMuZ2V0SGlnaGxpZ2h0RmxhZyhlKX1yZXR1cm4gZTw8MXxzfX1leHBvcnR7QiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2FwcGx5U29tZSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7ZGlmZiBhcyByLGhhc0RpZmYgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kaWZmVXRpbHMuanNcIjtpbXBvcnR7R2VvaGFzaFRyZWUgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9oYXNoL0dlb2hhc2hUcmVlLmpzXCI7aW1wb3J0e3NldEdlb2hhc2hCdWYgYXMgYSxzZXRHZW9oYXNoWFkgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9oYXNoL2dlb2hhc2hVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7ZWFydGggYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L0VsbGlwc29pZC5qc1wiO2ltcG9ydHtnZXRJbmZvIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7Z2V0Qm91bmRzT3B0aW1pemVkR2VvbWV0cnkgYXMgZyxjb252ZXJ0VG9HZW9tZXRyeSBhcyBwLGNvbnZlcnRGcm9tUG9seWdvbiBhcyB1fWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e09wdGltaXplZEZlYXR1cmUgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkRmVhdHVyZS5qc1wiO2ltcG9ydCBmIGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtjaGVja1Byb2plY3Rpb25TdXBwb3J0IGFzIG0scHJvamVjdCBhcyBffWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL3Byb2plY3Rpb25TdXBwb3J0LmpzXCI7aW1wb3J0e2NyZWF0ZURpc3BsYXlJZCBhcyB5fWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9EaXNwbGF5SWQuanNcIjtpbXBvcnR7ZmVhdHVyZUFkYXB0ZXIgYXMgSX1mcm9tXCIuLi9GZWF0dXJlU3RvcmUyRC5qc1wiO2ltcG9ydHtTdG9yZTJEIGFzIGJ9ZnJvbVwiLi4vU3RvcmUyRC5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyBqfWZyb21cIi4vRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtpbXBvcnQgdiBmcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IEIgZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9seWdvbi5qc1wiO2ltcG9ydCB4IGZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2NvbnN0IFM9dC5nZXRMb2dnZXIoXCJlc3JpLnZpZXcuMmQubGF5ZXJzLmZlYXR1cmVzLnN1cHBvcnQuQmluU3RvcmVcIiksRj0xMixHPTY0LFI9bigpLEw9NTtmdW5jdGlvbiBUKGUpe3JldHVybiA1Ny4yOTU3Nzk1MTMwODIzMiplfWNsYXNzIEEgZXh0ZW5kcyBie2NvbnN0cnVjdG9yKHQscyxyLGkpe3N1cGVyKHQsciksdGhpcy50eXBlPVwiYmluXCIsdGhpcy5ldmVudHM9bmV3IGUsdGhpcy5vYmplY3RJZEZpZWxkPVwiYWdncmVnYXRlSWRcIix0aGlzLmZlYXR1cmVBZGFwdGVyPUksdGhpcy5fZ2VvaGFzaExldmVsPUwsdGhpcy5fZ2VvaGFzaEJ1Zj1bXSx0aGlzLl9zZXJ2aWNlSW5mbz1pLHRoaXMuZ2VvbWV0cnlJbmZvPXQuZ2VvbWV0cnlJbmZvLHRoaXMuX3NwYXRpYWxSZWZlcmVuY2U9cyx0aGlzLl9wcm9qZWN0aW9uU3VwcG9ydENoZWNrPW0ocyx2LldHUzg0KSx0aGlzLl9iaXRzZXRzLmdlb2hhc2g9ci5nZXRCaXRzZXQoci5jcmVhdGVCaXRzZXQoKSksdGhpcy5fYml0c2V0cy5pbnNlcnRlZD1yLmdldEJpdHNldChyLmNyZWF0ZUJpdHNldCgpKX1kZXN0cm95KCl7dGhpcy5fdHJlZSYmdGhpcy5fdHJlZS5kZXN0cm95KCl9Z2V0IGZlYXR1cmVTcGF0aWFsUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMuX3NwYXRpYWxSZWZlcmVuY2V9Z2V0IGZpZWxkcygpe3JldHVybiB0aGlzLl9maWVsZHN9YXN5bmMgdXBkYXRlU2NoZW1hKGUsdCl7Y29uc3Qgcz10aGlzLl9zY2hlbWE7dHJ5e2F3YWl0IHN1cGVyLnVwZGF0ZVNjaGVtYShlLHQpLGF3YWl0IHRoaXMuX3Byb2plY3Rpb25TdXBwb3J0Q2hlY2t9Y2F0Y2goaCl7fXRoaXMuX2ZpZWxkcz10aGlzLl9zY2hlbWEucGFyYW1zLmZpZWxkcztjb25zdCBhPXIocyx0KTt0JiYobnVsbCE9YXx8ZS5zb3VyY2V8fGUuc3RvcmFnZS5maWx0ZXJzKT8oKGkoYSxcInBhcmFtcy5maWVsZHNcIil8fGkoYSxcInBhcmFtc1wiKXx8IXRoaXMuX3RyZWV8fGUuc291cmNlKSYmKHRoaXMuX3RyZWUmJnRoaXMuX3RyZWUuZGVzdHJveSgpLHRoaXMuX3RyZWU9bmV3IG8odGhpcy5fc3RhdGlzdGljRmllbGRzLHRoaXMuX3NlcnZpY2VJbmZvKSx0aGlzLl90cmVlLm9uUmVsZWFzZT1lPT5lLmRpc3BsYXlJZCYmdGhpcy5fc3RvcmFnZS5yZWxlYXNlRGlzcGxheUlkKGUuZGlzcGxheUlkKSx0aGlzLl9nZW9oYXNoTGV2ZWw9dGhpcy5fc2NoZW1hLnBhcmFtcy5maXhlZEJpbkxldmVsLHRoaXMuX3JlYnVpbGRUcmVlKCksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJlMuaW5mbyhcIkFnZ3JlZ2F0ZSBtZXNoIG5lZWRzIHVwZGF0ZSBkdWUgdG8gdHJlZSBjaGFuZ2luZ1wiKSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJlMuaW5mbyhcIkFnZ3JlZ2F0ZSBtZXNoIG5lZWRzIHVwZGF0ZSBkdWUgdG8gdHJlZSBjaGFuZ2luZ1wiKSxlLnRhcmdldHNbdC5uYW1lXT0hMCxlLm1lc2g9ITEpOnMmJihlLm1lc2g9ITApfWNsZWFyKCl7dGhpcy5fcmVidWlsZFRyZWUoKX1zd2VlcEZlYXR1cmVzKGUsdCl7dGhpcy5fYml0c2V0cy5pbnNlcnRlZC5mb3JFYWNoU2V0KChzPT57aWYoIWUuaGFzKHMpKXtjb25zdCBlPXQubG9va3VwQnlEaXNwbGF5SWRVbnNhZmUocyk7dGhpcy5fcmVtb3ZlKGUpfX0pKX1zd2VlcEFnZ3JlZ2F0ZXMoZSx0LHMpe31vblRpbGVEYXRhKGUsdCxzLHIsaT0hMCl7aWYoIXRoaXMuX3NjaGVtYXx8bnVsbD09dC5hZGRPclVwZGF0ZSlyZXR1cm4gdDt0aGlzLmV2ZW50cy5lbWl0KFwiY2hhbmdlZFwiKTtjb25zdCBvPXRoaXMuX2dldFRyYW5zZm9ybXMoZSx0aGlzLl9zcGF0aWFsUmVmZXJlbmNlKTt7Y29uc3QgZT10LmFkZE9yVXBkYXRlLmdldEN1cnNvcigpO2Zvcig7ZS5uZXh0KCk7KXRoaXMuX3VwZGF0ZShlLHIpfWlmKHQuc3RhdHVzLm1lc2h8fCFpKXJldHVybiB0O2NvbnN0IGE9bmV3IEFycmF5O3RoaXMuX2dldEJpbnNGb3JUaWxlKGEsZSxvLHMpLHQuYWRkT3JVcGRhdGU9ai5mcm9tT3B0aW1pemVkRmVhdHVyZXMoYSx7ZmllbGRzOnRoaXMuZmllbGRzLGdlb21ldHJ5VHlwZTpcImVzcmlHZW9tZXRyeVBvbHlnb25cIixvYmplY3RJZEZpZWxkOnRoaXMub2JqZWN0SWRGaWVsZH0pLHQuYWRkT3JVcGRhdGUuYXR0YWNoU3RvcmFnZShzKSx0LmVuZD0hMCx0LmlzUmVwdXNofHwodC5jbGVhcj0hMCk7e2NvbnN0IHI9dC5hZGRPclVwZGF0ZS5nZXRDdXJzb3IoKTtmb3IoO3IubmV4dCgpOyl7Y29uc3QgdD1yLmdldERpc3BsYXlJZCgpO3RoaXMuX2JpdHNldHMuY29tcHV0ZWQudW5zZXQodCksdGhpcy5zZXRDb21wdXRlZEF0dHJpYnV0ZXMocyxyLHQsZS5zY2FsZSl9fXJldHVybiB0fWZvckVhY2hCaW4oZSl7dGhpcy5fdHJlZS5mb3JFYWNoKGUpfWZvckVhY2goZSl7dGhpcy5fdHJlZS5mb3JFYWNoKCh0PT57aWYodC5kZXB0aCE9PXRoaXMuX2dlb2hhc2hMZXZlbClyZXR1cm47Y29uc3Qgcz10aGlzLl90b0ZlYXR1cmVKU09OKHQpLHI9ai5mcm9tRmVhdHVyZXMoW3NdLHtvYmplY3RJZEZpZWxkOnRoaXMub2JqZWN0SWRGaWVsZCxnbG9iYWxJZEZpZWxkOm51bGwsZ2VvbWV0cnlUeXBlOnRoaXMuZ2VvbWV0cnlJbmZvLmdlb21ldHJ5VHlwZSxmaWVsZHM6dGhpcy5maWVsZHN9KS5nZXRDdXJzb3IoKTtyLm5leHQoKSxlKHIpfSkpfWZvckVhY2hJbkJvdW5kcyhlLHQpe31mb3JFYWNoQm91bmRzKGUsdCl7Y29uc3R7aGFzTTpzLGhhc1o6cn09dGhpcy5nZW9tZXRyeUluZm87Zm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgZT1nKFIsaS5yZWFkR2VvbWV0cnkoKSxyLHMpO251bGwhPWUmJnQoZSl9fW9uVGlsZVVwZGF0ZShlKXt9Z2V0QWdncmVnYXRlKGUpe2NvbnN0IHQ9eShlLCEwKSxyPXRoaXMuX3RyZWUuZmluZElmKChlPT5lLmRpc3BsYXlJZD09PXQpKTtyZXR1cm4gcyhyLChlPT50aGlzLl90b0ZlYXR1cmVKU09OKGUpKSl9Z2V0QWdncmVnYXRlcygpe3JldHVybiB0aGlzLl90cmVlLmZpbmRBbGxJZigoZT0+ZS5kZXB0aD09PXRoaXMuX2dlb2hhc2hMZXZlbCkpLm1hcCh0aGlzLl90b0ZlYXR1cmVKU09OLmJpbmQodGhpcykpfWdldERpc3BsYXlJZChlKXtjb25zdCB0PXRoaXMuX3RyZWUuZmluZElmKCh0PT50LmlkPT09ZSkpO3JldHVybiBzKHQsKGU9PmUuZGlzcGxheUlkKSl9Z2V0RmVhdHVyZURpc3BsYXlJZHNGb3JBZ2dyZWdhdGUoZSl7Y29uc3QgdD10aGlzLl90cmVlLmZpbmRJZigodD0+dC5pZD09PWUpKTtyZXR1cm4gbnVsbCE9dD9BcnJheS5mcm9tKHQuZGlzcGxheUlkcyk6W119Z2V0RGlzcGxheUlkRm9yUmVmZXJlbmNlSWQoZSl7Y29uc3QgdD10aGlzLl90cmVlLmZpbmRJZigodD0+MT09PXQuZGlzcGxheUlkcy5zaXplJiZ0LmRpc3BsYXlJZHMuaGFzKGUpKSk7cmV0dXJuIHModCwoZT0+ZS5kaXNwbGF5SWQpKX1fdG9GZWF0dXJlSlNPTihlKXtjb25zdCB0PXRoaXMuX3NwYXRpYWxSZWZlcmVuY2U7cmV0dXJue2Rpc3BsYXlJZDplLmRpc3BsYXlJZCxhdHRyaWJ1dGVzOmUuZ2V0QXR0cmlidXRlcygpLGdlb21ldHJ5OnAoZS5nZXRHZW9tZXRyeSh0KSxcImVzcmlHZW9tZXRyeVBvbHlnb25cIiwhMSwhMSksY2VudHJvaWQ6bnVsbH19X3JlYnVpbGRUcmVlKCl7dGhpcy5fYml0c2V0cy5jb21wdXRlZC5jbGVhcigpLHRoaXMuX2JpdHNldHMuaW5zZXJ0ZWQuY2xlYXIoKSx0aGlzLl90cmVlJiZ0aGlzLl90cmVlLmNsZWFyKCl9X3JlbW92ZShlKXtjb25zdCB0PWUuZ2V0RGlzcGxheUlkKCkscz1lLmdldFhIeWRyYXRlZCgpLHI9ZS5nZXRZSHlkcmF0ZWQoKSxpPXRoaXMuX2dlb2hhc2hCdWZbMip0XSxvPXRoaXMuX2dlb2hhc2hCdWZbMip0KzFdO3RoaXMuX2JpdHNldHMuaW5zZXJ0ZWQuaGFzKHQpJiYodGhpcy5fYml0c2V0cy5pbnNlcnRlZC51bnNldCh0KSx0aGlzLl90cmVlLnJlbW92ZUN1cnNvcihlLHMscixpLG8sdGhpcy5fZ2VvaGFzaExldmVsKSl9X3VwZGF0ZShlLHQpe2NvbnN0IHM9ZS5nZXREaXNwbGF5SWQoKSxyPXRoaXMuX2JpdHNldHMuaW5zZXJ0ZWQsaT10LmlzVmlzaWJsZShzKTtpZihpPT09ci5oYXMocykpcmV0dXJuO2lmKCFpKXJldHVybiB2b2lkIHRoaXMuX3JlbW92ZShlKTtjb25zdCBvPWUuZ2V0WEh5ZHJhdGVkKCksYT1lLmdldFlIeWRyYXRlZCgpO2lmKCF0aGlzLl9zZXRHZW9oYXNoKHMsbyxhKSlyZXR1cm47Y29uc3QgaD10aGlzLl9nZW9oYXNoQnVmWzIqc10sbj10aGlzLl9nZW9oYXNoQnVmWzIqcysxXTt0aGlzLl90cmVlLmluc2VydEN1cnNvcihlLHMsbyxhLGgsbix0aGlzLl9nZW9oYXNoTGV2ZWwpLHIuc2V0KHMpfV9zZXRHZW9oYXNoKGUsdCxzKXtpZih0aGlzLl9iaXRzZXRzLmdlb2hhc2guaGFzKGUpKXJldHVybiEwO2NvbnN0IHI9dGhpcy5fZ2VvaGFzaEJ1ZjtpZih0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLmlzV2ViTWVyY2F0b3Ipe2NvbnN0IGk9VCh0L2QucmFkaXVzKSxvPWktMzYwKk1hdGguZmxvb3IoKGkrMTgwKS8zNjApLGg9VChNYXRoLlBJLzItMipNYXRoLmF0YW4oTWF0aC5leHAoLXMvZC5yYWRpdXMpKSk7YShyLGUsaCxvLEYpfWVsc2V7Y29uc3QgaT1fKHt4OnQseTpzfSx0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLHYuV0dTODQpO2lmKCFpKXJldHVybiExO2EocixlLGkueSxpLngsRil9cmV0dXJuIHRoaXMuX2JpdHNldHMuZ2VvaGFzaC5zZXQoZSksITB9X2dldEJpbnNGb3JUaWxlKGUsdCxzLHIpe3RyeXtjb25zdCBpPXRoaXMuX2dldEdlb2hhc2hCb3VuZHModCksbz10aGlzLl90cmVlLmdldEJpbnMoaSk7Zm9yKGNvbnN0IHQgb2Ygbyl7dC5kaXNwbGF5SWR8fCh0LmRpc3BsYXlJZD1yLmNyZWF0ZURpc3BsYXlJZCghMCkpO2xldCBpPW51bGw7Y29uc3Qgbz10LmdldEdlb21ldHJ5KHRoaXMuX3NwYXRpYWxSZWZlcmVuY2Uscy50aWxlKTtvfHwoaT10LmdldEdlb21ldHJ5Q2VudHJvaWQodGhpcy5fc3BhdGlhbFJlZmVyZW5jZSxzLnRpbGUpKTtjb25zdCBhPW5ldyBjKG8sdC5nZXRBdHRyaWJ1dGVzKCksaSk7YS5vYmplY3RJZD10LmlkLGEuZGlzcGxheUlkPXQuZGlzcGxheUlkLGUucHVzaChhKX19Y2F0Y2goaSl7cmV0dXJuIHZvaWQgUy5lcnJvcihcIlVuYWJsZSB0byBnZXQgYmlucyBmb3IgdGlsZVwiLHQua2V5LmlkKX19X2dldEdlb2hhc2goZSx0LHMpe2NvbnN0IHI9e2dlb2hhc2hYOjAsZ2VvaGFzaFk6MH07cmV0dXJuIGgocix0LGUscykscn1fZ2V0R2VvaGFzaEJvdW5kcyhlKXtjb25zdCB0PXRoaXMuX2dldEdlb2hhc2hMZXZlbChlLmtleS5sZXZlbCkscz1bZS5leHRlbnQueG1pbixlLmV4dGVudC55bWluLGUuZXh0ZW50LnhtYXgsZS5leHRlbnQueW1heF0scj1CLmZyb21FeHRlbnQoeC5mcm9tQm91bmRzKHMsdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSkpLGk9XyhyLHRoaXMuX3NwYXRpYWxSZWZlcmVuY2Usdi5XR1M4NCx7ZGVuc2lmaWNhdGlvblN0ZXA6ZS5yZXNvbHV0aW9uKkd9KSxvPXUobmV3IGYsaSwhMSwhMSksYT1vLmNvb3Jkcy5maWx0ZXIoKChlLHQpPT4hKHQlMikpKSxoPW8uY29vcmRzLmZpbHRlcigoKGUsdCk9PnQlMikpLG49TWF0aC5taW4oLi4uYSksZD1NYXRoLm1pbiguLi5oKSxsPU1hdGgubWF4KC4uLmEpLGc9TWF0aC5tYXgoLi4uaCkscD10aGlzLl9nZXRHZW9oYXNoKG4sZCx0KSxjPXRoaXMuX2dldEdlb2hhc2gobCxnLHQpO3JldHVybntib3VuZHM6cyxnZW9oYXNoQm91bmRzOnt4TEw6cC5nZW9oYXNoWCx5TEw6cC5nZW9oYXNoWSx4VFI6Yy5nZW9oYXNoWCx5VFI6Yy5nZW9oYXNoWX0sbGV2ZWw6dH19X2dldEdlb2hhc2hMZXZlbChlKXtyZXR1cm4gdGhpcy5fc2NoZW1hLnBhcmFtcy5maXhlZEJpbkxldmVsfV9nZXRUcmFuc2Zvcm1zKGUsdCl7Y29uc3Qgcz17b3JpZ2luUG9zaXRpb246XCJ1cHBlckxlZnRcIixzY2FsZTpbZS5yZXNvbHV0aW9uLGUucmVzb2x1dGlvbl0sdHJhbnNsYXRlOltlLmJvdW5kc1swXSxlLmJvdW5kc1szXV19LHI9bCh0KTtpZighcilyZXR1cm57dGlsZTpzLGxlZnQ6bnVsbCxyaWdodDpudWxsfTtjb25zdFtpLG9dPXIudmFsaWQ7cmV0dXJue3RpbGU6cyxsZWZ0OnsuLi5zLHRyYW5zbGF0ZTpbbyxlLmJvdW5kc1szXV19LHJpZ2h0OnsuLi5zLHRyYW5zbGF0ZTpbaS1vK2UuYm91bmRzWzBdLGUuYm91bmRzWzNdXX19fX1leHBvcnR7QSBhcyBCaW5TdG9yZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7YXBwbHlTb21lIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtkaWZmIGFzIHMsaGFzRGlmZiBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtHZW9oYXNoVHJlZSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb2hhc2gvR2VvaGFzaFRyZWUuanNcIjtpbXBvcnR7c2V0R2VvaGFzaEJ1ZiBhcyBpLHNldEdlb2hhc2hYWSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb2hhc2gvZ2VvaGFzaFV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBofWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHtlYXJ0aCBhcyBufWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvRWxsaXBzb2lkLmpzXCI7aW1wb3J0e2dldEluZm8gYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtnZXRCb3VuZHNPcHRpbWl6ZWRHZW9tZXRyeSBhcyB1LHF1YW50aXplWCBhcyBnLHF1YW50aXplWSBhcyBjLGNvbnZlcnRGcm9tUG9seWdvbiBhcyBkfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e09wdGltaXplZEZlYXR1cmVXaXRoR2VvbWV0cnkgYXMgZixPcHRpbWl6ZWRGZWF0dXJlIGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEZlYXR1cmUuanNcIjtpbXBvcnQgbSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkR2VvbWV0cnkuanNcIjtpbXBvcnR7Y2hlY2tQcm9qZWN0aW9uU3VwcG9ydCBhcyBfLHByb2plY3QgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9wcm9qZWN0aW9uU3VwcG9ydC5qc1wiO2ltcG9ydHtUSUxFX1NJWkUgYXMgSX1mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvZGVmaW5pdGlvbnMuanNcIjtpbXBvcnR7RElTUExBWV9JRF9URVhFTF9NQVNLIGFzIGJ9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL0Rpc3BsYXlJZC5qc1wiO2ltcG9ydHtmZWF0dXJlQWRhcHRlciBhcyB2fWZyb21cIi4uL0ZlYXR1cmVTdG9yZTJELmpzXCI7aW1wb3J0e1N0b3JlMkQgYXMgUn1mcm9tXCIuLi9TdG9yZTJELmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJKU09OIGFzIE19ZnJvbVwiLi9GZWF0dXJlU2V0UmVhZGVySlNPTi5qc1wiO2ltcG9ydCB4IGZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnQgaiBmcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9Qb2x5Z29uLmpzXCI7aW1wb3J0IEMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7Y29uc3QgRj0xMixMPTY0LEI9MSx3PWgoKTtjbGFzcyBTIGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLHQscyxyLG8pe3N1cGVyKG5ldyBtKFtdLFt0LHNdKSxyLG51bGwsZSksdGhpcy5nZW9oYXNoQm91bmRzSW5mbz1vfWdldCBjb3VudCgpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuY2x1c3Rlcl9jb3VudH1zdGF0aWMgY3JlYXRlKGUsdCxzLHIsbyxpLGEsaCl7Y29uc3Qgbj1uZXcgUyh0LHMscixpLGEpO3JldHVybiBuLmRpc3BsYXlJZD1lLmNyZWF0ZURpc3BsYXlJZCghMCksbi5yZWZlcmVuY2VJZD1oLG4udGlsZUxldmVsPW8sbn11cGRhdGUoZSx0LHMscixvLGkpe3JldHVybiB0aGlzLmdlb21ldHJ5LmNvb3Jkc1swXT1lLHRoaXMuZ2VvbWV0cnkuY29vcmRzWzFdPXQsdGhpcy50aWxlTGV2ZWw9cyx0aGlzLmF0dHJpYnV0ZXM9cix0aGlzLmdlb2hhc2hCb3VuZHNJbmZvPW8sdGhpcy5yZWZlcmVuY2VJZD1udWxsLHRoaXMucmVmZXJlbmNlSWQ9aSx0aGlzfXRvSlNPTigpe3JldHVybnthdHRyaWJ1dGVzOnsuLi50aGlzLmF0dHJpYnV0ZXMsYWdncmVnYXRlSWQ6dGhpcy5vYmplY3RJZCxyZWZlcmVuY2VJZDoxPT09dGhpcy5hdHRyaWJ1dGVzLmNsdXN0ZXJfY291bnQ/dGhpcy5yZWZlcmVuY2VJZDpudWxsfSxnZW9tZXRyeTp7eDp0aGlzLmdlb21ldHJ5LmNvb3Jkc1swXSx5OnRoaXMuZ2VvbWV0cnkuY29vcmRzWzFdfX19fWZ1bmN0aW9uIFQoZSl7cmV0dXJuIDU3LjI5NTc3OTUxMzA4MjMyKmV9Y2xhc3MgViBleHRlbmRzIFJ7Y29uc3RydWN0b3IodCxzLHIsbyl7c3VwZXIodCxyKSx0aGlzLnR5cGU9XCJjbHVzdGVyXCIsdGhpcy5ldmVudHM9bmV3IGUsdGhpcy5vYmplY3RJZEZpZWxkPVwiYWdncmVnYXRlSWRcIix0aGlzLmZlYXR1cmVBZGFwdGVyPXYsdGhpcy5fZ2VvaGFzaExldmVsPTAsdGhpcy5fdGlsZUxldmVsPTAsdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXM9e30sdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXNDaGFuZ2VkPSExLHRoaXMuX2dlb2hhc2hCdWY9W10sdGhpcy5fY2x1c3RlcnM9bmV3IE1hcCx0aGlzLl90aWxlcz1uZXcgTWFwLHRoaXMuX3NlcnZpY2VJbmZvPW8sdGhpcy5nZW9tZXRyeUluZm89dC5nZW9tZXRyeUluZm8sdGhpcy5fc3BhdGlhbFJlZmVyZW5jZT1zLHRoaXMuX3Byb2plY3Rpb25TdXBwb3J0Q2hlY2s9XyhzLHguV0dTODQpLHRoaXMuX2JpdHNldHMuZ2VvaGFzaD1yLmdldEJpdHNldChyLmNyZWF0ZUJpdHNldCgpKSx0aGlzLl9iaXRzZXRzLmluc2VydGVkPXIuZ2V0Qml0c2V0KHIuY3JlYXRlQml0c2V0KCkpfWRlc3Ryb3koKXt0aGlzLl90cmVlLmRlc3Ryb3koKX1nZXQgZmVhdHVyZVNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy5fc3BhdGlhbFJlZmVyZW5jZX1nZXQgZmllbGRzKCl7cmV0dXJuIHRoaXMuX2ZpZWxkc31hc3luYyB1cGRhdGVTY2hlbWEoZSx0KXtjb25zdCBpPXRoaXMuX3NjaGVtYTt0cnl7YXdhaXQgc3VwZXIudXBkYXRlU2NoZW1hKGUsdCksYXdhaXQgdGhpcy5fcHJvamVjdGlvblN1cHBvcnRDaGVja31jYXRjaChoKXt9dGhpcy5fZmllbGRzPVsuLi50aGlzLl9zY2hlbWEucGFyYW1zLmZpZWxkcyx7bmFtZTpcInJlZmVyZW5jZUlkXCIsYWxpYXM6XCJyZWZlcmVuY2VJZFwiLHR5cGU6XCJlc3JpRmllbGRUeXBlSW50ZWdlclwifV07ISF0aGlzLl9maWVsZHMuc29tZSgoZT0+XCJjbHVzdGVyX2NvdW50XCI9PT1lLm5hbWUpKXx8dGhpcy5fZmllbGRzLnB1c2goe25hbWU6XCJjbHVzdGVyX2NvdW50XCIsYWxpYXM6XCJjbHVzdGVyX2NvdW50XCIsdHlwZTpcImVzcmlGaWVsZFR5cGVJbnRlZ2VyXCJ9KTtjb25zdCBhPXMoaSx0KTt0JiYobnVsbCE9YXx8ZS5zb3VyY2V8fGUuc3RvcmFnZS5maWx0ZXJzKT8oKHIoYSxcInBhcmFtcy5maWVsZHNcIil8fCF0aGlzLl90cmVlfHxlLnNvdXJjZSkmJih0aGlzLl90cmVlJiZ0aGlzLl90cmVlLmRlc3Ryb3koKSx0aGlzLl90cmVlPW5ldyBvKHRoaXMuX3N0YXRpc3RpY0ZpZWxkcyx0aGlzLl9zZXJ2aWNlSW5mbyksdGhpcy5fcmVidWlsZFRyZWUoKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkFnZ3JlZ2F0ZSBtZXNoIG5lZWRzIHVwZGF0ZSBkdWUgdG8gdHJlZSBjaGFuZ2luZ1wiKSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBcHBseWluZyBVcGRhdGUgLSBDbHVzdGVyU3RvcmU6XCIsYSksZS50YXJnZXRzW3QubmFtZV09ITAsZS5tZXNoPSExLHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzPXt9KTppJiYoZS5tZXNoPSEwKX1jbGVhcigpe3RoaXMuX3JlYnVpbGRUcmVlKCl9c3dlZXBGZWF0dXJlcyhlLHQpe3RoaXMuX2JpdHNldHMuaW5zZXJ0ZWQuZm9yRWFjaFNldCgocz0+e2lmKCFlLmhhcyhzKSl7Y29uc3QgZT10Lmxvb2t1cEJ5RGlzcGxheUlkVW5zYWZlKHMpO3RoaXMuX3JlbW92ZShlKX19KSl9c3dlZXBBZ2dyZWdhdGVzKGUsdCxzKXt0aGlzLl9jbHVzdGVycy5mb3JFYWNoKCgocixvKT0+e3ImJnIudGlsZUxldmVsIT09cyYmKGUucmVsZWFzZURpc3BsYXlJZChyLmRpc3BsYXlJZCksdC51bnNldEF0dHJpYnV0ZURhdGEoci5kaXNwbGF5SWQpLHRoaXMuX2NsdXN0ZXJzLmRlbGV0ZShvKSl9KSl9b25UaWxlRGF0YShlLHQscyxyLG89ITApe2lmKCF0aGlzLl9zY2hlbWF8fG51bGw9PXQuYWRkT3JVcGRhdGUpcmV0dXJuIHQ7dGhpcy5ldmVudHMuZW1pdChcImNoYW5nZWRcIik7Y29uc3QgaT10aGlzLl9nZXRUcmFuc2Zvcm1zKGUsdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSk7e2NvbnN0IGU9dC5hZGRPclVwZGF0ZS5nZXRDdXJzb3IoKTtmb3IoO2UubmV4dCgpOyl0aGlzLl91cGRhdGUoZSxyKX1pZih0LnN0YXR1cy5tZXNofHwhbylyZXR1cm4gdDtjb25zdCBhPW5ldyBBcnJheSxoPXRoaXMuX3NjaGVtYS5wYXJhbXMuY2x1c3RlclJhZGl1czt0aGlzLl9nZXRDbHVzdGVyc0ZvclRpbGUoYSxlLGgscyxpKSx0LmFkZE9yVXBkYXRlPU0uZnJvbU9wdGltaXplZEZlYXR1cmVzKGEse2ZpZWxkczp0aGlzLmZpZWxkcyxnZW9tZXRyeVR5cGU6XCJlc3JpR2VvbWV0cnlQb2ludFwiLG9iamVjdElkRmllbGQ6dGhpcy5vYmplY3RJZEZpZWxkfSksdC5hZGRPclVwZGF0ZS5hdHRhY2hTdG9yYWdlKHMpLHQuY2xlYXI9ITAsdC5lbmQ9ITA7e2NvbnN0IHI9dC5hZGRPclVwZGF0ZS5nZXRDdXJzb3IoKTtmb3IoO3IubmV4dCgpOyl7Y29uc3QgdD1yLmdldERpc3BsYXlJZCgpO3RoaXMuX2JpdHNldHMuY29tcHV0ZWQudW5zZXQodCksdGhpcy5zZXRDb21wdXRlZEF0dHJpYnV0ZXMocyxyLHQsZS5zY2FsZSl9fXJldHVybiB0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc0NoYW5nZWQmJnQuZW5kJiYodGhpcy5ldmVudHMuZW1pdChcInZhbHVlUmFuZ2VzQ2hhbmdlZFwiLHt2YWx1ZVJhbmdlczp0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc30pLHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzQ2hhbmdlZD0hMSksdH1vblRpbGVVcGRhdGUoe2FkZGVkOmUscmVtb3ZlZDp0fSl7aWYoZS5sZW5ndGgpe2NvbnN0IHQ9ZVswXS5sZXZlbDt0aGlzLl90aWxlTGV2ZWw9dCx0aGlzLl9zZXRHZW9oYXNoTGV2ZWwodCl9aWYoIXRoaXMuX3NjaGVtYSlyZXR1cm47Y29uc3Qgcz10aGlzLl9zY2hlbWEucGFyYW1zLmNsdXN0ZXJSYWRpdXM7dC5mb3JFYWNoKChlPT57dGhpcy5fdGlsZXMuZGVsZXRlKGUua2V5LmlkKSx0aGlzLl9tYXJrVGlsZUNsdXN0ZXJzRm9yRGVsZXRpb24oZSxzKX0pKX1nZXRBZ2dyZWdhdGUoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fY2x1c3RlcnMudmFsdWVzKCkpaWYoKHQ/LmRpc3BsYXlJZCZiKT09KGUmYikpcmV0dXJuIHQudG9KU09OKCk7cmV0dXJuIG51bGx9Z2V0QWdncmVnYXRlcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2YgdGhpcy5fY2x1c3RlcnMudmFsdWVzKCkpdD8udGlsZUxldmVsPT09dGhpcy5fdGlsZUxldmVsJiZlLnB1c2godC50b0pTT04oKSk7cmV0dXJuIGV9Z2V0RGlzcGxheUlkKGUpe2NvbnN0IHQ9dGhpcy5fY2x1c3RlcnMuZ2V0KGUpO3JldHVybiB0P3QuZGlzcGxheUlkOm51bGx9Z2V0RmVhdHVyZURpc3BsYXlJZHNGb3JBZ2dyZWdhdGUoZSl7Y29uc3QgdD10aGlzLl9jbHVzdGVycy5nZXQoZSk7cmV0dXJuIHQ/dGhpcy5fdHJlZS5nZXRSZWdpb25EaXNwbGF5SWRzKHQuZ2VvaGFzaEJvdW5kc0luZm8pOltdfWdldERpc3BsYXlJZEZvclJlZmVyZW5jZUlkKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2NsdXN0ZXJzLnZhbHVlcygpKWlmKHQ/LnJlZmVyZW5jZUlkPT09ZSlyZXR1cm4gdC5kaXNwbGF5SWQ7cmV0dXJuIG51bGx9Z2V0QWdncmVnYXRlVmFsdWVSYW5nZXMoKXtyZXR1cm4gdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXN9Zm9yRWFjaChlKXt0aGlzLl9jbHVzdGVycy5mb3JFYWNoKCh0PT57aWYoIXQpcmV0dXJuO2NvbnN0IHM9dC50b0pTT04oKSxyPU0uZnJvbUZlYXR1cmVzKFtzXSx7b2JqZWN0SWRGaWVsZDp0aGlzLm9iamVjdElkRmllbGQsZ2xvYmFsSWRGaWVsZDpudWxsLGdlb21ldHJ5VHlwZTp0aGlzLmdlb21ldHJ5SW5mby5nZW9tZXRyeVR5cGUsZmllbGRzOnRoaXMuZmllbGRzfSkuZ2V0Q3Vyc29yKCk7ci5uZXh0KCksZShyKX0pKX1mb3JFYWNoSW5Cb3VuZHMoZSx0KXt9Zm9yRWFjaEJvdW5kcyhlLHQpe2NvbnN0e2hhc006cyxoYXNaOnJ9PXRoaXMuZ2VvbWV0cnlJbmZvO2Zvcihjb25zdCBvIG9mIGUpe2NvbnN0IGU9dSh3LG8ucmVhZEdlb21ldHJ5KCkscixzKTtudWxsIT1lJiZ0KGUpfX1zaXplKCl7bGV0IGU9MDtyZXR1cm4gdGhpcy5mb3JFYWNoKCh0PT5lKyspKSxlfV9yZWJ1aWxkVHJlZSgpe3RoaXMuX2JpdHNldHMuY29tcHV0ZWQuY2xlYXIoKSx0aGlzLl9iaXRzZXRzLmluc2VydGVkLmNsZWFyKCksdGhpcy5fdHJlZSYmdGhpcy5fdHJlZS5jbGVhcigpfV9yZW1vdmUoZSl7Y29uc3QgdD1lLmdldERpc3BsYXlJZCgpLHM9ZS5nZXRYSHlkcmF0ZWQoKSxyPWUuZ2V0WUh5ZHJhdGVkKCksbz10aGlzLl9nZW9oYXNoQnVmWzIqdF0saT10aGlzLl9nZW9oYXNoQnVmWzIqdCsxXTt0aGlzLl9iaXRzZXRzLmluc2VydGVkLmhhcyh0KSYmKHRoaXMuX2JpdHNldHMuaW5zZXJ0ZWQudW5zZXQodCksdGhpcy5fdHJlZS5yZW1vdmVDdXJzb3IoZSxzLHIsbyxpLHRoaXMuX2dlb2hhc2hMZXZlbCkpfV91cGRhdGUoZSx0KXtjb25zdCBzPWUuZ2V0RGlzcGxheUlkKCkscj10aGlzLl9iaXRzZXRzLmluc2VydGVkLG89dC5pc1Zpc2libGUocyk7aWYobz09PXIuaGFzKHMpKXJldHVybjtpZighbylyZXR1cm4gdm9pZCB0aGlzLl9yZW1vdmUoZSk7Y29uc3QgaT1lLmdldFhIeWRyYXRlZCgpLGE9ZS5nZXRZSHlkcmF0ZWQoKTtpZighdGhpcy5fc2V0R2VvaGFzaChzLGksYSkpcmV0dXJuO2NvbnN0IGg9dGhpcy5fZ2VvaGFzaEJ1ZlsyKnNdLG49dGhpcy5fZ2VvaGFzaEJ1ZlsyKnMrMV07dGhpcy5fdHJlZS5pbnNlcnRDdXJzb3IoZSxzLGksYSxoLG4sdGhpcy5fZ2VvaGFzaExldmVsKSxyLnNldChzKX1fc2V0R2VvaGFzaChlLHQscyl7aWYodGhpcy5fYml0c2V0cy5nZW9oYXNoLmhhcyhlKSlyZXR1cm4hMDtjb25zdCByPXRoaXMuX2dlb2hhc2hCdWY7aWYodGhpcy5fc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yKXtjb25zdCBvPVQodC9uLnJhZGl1cyksYT1vLTM2MCpNYXRoLmZsb29yKChvKzE4MCkvMzYwKSxoPVQoTWF0aC5QSS8yLTIqTWF0aC5hdGFuKE1hdGguZXhwKC1zL24ucmFkaXVzKSkpO2kocixlLGgsYSxGKX1lbHNle2NvbnN0IG89eSh7eDp0LHk6c30sdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSx4LldHUzg0KTtpZighbylyZXR1cm4hMTtpKHIsZSxvLnksby54LEYpfXJldHVybiB0aGlzLl9iaXRzZXRzLmdlb2hhc2guc2V0KGUpLCEwfV9nZXRDbHVzdGVyc0ZvclRpbGUoZSxzLHIsbyxpLGE9ITApe2NvbnN0IGg9dGhpcy5fc2NoZW1hLnBhcmFtcy5jbHVzdGVyUGl4ZWxCdWZmZXIsbj0yKnIsbD1NYXRoLmNlaWwoMioqcy5rZXkubGV2ZWwqSS9uKSsxLHU9TWF0aC5jZWlsKGgvbikrMCxkPU1hdGguY2VpbChJL24pLHtyb3c6Zixjb2w6bX09cy5rZXksXz1tKkkseT1mKkksYj1NYXRoLmZsb29yKF8vbiktdSx2PU1hdGguZmxvb3IoeS9uKS11LFI9YitkKzIqdSxNPXYrZCsyKnUseD1zLnRpbGVJbmZvVmlldy5nZXRMT0RJbmZvQXQocy5rZXkubGV2ZWwpO2ZvcihsZXQgST1iO0k8PVI7SSsrKWZvcihsZXQgcj12O3I8PU07cisrKXtsZXQgaD1JO3gud3JhcCYmKGg9STwwP0krbDpJJWwpO2NvbnN0IG49eC53cmFwJiZJPDAsdT14LndyYXAmJkklbCE9PUksZD10aGlzLl9sb29rdXBDbHVzdGVyKG8seCxzLmtleS5sZXZlbCxoLHIscyk7aWYobnVsbCE9ZCl7Y29uc3Qgcz10KGksKGU9Pm4/ZS5sZWZ0OnU/ZS5yaWdodDplLnRpbGUpKTtpZihhJiZudWxsPT1zKWNvbnRpbnVlO2lmKCFkLmNvdW50KWNvbnRpbnVlO2lmKG51bGwhPXMmJmEpe2NvbnN0IHQ9ZC5nZW9tZXRyeS5jbG9uZSgpO2xldCByPWQuYXR0cmlidXRlczt0LmNvb3Jkc1swXT1nKHMsdC5jb29yZHNbMF0pLHQuY29vcmRzWzFdPWMocyx0LmNvb3Jkc1sxXSksMT09PWQuY291bnQmJm51bGwhPWQucmVmZXJlbmNlSWQmJihyPXsuLi5kLmF0dHJpYnV0ZXMscmVmZXJlbmNlSWQ6ZC5yZWZlcmVuY2VJZH0pO2NvbnN0IG89bmV3IHAodCxyKTtvLmRpc3BsYXlJZD1kLmRpc3BsYXlJZCxlLnB1c2gobyl9fX19X2dldEdlb2hhc2hMZXZlbChlKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5jZWlsKGUvMisyKSxGKX1fc2V0R2VvaGFzaExldmVsKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0R2VvaGFzaExldmVsKGUpLHM9KE1hdGguZmxvb3IodC9CKSsxKSpCLTE7aWYodGhpcy5fZ2VvaGFzaExldmVsIT09cylyZXR1cm4gdGhpcy5fZ2VvaGFzaExldmVsPXMsdGhpcy5fcmVidWlsZFRyZWUoKSx2b2lkIHRoaXMuX2JpdHNldHMuZ2VvaGFzaC5jbGVhcigpfV9nZXRUcmFuc2Zvcm1zKGUsdCl7Y29uc3Qgcz17b3JpZ2luUG9zaXRpb246XCJ1cHBlckxlZnRcIixzY2FsZTpbZS5yZXNvbHV0aW9uLGUucmVzb2x1dGlvbl0sdHJhbnNsYXRlOltlLmJvdW5kc1swXSxlLmJvdW5kc1szXV19LHI9bCh0KTtpZighcilyZXR1cm57dGlsZTpzLGxlZnQ6bnVsbCxyaWdodDpudWxsfTtjb25zdFtvLGldPXIudmFsaWQ7cmV0dXJue3RpbGU6cyxsZWZ0OnsuLi5zLHRyYW5zbGF0ZTpbaSxlLmJvdW5kc1szXV19LHJpZ2h0OnsuLi5zLHRyYW5zbGF0ZTpbby1pK2UuYm91bmRzWzBdLGUuYm91bmRzWzNdXX19fV9nZXRDbHVzdGVySWQoZSx0LHMpe3JldHVybigxNSZlKTw8Mjh8KDE2MzgzJnQpPDwxNHwxNjM4MyZzfV9tYXJrRm9yRGVsZXRpb24oZSx0LHMpe2NvbnN0IHI9dGhpcy5fZ2V0Q2x1c3RlcklkKGUsdCxzKTt0aGlzLl9jbHVzdGVycy5kZWxldGUocil9X2dldENsdXN0ZXJCb3VuZHMoZSx0LHMpe2NvbnN0IHI9dGhpcy5fc2NoZW1hLnBhcmFtcy5jbHVzdGVyUmFkaXVzLG89MipyO2xldCBpPXMlMj90Km86dCpvLXI7Y29uc3QgYT1zKm87bGV0IGg9aStvO2NvbnN0IG49YS1vLGw9MioqZS5sZXZlbCpJO2Uud3JhcCYmaTwwJiYoaT0wKSxlLndyYXAmJmg+bCYmKGg9bCk7Y29uc3QgdT1pL0ksZz1hL0ksYz1oL0ksZD1uL0k7cmV0dXJuW2UuZ2V0WEZvckNvbHVtbih1KSxlLmdldFlGb3JSb3coZyksZS5nZXRYRm9yQ29sdW1uKGMpLGUuZ2V0WUZvclJvdyhkKV19X2dldEdlb2hhc2goZSx0LHMpe2NvbnN0IHI9e2dlb2hhc2hYOjAsZ2VvaGFzaFk6MH07cmV0dXJuIGEocix0LGUscykscn1fZ2V0R2VvaGFzaEJvdW5kcyhlLHQpe2NvbnN0IHM9dGhpcy5fZ2V0R2VvaGFzaExldmVsKGUua2V5LmxldmVsKTtpZih0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLmlzV2ViTWVyY2F0b3Ipe2NvbnN0W2UscixvLGldPXQsaD17eDplLHk6cn0sbD17eDpvLHk6aX07bGV0IHU9MCxnPTAsYz0wLGQ9MDt7Y29uc3QgZT1UKGgueC9uLnJhZGl1cyk7dT1lLTM2MCpNYXRoLmZsb29yKChlKzE4MCkvMzYwKSxnPVQoTWF0aC5QSS8yLTIqTWF0aC5hdGFuKE1hdGguZXhwKC1oLnkvbi5yYWRpdXMpKSl9e2NvbnN0IGU9VChsLngvbi5yYWRpdXMpO2M9ZS0zNjAqTWF0aC5mbG9vcigoZSsxODApLzM2MCksZD1UKE1hdGguUEkvMi0yKk1hdGguYXRhbihNYXRoLmV4cCgtbC55L24ucmFkaXVzKSkpfWNvbnN0IGY9e2dlb2hhc2hYOjAsZ2VvaGFzaFk6MH0scD17Z2VvaGFzaFg6MCxnZW9oYXNoWTowfTthKGYsZyx1LHMpLGEocCxkLGMscyk7cmV0dXJue2JvdW5kczpbZSxyLG8saV0sZ2VvaGFzaEJvdW5kczp7eExMOmYuZ2VvaGFzaFgseUxMOmYuZ2VvaGFzaFkseFRSOnAuZ2VvaGFzaFgseVRSOnAuZ2VvaGFzaFl9LGxldmVsOnN9fWNvbnN0IHI9ai5mcm9tRXh0ZW50KEMuZnJvbUJvdW5kcyh0LHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UpKSxvPXkocix0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLHguV0dTODQse2RlbnNpZmljYXRpb25TdGVwOmUucmVzb2x1dGlvbipMfSk7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3QgaT1kKG5ldyBtLG8sITEsITEpLGg9aS5jb29yZHMuZmlsdGVyKCgoZSx0KT0+ISh0JTIpKSksbD1pLmNvb3Jkcy5maWx0ZXIoKChlLHQpPT50JTIpKSx1PU1hdGgubWluKC4uLmgpLGc9TWF0aC5taW4oLi4ubCksYz1NYXRoLm1heCguLi5oKSxmPU1hdGgubWF4KC4uLmwpLHA9dGhpcy5fZ2V0R2VvaGFzaCh1LGcscyksXz10aGlzLl9nZXRHZW9oYXNoKGMsZixzKTtyZXR1cm57Ym91bmRzOnQsZ2VvaGFzaEJvdW5kczp7eExMOnAuZ2VvaGFzaFgseUxMOnAuZ2VvaGFzaFkseFRSOl8uZ2VvaGFzaFgseVRSOl8uZ2VvaGFzaFl9LGxldmVsOnN9fV9sb29rdXBDbHVzdGVyKGUsdCxzLHIsbyxpKXtjb25zdCBhPXRoaXMuX2dldENsdXN0ZXJJZChzLHIsbyksaD10aGlzLl9jbHVzdGVycy5nZXQoYSksbj10aGlzLl9nZXRDbHVzdGVyQm91bmRzKHQscixvKSxsPXRoaXMuX2dldEdlb2hhc2hCb3VuZHMoaSxuKTtpZihudWxsPT1sKXJldHVybiBudWxsO2NvbnN0IHU9dGhpcy5fdHJlZS5nZXRSZWdpb25TdGF0aXN0aWNzKGwpLHtjb3VudDpnLHhUb3RhbDpjLHlUb3RhbDpkLHJlZmVyZW5jZUlkOmZ9PXUscD1nP2MvZzowLG09Zz9kL2c6MDtpZigwPT09ZylyZXR1cm4gdGhpcy5fY2x1c3RlcnMuc2V0KGEsbnVsbCksbnVsbDtjb25zdCBfPXtjbHVzdGVyX2NvdW50OmcsLi4udS5hdHRyaWJ1dGVzfSx5PW51bGwhPWg/aC51cGRhdGUocCxtLHMsXyxsLGYpOlMuY3JlYXRlKGUsYSxwLG0scyxfLGwsZik7aWYoMD09PWcpe2NvbnN0W2UsdCxzLHJdPW47eS5nZW9tZXRyeS5jb29yZHNbMF09KGUrcykvMix5Lmdlb21ldHJ5LmNvb3Jkc1sxXT0odCtyKS8yfXJldHVybiB0aGlzLl9jbHVzdGVycy5zZXQoYSx5KSx0aGlzLl91cGRhdGVBZ2dyZWdhdGVWYWx1ZVJhbmdlRm9yQ2x1c3Rlcih5LHkudGlsZUxldmVsKSx5fV91cGRhdGVBZ2dyZWdhdGVWYWx1ZVJhbmdlRm9yQ2x1c3RlcihlLHQpe2NvbnN0IHM9dGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXNbdF18fHttaW5WYWx1ZToxLzAsbWF4VmFsdWU6MH0scj1zLm1pblZhbHVlLG89cy5tYXhWYWx1ZTtzLm1pblZhbHVlPU1hdGgubWluKHIsZS5jb3VudCkscy5tYXhWYWx1ZT1NYXRoLm1heChvLGUuY291bnQpLHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzW3RdPXMscj09PXMubWluVmFsdWUmJm89PT1zLm1heFZhbHVlfHwodGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXNDaGFuZ2VkPSEwKX1fbWFya1RpbGVDbHVzdGVyc0ZvckRlbGV0aW9uKGUsdCl7Y29uc3Qgcz0yKnQscj1NYXRoLmNlaWwoSS9zKSx7cm93Om8sY29sOml9PWUua2V5LGE9aSpJLGg9bypJLG49TWF0aC5mbG9vcihhL3MpLGw9TWF0aC5mbG9vcihoL3MpO2ZvcihsZXQgdT1uO3U8bityO3UrKylmb3IobGV0IHQ9bDt0PGwrcjt0KyspdGhpcy5fbWFya0ZvckRlbGV0aW9uKGUua2V5LmxldmVsLHUsdCl9fWV4cG9ydHtTIGFzIENsdXN0ZXJJbmZvLFYgYXMgQ2x1c3RlclN0b3JlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7RElTUExBWV9JRF9URVhFTF9NQVNLIGFzIHQsY3JlYXRlRGlzcGxheUlkIGFzIGV9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL0Rpc3BsYXlJZC5qc1wiO2ltcG9ydHtEaXNwbGF5SWRHZW5lcmF0b3IgYXMgc31mcm9tXCIuL0Rpc3BsYXlJZEdlbmVyYXRvci5qc1wiO2ltcG9ydHtTdGF0aWNCaXRTZXQgYXMgaX1mcm9tXCIuL1N0YXRpY0JpdFNldC5qc1wiO2Z1bmN0aW9uIG4odCxlLHMpe2lmKCEodC5sZW5ndGg+ZSkpZm9yKDt0Lmxlbmd0aDw9ZTspdC5wdXNoKHMpfWNsYXNzIHJ7Y29uc3RydWN0b3IoKXt0aGlzLl9udW1lcmljcz1bXSx0aGlzLl9zdHJpbmdzPVtdLHRoaXMuX2lkR2VuZXJhdG9yPW5ldyBzLHRoaXMuX2FsbG9jYXRlZFNpemU9MjU2LHRoaXMuX2JpdHNldHM9W10sdGhpcy5faW5zdGFuY2VJZHM9W10sdGhpcy5fYm91bmRzPVtdfWNyZWF0ZUJpdHNldCgpe2NvbnN0IGU9dGhpcy5fYml0c2V0cy5sZW5ndGg7cmV0dXJuIHRoaXMuX2JpdHNldHMucHVzaChpLmNyZWF0ZSh0aGlzLl9hbGxvY2F0ZWRTaXplLHQpKSxlKzF9Z2V0Qml0c2V0KHQpe3JldHVybiB0aGlzLl9iaXRzZXRzW3QtMV19X2V4cGFuZCgpe3RoaXMuX2FsbG9jYXRlZFNpemU8PD0xO2Zvcihjb25zdCB0IG9mIHRoaXMuX2JpdHNldHMpdC5yZXNpemUodGhpcy5fYWxsb2NhdGVkU2l6ZSl9X2Vuc3VyZU51bWVyaWModCxlKXt0aGlzLl9udW1lcmljc1t0XXx8KHRoaXMuX251bWVyaWNzW3RdPVtdKTtuKHRoaXMuX251bWVyaWNzW3RdLGUsMCl9X2Vuc3VyZUluc3RhbmNlSWQodCl7bih0aGlzLl9pbnN0YW5jZUlkcyx0LDApfV9lbnN1cmVTdHJpbmcodCxlKXt0aGlzLl9zdHJpbmdzW3RdfHwodGhpcy5fc3RyaW5nc1t0XT1bXSk7bih0aGlzLl9zdHJpbmdzW3RdLGUsbnVsbCl9Y3JlYXRlRGlzcGxheUlkKHQ9ITEpe2NvbnN0IHM9dGhpcy5faWRHZW5lcmF0b3IuY3JlYXRlSWQoKTtyZXR1cm4gcz50aGlzLl9hbGxvY2F0ZWRTaXplJiZ0aGlzLl9leHBhbmQoKSxlKHMsdCl9cmVsZWFzZURpc3BsYXlJZChlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9iaXRzZXRzKXQudW5zZXQoZSk7cmV0dXJuIHRoaXMuX2lkR2VuZXJhdG9yLnJlbGVhc2VJZChlJnQpfWdldENvbXB1dGVkTnVtZXJpYyhlLHMpe3JldHVybiB0aGlzLmdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoZSZ0LDApfXNldENvbXB1dGVkTnVtZXJpYyhlLHMsaSl7cmV0dXJuIHRoaXMuc2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChlJnQsaSwwKX1nZXRDb21wdXRlZFN0cmluZyhlLHMpe3JldHVybiB0aGlzLmdldENvbXB1dGVkU3RyaW5nQXRJbmRleChlJnQsMCl9c2V0Q29tcHV0ZWRTdHJpbmcoZSxzLGkpe3JldHVybiB0aGlzLnNldENvbXB1dGVkU3RyaW5nQXRJbmRleChlJnQsMCxpKX1nZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KGUscyl7Y29uc3QgaT1lJnQ7cmV0dXJuIHRoaXMuX2Vuc3VyZU51bWVyaWMocyxpKSx0aGlzLl9udW1lcmljc1tzXVtpXX1zZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KGUscyxpKXtjb25zdCBuPWUmdDt0aGlzLl9lbnN1cmVOdW1lcmljKHMsbiksdGhpcy5fbnVtZXJpY3Nbc11bbl09aX1nZXRJbnN0YW5jZUlkKGUpe2NvbnN0IHM9ZSZ0O3JldHVybiB0aGlzLl9lbnN1cmVJbnN0YW5jZUlkKHMpLHRoaXMuX2luc3RhbmNlSWRzW3NdfXNldEluc3RhbmNlSWQoZSxzKXtjb25zdCBpPWUmdDt0aGlzLl9lbnN1cmVJbnN0YW5jZUlkKGkpLHRoaXMuX2luc3RhbmNlSWRzW2ldPXN9Z2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KGUscyl7Y29uc3QgaT1lJnQ7cmV0dXJuIHRoaXMuX2Vuc3VyZVN0cmluZyhzLGkpLHRoaXMuX3N0cmluZ3Nbc11baV19c2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KGUscyxpKXtjb25zdCBuPWUmdDt0aGlzLl9lbnN1cmVTdHJpbmcocyxuKSx0aGlzLl9zdHJpbmdzW3NdW25dPWl9Z2V0WE1pbihlKXtyZXR1cm4gdGhpcy5fYm91bmRzWzQqKGUmdCldfWdldFlNaW4oZSl7cmV0dXJuIHRoaXMuX2JvdW5kc1s0KihlJnQpKzFdfWdldFhNYXgoZSl7cmV0dXJuIHRoaXMuX2JvdW5kc1s0KihlJnQpKzJdfWdldFlNYXgoZSl7cmV0dXJuIHRoaXMuX2JvdW5kc1s0KihlJnQpKzNdfXNldEJvdW5kcyhlLHMpe2NvbnN0IGk9cy5yZWFkSHlkcmF0ZWRHZW9tZXRyeSgpO2lmKCFpfHwhaS5jb29yZHMubGVuZ3RoKXJldHVybiExO2xldCByPTEvMCx1PTEvMCxvPS0xLzAsaD0tMS8wO2kuZm9yRWFjaFZlcnRleCgoKHQsZSk9PntyPU1hdGgubWluKHIsdCksdT1NYXRoLm1pbih1LGUpLG89TWF0aC5tYXgobyx0KSxoPU1hdGgubWF4KGgsZSl9KSk7Y29uc3QgZD1lJnQ7cmV0dXJuIG4odGhpcy5fYm91bmRzLDQqZCs0LDApLHRoaXMuX2JvdW5kc1s0KmRdPXIsdGhpcy5fYm91bmRzWzQqZCsxXT11LHRoaXMuX2JvdW5kc1s0KmQrMl09byx0aGlzLl9ib3VuZHNbNCpkKzNdPWgsITB9fWV4cG9ydHtyIGFzIENvbXB1dGVkQXR0cmlidXRlU3RvcmFnZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZURpc3BsYXlJZCBhcyBlfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9EaXNwbGF5SWQuanNcIjtjbGFzcyBye2NvbnN0cnVjdG9yKCl7dGhpcy5fZnJlZUlkcz1bXSx0aGlzLl9pZENvdW50ZXI9MX1jcmVhdGVJZChyPSExKXtyZXR1cm4gZSh0aGlzLl9nZXRGcmVlSWQoKSxyKX1yZWxlYXNlSWQoZSl7dGhpcy5fZnJlZUlkcy5wdXNoKGUpfV9nZXRGcmVlSWQoKXtyZXR1cm4gdGhpcy5fZnJlZUlkcy5sZW5ndGg/dGhpcy5fZnJlZUlkcy5wb3AoKTp0aGlzLl9pZENvdW50ZXIrK319ZXhwb3J0e3IgYXMgRGlzcGxheUlkR2VuZXJhdG9yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0e0FyY2FkZURhdGUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9hcmNhZGUvQXJjYWRlRGF0ZS5qc1wiO2ltcG9ydHtEYXRlVGltZVJlZmVyZW5jZUZpZWxkSW5kZXggYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9hcmNhZGUvYXJjYWRlVGltZVV0aWxzLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHt1bndyYXBPclRocm93IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtnZXRDZW50cm9pZE9wdGltaXplZEdlb21ldHJ5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2NlbnRyb2lkLmpzXCI7aW1wb3J0e2NvbnZlcnRUb0dlb21ldHJ5IGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkR2VvbWV0cnkuanNcIjtpbXBvcnR7U3RhdGljQml0U2V0IGFzIGF9ZnJvbVwiLi9TdGF0aWNCaXRTZXQuanNcIjtpbXBvcnR7ZnJvbUpTT04gYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2pzb25VdGlscy5qc1wiO2xldCBkPTA7Y29uc3QgaD1oYXMoXCJmZWF0dXJlbGF5ZXItc2ltcGxpZnktdGhyZXNob2xkc1wiKT8/Wy41LC41LC41LC41XSx1PWhbMF0sbD1oWzFdLGM9aFsyXSxtPWhbM10sZj1oYXMoXCJmZWF0dXJlbGF5ZXItc2ltcGxpZnktcGF5bG9hZC1zaXplLWZhY3RvcnNcIik/P1sxLDIsNF0sZz1mWzBdLHk9ZlsxXSxfPWZbMl0scD1oYXMoXCJmZWF0dXJlbGF5ZXItc2ltcGxpZnktbW9iaWxlLWZhY3RvclwiKT8/Mix4PWhhcyhcImVzcmktbW9iaWxlXCIpO2NsYXNzIEl7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9XCJGZWF0dXJlU2V0UmVhZGVyXCIsdGhpcy5hcmNhZGVEZWNsYXJlZENsYXNzPVwiZXNyaS5hcmNhZGUuRmVhdHVyZVwiLHRoaXMuc2Vlbj0hMSx0aGlzLmluc3RhbmNlPTAsdGhpcy5fdHg9MCx0aGlzLl90eT0wLHRoaXMuX3N4PTEsdGhpcy5fc3k9MSx0aGlzLl9kZWxldGVkPW51bGwsdGhpcy5fam9pbmVkPVtdLHRoaXMuX29iamVjdElkVG9JbmRleD1udWxsLHRoaXMuX2xldmVsPTAsdGhpcy5fZGF0ZXRpbWVNZXRhZGF0YT1udWxsLHRoaXMuY29udGV4dFRpbWVSZWZlcmVuY2U9bnVsbCx0aGlzLmluc3RhbmNlPWUsdGhpcy5fbGF5ZXJTY2hlbWE9dH1zdGF0aWMgY3JlYXRlSW5zdGFuY2UoKXtyZXR1cm4gZCsrLGQ9ZD42NTUzNT8wOmQsZH1nZXQgaXNFbXB0eSgpe3JldHVybiBudWxsIT10aGlzLl9kZWxldGVkJiZ0aGlzLl9kZWxldGVkLmNvdW50U2V0KCk9PT10aGlzLmdldFNpemUoKX1zZXQgbGV2ZWwoZSl7dGhpcy5fbGV2ZWw9ZX1nZXRBcmVhU2ltcGxpZmljYXRpb25UaHJlc2hvbGQoZSx0KXtsZXQgcj0xO2NvbnN0IHM9eD9wOjE7dD40ZTY/cj1fKnM6dD4xZTY/cj15KnM6dD41ZTU/cj1nKnM6dD4xZTUmJihyPXMpO2xldCBpPTA7ZT40ZTM/aT1tKnI6ZT4yZTM/aT1jKnI6ZT4xMDA/aT1sOmU+MTUmJihpPXUpO2xldCBuPTg7cmV0dXJuIHRoaXMuX2xldmVsPDQ/bj0xOnRoaXMuX2xldmVsPDU/bj0yOnRoaXMuX2xldmVsPDYmJihuPTQpLGkqbn1jcmVhdGVRdWFudGl6ZWRFeHRydWRlZFF1YWQoZSx0KXtyZXR1cm4gbmV3IG4oWzVdLFtlLTEsdCwxLC0xLDEsMSwtMSwxLC0xLC0xXSl9cGFyc2VUaW1lc3RhbXBPZmZzZXQoZSl7cmV0dXJuIGV9c2V0QXJjYWRlU3BhdGlhbFJlZmVyZW5jZShlKXt0aGlzLl9hcmNhZGVTcGF0aWFsUmVmZXJlbmNlPWV9YXR0YWNoU3RvcmFnZShlKXt0aGlzLl9zdG9yYWdlPWV9Z2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCl7dGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgdHJhbnNmb3JtIGZvciBmZWF0dXJlU2V0XCIpfWdldFN0b3JhZ2UoKXtyZXR1cm4gdGhpcy5fc3RvcmFnZX1nZXRDb21wdXRlZE51bWVyaWMoZSl7cmV0dXJuIHRoaXMuZ2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCgwKX1zZXRDb21wdXRlZE51bWVyaWMoZSx0KXtyZXR1cm4gdGhpcy5zZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KHQsMCl9Z2V0Q29tcHV0ZWRTdHJpbmcoZSl7cmV0dXJuIHRoaXMuZ2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KDApfXNldENvbXB1dGVkU3RyaW5nKGUsdCl7cmV0dXJuIHRoaXMuc2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KDAsdCl9Z2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChlKXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5nZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KHRoaXMuZ2V0RGlzcGxheUlkKCksZSl9c2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChlLHQpe3RoaXMuX3N0b3JhZ2Uuc2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCh0aGlzLmdldERpc3BsYXlJZCgpLGUsdCl9Z2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KGUpe3JldHVybiB0aGlzLl9zdG9yYWdlLmdldENvbXB1dGVkU3RyaW5nQXRJbmRleCh0aGlzLmdldERpc3BsYXlJZCgpLGUpfXNldENvbXB1dGVkU3RyaW5nQXRJbmRleChlLHQpe3JldHVybiB0aGlzLl9zdG9yYWdlLnNldENvbXB1dGVkU3RyaW5nQXRJbmRleCh0aGlzLmdldERpc3BsYXlJZCgpLGUsdCl9dHJhbnNmb3JtKGUsdCxyLHMpe2NvbnN0IGk9dGhpcy5jb3B5KCk7cmV0dXJuIGkuX3R4Kz1lLGkuX3R5Kz10LGkuX3N4Kj1yLGkuX3N5Kj1zLGl9cmVhZEF0dHJpYnV0ZShlLHQ9ITEpe2NvbnN0IHI9dGhpcy5fcmVhZEF0dHJpYnV0ZShlLHQpO2lmKHZvaWQgMCE9PXIpcmV0dXJuIHI7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fam9pbmVkKXtzLnNldEluZGV4KHRoaXMuZ2V0SW5kZXgoKSk7Y29uc3Qgcj1zLl9yZWFkQXR0cmlidXRlKGUsdCk7aWYodm9pZCAwIT09cilyZXR1cm4gcn19cmVhZEF0dHJpYnV0ZXMoKXtjb25zdCBlPXRoaXMuX3JlYWRBdHRyaWJ1dGVzKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fam9pbmVkKXt0LnNldEluZGV4KHRoaXMuZ2V0SW5kZXgoKSk7Y29uc3Qgcj10Ll9yZWFkQXR0cmlidXRlcygpO2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHIpKWVbdF09clt0XX1yZXR1cm4gZX1qb2luQXR0cmlidXRlcyhlKXt0aGlzLl9qb2luZWQucHVzaChlKX1yZWFkQXJjYWRlRmVhdHVyZSgpe3JldHVybiB0aGlzfWhhc0ZpZWxkKGUpe3JldHVybiB0aGlzLmZpZWxkcy5oYXMoZSl9Z2VvbWV0cnkoKXtjb25zdCBlPXRoaXMucmVhZEh5ZHJhdGVkR2VvbWV0cnkoKSx0PWkoZSx0aGlzLmdlb21ldHJ5VHlwZSx0aGlzLmhhc1osdGhpcy5oYXNNKSxyPW8odCk7cmV0dXJuIHImJihyLnNwYXRpYWxSZWZlcmVuY2U9dGhpcy5fYXJjYWRlU3BhdGlhbFJlZmVyZW5jZSkscn1nZXQgZGF0ZVRpbWVSZWZlcmVuY2VGaWVsZEluZGV4KCl7cmV0dXJuIHRoaXMuX2RhdGV0aW1lTWV0YWRhdGF8fCh0aGlzLl9kYXRldGltZU1ldGFkYXRhPXQuY3JlYXRlKHRoaXMuX2xheWVyU2NoZW1hLmZpZWxkcyx0aGlzLl9sYXllclNjaGVtYSkpLHRoaXMuX2RhdGV0aW1lTWV0YWRhdGF9YXV0b2Nhc3RBcmNhZGVEYXRlKHQscil7cmV0dXJuIHImJnIgaW5zdGFuY2VvZiBEYXRlP3RoaXMuaXNVbmtub3duRGF0ZVRpbWVGaWVsZCh0KT9lLnVua25vd25EYXRlSlNUb0FyY2FkZURhdGUocik6ZS5kYXRlSlNBbmRab25lVG9BcmNhZGVEYXRlKHIsdGhpcy5jb250ZXh0VGltZVJlZmVyZW5jZT8udGltZVpvbmU/P1wic3lzdGVtXCIpOnJ9aXNVbmtub3duRGF0ZVRpbWVGaWVsZChlKXtyZXR1cm5cInVua25vd25cIj09PXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VGaWVsZEluZGV4Py5maWVsZFRpbWVab25lKGUpfWZpZWxkU291cmNlVGltZVpvbmUoZSl7cmV0dXJuIHRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VGaWVsZEluZGV4Py5maWVsZFRpbWVab25lKGUpPz9cIlwifWdldCBsYXllclByZWZlcnJlZFRpbWVab25lKCl7cmV0dXJuIHRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VGaWVsZEluZGV4Py5sYXllclByZWZlcnJlZFRpbWVab25lPz9cIlwifWZpZWxkKGUpe2lmKHRoaXMuaGFzRmllbGQoZSkpcmV0dXJuIHRoaXMuYXV0b2Nhc3RBcmNhZGVEYXRlKGUsdGhpcy5yZWFkQXR0cmlidXRlKGUsITApKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9qb2luZWQpaWYodC5zZXRJbmRleCh0aGlzLmdldEluZGV4KCkpLHQuaGFzRmllbGQoZSkpe2NvbnN0IHI9dC5fcmVhZEF0dHJpYnV0ZShlLCEwKTtyZXR1cm4gdGhpcy5hdXRvY2FzdEFyY2FkZURhdGUoZSxyKX10aHJvdyBuZXcgRXJyb3IoYEZpZWxkICR7ZX0gZG9lcyBub3QgZXhpc3RgKX1zZXRGaWVsZChlLHQpe3Rocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byB1cGRhdGUgZmVhdHVyZSBhdHRyaWJ1dGUgdmFsdWVzLCBmZWF0dXJlIGlzIHJlYWRvbmx5XCIpfWtleXMoKXtyZXR1cm4gdGhpcy5maWVsZHMuZmllbGRzLm1hcCgoZT0+ZS5uYW1lKSl9Y2FzdFRvVGV4dChlPSExKXtpZighZSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5yZWFkTGVnYWN5RmVhdHVyZSgpKTtjb25zdCB0PXRoaXMucmVhZExlZ2FjeUZlYXR1cmUoKTtpZighdClyZXR1cm4gSlNPTi5zdHJpbmdpZnkobnVsbCk7Y29uc3Qgcj17Z2VvbWV0cnk6dC5nZW9tZXRyeSxhdHRyaWJ1dGVzOnsuLi50LmF0dHJpYnV0ZXM/P3t9fX07Zm9yKGNvbnN0IHMgaW4gci5hdHRyaWJ1dGVzKXtjb25zdCBlPXIuYXR0cmlidXRlc1tzXTtlIGluc3RhbmNlb2YgRGF0ZSYmKHIuYXR0cmlidXRlc1tzXT1lLmdldFRpbWUoKSl9cmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpfWdkYlZlcnNpb24oKXtyZXR1cm4gbnVsbH1mdWxsU2NoZW1hKCl7cmV0dXJuIHRoaXMuX2xheWVyU2NoZW1hfWNhc3RBc0pzb24oZT1udWxsKXtyZXR1cm57YXR0cmlidXRlczp0aGlzLl9yZWFkQXR0cmlidXRlcygpLGdlb21ldHJ5OiEwPT09ZT8ua2VlcEdlb21ldHJ5VHlwZT90aGlzLmdlb21ldHJ5KCk6dGhpcy5nZW9tZXRyeSgpPy50b0pTT04oKT8/bnVsbH19Y2FzdEFzSnNvbkFzeW5jKGU9bnVsbCx0PW51bGwpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jYXN0QXNKc29uKHQpKX1yZW1vdmVJZHMoZSl7aWYobnVsbD09dGhpcy5fb2JqZWN0SWRUb0luZGV4KXtjb25zdCBlPW5ldyBNYXAsdD10aGlzLmdldEN1cnNvcigpO2Zvcig7dC5uZXh0KCk7KXtjb25zdCBzPXIodC5nZXRPYmplY3RJZCgpKTtlLnNldChzLHQuZ2V0SW5kZXgoKSl9dGhpcy5fb2JqZWN0SWRUb0luZGV4PWV9Y29uc3QgdD10aGlzLl9vYmplY3RJZFRvSW5kZXg7Zm9yKGNvbnN0IHIgb2YgZSl0LmhhcyhyKSYmdGhpcy5yZW1vdmVBdEluZGV4KHQuZ2V0KHIpKX1yZW1vdmVBdEluZGV4KGUpe251bGw9PXRoaXMuX2RlbGV0ZWQmJih0aGlzLl9kZWxldGVkPWEuY3JlYXRlKHRoaXMuZ2V0U2l6ZSgpKSksdGhpcy5fZGVsZXRlZC5zZXQoZSl9cmVhZEdlb21ldHJ5Rm9yRGlzcGxheSgpe3JldHVybiB0aGlzLnJlYWRVbnF1YW50aXplZEdlb21ldHJ5KCEwKX1yZWFkTGVnYWN5R2VvbWV0cnlGb3JEaXNwbGF5KCl7cmV0dXJuIHRoaXMucmVhZExlZ2FjeUdlb21ldHJ5KCEwKX0qZmVhdHVyZXMoKXtjb25zdCBlPXRoaXMuZ2V0Q3Vyc29yKCk7Zm9yKDtlLm5leHQoKTspeWllbGQgZS5yZWFkT3B0aW1pemVkRmVhdHVyZSgpfV9nZXRFeGlzdHMoKXtyZXR1cm4gbnVsbD09dGhpcy5fZGVsZXRlZHx8IXRoaXMuX2RlbGV0ZWQuaGFzKHRoaXMuZ2V0SW5kZXgoKSl9X2NvbXB1dGVDZW50cm9pZCgpe2lmKFwiZXNyaUdlb21ldHJ5UG9seWdvblwiIT09dGhpcy5nZW9tZXRyeVR5cGUpcmV0dXJuIG51bGw7Y29uc3QgZT10aGlzLnJlYWRVbnF1YW50aXplZEdlb21ldHJ5KCk7aWYoIWV8fGUuaGFzSW5kZXRlcm1pbmF0ZVJpbmdPcmRlcilyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuZ2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCk/P251bGw7cmV0dXJuIHMobmV3IG4sZSx0aGlzLmhhc00sdGhpcy5oYXNaLHQpfWNvcHlJbnRvKGUpe2Uuc2Vlbj10aGlzLnNlZW4sZS5fc3RvcmFnZT10aGlzLl9zdG9yYWdlLGUuX2FyY2FkZVNwYXRpYWxSZWZlcmVuY2U9dGhpcy5fYXJjYWRlU3BhdGlhbFJlZmVyZW5jZSxlLl9qb2luZWQ9dGhpcy5fam9pbmVkLGUuX3R4PXRoaXMuX3R4LGUuX3R5PXRoaXMuX3R5LGUuX3N4PXRoaXMuX3N4LGUuX3N5PXRoaXMuX3N5LGUuX2RlbGV0ZWQ9dGhpcy5fZGVsZXRlZCxlLl9vYmplY3RJZFRvSW5kZXg9dGhpcy5fb2JqZWN0SWRUb0luZGV4fX1leHBvcnR7SSBhcyBGZWF0dXJlU2V0UmVhZGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y29udmVydEZyb21GZWF0dXJlcyBhcyB0LGNvbnZlcnRGcm9tRmVhdHVyZVNldCBhcyBlLGNvbnZlcnRUb0ZlYXR1cmUgYXMgcixjb252ZXJ0VG9HZW9tZXRyeSBhcyBzLGdldFF1YW50aXplZEFyZWEgYXMgaSx1bnF1YW50aXplT3B0aW1pemVkR2VvbWV0cnkgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtoYXNHZW9tZXRyeSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRGZWF0dXJlLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmllbGRzSW5kZXguanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlciBhcyBhfWZyb21cIi4vRmVhdHVyZVNldFJlYWRlci5qc1wiO2Z1bmN0aW9uIGQoe2Nvb3Jkczp0LGxlbmd0aHM6ZX0pe2xldCByPTA7Zm9yKGNvbnN0IHMgb2YgZSl7Zm9yKGxldCBlPTE7ZTxzO2UrKyl0WzIqKHIrZSldKz10WzIqKHIrZSktMl0sdFsyKihyK2UpKzFdKz10WzIqKHIrZSktMV07cis9c319Y2xhc3MgaCBleHRlbmRzIGF7c3RhdGljIGZyb21GZWF0dXJlcyhlLHIpe2NvbnN0e29iamVjdElkRmllbGQ6cyxnZW9tZXRyeVR5cGU6aX09cixuPXQoW10sZSxpLCExLCExLHMpO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKW5bdF0uZGlzcGxheUlkPWVbdF0uZGlzcGxheUlkO3JldHVybiBoLmZyb21PcHRpbWl6ZWRGZWF0dXJlcyhuLHIpfXN0YXRpYyBmcm9tRmVhdHVyZVNldCh0LHIpe2NvbnN0IHM9ZSh0LHIub2JqZWN0SWRGaWVsZCk7cmV0dXJuIGguZnJvbU9wdGltaXplZEZlYXR1cmVTZXQocyxyKX1zdGF0aWMgZnJvbU9wdGltaXplZEZlYXR1cmVTZXQodCxlKXtjb25zdHtmZWF0dXJlczpyfT10LHM9aC5mcm9tT3B0aW1pemVkRmVhdHVyZXMocixlKTtyZXR1cm4gcy5fZXhjZWVkZWRUcmFuc2ZlckxpbWl0PXQuZXhjZWVkZWRUcmFuc2ZlckxpbWl0LHMuX3RyYW5zZm9ybT10LnRyYW5zZm9ybSxzLl9maWVsZHNJbmRleD1uZXcgdShlLmZpZWxkcyksc31zdGF0aWMgZnJvbU9wdGltaXplZEZlYXR1cmVzKHQsZSxyKXtjb25zdCBzPWEuY3JlYXRlSW5zdGFuY2UoKSxpPW5ldyBoKHMsdCxlKTtyZXR1cm4gaS5fZmllbGRzSW5kZXg9bmV3IHUoZS5maWVsZHMpLGkuX3RyYW5zZm9ybT1yLGl9Y29uc3RydWN0b3IodCxlLHIpe3N1cGVyKHQsciksdGhpcy5fZXhjZWVkZWRUcmFuc2ZlckxpbWl0PSExLHRoaXMuX2ZlYXR1cmVJbmRleD0tMSx0aGlzLl9maWVsZHNJbmRleD1udWxsLHRoaXMuX2dlb21ldHJ5VHlwZT1yPy5nZW9tZXRyeVR5cGUsdGhpcy5fZmVhdHVyZXM9ZX1nZXQgZmllbGRzKCl7cmV0dXJuIHRoaXMuX2ZpZWxkc0luZGV4fWdldCBfY3VycmVudCgpe3JldHVybiB0aGlzLl9mZWF0dXJlc1t0aGlzLl9mZWF0dXJlSW5kZXhdfWdldCBnZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnlUeXBlfWdldCBoYXNGZWF0dXJlcygpe3JldHVybiEhdGhpcy5fZmVhdHVyZXMubGVuZ3RofWdldCBoYXNOZXh0KCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVJbmRleCsxPHRoaXMuX2ZlYXR1cmVzLmxlbmd0aH1nZXQgZXhjZWVkZWRUcmFuc2ZlckxpbWl0KCl7cmV0dXJuIHRoaXMuX2V4Y2VlZGVkVHJhbnNmZXJMaW1pdH1nZXQgaGFzWigpe3JldHVybiExfWdldCBoYXNNKCl7cmV0dXJuITF9cmVtb3ZlSWRzKHQpe2NvbnN0IGU9bmV3IFNldCh0KTt0aGlzLl9mZWF0dXJlcz10aGlzLl9mZWF0dXJlcy5maWx0ZXIoKHQ9PiEobnVsbCE9dC5vYmplY3RJZCYmZS5oYXModC5vYmplY3RJZCkpKSl9YXBwZW5kKHQpe2Zvcihjb25zdCBlIG9mIHQpdGhpcy5fZmVhdHVyZXMucHVzaChlKX1nZXRTaXplKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVzLmxlbmd0aH1nZXRDdXJzb3IoKXtyZXR1cm4gdGhpcy5jb3B5KCl9Z2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybX1nZXRBdHRyaWJ1dGVIYXNoKCl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgZSBpbiB0aGlzLl9jdXJyZW50LmF0dHJpYnV0ZXMpdCs9dGhpcy5fY3VycmVudC5hdHRyaWJ1dGVzW2VdO3JldHVybiB0fWdldEluZGV4KCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVJbmRleH1zZXRJbmRleCh0KXt0aGlzLl9mZWF0dXJlSW5kZXg9dH1nZXRPYmplY3RJZCgpe3JldHVybiB0aGlzLl9jdXJyZW50Py5vYmplY3RJZH1nZXREaXNwbGF5SWQoKXtyZXR1cm4gdGhpcy5fY3VycmVudC5kaXNwbGF5SWR9c2V0RGlzcGxheUlkKHQpe3RoaXMuX2N1cnJlbnQuZGlzcGxheUlkPXR9Z2V0R3JvdXBJZCgpe3JldHVybiB0aGlzLl9jdXJyZW50Lmdyb3VwSWR9c2V0R3JvdXBJZCh0KXt0aGlzLl9jdXJyZW50Lmdyb3VwSWQ9dH1jb3B5KCl7Y29uc3QgdD1uZXcgaCh0aGlzLmluc3RhbmNlLHRoaXMuX2ZlYXR1cmVzLHRoaXMuZnVsbFNjaGVtYSgpKTtyZXR1cm4gdGhpcy5jb3B5SW50byh0KSx0fW5leHQoKXtmb3IoOysrdGhpcy5fZmVhdHVyZUluZGV4PHRoaXMuX2ZlYXR1cmVzLmxlbmd0aCYmIXRoaXMuX2dldEV4aXN0cygpOyk7cmV0dXJuIHRoaXMuX2ZlYXR1cmVJbmRleDx0aGlzLl9mZWF0dXJlcy5sZW5ndGh9cmVhZExlZ2FjeUZlYXR1cmUoKXtyZXR1cm4gcih0aGlzLl9jdXJyZW50LHRoaXMuZ2VvbWV0cnlUeXBlLHRoaXMuaGFzWix0aGlzLmhhc00pfXJlYWRPcHRpbWl6ZWRGZWF0dXJlKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnR9cmVhZExlZ2FjeVBvaW50R2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5yZWFkR2VvbWV0cnkoKT97eDp0aGlzLmdldFgoKSx5OnRoaXMuZ2V0WSgpfTpudWxsfXJlYWRMZWdhY3lHZW9tZXRyeSgpe2NvbnN0IHQ9dGhpcy5yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeSgpO3JldHVybiBzKHQsdGhpcy5nZW9tZXRyeVR5cGUsdGhpcy5oYXNaLHRoaXMuaGFzTSl9cmVhZExlZ2FjeUNlbnRyb2lkKCl7Y29uc3QgdD10aGlzLnJlYWRDZW50cm9pZCgpO3JldHVybiBudWxsPT10P251bGw6e3g6dC5jb29yZHNbMF0qdGhpcy5fc3grdGhpcy5fdHgseTp0LmNvb3Jkc1sxXSp0aGlzLl9zeSt0aGlzLl90eX19cmVhZEdlb21ldHJ5QXJlYSgpe3JldHVybiBvKHRoaXMuX2N1cnJlbnQpP2kodGhpcy5fY3VycmVudC5nZW9tZXRyeSwyKTowfXJlYWRVbnF1YW50aXplZEdlb21ldHJ5KCl7Y29uc3QgdD10aGlzLnJlYWRHZW9tZXRyeSgpO2lmKFwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PXRoaXMuZ2VvbWV0cnlUeXBlfHwhdClyZXR1cm4gdDtjb25zdCBlPXQuY2xvbmUoKTtyZXR1cm4gZChlKSxlfXJlYWRIeWRyYXRlZEdlb21ldHJ5KCl7Y29uc3QgdD10aGlzLl9jdXJyZW50Lmdlb21ldHJ5O2lmKG51bGw9PXQpcmV0dXJuIG51bGw7Y29uc3QgZT10LmNsb25lKCk7cmV0dXJuIG51bGwhPXRoaXMuX3RyYW5zZm9ybSYmbihlLGUsdGhpcy5oYXNaLHRoaXMuaGFzTSx0aGlzLl90cmFuc2Zvcm0pLGV9Z2V0WEh5ZHJhdGVkKCl7aWYoIW8odGhpcy5fY3VycmVudCkpcmV0dXJuIDA7Y29uc3QgdD10aGlzLl9jdXJyZW50Lmdlb21ldHJ5LmNvb3Jkc1swXSxlPXRoaXMuZ2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCk7cmV0dXJuIG51bGw9PWU/dDp0KmUuc2NhbGVbMF0rZS50cmFuc2xhdGVbMF19Z2V0WUh5ZHJhdGVkKCl7aWYoIW8odGhpcy5fY3VycmVudCkpcmV0dXJuIDA7Y29uc3QgdD10aGlzLl9jdXJyZW50Lmdlb21ldHJ5LmNvb3Jkc1sxXSxlPXRoaXMuZ2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCk7cmV0dXJuIG51bGw9PWU/dDplLnRyYW5zbGF0ZVsxXS10KmUuc2NhbGVbMV19Z2V0WCgpe3JldHVybiBvKHRoaXMuX2N1cnJlbnQpP3RoaXMuX2N1cnJlbnQuZ2VvbWV0cnkuY29vcmRzWzBdKnRoaXMuX3N4K3RoaXMuX3R4OjB9Z2V0WSgpe3JldHVybiBvKHRoaXMuX2N1cnJlbnQpP3RoaXMuX2N1cnJlbnQuZ2VvbWV0cnkuY29vcmRzWzFdKnRoaXMuX3N5K3RoaXMuX3R5OjB9cmVhZEdlb21ldHJ5KCl7aWYoIW8odGhpcy5fY3VycmVudCkpe2lmKG51bGwhPXRoaXMuX2N1cnJlbnQuY2VudHJvaWQpe2NvbnN0W3QsZV09dGhpcy5fY3VycmVudC5jZW50cm9pZC5jb29yZHM7cmV0dXJuIHRoaXMuY3JlYXRlUXVhbnRpemVkRXh0cnVkZWRRdWFkKHQsZSl9cmV0dXJuIG51bGx9Y29uc3QgdD10aGlzLl9jdXJyZW50Lmdlb21ldHJ5LmNsb25lKCk7aWYodC5pc1BvaW50KXJldHVybiB0LmNvb3Jkc1swXT10LmNvb3Jkc1swXSp0aGlzLl9zeCt0aGlzLl90eCx0LmNvb3Jkc1sxXT10LmNvb3Jkc1sxXSp0aGlzLl9zeSt0aGlzLl90eSx0O2xldCBlPTA7Zm9yKGNvbnN0IHIgb2YgdC5sZW5ndGhzKXQuY29vcmRzWzIqZV09dC5jb29yZHNbMiplXSp0aGlzLl9zeCt0aGlzLl90eCx0LmNvb3Jkc1syKmUrMV09dC5jb29yZHNbMiplKzFdKnRoaXMuX3N5K3RoaXMuX3R5LGUrPXI7cmV0dXJuIHR9cmVhZENlbnRyb2lkKCl7cmV0dXJuIG8odGhpcy5fY3VycmVudCk/dGhpcy5fY29tcHV0ZUNlbnRyb2lkKCk6dGhpcy5fY3VycmVudC5jZW50cm9pZH1fcmVhZEF0dHJpYnV0ZSh0LGUpe2NvbnN0IHI9dGhpcy5fZmllbGRzSW5kZXguZ2V0KHQpO2lmKCFyKXJldHVybjtsZXQgcz10aGlzLl9jdXJyZW50LmF0dHJpYnV0ZXNbci5uYW1lXTtyZXR1cm4gbnVsbD09cz9zOihcImVzcmlGaWVsZFR5cGVUaW1lc3RhbXBPZmZzZXRcIj09PXRoaXMuZmllbGRzLmdldCh0KT8udHlwZSYmKHM9dGhpcy5wYXJzZVRpbWVzdGFtcE9mZnNldChzKSksZSYmdGhpcy5maWVsZHMuaXNEYXRlRmllbGQodCk/bmV3IERhdGUocyk6cyl9Y29weUludG8odCl7c3VwZXIuY29weUludG8odCksdC5fZmVhdHVyZUluZGV4PXRoaXMuX2ZlYXR1cmVJbmRleCx0Ll90cmFuc2Zvcm09dGhpcy5fdHJhbnNmb3JtLHQuX2ZpZWxkc0luZGV4PXRoaXMuX2ZpZWxkc0luZGV4fV9yZWFkQXR0cmlidXRlcygpe3JldHVybiB0aGlzLl9jdXJyZW50LmF0dHJpYnV0ZXN9fWV4cG9ydHtoIGFzIEZlYXR1cmVTZXRSZWFkZXJKU09OfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7YXNzZXJ0SXNTb21lIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcGJmLmpzXCI7aW1wb3J0e2NvbnZlcnRUb0dlb21ldHJ5IGFzIGksdW5xdWFudGl6ZU9wdGltaXplZEdlb21ldHJ5IGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7T3B0aW1pemVkRmVhdHVyZSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRGZWF0dXJlLmpzXCI7aW1wb3J0IGggZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXIgYXMgb31mcm9tXCIuL0ZlYXR1cmVTZXRSZWFkZXIuanNcIjtpbXBvcnR7cGFyc2VIZWFkZXIgYXMgZH1mcm9tXCIuL0ZlYXR1cmVTZXRSZWFkZXJQQkZIZWFkZXIuanNcIjtjb25zdCB1PSEwLGM9MjY4NDM1NDU1LGc9MTI4LGw9MTI4ZTMsXz17c21hbGw6e2RlbHRhOm5ldyBJbnQzMkFycmF5KGcpLGRlY29kZWQ6bmV3IEludDMyQXJyYXkoZyl9LGxhcmdlOntkZWx0YTpuZXcgSW50MzJBcnJheShsKSxkZWNvZGVkOm5ldyBJbnQzMkFycmF5KGwpfX07ZnVuY3Rpb24gZihlKXtyZXR1cm4gZTw9Xy5zbWFsbC5kZWx0YS5sZW5ndGg/Xy5zbWFsbDooZTw9Xy5sYXJnZS5kZWx0YS5sZW5ndGh8fChfLmxhcmdlLmRlbHRhPW5ldyBJbnQzMkFycmF5KE1hdGgucm91bmQoMS4yNSplKSksXy5sYXJnZS5kZWNvZGVkPW5ldyBJbnQzMkFycmF5KE1hdGgucm91bmQoMS4yNSplKSkpLF8ubGFyZ2UpfWZ1bmN0aW9uIHkocil7dHJ5e2NvbnN0IGU9Mix0PW5ldyBzKG5ldyBVaW50OEFycmF5KHIpLG5ldyBEYXRhVmlldyhyKSk7Zm9yKDt0Lm5leHQoKTspe2lmKHQudGFnKCk9PT1lKXJldHVybiBJKHQuZ2V0TWVzc2FnZSgpKTt0LnNraXAoKX19Y2F0Y2goaSl7Y29uc3Qgcj1uZXcgZShcInF1ZXJ5OnBhcnNpbmctcGJmXCIsXCJFcnJvciB3aGlsZSBwYXJzaW5nIEZlYXR1cmVTZXQgUEJGIHBheWxvYWRcIix7ZXJyb3I6aX0pO3QuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3LjJkLmxheWVycy5mZWF0dXJlcy5zdXBwb3J0LkZlYXR1cmVTZXRSZWFkZXJQQkZcIikuZXJyb3Iocil9cmV0dXJuIG51bGx9ZnVuY3Rpb24gSShlKXtjb25zdCB0PTE7Zm9yKDtlLm5leHQoKTspe2lmKGUudGFnKCk9PT10KXJldHVybiBlLmdldE1lc3NhZ2UoKTtlLnNraXAoKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBwKGUpe2NvbnN0IHQ9MSxyPTIscz0zLGk9NCxuPTUsYT02LGg9NyxvPTgsZD05LHU9ZS5nZXRMZW5ndGgoKSxjPWUucG9zKCkrdTtmb3IoO2UucG9zKCk8YyYmZS5uZXh0KCk7KXN3aXRjaChlLnRhZygpKXtjYXNlIHQ6cmV0dXJuIGUuZ2V0U3RyaW5nKCk7Y2FzZSByOnJldHVybiBlLmdldEZsb2F0KCk7Y2FzZSBzOnJldHVybiBlLmdldERvdWJsZSgpO2Nhc2UgaTpyZXR1cm4gZS5nZXRTSW50MzIoKTtjYXNlIG46cmV0dXJuIGUuZ2V0VUludDMyKCk7Y2FzZSBhOnJldHVybiBlLmdldEludDY0KCk7Y2FzZSBoOnJldHVybiBlLmdldFVJbnQ2NCgpO2Nhc2UgbzpyZXR1cm4gZS5nZXRTSW50NjQoKTtjYXNlIGQ6cmV0dXJuIGUuZ2V0Qm9vbCgpO2RlZmF1bHQ6cmV0dXJuIGUuc2tpcCgpLG51bGx9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbShlLHQscixzLGksbil7cmV0dXJuLjUqTWF0aC5hYnMoZSpzK3IqbitpKnQtZSpuLXIqdC1pKnMpfWZ1bmN0aW9uIHgoZSx0LHIscyl7cmV0dXJuIDA9PT1lKnMtcip0JiZlKnIrdCpzPjB9Y2xhc3MgUyBleHRlbmRzIG97c3RhdGljIGZyb21CdWZmZXIoZSx0LHI9ITEpe2NvbnN0IHM9dC5nZW9tZXRyeVR5cGUsaT15KGUpLG49ZChpLFwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PXMsciksYT1vLmNyZWF0ZUluc3RhbmNlKCk7cmV0dXJuIG5ldyBTKGEsaSxuLHQpfWNvbnN0cnVjdG9yKGUsdCxyLHMpe3N1cGVyKGUscyksdGhpcy5faGFzTmV4dD0hMSx0aGlzLl9pc1BvaW50cz0hMSx0aGlzLl9mZWF0dXJlSW5kZXg9LTEsdGhpcy5fZmVhdHVyZU9mZnNldD0wLHRoaXMuX2NhY2hlPXthcmVhOjAsdW5xdWFudEdlb21ldHJ5OnZvaWQgMCxnZW9tZXRyeTp2b2lkIDAsY2VudHJvaWQ6dm9pZCAwLGxlZ2FjeUZlYXR1cmU6dm9pZCAwLG9wdEZlYXR1cmU6dm9pZCAwfSx0aGlzLl9nZW9tZXRyeVR5cGU9cy5nZW9tZXRyeVR5cGUsdGhpcy5fcmVhZGVyPXQsdGhpcy5faGVhZGVyPXIsdGhpcy5faGFzTmV4dD1yLmhhc0ZlYXR1cmVzLHRoaXMuX2lzUG9pbnRzPVwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PXMuZ2VvbWV0cnlUeXBlfWdldCBmaWVsZHMoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmZpZWxkc31nZXQgZ2VvbWV0cnlUeXBlKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5VHlwZX1nZXQgX3NpemUoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmZlYXR1cmVDb3VudH1nZXQgaGFzWigpe3JldHVybiExfWdldCBoYXNNKCl7cmV0dXJuITF9Z2V0IHN0cmlkZSgpe3JldHVybiAyKyh0aGlzLmhhc1o/MTowKSsodGhpcy5oYXNNPzE6MCl9Z2V0IGhhc0ZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuX2hlYWRlci5oYXNGZWF0dXJlc31nZXQgaGFzTmV4dCgpe3JldHVybiB0aGlzLl9oYXNOZXh0fWdldCBleGNlZWRlZFRyYW5zZmVyTGltaXQoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdH1nZXRTaXplKCl7cmV0dXJuIHRoaXMuX3NpemV9Z2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCl7cmV0dXJuIHRoaXMuX2hlYWRlci50cmFuc2Zvcm19Z2V0Q3Vyc29yKCl7cmV0dXJuIHRoaXMuY29weSgpfWdldEluZGV4KCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVJbmRleH1zZXRJbmRleChlKXt0aGlzLl9jYWNoZS5hcmVhPTAsdGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5PXZvaWQgMCx0aGlzLl9jYWNoZS5nZW9tZXRyeT12b2lkIDAsdGhpcy5fY2FjaGUuY2VudHJvaWQ9dm9pZCAwLHRoaXMuX2NhY2hlLmxlZ2FjeUZlYXR1cmU9dm9pZCAwLHRoaXMuX2NhY2hlLm9wdEZlYXR1cmU9dm9pZCAwLHRoaXMuX2ZlYXR1cmVJbmRleD1lfWdldEF0dHJpYnV0ZUhhc2goKXtsZXQgZT1cIlwiO2Zvcihjb25zdCB0IG9mIHRoaXMuX2hlYWRlci5maWVsZHMuZmllbGRzKWUrPXRoaXMuX3JlYWRBdHRyaWJ1dGVBdEluZGV4KHQuaW5kZXgpK1wiLlwiO3JldHVybiBlfWdldE9iamVjdElkKCl7cmV0dXJuIHRoaXMuX3JlYWRBdHRyaWJ1dGVBdEluZGV4KHRoaXMuX2hlYWRlci5vYmplY3RJZEZpZWxkSW5kZXgpfWdldERpc3BsYXlJZCgpe3JldHVybiB0aGlzLl9oZWFkZXIuZGlzcGxheUlkc1t0aGlzLl9mZWF0dXJlSW5kZXhdfXNldERpc3BsYXlJZChlKXt0aGlzLl9oZWFkZXIuZGlzcGxheUlkc1t0aGlzLl9mZWF0dXJlSW5kZXhdPWV9Z2V0R3JvdXBJZCgpe3JldHVybiB0aGlzLl9oZWFkZXIuZ3JvdXBJZHNbdGhpcy5fZmVhdHVyZUluZGV4XX1zZXRHcm91cElkKGUpe3RoaXMuX2hlYWRlci5ncm91cElkc1t0aGlzLl9mZWF0dXJlSW5kZXhdPWV9cmVhZExlZ2FjeUZlYXR1cmUoKXtpZih2b2lkIDA9PT10aGlzLl9jYWNoZS5sZWdhY3lGZWF0dXJlKXtjb25zdCBlPXRoaXMucmVhZENlbnRyb2lkKCksdD17YXR0cmlidXRlczp0aGlzLnJlYWRBdHRyaWJ1dGVzKCksZ2VvbWV0cnk6dGhpcy5faXNQb2ludHM/dGhpcy5yZWFkTGVnYWN5UG9pbnRHZW9tZXRyeSgpOnRoaXMucmVhZExlZ2FjeUdlb21ldHJ5KCksY2VudHJvaWQ6KGUmJnt4OmUuY29vcmRzWzBdLHk6ZS5jb29yZHNbMV19KT8/bnVsbH07cmV0dXJuIHRoaXMuX2NhY2hlLmxlZ2FjeUZlYXR1cmU9dCx0fXJldHVybiB0aGlzLl9jYWNoZS5sZWdhY3lGZWF0dXJlfXJlYWRPcHRpbWl6ZWRGZWF0dXJlKCl7aWYodm9pZCAwPT09dGhpcy5fY2FjaGUub3B0RmVhdHVyZSl7Y29uc3QgZT1uZXcgYSh0aGlzLnJlYWRHZW9tZXRyeSgpLHRoaXMucmVhZEF0dHJpYnV0ZXMoKSx0aGlzLnJlYWRDZW50cm9pZCgpKTtyZXR1cm4gZS5vYmplY3RJZD10aGlzLmdldE9iamVjdElkKCksZS5kaXNwbGF5SWQ9dGhpcy5nZXREaXNwbGF5SWQoKSx0aGlzLl9jYWNoZS5vcHRGZWF0dXJlPWUsZX1yZXR1cm4gdGhpcy5fY2FjaGUub3B0RmVhdHVyZX1nZXRYSHlkcmF0ZWQoKXtjb25zdCBlPXRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleF0sdD10aGlzLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpO3JldHVybiBudWxsPT10P2U6ZSp0LnNjYWxlWzBdK3QudHJhbnNsYXRlWzBdfWdldFlIeWRyYXRlZCgpe2NvbnN0IGU9dGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4KzFdLHQ9dGhpcy5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKTtyZXR1cm4gbnVsbD09dD9lOnQudHJhbnNsYXRlWzFdLWUqdC5zY2FsZVsxXX1nZXRYKCl7cmV0dXJuIHRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleF0qdGhpcy5fc3grdGhpcy5fdHh9Z2V0WSgpe3JldHVybiB0aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXgrMV0qdGhpcy5fc3krdGhpcy5fdHl9cmVhZExlZ2FjeVBvaW50R2VvbWV0cnkoKXtyZXR1cm57eDp0aGlzLmdldFgoKSx5OnRoaXMuZ2V0WSgpfX1yZWFkTGVnYWN5R2VvbWV0cnkoZSl7Y29uc3QgdD10aGlzLnJlYWRVbnF1YW50aXplZEdlb21ldHJ5KGUpO3JldHVybiBpKHQsdGhpcy5nZW9tZXRyeVR5cGUsITEsITEpfXJlYWRMZWdhY3lDZW50cm9pZCgpe2NvbnN0IGU9dGhpcy5yZWFkQ2VudHJvaWQoKTtpZighZSlyZXR1cm4gbnVsbDtjb25zdFt0LHJdPWUuY29vcmRzO3JldHVybnt4OnQseTpyfX1yZWFkR2VvbWV0cnlBcmVhKCl7cmV0dXJuIHRoaXMuX2NhY2hlLmFyZWF8fHRoaXMucmVhZEdlb21ldHJ5KCEwKSx0aGlzLl9jYWNoZS5hcmVhfXJlYWRVbnF1YW50aXplZEdlb21ldHJ5KGU9ITEpe2lmKHZvaWQgMD09PXRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeSl7Y29uc3QgdD10aGlzLnJlYWRHZW9tZXRyeShlKTtpZighdClyZXR1cm4gdGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5PXZvaWQgMCxudWxsO2NvbnN0IHI9Zih0LmNvb3Jkcy5sZW5ndGgpLmRlY29kZWQscz10LmNsb25lKHIpLGk9cy5jb29yZHM7bGV0IG49MDtmb3IoY29uc3QgZSBvZiBzLmxlbmd0aHMpe2ZvcihsZXQgdD0xO3Q8ZTt0Kyspe2NvbnN0IGU9Mioobit0KSxyPTIqKG4rdC0xKTtpW2VdKz1pW3JdLGlbZSsxXSs9aVtyKzFdfW4rPWV9cmV0dXJuIHRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeT1zLHN9cmV0dXJuIHRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeX1yZWFkSHlkcmF0ZWRHZW9tZXRyeSgpe2lmKHRoaXMuX2lzUG9pbnRzKXtpZih0aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXhdPT09YylyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMuZ2V0WEh5ZHJhdGVkKCksdD10aGlzLmdldFlIeWRyYXRlZCgpO3JldHVybiBuZXcgaChbXSxbZSx0XSl9Y29uc3QgZT10aGlzLnJlYWRHZW9tZXRyeSgpO2lmKCFlKXJldHVybiBudWxsO2NvbnN0IHQ9ZS5jbG9uZSgpLHI9dGhpcy5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKTtyZXR1cm4gbnVsbCE9ciYmbih0LHQsdGhpcy5oYXNaLHRoaXMuaGFzTSxyKSx0fXJlYWRHZW9tZXRyeShlPSExKXtpZih2b2lkIDA9PT10aGlzLl9jYWNoZS5nZW9tZXRyeSl7bGV0IHI9bnVsbDtpZih0aGlzLl9pc1BvaW50cyl7aWYodGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4XT09PWMpcmV0dXJuIG51bGw7Y29uc3QgZT10aGlzLmdldFgoKSx0PXRoaXMuZ2V0WSgpO3I9bmV3IGgoW10sW2UsdF0pfWVsc2V7Y29uc3Qgcz10aGlzLl9oZWFkZXIub2Zmc2V0cy5nZW9tZXRyeVt0aGlzLl9mZWF0dXJlSW5kZXhdLGk9dGhpcy5fcmVhZGVyO2lmKDA9PT1zKXtjb25zdCBlPXRoaXMuX3JlYWRTZXJ2ZXJDZW50cm9pZCgpO2lmKCFlKXJldHVybiBudWxsO2NvbnN0W3Qscl09ZS5jb29yZHM7cmV0dXJuIHRoaXMuY3JlYXRlUXVhbnRpemVkRXh0cnVkZWRRdWFkKHQscil9aS5tb3ZlKHMpO3RyeXtpZihyPWU/dGhpcy5fcGFyc2VHZW9tZXRyeUZvckRpc3BsYXkoaSk6dGhpcy5fcGFyc2VHZW9tZXRyeShpKSxudWxsPT09cil7Y29uc3QgZT10aGlzLl9yZWFkU2VydmVyQ2VudHJvaWQoKTtpZighZSlyZXR1cm4gbnVsbDtjb25zdFt0LHJdPWUuY29vcmRzO3JldHVybiB0aGlzLmNyZWF0ZVF1YW50aXplZEV4dHJ1ZGVkUXVhZCh0LHIpfX1jYXRjaCh0KXtyZXR1cm4gY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBwYXJzZSBnZW9tZXRyeSFcIix0KSxudWxsfX1yZXR1cm4gdGhpcy5fY2FjaGUuZ2VvbWV0cnk9cixyfXJldHVybiB0aGlzLl9jYWNoZS5nZW9tZXRyeX1yZWFkQ2VudHJvaWQoKXtpZih2b2lkIDA9PT10aGlzLl9jYWNoZS5jZW50cm9pZCl7bGV0IGU7cmV0dXJuIGU9dGhpcy5fY29tcHV0ZUNlbnRyb2lkKCksZXx8KGU9dGhpcy5fcmVhZFNlcnZlckNlbnRyb2lkKCkpLHRoaXMuX2NhY2hlLmNlbnRyb2lkPWU/P3ZvaWQgMCxlPz9udWxsfXJldHVybiB0aGlzLl9jYWNoZS5jZW50cm9pZH1jb3B5KCl7Y29uc3QgZT10aGlzLl9yZWFkZXIuY2xvbmUoKSx0PW5ldyBTKHRoaXMuaW5zdGFuY2UsZSx0aGlzLl9oZWFkZXIsdGhpcy5mdWxsU2NoZW1hKCkpO3JldHVybiB0aGlzLmNvcHlJbnRvKHQpLHR9bmV4dCgpe2Zvcih0aGlzLl9jYWNoZS5hcmVhPTAsdGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5PXZvaWQgMCx0aGlzLl9jYWNoZS5nZW9tZXRyeT12b2lkIDAsdGhpcy5fY2FjaGUuY2VudHJvaWQ9dm9pZCAwLHRoaXMuX2NhY2hlLmxlZ2FjeUZlYXR1cmU9dm9pZCAwLHRoaXMuX2NhY2hlLm9wdEZlYXR1cmU9dm9pZCAwOysrdGhpcy5fZmVhdHVyZUluZGV4PHRoaXMuX3NpemUmJiF0aGlzLl9nZXRFeGlzdHMoKTspO3JldHVybiB0aGlzLl9mZWF0dXJlSW5kZXg8dGhpcy5fc2l6ZX1fcmVhZEF0dHJpYnV0ZShlLHQpe2NvbnN0IHI9dGhpcy5faGVhZGVyLmZpZWxkcy5nZXQoZSk7aWYobnVsbD09cilyZXR1cm47bGV0IHM9dGhpcy5fcmVhZEF0dHJpYnV0ZUF0SW5kZXgoci5pbmRleCk7XCJlc3JpRmllbGRUeXBlVGltZXN0YW1wT2Zmc2V0XCI9PT10aGlzLmZpZWxkcy5nZXQoZSk/LnR5cGUmJihzPXRoaXMucGFyc2VUaW1lc3RhbXBPZmZzZXQocykpO2NvbnN0IGk9dGhpcy5faGVhZGVyLmZpZWxkcy5pc0RhdGVGaWVsZChyLm5hbWUpO3JldHVybiB0P251bGw9PXM/czppP25ldyBEYXRlKHMpOnM6c31fcmVhZEF0dHJpYnV0ZXMoKXtjb25zdCBlPXt9O2Zvcihjb25zdCB0IG9mIHRoaXMuX2hlYWRlci5maWVsZHMuZmllbGRzKWVbdC5uYW1lXT10aGlzLl9yZWFkQXR0cmlidXRlQXRJbmRleCh0LmluZGV4KTtyZXR1cm4gZX1jb3B5SW50byhlKXtzdXBlci5jb3B5SW50byhlKSxlLl9mZWF0dXJlSW5kZXg9dGhpcy5fZmVhdHVyZUluZGV4LGUuX2ZlYXR1cmVPZmZzZXQ9dGhpcy5fZmVhdHVyZU9mZnNldCxlLl9oYXNOZXh0PXRoaXMuX2hhc05leHR9X3JlYWRBdHRyaWJ1dGVBdEluZGV4KGUpe2NvbnN0IHQ9dGhpcy5faGVhZGVyLm9mZnNldHMuYXR0cmlidXRlc1t0aGlzLl9mZWF0dXJlSW5kZXgqdGhpcy5faGVhZGVyLmZpZWxkQ291bnQrZV0scj10aGlzLl9yZWFkZXI7cmV0dXJuIHIubW92ZSh0KSxwKHIpfV9yZWFkU2VydmVyQ2VudHJvaWQoKXtjb25zdCBlPXRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleF0rdGhpcy5fdHgsdD10aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXgrMV0rdGhpcy5fdHk7cmV0dXJuIGU9PT1jP251bGw6bmV3IGgoW10sW2UsdF0pfV9wYXJzZUdlb21ldHJ5KGUpe2NvbnN0IHQ9MixyPTMscz1lLmFzVW5zYWZlKCksaT1zLmdldExlbmd0aCgpLG49cy5wb3MoKStpLGE9W10sbz1bXTtmb3IoO3MucG9zKCk8biYmcy5uZXh0KCk7KXN3aXRjaChzLnRhZygpKXtjYXNlIHQ6e2NvbnN0IGU9cy5nZXRVSW50MzIoKSx0PXMucG9zKCkrZTtmb3IoO3MucG9zKCk8dDspby5wdXNoKHMuZ2V0VUludDMyKCkpO2JyZWFrfWNhc2Ugcjp7Y29uc3QgZT1zLmdldFVJbnQzMigpLHQ9cy5wb3MoKStlO2ZvcihhLnB1c2gocy5nZXRTSW50MzIoKSt0aGlzLl90eCksYS5wdXNoKHMuZ2V0U0ludDMyKCkrdGhpcy5fdHkpLHRoaXMuaGFzWiYmcy5nZXRTSW50MzIoKSx0aGlzLmhhc00mJnMuZ2V0U0ludDMyKCk7cy5wb3MoKTx0OylhLnB1c2gocy5nZXRTSW50MzIoKSksYS5wdXNoKHMuZ2V0U0ludDMyKCkpLHRoaXMuaGFzWiYmcy5nZXRTSW50MzIoKSx0aGlzLmhhc00mJnMuZ2V0U0ludDMyKCk7YnJlYWt9ZGVmYXVsdDpzLnNraXAoKX1yZXR1cm4gbmV3IGgobyxhKX1fcGFyc2VHZW9tZXRyeUZvckRpc3BsYXkoZSl7Y29uc3QgdD0yLHM9MyxpPWUuYXNVbnNhZmUoKSxuPWkuZ2V0TGVuZ3RoKCksYT1pLnBvcygpK24sbz1bXSxkPVtdO2xldCBjPTAsZz0wLGw9bnVsbCxfPTA7Y29uc3QgeT1cImVzcmlHZW9tZXRyeVBvbHlnb25cIj09PXRoaXMuZ2VvbWV0cnlUeXBlO2Zvcig7aS5wb3MoKTxhJiZpLm5leHQoKTspc3dpdGNoKGkudGFnKCkpe2Nhc2UgdDp7Y29uc3QgZT1pLmdldFVJbnQzMigpLHQ9aS5wb3MoKStlO2Zvcig7aS5wb3MoKTx0Oyl7Y29uc3QgZT1pLmdldFVJbnQzMigpO28ucHVzaChlKSxjKz1lfWw9ZigyKmMpLmRlbHRhO2JyZWFrfWNhc2Ugczp7aS5nZXRVSW50MzIoKTtjb25zdCBlPTIrKHRoaXMuaGFzWj8xOjApKyh0aGlzLmhhc00/MTowKTtyKGwpO2Zvcihjb25zdCB0IG9mIG8paWYoZytlKnQ+bC5sZW5ndGgpZm9yKGxldCBlPTA7ZTx0O2UrKylpLmdldFNJbnQzMigpLGkuZ2V0U0ludDMyKCksdGhpcy5oYXNaJiZpLmdldFNJbnQzMigpLHRoaXMuaGFzTSYmaS5nZXRTSW50MzIoKTtlbHNlIGlmKHkmJnUpe2NvbnN0IGU9dGhpcy5nZXRBcmVhU2ltcGxpZmljYXRpb25UaHJlc2hvbGQodCx0aGlzLl9oZWFkZXIudmVydGV4Q291bnQpO2xldCByPTIscz0xO2NvbnN0IG49ITE7bGV0IGE9aS5nZXRTSW50MzIoKSxoPWkuZ2V0U0ludDMyKCk7bFtnKytdPWEsbFtnKytdPWgsdGhpcy5oYXNaJiZpLmdldFNJbnQzMigpLHRoaXMuaGFzTSYmaS5nZXRTSW50MzIoKTtsZXQgbz1pLmdldFNJbnQzMigpLHU9aS5nZXRTSW50MzIoKTtmb3IodGhpcy5oYXNaJiZpLmdldFNJbnQzMigpLHRoaXMuaGFzTSYmaS5nZXRTSW50MzIoKTtyPHQ7KXtsZXQgdD1pLmdldFNJbnQzMigpLG49aS5nZXRTSW50MzIoKTt0aGlzLmhhc1omJmkuZ2V0U0ludDMyKCksdGhpcy5oYXNNJiZpLmdldFNJbnQzMigpO2NvbnN0IGQ9YStvLGM9aCt1O20oYSxoLGQsYyxkK3QsYytuKT49ZT8oXys9LS41KihkLWEpKihjK2gpLHM+MSYmeChsW2ctMl0sbFtnLTFdLG8sdSk/KGxbZy0yXSs9byxsW2ctMV0rPXUpOihsW2crK109byxsW2crK109dSxzKyspLGE9ZCxoPWMpOih0Kz1vLG4rPXUpLG89dCx1PW4scisrfXM8M3x8bj9nLT0yKnM6KF8rPS0uNSooYStvLWEpKihoK3UraCkseChsW2ctMl0sbFtnLTFdLG8sdSk/KGxbZy0yXSs9byxsW2ctMV0rPXUsZC5wdXNoKHMpKToobFtnKytdPW8sbFtnKytdPXUsZC5wdXNoKCsrcykpKX1lbHNle2xldCBlPTAscj1pLmdldFNJbnQzMigpLHM9aS5nZXRTSW50MzIoKTt0aGlzLmhhc1omJmkuZ2V0U0ludDMyKCksdGhpcy5oYXNNJiZpLmdldFNJbnQzMigpLGxbZysrXT1yLGxbZysrXT1zLGUrPTE7Zm9yKGxldCBuPTE7bjx0O24rKyl7Y29uc3QgdD1pLmdldFNJbnQzMigpLGE9aS5nZXRTSW50MzIoKSxoPXIrdCxvPXMrYTtfKz0tLjUqKGgtcikqKG8rcyksdGhpcy5oYXNaJiZpLmdldFNJbnQzMigpLHRoaXMuaGFzTSYmaS5nZXRTSW50MzIoKSxuPjImJngobFtnLTJdLGxbZy0xXSx0LGEpPyhsW2ctMl0rPXQsbFtnLTFdKz1hKToobFtnKytdPXQsbFtnKytdPWEsZSs9MSkscj1oLHM9b31kLnB1c2goZSl9YnJlYWt9ZGVmYXVsdDppLnNraXAoKX1pZih0aGlzLl9jYWNoZS5hcmVhPV8sIWQubGVuZ3RoKXJldHVybiBudWxsO2lmKHRoaXMuX3R4fHx0aGlzLl90eSl7bGV0IGU9MDtyKGwpO2Zvcihjb25zdCB0IG9mIGQpbFsyKmVdKz10aGlzLl90eCxsWzIqZSsxXSs9dGhpcy5fdHksZSs9dH1yZXR1cm4gbmV3IGgoZCxsKX19ZXhwb3J0e1MgYXMgRmVhdHVyZVNldFJlYWRlclBCRn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0ZpZWxkc0luZGV4LmpzXCI7aW1wb3J0e3BhcnNlRmllbGQgYXMgcyxwYXJzZVRyYW5zZm9ybSBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL3Jlc3QvcXVlcnkvb3BlcmF0aW9ucy9wYmZGZWF0dXJlU2VydmljZVBhcnNlci5qc1wiO2NvbnN0IG49MjY4NDM1NDU1O2NsYXNzIG97Y29uc3RydWN0b3IoKXt0aGlzLmhhc0ZlYXR1cmVzPSExLHRoaXMuZXhjZWVkZWRUcmFuc2ZlckxpbWl0PSExLHRoaXMuZmllbGRDb3VudD0wLHRoaXMuZmVhdHVyZUNvdW50PTAsdGhpcy5vYmplY3RJZEZpZWxkSW5kZXg9MCx0aGlzLnZlcnRleENvdW50PTAsdGhpcy5vZmZzZXRzPXthdHRyaWJ1dGVzOm5ldyBBcnJheSxnZW9tZXRyeTpuZXcgQXJyYXl9LHRoaXMuY2VudHJvaWQ9bmV3IEFycmF5fX1mdW5jdGlvbiBhKGEsaSxjPSExKXtjb25zdCBmPTEsZD0zLHU9OSxnPTEyLGw9MTMscD0xNSxoPWEuYXNVbnNhZmUoKSxiPWgucG9zKCksdz1uZXcgbztsZXQgbT0wLHk9MDtjb25zdCBrPTEseD0yLEk9NCxMPTM7bGV0IEE9bnVsbCxGPW51bGwsQz1udWxsLFM9ITE7Y29uc3Qgaj1bXTtmb3IoO2gubmV4dCgpOylzd2l0Y2goaC50YWcoKSl7Y2FzZSBmOkE9aC5nZXRTdHJpbmcoKTticmVhaztjYXNlIGQ6Rj1oLmdldFN0cmluZygpO2JyZWFrO2Nhc2UgZzpDPWgucHJvY2Vzc01lc3NhZ2Uocik7YnJlYWs7Y2FzZSB1OmlmKHcuZXhjZWVkZWRUcmFuc2ZlckxpbWl0PWguZ2V0Qm9vbCgpLHcuZXhjZWVkZWRUcmFuc2ZlckxpbWl0KXt3Lm9mZnNldHMuZ2VvbWV0cnk9Yz9uZXcgRmxvYXQ2NEFycmF5KDhlMyk6bmV3IEludDMyQXJyYXkoOGUzKSx3LmNlbnRyb2lkPWM/bmV3IEZsb2F0NjRBcnJheSgxNmUzKTpuZXcgSW50MzJBcnJheSgxNmUzKTtmb3IobGV0IGU9MDtlPHcuY2VudHJvaWQubGVuZ3RoO2UrKyl3LmNlbnRyb2lkW2VdPW59YnJlYWs7Y2FzZSBsOntjb25zdCBlPWgucHJvY2Vzc01lc3NhZ2Uocyk7ZS5pbmRleD1tKyssai5wdXNoKGUpO2JyZWFrfWNhc2UgcDp7Y29uc3QgZT1oLmdldExlbmd0aCgpLHQ9aC5wb3MoKStlO2lmKCF3LmV4Y2VlZGVkVHJhbnNmZXJMaW1pdCl7Y29uc3QgZT13Lm9mZnNldHMuZ2VvbWV0cnksdD13LmNlbnRyb2lkO2UucHVzaCgwKSx0LnB1c2gobiksdC5wdXNoKG4pfSFTJiZ3LmV4Y2VlZGVkVHJhbnNmZXJMaW1pdCYmKFM9ITAsdy5vZmZzZXRzLmF0dHJpYnV0ZXM9Yz9uZXcgRmxvYXQ2NEFycmF5KDhlMyptKTpuZXcgVWludDMyQXJyYXkoOGUzKm0pKTtsZXQgcz15Km07Zm9yKDtoLnBvcygpPHQmJmgubmV4dCgpOylzd2l0Y2goaC50YWcoKSl7Y2FzZSBrOntpZihTKXcub2Zmc2V0cy5hdHRyaWJ1dGVzW3MrK109aC5wb3MoKTtlbHNle3cub2Zmc2V0cy5hdHRyaWJ1dGVzLnB1c2goaC5wb3MoKSl9Y29uc3QgZT1oLmdldExlbmd0aCgpO2guc2tpcExlbihlKTticmVha31jYXNlIHg6aWYoaSl7Y29uc3QgZT1oLmdldExlbmd0aCgpLHQ9aC5wb3MoKStlO2Zvcig7aC5wb3MoKTx0JiZoLm5leHQoKTspc3dpdGNoKGgudGFnKCkpe2Nhc2UgTDp7aC5nZXRVSW50MzIoKTtjb25zdCBlPWguZ2V0U0ludDY0KCksdD1oLmdldFNJbnQ2NCgpO3cuY2VudHJvaWRbMip5XT1lLHcuY2VudHJvaWRbMip5KzFdPXQ7YnJlYWt9ZGVmYXVsdDpoLnNraXAoKX19ZWxzZXt3Lm9mZnNldHMuZ2VvbWV0cnlbeV09aC5wb3MoKTtjb25zdCBlPWguZ2V0TGVuZ3RoKCk7dy52ZXJ0ZXhDb3VudCs9ZSxoLnNraXBMZW4oZSl9YnJlYWs7Y2FzZSBJOntjb25zdCBlPWguZ2V0TGVuZ3RoKCksdD1oLnBvcygpK2U7Zm9yKDtoLnBvcygpPHQmJmgubmV4dCgpOylzd2l0Y2goaC50YWcoKSl7Y2FzZSBMOntoLmdldFVJbnQzMigpO2NvbnN0IGU9aC5nZXRTSW50NjQoKSx0PWguZ2V0U0ludDY0KCk7dy5jZW50cm9pZFsyKnldPWUsdy5jZW50cm9pZFsyKnkrMV09dDticmVha31kZWZhdWx0Omguc2tpcCgpfWJyZWFrfWRlZmF1bHQ6aC5za2lwKCl9eSsrLHcuaGFzRmVhdHVyZXM9ITA7YnJlYWt9ZGVmYXVsdDpoLnNraXAoKX1jb25zdCBVPUF8fEY7aWYoIVUpdGhyb3cgbmV3IGUoXCJGZWF0dXJlU2V0IGhhcyBubyBvYmplY3RJZCBvciBnbG9iYWxJZCBmaWVsZCBuYW1lXCIpO3JldHVybiB3LmZpZWxkcz1uZXcgdChqKSx3LmZlYXR1cmVDb3VudD15LHcuZmllbGRDb3VudD1tLHcub2JqZWN0SWRGaWVsZEluZGV4PXcuZmllbGRzLmdldChVKT8uaW5kZXgsdy50cmFuc2Zvcm09Qyx3LmRpc3BsYXlJZHM9bmV3IFVpbnQzMkFycmF5KHcuZmVhdHVyZUNvdW50KSx3Lmdyb3VwSWRzPW5ldyBVaW50MTZBcnJheSh3LmZlYXR1cmVDb3VudCksaC5tb3ZlKGIpLHd9ZXhwb3J0e28gYXMgRmVhdHVyZVNldEhlYWRlcixhIGFzIHBhcnNlSGVhZGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7RmVhdHVyZVNldFJlYWRlciBhcyBlfWZyb21cIi4vRmVhdHVyZVNldFJlYWRlci5qc1wiO2NsYXNzIHIgZXh0ZW5kcyBle3N0YXRpYyBmcm9tKGUsdCl7cmV0dXJuIG5ldyByKGUuY29weSgpLHQpfWNvbnN0cnVjdG9yKHIsdCl7c3VwZXIoZS5jcmVhdGVJbnN0YW5jZSgpLHIuZnVsbFNjaGVtYSgpKSx0aGlzLl9jdXJyZW50SW5kZXg9LTEsdGhpcy5fcmVhZGVyPXIsdGhpcy5faW5kaWNlcz10fWdldCBmaWVsZHMoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmZpZWxkc31nZXQgaGFzTmV4dCgpe3JldHVybiB0aGlzLl9jdXJyZW50SW5kZXgrMTx0aGlzLl9pbmRpY2VzLmxlbmd0aH1nZXRTaXplKCl7cmV0dXJuIHRoaXMuX2luZGljZXMubGVuZ3RofWdldEN1cnNvcigpe3JldHVybiB0aGlzLmNvcHkoKX1jb3B5KCl7Y29uc3QgZT1uZXcgcih0aGlzLl9yZWFkZXIuY29weSgpLHRoaXMuX2luZGljZXMpO3JldHVybiBlLl9jdXJyZW50SW5kZXg9dGhpcy5fY3VycmVudEluZGV4LGV9bmV4dCgpe2Zvcig7dGhpcy5fbmV4dEluZGV4KCkmJiF0aGlzLl9yZWFkZXIuX2dldEV4aXN0cygpOyk7cmV0dXJuIHRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9pbmRpY2VzLmxlbmd0aH1fbmV4dEluZGV4KCl7cmV0dXJuKyt0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5faW5kaWNlcy5sZW5ndGgmJih0aGlzLl9yZWFkZXIuc2V0SW5kZXgodGhpcy5faW5kaWNlc1t0aGlzLl9jdXJyZW50SW5kZXhdKSwhMCl9c2V0QXJjYWRlU3BhdGlhbFJlZmVyZW5jZShlKXt0aGlzLl9yZWFkZXIuc2V0QXJjYWRlU3BhdGlhbFJlZmVyZW5jZShlKX1hdHRhY2hTdG9yYWdlKGUpe3RoaXMuX3JlYWRlci5hdHRhY2hTdG9yYWdlKGUpfWdldCBnZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdlb21ldHJ5VHlwZX1nZXQgaGFzRmVhdHVyZXMoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmhhc0ZlYXR1cmVzfWdldCBleGNlZWRlZFRyYW5zZmVyTGltaXQoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdH1nZXQgaGFzWigpe3JldHVybiB0aGlzLl9yZWFkZXIuaGFzWn1nZXQgaGFzTSgpe3JldHVybiB0aGlzLl9yZWFkZXIuaGFzTX1nZXRTdG9yYWdlKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRTdG9yYWdlKCl9Z2V0Q29tcHV0ZWROdW1lcmljKGUpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCgwKX1zZXRDb21wdXRlZE51bWVyaWMoZSxyKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgociwwKX1nZXRDb21wdXRlZFN0cmluZyhlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldENvbXB1dGVkU3RyaW5nQXRJbmRleCgwKX1zZXRDb21wdXRlZFN0cmluZyhlLHIpe3JldHVybiB0aGlzLl9yZWFkZXIuc2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KDAscil9Z2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoZSl9c2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChlLHIpe3RoaXMuX3JlYWRlci5zZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KGUscil9Z2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KGUpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KGUpfXNldENvbXB1dGVkU3RyaW5nQXRJbmRleChlLHIpe3JldHVybiB0aGlzLl9yZWFkZXIuc2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KGUscil9dHJhbnNmb3JtKGUscix0LGQpe2NvbnN0IGE9dGhpcy5jb3B5KCk7cmV0dXJuIGEuX3JlYWRlcj10aGlzLl9yZWFkZXIudHJhbnNmb3JtKGUscix0LGQpLGF9cmVhZEF0dHJpYnV0ZShlLHI9ITEpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZEF0dHJpYnV0ZShlLHIpfXJlYWRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5yZWFkQXR0cmlidXRlcygpfWpvaW5BdHRyaWJ1dGVzKGUpe3JldHVybiB0aGlzLl9yZWFkZXIuam9pbkF0dHJpYnV0ZXMoZSl9cmVhZEFyY2FkZUZlYXR1cmUoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRBcmNhZGVGZWF0dXJlKCl9Z2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdlb21ldHJ5KCl9ZmllbGQoZSl7cmV0dXJuIHRoaXMucmVhZEF0dHJpYnV0ZShlLCEwKX1oYXNGaWVsZChlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmhhc0ZpZWxkKGUpfXNldEZpZWxkKGUscil7cmV0dXJuIHRoaXMuX3JlYWRlci5zZXRGaWVsZChlLHIpfWtleXMoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmtleXMoKX1jYXN0VG9UZXh0KGU9ITEpe3JldHVybiB0aGlzLl9yZWFkZXIuY2FzdFRvVGV4dChlKX1nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpfWdldEF0dHJpYnV0ZUhhc2goKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldEF0dHJpYnV0ZUhhc2goKX1nZXRPYmplY3RJZCgpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2V0T2JqZWN0SWQoKX1nZXREaXNwbGF5SWQoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldERpc3BsYXlJZCgpfXNldERpc3BsYXlJZChlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnNldERpc3BsYXlJZChlKX1nZXRHcm91cElkKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRHcm91cElkKCl9c2V0R3JvdXBJZChlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnNldEdyb3VwSWQoZSl9Z2V0WEh5ZHJhdGVkKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRYSHlkcmF0ZWQoKX1nZXRZSHlkcmF0ZWQoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldFlIeWRyYXRlZCgpfWdldFgoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldFgoKX1nZXRZKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRZKCl9c2V0SW5kZXgoZSl7cmV0dXJuIHRoaXMuX3JlYWRlci5zZXRJbmRleChlKX1nZXRJbmRleCgpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2V0SW5kZXgoKX1yZWFkTGVnYWN5RmVhdHVyZSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZExlZ2FjeUZlYXR1cmUoKX1yZWFkT3B0aW1pemVkRmVhdHVyZSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZE9wdGltaXplZEZlYXR1cmUoKX1yZWFkTGVnYWN5UG9pbnRHZW9tZXRyeSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZExlZ2FjeVBvaW50R2VvbWV0cnkoKX1yZWFkTGVnYWN5R2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRMZWdhY3lHZW9tZXRyeSgpfXJlYWRMZWdhY3lDZW50cm9pZCgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZExlZ2FjeUNlbnRyb2lkKCl9cmVhZEdlb21ldHJ5QXJlYSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZEdlb21ldHJ5QXJlYSgpfXJlYWRVbnF1YW50aXplZEdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuX3JlYWRlci5yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeSgpfXJlYWRIeWRyYXRlZEdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuX3JlYWRlci5yZWFkSHlkcmF0ZWRHZW9tZXRyeSgpfXJlYWRHZW9tZXRyeSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZEdlb21ldHJ5KCl9cmVhZENlbnRyb2lkKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5yZWFkQ2VudHJvaWQoKX1fcmVhZEF0dHJpYnV0ZShlLHIpe3Rocm93IG5ldyBFcnJvcihcIkVycm9yOiBTaG91bGQgbm90IGJlIGNhbGxlZC4gVW5kZXJseWluZyBfcmVhZGVyIHNob3VsZCBiZSB1c2VkIGluc3RlYWRcIil9X3JlYWRBdHRyaWJ1dGVzKCl7dGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IFNob3VsZCBub3QgYmUgY2FsbGVkLiBVbmRlcmx5aW5nIF9yZWFkZXIgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZFwiKX19ZXhwb3J0e3IgYXMgRmVhdHVyZVNldFJlYWRlckluZGlyZWN0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e3N0YXRpYyBmcm9tQnVmZmVyKGUscyl7cmV0dXJuIG5ldyB0KGUscyl9c3RhdGljIGNyZWF0ZShlLHM9NDI5NDk2NzI5NSl7Y29uc3Qgcj1uZXcgVWludDMyQXJyYXkoTWF0aC5jZWlsKGUvMzIpKTtyZXR1cm4gbmV3IHQocixzKX1jb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX21hc2s9MCx0aGlzLl9idWY9dCx0aGlzLl9tYXNrPWV9X2dldEluZGV4KHQpe3JldHVybiBNYXRoLmZsb29yKHQvMzIpfWhhcyh0KXtjb25zdCBlPXRoaXMuX21hc2smdDtyZXR1cm4hISh0aGlzLl9idWZbdGhpcy5fZ2V0SW5kZXgoZSldJjE8PGUlMzIpfWhhc1JhbmdlKHQsZSl7bGV0IHM9dCxyPWU7Zm9yKDtzJTMyJiZzIT09cjspe2lmKHRoaXMuaGFzKHMpKXJldHVybiEwO3MrK31mb3IoO3IlMzImJnMhPT1yOyl7aWYodGhpcy5oYXMocykpcmV0dXJuITA7ci0tfWlmKHM9PT1yKXJldHVybiExO2ZvcihsZXQgaD1zLzMyO2ghPT1yLzMyO2grKyl7aWYodGhpcy5fYnVmW2hdKXJldHVybiEwfXJldHVybiExfXNldCh0KXtjb25zdCBlPXRoaXMuX21hc2smdCxzPXRoaXMuX2dldEluZGV4KGUpLHI9MTw8ZSUzMjt0aGlzLl9idWZbc118PXJ9c2V0UmFuZ2UodCxlKXtsZXQgcz10LHI9ZTtmb3IoO3MlMzImJnMhPT1yOyl0aGlzLnNldChzKyspO2Zvcig7ciUzMiYmcyE9PXI7KXRoaXMuc2V0KHItLSk7aWYocyE9PXIpZm9yKGxldCBoPXMvMzI7aCE9PXIvMzI7aCsrKXRoaXMuX2J1ZltoXT00Mjk0OTY3Mjk1fXVuc2V0KHQpe2NvbnN0IGU9dGhpcy5fbWFzayZ0LHM9dGhpcy5fZ2V0SW5kZXgoZSkscj0xPDxlJTMyO3RoaXMuX2J1ZltzXSY9NDI5NDk2NzI5NV5yfXJlc2l6ZSh0KXtjb25zdCBlPXRoaXMuX2J1ZixzPW5ldyBVaW50MzJBcnJheShNYXRoLmNlaWwodC8zMikpO3Muc2V0KGUpLHRoaXMuX2J1Zj1zfW9yKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdfD10Ll9idWZbZV07cmV0dXJuIHRoaXN9YW5kKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdJj10Ll9idWZbZV07cmV0dXJuIHRoaXN9eG9yKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdXj10Ll9idWZbZV07cmV0dXJuIHRoaXN9aW9yKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdfD1+dC5fYnVmW2VdO3JldHVybiB0aGlzfWlhbmQodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9idWYubGVuZ3RoO2UrKyl0aGlzLl9idWZbZV0mPX50Ll9idWZbZV07cmV0dXJuIHRoaXN9aXhvcih0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXV49fnQuX2J1ZltlXTtyZXR1cm4gdGhpc31hbnkoKXtmb3IobGV0IHQ9MDt0PHRoaXMuX2J1Zi5sZW5ndGg7dCsrKWlmKHRoaXMuX2J1Zlt0XSlyZXR1cm4hMDtyZXR1cm4hMX1jb3B5KHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdPXQuX2J1ZltlXTtyZXR1cm4gdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdCh0aGlzLl9idWYuc2xpY2UoKSx0aGlzLl9tYXNrKX1jbGVhcigpe2ZvcihsZXQgdD0wO3Q8dGhpcy5fYnVmLmxlbmd0aDt0KyspdGhpcy5fYnVmW3RdPTB9Zm9yRWFjaFNldCh0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXtsZXQgcz10aGlzLl9idWZbZV0scj0zMiplO2lmKHMpZm9yKDtzOyl7MSZzJiZ0KHIpLHM+Pj49MSxyKyt9fX1jb3VudFNldCgpe2xldCB0PTA7cmV0dXJuIHRoaXMuZm9yRWFjaFNldCgoZT0+e3QrK30pKSx0fX1leHBvcnR7dCBhcyBTdGF0aWNCaXRTZXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvQXJyYXlQb29sLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9yZXN0L3N1cHBvcnQvUXVhbnRpemF0aW9uUGFyYW1ldGVycy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uL3RpbGluZy9UaWxlS2V5LmpzXCI7Y2xhc3Mgbntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMua2V5PW5ldyBvKDAsMCwwLDApLHRoaXMuYm91bmRzPWkoKSx0aGlzLm9iamVjdElkcz1uZXcgU2V0LHRoaXMua2V5LnNldChlKTtjb25zdCBzPXQuZ2V0TE9ESW5mb0F0KHRoaXMua2V5KTt0aGlzLnRpbGVJbmZvVmlldz10LHRoaXMudGlsZUluZm9WaWV3LmdldFRpbGVCb3VuZHModGhpcy5ib3VuZHMsdGhpcy5rZXksITApLHRoaXMucmVzb2x1dGlvbj1zLnJlc29sdXRpb24sdGhpcy5zY2FsZT1zLnNjYWxlLHRoaXMubGV2ZWw9cy5sZXZlbH1nZXQgaWQoKXtyZXR1cm4gdGhpcy5rZXkuaWR9Z2V0IGV4dGVudCgpe3JldHVybiBlLmZyb21Cb3VuZHModGhpcy5ib3VuZHMsdGhpcy50aWxlSW5mb1ZpZXcudGlsZUluZm8uc3BhdGlhbFJlZmVyZW5jZSl9Z2V0IHRyYW5zZm9ybSgpe3JldHVybntvcmlnaW5Qb3NpdGlvbjpcInVwcGVyTGVmdFwiLHNjYWxlOlt0aGlzLnJlc29sdXRpb24sdGhpcy5yZXNvbHV0aW9uXSx0cmFuc2xhdGU6W3RoaXMuYm91bmRzWzBdLHRoaXMuYm91bmRzWzNdXX19Y3JlYXRlQ2hpbGRUaWxlcygpe2NvbnN0IGU9dGhpcy5rZXkuZ2V0Q2hpbGRLZXlzKCksaT10LmFjcXVpcmUoKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylpW3RdPW5ldyBuKHRoaXMudGlsZUluZm9WaWV3LGVbdF0pO3JldHVybiBpfWdldFF1YW50aXphdGlvblBhcmFtZXRlcnMoKXtyZXR1cm4gcy5mcm9tSlNPTih7bW9kZTpcInZpZXdcIixvcmlnaW5Qb3NpdGlvbjpcInVwcGVyTGVmdFwiLHRvbGVyYW5jZTp0aGlzLnJlc29sdXRpb24sZXh0ZW50Ont4bWluOnRoaXMuYm91bmRzWzBdLHltaW46dGhpcy5ib3VuZHNbMV0seG1heDp0aGlzLmJvdW5kc1syXSx5bWF4OnRoaXMuYm91bmRzWzNdLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy50aWxlSW5mb1ZpZXcudGlsZUluZm8uc3BhdGlhbFJlZmVyZW5jZX19KX19ZXhwb3J0e24gYXMgVGlsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3JidXNoLmpzXCI7aW1wb3J0e1RpbGUgYXMgc31mcm9tXCIuL1RpbGUuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi90aWxpbmcvVGlsZUNvdmVyYWdlLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vdGlsaW5nL1RpbGVLZXkuanNcIjtjb25zdCBoPXthZGRlZDpbXSxyZW1vdmVkOltdfSxuPW5ldyBTZXQscj1uZXcgbygwLDAsMCwwKTtjbGFzcyBkIGV4dGVuZHMgZXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX3RpbGVzPW5ldyBNYXAsdGhpcy5faW5kZXg9dCg5LGhhcyhcImVzcmktY3NwLXJlc3RyaWN0aW9uc1wiKT9lPT4oe21pblg6ZS5ib3VuZHNbMF0sbWluWTplLmJvdW5kc1sxXSxtYXhYOmUuYm91bmRzWzJdLG1heFk6ZS5ib3VuZHNbM119KTpbXCIuYm91bmRzWzBdXCIsXCIuYm91bmRzWzFdXCIsXCIuYm91bmRzWzJdXCIsXCIuYm91bmRzWzNdXCJdKSx0aGlzLnRpbGVzPVtdLHRoaXMudGlsZVNjaGVtZT1lfWRlc3Ryb3koKXt0aGlzLmNsZWFyKCl9Y2xlYXIoKXt0aGlzLnRpbGVzLmxlbmd0aD0wLHRoaXMuX3RpbGVzLmNsZWFyKCksdGhpcy5faW5kZXguY2xlYXIoKX1oYXMoZSl7cmV0dXJuIHRoaXMuX3RpbGVzLmhhcyhlKX1nZXQoZSl7cmV0dXJuIHRoaXMuX3RpbGVzLmdldChlKX1ib3VuZHNJbnRlcnNlY3Rpb25zKGUpe3JldHVybiB0aGlzLl9pbmRleC5zZWFyY2goe21pblg6ZVswXSxtaW5ZOmVbMV0sbWF4WDplWzJdLG1heFk6ZVszXX0pfXVwZGF0ZVRpbGVzKGUpe2NvbnN0IHQ9e2FkZGVkOltdLHJlbW92ZWQ6W119O2Zvcihjb25zdCBpIG9mIGUuYWRkZWQpaWYoIXRoaXMuaGFzKGkpKXtjb25zdCBlPW5ldyBzKHRoaXMudGlsZVNjaGVtZSxpKTt0aGlzLl90aWxlcy5zZXQoaSxlKSx0aGlzLl9pbmRleC5pbnNlcnQoZSksdC5hZGRlZC5wdXNoKGUpfWZvcihjb25zdCBzIG9mIGUucmVtb3ZlZClpZih0aGlzLmhhcyhzKSl7Y29uc3QgZT10aGlzLmdldChzKTt0aGlzLl90aWxlcy5kZWxldGUocyksdGhpcy5faW5kZXgucmVtb3ZlKGUpLHQucmVtb3ZlZC5wdXNoKGUpfXRoaXMudGlsZXMubGVuZ3RoPTAsdGhpcy5fdGlsZXMuZm9yRWFjaCgoZT0+dGhpcy50aWxlcy5wdXNoKGUpKSksKHQuYWRkZWQubGVuZ3RofHx0LnJlbW92ZWQubGVuZ3RoKSYmdGhpcy5lbWl0KFwidXBkYXRlXCIsdCl9c2V0Vmlld1N0YXRlKGUpe2NvbnN0IHQ9dGhpcy50aWxlU2NoZW1lLmdldFRpbGVDb3ZlcmFnZShlLDApO2lmKCF0KXJldHVybjtjb25zdHtzcGFuczpvLGxvZEluZm86ZH09dCx7bGV2ZWw6bH09ZDtpZihvLmxlbmd0aD4wKWZvcihjb25zdHtyb3c6aSxjb2xGcm9tOmEsY29sVG86bX1vZiBvKWZvcihsZXQgZT1hO2U8PW07ZSsrKXtjb25zdCB0PXIuc2V0KGwsaSxkLm5vcm1hbGl6ZUNvbChlKSxkLmdldFdvcmxkRm9yQ29sdW1uKGUpKS5pZDtpZihuLmFkZCh0KSwhdGhpcy5oYXModCkpe2NvbnN0IGU9bmV3IHModGhpcy50aWxlU2NoZW1lLHQpO3RoaXMuX3RpbGVzLnNldCh0LGUpLHRoaXMuX2luZGV4Lmluc2VydChlKSx0aGlzLnRpbGVzLnB1c2goZSksaC5hZGRlZC5wdXNoKGUpfX1mb3IobGV0IHM9dGhpcy50aWxlcy5sZW5ndGgtMTtzPj0wO3MtLSl7Y29uc3QgZT10aGlzLnRpbGVzW3NdO24uaGFzKGUuaWQpfHwodGhpcy5fdGlsZXMuZGVsZXRlKGUuaWQpLHRoaXMudGlsZXMuc3BsaWNlKHMsMSksdGhpcy5faW5kZXgucmVtb3ZlKGUpLGgucmVtb3ZlZC5wdXNoKGUpKX0oaC5hZGRlZC5sZW5ndGh8fGgucmVtb3ZlZC5sZW5ndGgpJiZ0aGlzLmVtaXQoXCJ1cGRhdGVcIixoKSxpLnBvb2wucmVsZWFzZSh0KSxuLmNsZWFyKCksaC5hZGRlZC5sZW5ndGg9MCxoLnJlbW92ZWQubGVuZ3RoPTB9fWV4cG9ydHtkIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLnZlcnNpb249MCx0aGlzLnNvdXJjZT0hMSx0aGlzLnRhcmdldHM9e2ZlYXR1cmU6ITEsYWdncmVnYXRlOiExfSx0aGlzLnN0b3JhZ2U9e2ZpbHRlcnM6ITEsZGF0YTohMX0sdGhpcy5tZXNoPSExLHRoaXMucXVlcnlGaWx0ZXI9ITEsdGhpcy53aHk9e21lc2g6W10sc291cmNlOltdfX1zdGF0aWMgY3JlYXRlKGUpe2NvbnN0IHM9bmV3IHQ7bGV0IHI7Zm9yKHIgaW4gZSl7Y29uc3QgdD1lW3JdO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KWZvcihjb25zdCBlIGluIHQpe2NvbnN0IGE9ZSxpPXRbYV07c1tyXVthXT1pfXNbcl09dH1yZXR1cm4gc31zdGF0aWMgZW1wdHkoKXtyZXR1cm4gdC5jcmVhdGUoe30pfXN0YXRpYyBhbGwoKXtyZXR1cm4gdC5jcmVhdGUoe3NvdXJjZTohMCx0YXJnZXRzOntmZWF0dXJlOiEwLGFnZ3JlZ2F0ZTohMH0sc3RvcmFnZTp7ZmlsdGVyczohMCxkYXRhOiEwfSxtZXNoOiEwfSl9dW5zZXQodCl7dGhpcy52ZXJzaW9uPXQudmVyc2lvbix0LnNvdXJjZSYmKHRoaXMuc291cmNlPSExKSx0LnRhcmdldHMuZmVhdHVyZSYmKHRoaXMudGFyZ2V0cy5mZWF0dXJlPSExKSx0LnRhcmdldHMuYWdncmVnYXRlJiYodGhpcy50YXJnZXRzLmFnZ3JlZ2F0ZT0hMSksdC5zdG9yYWdlLmZpbHRlcnMmJih0aGlzLnN0b3JhZ2UuZmlsdGVycz0hMSksdC5zdG9yYWdlLmRhdGEmJih0aGlzLnN0b3JhZ2UuZGF0YT0hMSksdC5tZXNoJiYodGhpcy5tZXNoPSExKSx0LnF1ZXJ5RmlsdGVyJiYodGhpcy5xdWVyeUZpbHRlcj0hMSl9YW55KCl7cmV0dXJuIHRoaXMuc291cmNlfHx0aGlzLm1lc2h8fHRoaXMuc3RvcmFnZS5maWx0ZXJzfHx0aGlzLnN0b3JhZ2UuZGF0YXx8dGhpcy50YXJnZXRzLmZlYXR1cmV8fHRoaXMudGFyZ2V0cy5hZ2dyZWdhdGV8fHRoaXMucXVlcnlGaWx0ZXJ9ZGVzY3JpYmUoKXtsZXQgdD0wLGU9XCJcIjtpZih0aGlzLm1lc2gpe3QrPTIwLGUrPVwiLT4gKDIwKSBNZXNoIG5lZWRzIHVwZGF0ZVxcblwiO2Zvcihjb25zdCB0IG9mIHRoaXMud2h5Lm1lc2gpZSs9YCAgICArICR7dH1cXG5gfWlmKHRoaXMuc291cmNlKXt0Kz0xMCxlKz1cIi0+ICgxMCkgVGhlIHNvdXJjZSBuZWVkcyB1cGRhdGVcXG5cIjtmb3IoY29uc3QgdCBvZiB0aGlzLndoeS5zb3VyY2UpZSs9YCAgICArICR7dH1cXG5gfXRoaXMudGFyZ2V0cy5mZWF0dXJlJiYodCs9NSxlKz1cIi0+ICg1KSBGZWF0dXJlIHRhcmdldCBwYXJhbWV0ZXJzIGNoYW5nZWRcXG5cIiksdGhpcy5zdG9yYWdlLmZpbHRlcnMmJih0Kz01LGUrPVwiLT4gKDUpIEZlYXR1cmUgZmlsdGVyIHBhcmFtZXRlcnMgY2hhbmdlZFxcblwiKSx0aGlzLnRhcmdldHMuYWdncmVnYXRlJiYodCs9NCxlKz1cIi0+ICg0KSBBZ2dyZWdhdGUgdGFyZ2V0IHBhcmFtZXRlcnMgY2hhbmdlZFxcblwiKSx0aGlzLnN0b3JhZ2UuZGF0YSYmKHQrPTEsZSs9XCItPiAoMSkgVGV4dHVyZSBzdG9yYWdlIHBhcmFtZXRlcnMgY2hhbmdlZFwiKTtjb25zdCBzPXQ8NT9cIkZhc3Rlc3RcIjp0PDEwP1wiRmFzdFwiOnQ8MTU/XCJNb2RlcmF0ZVwiOnQ8MjA/XCJTbG93XCI6XCJWZXJ5IFNsb3dcIjtjb25zb2xlLmRlYnVnKGBBcHBseWluZyAke3N9IHVwZGF0ZSBvZiBjb3N0ICR7dH0vNDUgYCksY29uc29sZS5kZWJ1ZyhlKX10b0pTT04oKXtyZXR1cm57cXVlcnlGaWx0ZXI6dGhpcy5xdWVyeUZpbHRlcixzb3VyY2U6dGhpcy5zb3VyY2UsdGFyZ2V0czp0aGlzLnRhcmdldHMsc3RvcmFnZTp0aGlzLnN0b3JhZ2UsbWVzaDp0aGlzLm1lc2h9fX1leHBvcnR7dCBhcyBVcGRhdGVUb2tlbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3RvUHQgYXMgZSxwdDJweCBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnR7cHJlbXVsdGlwbHlBbHBoYSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2VuZ2luZS93ZWJnbC9jb2xvci5qc1wiO2ltcG9ydHtOQU5fTUFHSUNfTlVNQkVSIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vZW5naW5lL3dlYmdsL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0e1dHTFZWRmxhZyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2VuZ2luZS93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtnZXRUeXBlT2ZTaXplVmlzdWFsVmFyaWFibGUgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9lbmdpbmUvd2ViZ2wvdmlzdWFsVmFyaWFibGVzVXRpbHMuanNcIjtmdW5jdGlvbiBsKGUsdCl7aWYoIWV8fCF0KXJldHVybiBlO3N3aXRjaCh0KXtjYXNlXCJyYWRpdXNcIjpjYXNlXCJkaXN0YW5jZVwiOnJldHVybiAyKmU7Y2FzZVwiZGlhbWV0ZXJcIjpjYXNlXCJ3aWR0aFwiOnJldHVybiBlO2Nhc2VcImFyZWFcIjpyZXR1cm4gTWF0aC5zcXJ0KGUpfXJldHVybiBlfWZ1bmN0aW9uIHIodCl7cmV0dXJue3ZhbHVlOnQudmFsdWUsc2l6ZTplKHQuc2l6ZSl9fWZ1bmN0aW9uIGEoZSl7cmV0dXJuKGU/P1tdKS5tYXAoKGU9PnIoZSkpKX1mdW5jdGlvbiB1KHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0fHxcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gZSh0KTtjb25zdCBzPXQ7cmV0dXJue3R5cGU6XCJzaXplXCIsZXhwcmVzc2lvbjpzLmV4cHJlc3Npb24sc3RvcHM6YShzLnN0b3BzKX19Y29uc3QgcD1lPT57Y29uc3Qgcz1bXSxvPVtdLGk9YShlKSxsPWkubGVuZ3RoO2ZvcihsZXQgcj0wO3I8NjtyKyspe2NvbnN0IGU9aVtNYXRoLm1pbihyLGwtMSldO3MucHVzaChlLnZhbHVlKSxvLnB1c2gobnVsbD09ZS5zaXplP246dChlLnNpemUpKX1yZXR1cm57dmFsdWVzOm5ldyBGbG9hdDMyQXJyYXkocyksc2l6ZXM6bmV3IEZsb2F0MzJBcnJheShvKX19O2Z1bmN0aW9uIGMoZSl7Y29uc3QgdD1lJiZlLmxlbmd0aD4wP3t9Om51bGwscz10P3t9Om51bGw7aWYoIXR8fCFzKXJldHVybnt2dkZpZWxkczp0LHZ2UmFuZ2VzOnN9O2Zvcihjb25zdCBuIG9mIGUpaWYobi5maWVsZCYmKHRbbi50eXBlXT1uLmZpZWxkKSxcInNpemVcIj09PW4udHlwZSl7cy5zaXplfHwocy5zaXplPXt9KTtjb25zdCBlPW47c3dpdGNoKGkoZSkpe2Nhc2Ugby5TSVpFX01JTk1BWF9WQUxVRTpzLnNpemUubWluTWF4VmFsdWU9e21pbkRhdGFWYWx1ZTplLm1pbkRhdGFWYWx1ZSxtYXhEYXRhVmFsdWU6ZS5tYXhEYXRhVmFsdWUsbWluU2l6ZTp1KGUubWluU2l6ZSksbWF4U2l6ZTp1KGUubWF4U2l6ZSl9O2JyZWFrO2Nhc2Ugby5TSVpFX1NDQUxFX1NUT1BTOnMuc2l6ZS5zY2FsZVN0b3BzPXtzdG9wczphKGUuc3RvcHMpfTticmVhaztjYXNlIG8uU0laRV9GSUVMRF9TVE9QUzppZihlLmxldmVscyl7Y29uc3QgdD17fTtmb3IoY29uc3QgcyBpbiBlLmxldmVscyl0W3NdPXAoZS5sZXZlbHNbc10pO3Muc2l6ZS5maWVsZFN0b3BzPXt0eXBlOlwibGV2ZWwtZGVwZW5kZW50XCIsbGV2ZWxzOnR9fWVsc2Ugcy5zaXplLmZpZWxkU3RvcHM9e3R5cGU6XCJzdGF0aWNcIiwuLi5wKGUuc3RvcHMpfTticmVhaztjYXNlIG8uU0laRV9VTklUX1ZBTFVFOnMuc2l6ZS51bml0VmFsdWU9e3VuaXQ6ZS52YWx1ZVVuaXQsdmFsdWVSZXByZXNlbnRhdGlvbjplLnZhbHVlUmVwcmVzZW50YXRpb24/P3ZvaWQgMH19fWVsc2UgaWYoXCJjb2xvclwiPT09bi50eXBlKXMuY29sb3I9bShuKTtlbHNlIGlmKFwib3BhY2l0eVwiPT09bi50eXBlKXMub3BhY2l0eT1mKG4pO2Vsc2UgaWYoXCJyb3RhdGlvblwiPT09bi50eXBlKXtjb25zdCBlPW47cy5yb3RhdGlvbj17dHlwZTplLnJvdGF0aW9uVHlwZX19cmV0dXJue3Z2RmllbGRzOnQsdnZSYW5nZXM6c319ZnVuY3Rpb24gZihlKXtjb25zdCB0PXt2YWx1ZXM6WzAsMCwwLDAsMCwwLDAsMF0sb3BhY2l0aWVzOlswLDAsMCwwLDAsMCwwLDBdfTtpZihcInN0cmluZ1wiPT10eXBlb2YgZS5maWVsZCl7aWYoIWUuc3RvcHMpcmV0dXJuIG51bGw7e2lmKGUuc3RvcHMubGVuZ3RoPjgpcmV0dXJuIG51bGw7Y29uc3Qgcz1lLnN0b3BzO2ZvcihsZXQgZT0wO2U8ODsrK2Upe2NvbnN0IG49c1tNYXRoLm1pbihlLHMubGVuZ3RoLTEpXTt0LnZhbHVlc1tlXT1uLnZhbHVlLHQub3BhY2l0aWVzW2VdPW4ub3BhY2l0eX19fWVsc2V7aWYoIShlLnN0b3BzJiZlLnN0b3BzLmxlbmd0aD49MCkpcmV0dXJuIG51bGw7e2NvbnN0IHM9ZS5zdG9wcyYmZS5zdG9wcy5sZW5ndGg+PTA/ZS5zdG9wc1swXS5vcGFjaXR5OjA7Zm9yKGxldCBlPTA7ZTw4O2UrKyl0LnZhbHVlc1tlXT0xLzAsdC5vcGFjaXRpZXNbZV09c319cmV0dXJuIHR9ZnVuY3Rpb24gdihlLHQscyl7ZVs0KnRdPXMuci8yNTUsZVs0KnQrMV09cy5nLzI1NSxlWzQqdCsyXT1zLmIvMjU1LGVbNCp0KzNdPXMuYX1mdW5jdGlvbiBtKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aWYoZS5ub3JtYWxpemF0aW9uRmllbGQpcmV0dXJuIG51bGw7Y29uc3QgdD17ZmllbGQ6bnVsbCx2YWx1ZXM6WzAsMCwwLDAsMCwwLDAsMF0sY29sb3JzOlswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdfTtpZihcInN0cmluZ1wiPT10eXBlb2YgZS5maWVsZCl7aWYoIWUuc3RvcHMpcmV0dXJuIG51bGw7e2lmKGUuc3RvcHMubGVuZ3RoPjgpcmV0dXJuIG51bGw7dC5maWVsZD1lLmZpZWxkO2NvbnN0IHM9ZS5zdG9wcztmb3IobGV0IGU9MDtlPDg7KytlKXtjb25zdCBuPXNbTWF0aC5taW4oZSxzLmxlbmd0aC0xKV07dC52YWx1ZXNbZV09bi52YWx1ZSx2KHQuY29sb3JzLGUsbi5jb2xvcil9fX1lbHNle2lmKCEoZS5zdG9wcyYmZS5zdG9wcy5sZW5ndGg+PTApKXJldHVybiBudWxsO3tjb25zdCBzPWUuc3RvcHMmJmUuc3RvcHMubGVuZ3RoPj0wJiZlLnN0b3BzWzBdLmNvbG9yO2ZvcihsZXQgZT0wO2U8ODtlKyspdC52YWx1ZXNbZV09MS8wLHYodC5jb2xvcnMsZSxzKX19Zm9yKGxldCBuPTA7bjwzMjtuKz00KXModC5jb2xvcnMsbiwhMCk7cmV0dXJuIHR9ZXhwb3J0e20gYXMgY29udmVydENvbG9yVmFyaWFibGUsYyBhcyBjb252ZXJ0VmlzdWFsVmFyaWFibGVzLGwgYXMgZ2V0VmlzdWFsVmFyaWFibGVTaXplVmFsdWVSZXByZXNlbnRhdGlvblJhdGlvLHUgYXMgbm9ybWFsaXplU2l6ZUVsZW1lbnQsYSBhcyBub3JtYWxpemVTaXplU3RvcHMsciBhcyBzdG9wVG9TaXplU3RvcH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldEluZm8gYXMgdH1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydCByIGZyb21cIi4vVGlsZUtleS5qc1wiO2Z1bmN0aW9uIG8odCxyKXtyZXR1cm5bdCxyXX1mdW5jdGlvbiBpKHQscixvKXtyZXR1cm4gdFswXT1yLHRbMV09byx0fWZ1bmN0aW9uIGUodCxyLG8saSxlKXtyZXR1cm4gdFswXT1yLHRbMV09byx0WzJdPWksdFszXT1lLHR9Y29uc3Qgcz1uZXcgcihcIjAvMC8wLzBcIik7Y2xhc3MgbntzdGF0aWMgY3JlYXRlKHIsZSxzPW51bGwpe2NvbnN0IGw9dChyLnNwYXRpYWxSZWZlcmVuY2UpLGg9ZS5vcmlnaW58fG8oci5vcmlnaW4ueCxyLm9yaWdpbi55KSxhPW8oci5zaXplWzBdKmUucmVzb2x1dGlvbixyLnNpemVbMV0qZS5yZXNvbHV0aW9uKSx1PW8oLTEvMCwtMS8wKSxtPW8oMS8wLDEvMCksZz1vKDEvMCwxLzApO251bGwhPXMmJihpKHUsTWF0aC5tYXgoMCxNYXRoLmZsb29yKChzLnhtaW4taFswXSkvYVswXSkpLE1hdGgubWF4KDAsTWF0aC5mbG9vcigoaFsxXS1zLnltYXgpL2FbMV0pKSksaShtLE1hdGgubWF4KDAsTWF0aC5mbG9vcigocy54bWF4LWhbMF0pL2FbMF0pKSxNYXRoLm1heCgwLE1hdGguZmxvb3IoKGhbMV0tcy55bWluKS9hWzFdKSkpLGkoZyxtWzBdLXVbMF0rMSxtWzFdLXVbMV0rMSkpO2NvbnN0e2NvbHM6dyxyb3dzOmN9PWU7bGV0IGQsZixGLHo7cmV0dXJuIXMmJncmJmMmJihpKHUsd1swXSxjWzBdKSxpKG0sd1sxXSxjWzFdKSxpKGcsd1sxXS13WzBdKzEsY1sxXS1jWzBdKzEpKSxyLmlzV3JhcHBhYmxlPyhkPW8oTWF0aC5jZWlsKE1hdGgucm91bmQoKGwudmFsaWRbMV0tbC52YWxpZFswXSkvZS5yZXNvbHV0aW9uKS9yLnNpemVbMF0pLGdbMV0pLGY9byhNYXRoLmZsb29yKChsLm9yaWdpblswXS1oWzBdKS9hWzBdKSx1WzFdKSxGPW8oZFswXStmWzBdLTEsbVsxXSksej0hMCk6KGY9dSxGPW0sZD1nLHo9ITEpLG5ldyBuKGUubGV2ZWwsZS5yZXNvbHV0aW9uLGUuc2NhbGUsaCx1LG0sZyxhLGYsRixkLHopfWNvbnN0cnVjdG9yKHQscixvLGksZSxzLG4sbCxoLGEsdSxtKXt0aGlzLmxldmVsPXQsdGhpcy5yZXNvbHV0aW9uPXIsdGhpcy5zY2FsZT1vLHRoaXMub3JpZ2luPWksdGhpcy5maXJzdD1lLHRoaXMubGFzdD1zLHRoaXMuc2l6ZT1uLHRoaXMubm9ybT1sLHRoaXMud29ybGRTdGFydD1oLHRoaXMud29ybGRFbmQ9YSx0aGlzLndvcmxkU2l6ZT11LHRoaXMud3JhcD1tfW5vcm1hbGl6ZUNvbCh0KXtpZighdGhpcy53cmFwKXJldHVybiB0O2NvbnN0IHI9dGhpcy53b3JsZFNpemVbMF07cmV0dXJuIHQ8MD9yLTEtTWF0aC5hYnMoKHQrMSklcik6dCVyfWRlbm9ybWFsaXplQ29sKHQscil7cmV0dXJuIHRoaXMud3JhcD90aGlzLndvcmxkU2l6ZVswXSpyK3Q6dH1nZXRXb3JsZEZvckNvbHVtbih0KXtyZXR1cm4gdGhpcy53cmFwP01hdGguZmxvb3IodC90aGlzLndvcmxkU2l6ZVswXSk6MH1nZXRGaXJzdENvbHVtbkZvcldvcmxkKHQpe3JldHVybiB0KnRoaXMud29ybGRTaXplWzBdK3RoaXMuZmlyc3RbMF19Z2V0TGFzdENvbHVtbkZvcldvcmxkKHQpe3JldHVybiB0KnRoaXMud29ybGRTaXplWzBdK3RoaXMuZmlyc3RbMF0rdGhpcy5zaXplWzBdLTF9Z2V0Q29sdW1uRm9yWCh0KXtyZXR1cm4odC10aGlzLm9yaWdpblswXSkvdGhpcy5ub3JtWzBdfWdldFhGb3JDb2x1bW4odCl7cmV0dXJuIHRoaXMub3JpZ2luWzBdK3QqdGhpcy5ub3JtWzBdfWdldFJvd0ZvclkodCl7cmV0dXJuKHRoaXMub3JpZ2luWzFdLXQpL3RoaXMubm9ybVsxXX1nZXRZRm9yUm93KHQpe3JldHVybiB0aGlzLm9yaWdpblsxXS10KnRoaXMubm9ybVsxXX1nZXRUaWxlQm91bmRzKHQscixvPSExKXtzLnNldChyKTtjb25zdCBpPW8/cy5jb2w6dGhpcy5kZW5vcm1hbGl6ZUNvbChzLmNvbCxzLndvcmxkKSxuPXMucm93O3JldHVybiBlKHQsdGhpcy5nZXRYRm9yQ29sdW1uKGkpLHRoaXMuZ2V0WUZvclJvdyhuKzEpLHRoaXMuZ2V0WEZvckNvbHVtbihpKzEpLHRoaXMuZ2V0WUZvclJvdyhuKSksdH1nZXRUaWxlQ29vcmRzKHQscixvPSExKXtzLnNldChyKTtjb25zdCBlPW8/cy5jb2w6dGhpcy5kZW5vcm1hbGl6ZUNvbChzLmNvbCxzLndvcmxkKTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9pKHQsdGhpcy5nZXRYRm9yQ29sdW1uKGUpLHRoaXMuZ2V0WUZvclJvdyhzLnJvdykpOih0Lng9dGhpcy5nZXRYRm9yQ29sdW1uKGUpLHQueT10aGlzLmdldFlGb3JSb3cocy5yb3cpKSx0fX1leHBvcnR7biBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9jb3JlL09iamVjdFBvb2wuanNcIjtjbGFzcyBse2NvbnN0cnVjdG9yKCl7dGhpcy5zcGFucz1bXX1hY3F1aXJlKG8pe3RoaXMubG9kSW5mbz1vfXJlbGVhc2UoKXt0aGlzLmxvZEluZm89bnVsbCx0aGlzLnNwYW5zLmxlbmd0aD0wfWZvckVhY2gobyxsKXtjb25zdHtzcGFuczpzLGxvZEluZm86dH09dGhpcyx7bGV2ZWw6ZX09dDtpZigwIT09cy5sZW5ndGgpZm9yKGNvbnN0e3JvdzpyLGNvbEZyb206bixjb2xUbzpjfW9mIHMpZm9yKGxldCBzPW47czw9YztzKyspby5jYWxsKGwsZSxyLHQubm9ybWFsaXplQ29sKHMpLHQuZ2V0V29ybGRGb3JDb2x1bW4ocykpfX1sLnBvb2w9bmV3IG8obCk7ZXhwb3J0e2wgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldEluZm8gYXMgZX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydCB0IGZyb21cIi4vTE9ESW5mby5qc1wiO2ltcG9ydCBvIGZyb21cIi4vVGlsZUNvdmVyYWdlLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi9UaWxlS2V5LmpzXCI7aW1wb3J0IHMgZnJvbVwiLi9UaWxlU3Bhbi5qc1wiO2NvbnN0IGk9bmV3IGwoXCIwLzAvMC8wXCIpO2NsYXNzIG57c3RhdGljIGNyZWF0ZShlLHQpe2VbMV0+dFsxXSYmKFtlLHRdPVt0LGVdKTtjb25zdFtvLGxdPWUsW3MsaV09dCxyPXMtbyxhPWktbCxoPTAhPT1hP3IvYTowLGM9KE1hdGguY2VpbChsKS1sKSpoLGY9KE1hdGguZmxvb3IobCktbCkqaDtyZXR1cm4gbmV3IG4obyxNYXRoLmZsb29yKGwpLE1hdGguY2VpbChpKSxoLHI8MD9jOmYscjwwP2Y6YyxyPDA/czpvLHI8MD9vOnMpfWNvbnN0cnVjdG9yKGUsdCxvLGwscyxpLG4scil7dGhpcy54PWUsdGhpcy55bWluPXQsdGhpcy55bWF4PW8sdGhpcy5pbnZNPWwsdGhpcy5sZWZ0QWRqdXN0PXMsdGhpcy5yaWdodEFkanVzdD1pLHRoaXMubGVmdEJvdW5kPW4sdGhpcy5yaWdodEJvdW5kPXJ9aW5jclJvdygpe3RoaXMueCs9dGhpcy5pbnZNfWdldExlZnRDb2woKXtyZXR1cm4gTWF0aC5tYXgodGhpcy54K3RoaXMubGVmdEFkanVzdCx0aGlzLmxlZnRCb3VuZCl9Z2V0UmlnaHRDb2woKXtyZXR1cm4gTWF0aC5taW4odGhpcy54K3RoaXMucmlnaHRBZGp1c3QsdGhpcy5yaWdodEJvdW5kKX19Y29uc3Qgcj1bWzAsMF0sWzAsMF0sWzAsMF0sWzAsMF1dLGE9MWUtNjtjbGFzcyBoe2NvbnN0cnVjdG9yKGUsbz1udWxsLGw9ZS5sb2RzWzBdLmxldmVsLHM9ZS5sb2RzW2UubG9kcy5sZW5ndGgtMV0ubGV2ZWwpe3RoaXMudGlsZUluZm89ZSx0aGlzLmZ1bGxFeHRlbnQ9byx0aGlzLnNjYWxlcz1bXSx0aGlzLl9pbmZvQnlTY2FsZT17fSx0aGlzLl9pbmZvQnlMZXZlbD17fTtjb25zdCBpPWUubG9kcy5maWx0ZXIoKGU9PmUubGV2ZWw+PWwmJmUubGV2ZWw8PXMpKTt0aGlzLm1pblNjYWxlPWlbMF0uc2NhbGUsdGhpcy5tYXhTY2FsZT1pW2kubGVuZ3RoLTFdLnNjYWxlO2NvbnN0IG49dGhpcy5fbG9kSW5mb3M9aS5tYXAoKGw9PnQuY3JlYXRlKGUsbCxvKSkpO2kuZm9yRWFjaCgoKGUsdCk9Pnt0aGlzLl9pbmZvQnlMZXZlbFtlLmxldmVsXT1uW3RdLHRoaXMuX2luZm9CeVNjYWxlW2Uuc2NhbGVdPW5bdF0sdGhpcy5zY2FsZXNbdF09ZS5zY2FsZX0pLHRoaXMpLHRoaXMuX3dyYXA9ZS5pc1dyYXBwYWJsZX1nZXQgc3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLnRpbGVJbmZvLnNwYXRpYWxSZWZlcmVuY2V9Z2V0TE9ESW5mb0F0KGUpe3JldHVybiB0aGlzLl9pbmZvQnlMZXZlbFtcIm51bWJlclwiPT10eXBlb2YgZT9lOmUubGV2ZWxdfWdldFRpbGVCb3VuZHMoZSx0LG89ITEpe2kuc2V0KHQpO2NvbnN0IGw9dGhpcy5faW5mb0J5TGV2ZWxbaS5sZXZlbF07cmV0dXJuIGw/bC5nZXRUaWxlQm91bmRzKGUsaSxvKTplfWdldFRpbGVDb29yZHMoZSx0LG89ITEpe2kuc2V0KHQpO2NvbnN0IGw9dGhpcy5faW5mb0J5TGV2ZWxbaS5sZXZlbF07cmV0dXJuIGw/bC5nZXRUaWxlQ29vcmRzKGUsaSxvKTplfWdldFRpbGVDb3ZlcmFnZShlLHQ9MTkyLGw9ITAsaT1cImNsb3Nlc3RcIil7aWYoIWwmJihlLnNjYWxlPnRoaXMubWluU2NhbGV8fGUuc2NhbGU8dGhpcy5tYXhTY2FsZSkpcmV0dXJuIG51bGw7Y29uc3QgYT1cImNsb3Nlc3RcIj09PWk/dGhpcy5nZXRDbG9zZXN0SW5mb0ZvclNjYWxlKGUuc2NhbGUpOnRoaXMuZ2V0U21hbGxlc3RJbmZvRm9yU2NhbGUoZS5zY2FsZSksaD1vLnBvb2wuYWNxdWlyZShhKSxjPXRoaXMuX3dyYXA7bGV0IGYsdSxtLGc9MS8wLGQ9LTEvMDtjb25zdCB2PWguc3BhbnM7clswXVswXT1yWzBdWzFdPXJbMV1bMV09clszXVswXT0tdCxyWzFdWzBdPXJbMl1bMF09ZS5zaXplWzBdK3QsclsyXVsxXT1yWzNdWzFdPWUuc2l6ZVsxXSt0O2Zvcihjb25zdCBvIG9mIHIpZS50b01hcChvLG8pLG9bMF09YS5nZXRDb2x1bW5Gb3JYKG9bMF0pLG9bMV09YS5nZXRSb3dGb3JZKG9bMV0pO2NvbnN0IHk9W107bGV0IF89Mztmb3IobGV0IG89MDtvPDQ7bysrKXtpZihyW29dWzFdPT09cltfXVsxXSl7Xz1vO2NvbnRpbnVlfWNvbnN0IGU9bi5jcmVhdGUocltvXSxyW19dKTtnPU1hdGgubWluKGUueW1pbixnKSxkPU1hdGgubWF4KGUueW1heCxkKSx2b2lkIDA9PT15W2UueW1pbl0mJih5W2UueW1pbl09W10pLHlbZS55bWluXS5wdXNoKGUpLF89b31pZihudWxsPT1nfHxudWxsPT1kfHxkLWc+MTAwKXJldHVybiBudWxsO2xldCBwPVtdO2ZvcihmPWc7ZjxkOyl7bnVsbCE9eVtmXSYmKHA9cC5jb25jYXQoeVtmXSkpLHU9MS8wLG09LTEvMDtmb3IobGV0IGU9cC5sZW5ndGgtMTtlPj0wO2UtLSl7Y29uc3QgdD1wW2VdO3U9TWF0aC5taW4odSx0LmdldExlZnRDb2woKSksbT1NYXRoLm1heChtLHQuZ2V0UmlnaHRDb2woKSl9aWYodT1NYXRoLmZsb29yKHUpLG09TWF0aC5mbG9vcihtKSxmPj1hLmZpcnN0WzFdJiZmPD1hLmxhc3RbMV0paWYoYylpZihhLnNpemVbMF08YS53b3JsZFNpemVbMF0pe2NvbnN0IGU9TWF0aC5mbG9vcihtL2Eud29ybGRTaXplWzBdKTtmb3IobGV0IHQ9TWF0aC5mbG9vcih1L2Eud29ybGRTaXplWzBdKTt0PD1lO3QrKyl2LnB1c2gobmV3IHMoZixNYXRoLm1heChhLmdldEZpcnN0Q29sdW1uRm9yV29ybGQodCksdSksTWF0aC5taW4oYS5nZXRMYXN0Q29sdW1uRm9yV29ybGQodCksbSkpKX1lbHNlIHYucHVzaChuZXcgcyhmLHUsbSkpO2Vsc2UgdT5hLmxhc3RbMF18fG08YS5maXJzdFswXXx8KHU9TWF0aC5tYXgodSxhLmZpcnN0WzBdKSxtPU1hdGgubWluKG0sYS5sYXN0WzBdKSx2LnB1c2gobmV3IHMoZix1LG0pKSk7Zis9MTtmb3IobGV0IGU9cC5sZW5ndGgtMTtlPj0wO2UtLSl7Y29uc3QgdD1wW2VdO3QueW1heD49Zj90LmluY3JSb3coKTpwLnNwbGljZShlLDEpfX1yZXR1cm4gaH1nZXRUaWxlUGFyZW50SWQoZSl7aS5zZXQoZSk7Y29uc3QgdD10aGlzLl9pbmZvQnlMZXZlbFtpLmxldmVsXSxvPXRoaXMuX2xvZEluZm9zLmluZGV4T2YodCktMTtyZXR1cm4gbzwwP251bGw6KHRoaXMuX2dldFRpbGVJZEF0TE9EKGksdGhpcy5fbG9kSW5mb3Nbb10saSksaS5pZCl9Z2V0VGlsZVJlc29sdXRpb24oZSl7Y29uc3QgdD10aGlzLl9pbmZvQnlMZXZlbFtcIm9iamVjdFwiPT10eXBlb2YgZT9lLmxldmVsOmVdO3JldHVybiB0P3QucmVzb2x1dGlvbjotMX1nZXRUaWxlU2NhbGUoZSl7Y29uc3QgdD10aGlzLl9pbmZvQnlMZXZlbFtlLmxldmVsXTtyZXR1cm4gdD90LnNjYWxlOi0xfWludGVyc2VjdHMoZSx0KXtpLnNldCh0KTtjb25zdCBvPXRoaXMuX2luZm9CeUxldmVsW2kubGV2ZWxdLGw9ZS5sb2RJbmZvO2lmKGwucmVzb2x1dGlvbj5vLnJlc29sdXRpb24pe3RoaXMuX2dldFRpbGVJZEF0TE9EKGksbCxpKTtjb25zdCB0PWwuZGVub3JtYWxpemVDb2woaS5jb2wsaS53b3JsZCk7Zm9yKGNvbnN0IG8gb2YgZS5zcGFucylpZihvLnJvdz09PWkucm93JiZvLmNvbEZyb208PXQmJm8uY29sVG8+PXQpcmV0dXJuITB9aWYobC5yZXNvbHV0aW9uPG8ucmVzb2x1dGlvbil7Y29uc3RbdCxzLG4scl09ZS5zcGFucy5yZWR1Y2UoKChlLHQpPT4oZVswXT1NYXRoLm1pbihlWzBdLHQucm93KSxlWzFdPU1hdGgubWF4KGVbMV0sdC5yb3cpLGVbMl09TWF0aC5taW4oZVsyXSx0LmNvbEZyb20pLGVbM109TWF0aC5tYXgoZVszXSx0LmNvbFRvKSxlKSksWzEvMCwtMS8wLDEvMCwtMS8wXSksYT1vLmRlbm9ybWFsaXplQ29sKGkuY29sLGkud29ybGQpLGg9bC5nZXRDb2x1bW5Gb3JYKG8uZ2V0WEZvckNvbHVtbihhKSksYz1sLmdldFJvd0Zvclkoby5nZXRZRm9yUm93KGkucm93KSksZj1sLmdldENvbHVtbkZvclgoby5nZXRYRm9yQ29sdW1uKGErMSkpLTEsdT1sLmdldFJvd0Zvclkoby5nZXRZRm9yUm93KGkucm93KzEpKS0xO3JldHVybiEoaD5yfHxmPG58fGM+c3x8dTx0KX1jb25zdCBzPWwuZGVub3JtYWxpemVDb2woaS5jb2wsaS53b3JsZCk7cmV0dXJuIGUuc3BhbnMuc29tZSgoZT0+ZS5yb3c9PT1pLnJvdyYmZS5jb2xGcm9tPD1zJiZlLmNvbFRvPj1zKSl9bm9ybWFsaXplQm91bmRzKHQsbyxsKXtpZih0WzBdPW9bMF0sdFsxXT1vWzFdLHRbMl09b1syXSx0WzNdPW9bM10sdGhpcy5fd3JhcCl7Y29uc3Qgbz1lKHRoaXMudGlsZUluZm8uc3BhdGlhbFJlZmVyZW5jZSkscz0tbCooby52YWxpZFsxXS1vLnZhbGlkWzBdKTt0WzBdKz1zLHRbMl0rPXN9cmV0dXJuIHR9Z2V0U21hbGxlc3RJbmZvRm9yU2NhbGUoZSl7Y29uc3QgdD10aGlzLnNjYWxlcztpZih0aGlzLl9pbmZvQnlTY2FsZVtlXSlyZXR1cm4gdGhpcy5faW5mb0J5U2NhbGVbZV07aWYoZT50WzBdKXJldHVybiB0aGlzLl9pbmZvQnlTY2FsZVt0WzBdXTtmb3IobGV0IG89MTtvPHQubGVuZ3RoLTE7bysrKWlmKGU+dFtvXSthKXJldHVybiB0aGlzLl9pbmZvQnlTY2FsZVt0W28tMV1dO3JldHVybiB0aGlzLl9pbmZvQnlTY2FsZVt0W3QubGVuZ3RoLTFdXX1nZXRDbG9zZXN0SW5mb0ZvclNjYWxlKGUpe2NvbnN0IHQ9dGhpcy5zY2FsZXM7cmV0dXJuIHRoaXMuX2luZm9CeVNjYWxlW2VdfHwoZT10LnJlZHVjZSgoKHQsbyk9Pk1hdGguYWJzKG8tZSk8TWF0aC5hYnModC1lKT9vOnQpLHRbMF0pKSx0aGlzLl9pbmZvQnlTY2FsZVtlXX1zY2FsZVRvTGV2ZWwoZSl7Y29uc3QgdD10aGlzLnNjYWxlcztpZih0aGlzLl9pbmZvQnlTY2FsZVtlXSlyZXR1cm4gdGhpcy5faW5mb0J5U2NhbGVbZV0ubGV2ZWw7Zm9yKGxldCBvPXQubGVuZ3RoLTE7bz49MDtvLS0paWYoZTx0W29dKXtpZihvPT09dC5sZW5ndGgtMSlyZXR1cm4gdGhpcy5faW5mb0J5U2NhbGVbdFt0Lmxlbmd0aC0xXV0ubGV2ZWw7cmV0dXJuIHRoaXMuX2luZm9CeVNjYWxlW3Rbb11dLmxldmVsKyh0W29dLWUpLyh0W29dLXRbbysxXSl9cmV0dXJuIHRoaXMuX2luZm9CeVNjYWxlW3RbMF1dLmxldmVsfXNjYWxlVG9ab29tKGUpe3JldHVybiB0aGlzLnRpbGVJbmZvLnNjYWxlVG9ab29tKGUpfV9nZXRUaWxlSWRBdExPRChlLHQsbyl7Y29uc3QgbD10aGlzLl9pbmZvQnlMZXZlbFtvLmxldmVsXTtyZXR1cm4gZS5zZXQobyksdC5yZXNvbHV0aW9uPGwucmVzb2x1dGlvbj9udWxsOih0LnJlc29sdXRpb249PT1sLnJlc29sdXRpb258fChlLmxldmVsPXQubGV2ZWwsZS5jb2w9TWF0aC5mbG9vcihvLmNvbCpsLnJlc29sdXRpb24vdC5yZXNvbHV0aW9uKy4wMSksZS5yb3c9TWF0aC5mbG9vcihvLnJvdypsLnJlc29sdXRpb24vdC5yZXNvbHV0aW9uKy4wMSkpLGUpfX1leHBvcnR7aCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL09iamVjdFBvb2wuanNcIjtjbGFzcyBle3N0YXRpYyBnZXRJZCh0LGUsbCxzKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD9gJHt0LmxldmVsfS8ke3Qucm93fS8ke3QuY29sfS8ke3Qud29ybGR9YDpgJHt0fS8ke2V9LyR7bH0vJHtzfWB9Y29uc3RydWN0b3IodCxlLGwscyl7dGhpcy5zZXQodCxlLGwscyl9Z2V0IGtleSgpe3JldHVybiB0aGlzfWdldCBpZCgpe3JldHVybiB0aGlzLnRvU3RyaW5nKCl9c2V0IGlkKHQpe3RoaXMuc2V0KHQpfWdldCBoYXNoKCl7Y29uc3QgdD00MDk1JnRoaXMucm93LGU9NDA5NSZ0aGlzLmNvbCxsPTYzJnRoaXMubGV2ZWw7cmV0dXJuKDMmdGhpcy53b3JsZCk8PDMwfGU8PDIyfHQ8PDh8bH1hY3F1aXJlKHQsZSxsLHMpe3RoaXMuc2V0KHQsZSxsLHMpfWNvbnRhaW5zKHQpe2NvbnN0IGU9dC5sZXZlbC10aGlzLmxldmVsO3JldHVybiBlPj0wJiZ0aGlzLnJvdz09PXQucm93Pj5lJiZ0aGlzLmNvbD09PXQuY29sPj5lJiZ0aGlzLndvcmxkPT09dC53b3JsZH1lcXVhbHModCl7cmV0dXJuIHRoaXMubGV2ZWw9PT10LmxldmVsJiZ0aGlzLnJvdz09PXQucm93JiZ0aGlzLmNvbD09PXQuY29sJiZ0aGlzLndvcmxkPT09dC53b3JsZH1jbG9uZSgpe3JldHVybiBuZXcgZSh0aGlzKX1yZWxlYXNlKCl7dGhpcy5sZXZlbD0wLHRoaXMucm93PTAsdGhpcy5jb2w9MCx0aGlzLndvcmxkPTB9c2V0KHQsZSxsLHMpe2lmKG51bGw9PXQpdGhpcy5sZXZlbD0wLHRoaXMucm93PTAsdGhpcy5jb2w9MCx0aGlzLndvcmxkPTA7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgdCl0aGlzLmxldmVsPXQubGV2ZWx8fDAsdGhpcy5yb3c9dC5yb3d8fDAsdGhpcy5jb2w9dC5jb2x8fDAsdGhpcy53b3JsZD10LndvcmxkfHwwO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2NvbnN0W2UsbCxzLG9dPXQuc3BsaXQoXCIvXCIpO3RoaXMubGV2ZWw9cGFyc2VGbG9hdChlKSx0aGlzLnJvdz1wYXJzZUZsb2F0KGwpLHRoaXMuY29sPXBhcnNlRmxvYXQocyksdGhpcy53b3JsZD1wYXJzZUZsb2F0KG8pfWVsc2UgdGhpcy5sZXZlbD0rdCx0aGlzLnJvdz0rZSx0aGlzLmNvbD0rbCx0aGlzLndvcmxkPStzfHwwO3JldHVybiB0aGlzfXRvU3RyaW5nKCl7cmV0dXJuYCR7dGhpcy5sZXZlbH0vJHt0aGlzLnJvd30vJHt0aGlzLmNvbH0vJHt0aGlzLndvcmxkfWB9Z2V0UGFyZW50S2V5KCl7cmV0dXJuIHRoaXMubGV2ZWw8PTA/bnVsbDpuZXcgZSh0aGlzLmxldmVsLTEsdGhpcy5yb3c+PjEsdGhpcy5jb2w+PjEsdGhpcy53b3JsZCl9Z2V0Q2hpbGRLZXlzKCl7Y29uc3QgdD10aGlzLmxldmVsKzEsbD10aGlzLnJvdzw8MSxzPXRoaXMuY29sPDwxLG89dGhpcy53b3JsZDtyZXR1cm5bbmV3IGUodCxsLHMsbyksbmV3IGUodCxsLHMrMSxvKSxuZXcgZSh0LGwrMSxzLG8pLG5ldyBlKHQsbCsxLHMrMSxvKV19Y29tcGFyZVJvd01ham9yKHQpe3JldHVybiB0aGlzLnJvdzx0LnJvdz8tMTp0aGlzLnJvdz50LnJvdz8xOnRoaXMuY29sPHQuY29sPy0xOnRoaXMuY29sPnQuY29sPzE6MH19ZS5wb29sPW5ldyB0KGUsbnVsbCxudWxsLDI1LDUwKTtleHBvcnR7ZSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBve2NvbnN0cnVjdG9yKG8scyx0KXt0aGlzLnJvdz1vLHRoaXMuY29sRnJvbT1zLHRoaXMuY29sVG89dH19ZXhwb3J0e28gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3JlbW92ZU1heWJlIGFzIGV9ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtvbkFib3J0IGFzIHMsb25BYm9ydE9yVGhyb3cgYXMgdCxjcmVhdGVSZXNvbHZlciBhcyByLGlzUHJvbWlzZUxpa2UgYXMgaSxjcmVhdGVBYm9ydEVycm9yIGFzIGh9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi9jb3JlL1F1ZXVlLmpzXCI7aW1wb3J0e3NjaGVkdWxlIGFzIGN9ZnJvbVwiLi4vLi4vY29yZS9zY2hlZHVsaW5nLmpzXCI7Y2xhc3Mgbntjb25zdHJ1Y3RvcihlLHMpe3RoaXMuaXRlbT1lLHRoaXMuY29udHJvbGxlcj1zLHRoaXMucHJvbWlzZT1udWxsfX1jbGFzcyB1e2NvbnN0cnVjdG9yKGUpe3RoaXMuX2RlZmVycmVkcz1uZXcgTWFwLHRoaXMuX2NvbnRyb2xsZXJzPW5ldyBNYXAsdGhpcy5fcHJvY2Vzc2luZ0l0ZW1zPW5ldyBNYXAsdGhpcy5faXNQYXVzZWQ9ITEsdGhpcy5fc2NoZWR1bGU9bnVsbCx0aGlzLl90YXNrPW51bGwsdGhpcy5jb25jdXJyZW5jeT0xLGUuY29uY3VycmVuY3kmJih0aGlzLmNvbmN1cnJlbmN5PWUuY29uY3VycmVuY3kpLHRoaXMuX3F1ZXVlPW5ldyBvKGUucGVla2VyKSx0aGlzLnByb2Nlc3M9ZS5wcm9jZXNzO2NvbnN0IHM9ZS5zY2hlZHVsZXI7ZS5wcmlvcml0eSYmcyYmKHRoaXMuX3Rhc2s9cy5yZWdpc3RlclRhc2soZS5wcmlvcml0eSx0aGlzKSl9ZGVzdHJveSgpe3RoaXMuY2xlYXIoKSx0aGlzLl9zY2hlZHVsZT1lKHRoaXMuX3NjaGVkdWxlKSx0aGlzLl90YXNrPWUodGhpcy5fdGFzayl9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLl9wcm9jZXNzaW5nSXRlbXMuc2l6ZSt0aGlzLl9xdWV1ZS5sZW5ndGh9YWJvcnQoZSl7Y29uc3Qgcz10aGlzLl9jb250cm9sbGVycy5nZXQoZSk7cyYmcy5hYm9ydCgpfWNsZWFyKCl7dGhpcy5fcXVldWUuY2xlYXIoKTtjb25zdCBlPVtdO3RoaXMuX2NvbnRyb2xsZXJzLmZvckVhY2goKHM9PmUucHVzaChzKSkpLHRoaXMuX2NvbnRyb2xsZXJzLmNsZWFyKCksZS5mb3JFYWNoKChlPT5lLmFib3J0KCkpKSx0aGlzLl9wcm9jZXNzaW5nSXRlbXMuY2xlYXIoKSx0aGlzLl9jYW5jZWxOZXh0KCl9Zm9yRWFjaChlKXt0aGlzLl9kZWZlcnJlZHMuZm9yRWFjaCgoKHMsdCk9PmUodCkpKX1nZXQoZSl7Y29uc3Qgcz10aGlzLl9kZWZlcnJlZHMuZ2V0KGUpO3JldHVybiBzP3MucHJvbWlzZTp2b2lkIDB9aXNPbmdvaW5nKGUpe3JldHVybiB0aGlzLl9wcm9jZXNzaW5nSXRlbXMuaGFzKGUpfWhhcyhlKXtyZXR1cm4gdGhpcy5fZGVmZXJyZWRzLmhhcyhlKX1wYXVzZSgpe3RoaXMuX2lzUGF1c2VkfHwodGhpcy5faXNQYXVzZWQ9ITAsdGhpcy5fY2FuY2VsTmV4dCgpKX1wdXNoKGUsaSl7Y29uc3Qgbz10aGlzLmdldChlKTtpZihvKXJldHVybiBvO2NvbnN0IGM9bmV3IEFib3J0Q29udHJvbGxlcjtsZXQgbj1udWxsO2kmJihuPXMoaSwoKCk9PmMuYWJvcnQoKSkpKTtjb25zdCB1PSgpPT57Y29uc3Qgcz10aGlzLl9wcm9jZXNzaW5nSXRlbXMuZ2V0KGUpO3MmJnMuY29udHJvbGxlci5hYm9ydCgpLGwoKSxwLnJlamVjdChoKCkpfSxsPSgpPT57Xy5yZW1vdmUoKSxudWxsIT1uJiZuLnJlbW92ZSgpLHRoaXMuX2RlZmVycmVkcy5kZWxldGUoZSksdGhpcy5fY29udHJvbGxlcnMuZGVsZXRlKGUpLHRoaXMuX3F1ZXVlLnJlbW92ZShlKSx0aGlzLl9wcm9jZXNzaW5nSXRlbXMuZGVsZXRlKGUpLHRoaXMuX3NjaGVkdWxlTmV4dCgpfSxfPXQoYy5zaWduYWwsdSkscD1yKCk7cmV0dXJuIHRoaXMuX2RlZmVycmVkcy5zZXQoZSxwKSx0aGlzLl9jb250cm9sbGVycy5zZXQoZSxjKSxwLnByb21pc2UudGhlbihsLGwpLHRoaXMuX3F1ZXVlLnB1c2goZSksdGhpcy5fc2NoZWR1bGVOZXh0KCkscC5wcm9taXNlfWxhc3QoKXtyZXR1cm4gdGhpcy5fcXVldWUubGFzdCgpfXBlZWsoKXtyZXR1cm4gdGhpcy5fcXVldWUucGVlaygpfXBvcExhc3QoKXtyZXR1cm4gdGhpcy5fcXVldWUucG9wTGFzdCgpfXJlc2V0KCl7Y29uc3QgZT1bXTt0aGlzLl9wcm9jZXNzaW5nSXRlbXMuZm9yRWFjaCgocz0+ZS5wdXNoKHMpKSksdGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLmNsZWFyKCk7Zm9yKGNvbnN0IHMgb2YgZSl0aGlzLl9xdWV1ZS5wdXNoKHMuaXRlbSkscy5jb250cm9sbGVyLmFib3J0KCk7dGhpcy5fc2NoZWR1bGVOZXh0KCl9cmVzdW1lKCl7dGhpcy5faXNQYXVzZWQmJih0aGlzLl9pc1BhdXNlZD0hMSx0aGlzLl9zY2hlZHVsZU5leHQoKSl9dGFrZUFsbCgpe2NvbnN0IGU9W107Zm9yKDt0aGlzLl9xdWV1ZS5sZW5ndGg7KWUucHVzaCh0aGlzLl9xdWV1ZS5wb3AoKSk7cmV0dXJuIHRoaXMuY2xlYXIoKSxlfWdldCBydW5uaW5nKCl7cmV0dXJuIXRoaXMuX2lzUGF1c2VkJiZ0aGlzLl9xdWV1ZS5sZW5ndGg+MCYmdGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLnNpemU8dGhpcy5jb25jdXJyZW5jeX1ydW5UYXNrKGUpe2Zvcig7IWUuZG9uZSYmdGhpcy5fcXVldWUubGVuZ3RoPjAmJnRoaXMuX3Byb2Nlc3NpbmdJdGVtcy5zaXplPHRoaXMuY29uY3VycmVuY3k7KXRoaXMuX3Byb2Nlc3ModGhpcy5fcXVldWUucG9wKCkpLGUubWFkZVByb2dyZXNzKCl9X3NjaGVkdWxlTmV4dCgpe3RoaXMuX3Rhc2t8fHRoaXMuX2lzUGF1c2VkfHx0aGlzLl9zY2hlZHVsZXx8KHRoaXMuX3NjaGVkdWxlPWMoKCgpPT57dGhpcy5fc2NoZWR1bGU9bnVsbCx0aGlzLl9uZXh0KCl9KSkpfV9uZXh0KCl7Zm9yKDt0aGlzLl9xdWV1ZS5sZW5ndGg+MCYmdGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLnNpemU8dGhpcy5jb25jdXJyZW5jeTspdGhpcy5fcHJvY2Vzcyh0aGlzLl9xdWV1ZS5wb3AoKSl9X2NhbmNlbE5leHQoKXt0aGlzLl9zY2hlZHVsZSYmKHRoaXMuX3NjaGVkdWxlLnJlbW92ZSgpLHRoaXMuX3NjaGVkdWxlPW51bGwpfV9wcm9jZXNzUmVzdWx0KGUscyl7dGhpcy5fY2FuUHJvY2Vzc0Z1bGZpbGxtZW50KGUpJiYodGhpcy5fc2NoZWR1bGVOZXh0KCksdGhpcy5fZGVmZXJyZWRzLmdldChlLml0ZW0pLnJlc29sdmUocykpfV9wcm9jZXNzRXJyb3IoZSxzKXt0aGlzLl9jYW5Qcm9jZXNzRnVsZmlsbG1lbnQoZSkmJih0aGlzLl9zY2hlZHVsZU5leHQoKSx0aGlzLl9kZWZlcnJlZHMuZ2V0KGUuaXRlbSkucmVqZWN0KHMpKX1fY2FuUHJvY2Vzc0Z1bGZpbGxtZW50KGUpe3JldHVybiEhdGhpcy5fZGVmZXJyZWRzLmdldChlLml0ZW0pJiZ0aGlzLl9wcm9jZXNzaW5nSXRlbXMuZ2V0KGUuaXRlbSk9PT1lfV9wcm9jZXNzKGUpe2lmKG51bGw9PWUpcmV0dXJuO2xldCBzO2NvbnN0IHQ9bmV3IEFib3J0Q29udHJvbGxlcixyPW5ldyBuKGUsdCk7dGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLnNldChlLHIpO3RyeXtzPXRoaXMucHJvY2VzcyhlLHQuc2lnbmFsKX1jYXRjaChoKXt0aGlzLl9wcm9jZXNzRXJyb3IocixoKX1pKHMpPyhyLnByb21pc2U9cyxzLnRoZW4oKGU9PnRoaXMuX3Byb2Nlc3NSZXN1bHQocixlKSksKGU9PnRoaXMuX3Byb2Nlc3NFcnJvcihyLGUpKSkpOnRoaXMuX3Byb2Nlc3NSZXN1bHQocixzKX1nZXQgdGVzdCgpe3JldHVybnt1cGRhdGU6ZT0+dGhpcy5ydW5UYXNrKGUpfX19ZXhwb3J0e3UgYXMgUXVldWVQcm9jZXNzb3J9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9