"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_arcade_featureset_actions_SpatialFilter_js-node_modules_arcg-2d7e18"],{

/***/ "./node_modules/@arcgis/core/arcade/featureset/actions/SpatialFilter.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/actions/SpatialFilter.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _sources_Empty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sources/Empty.js */ "./node_modules/@arcgis/core/arcade/featureset/sources/Empty.js");
/* harmony import */ var _support_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../support/errorsupport.js */ "./node_modules/@arcgis/core/arcade/featureset/support/errorsupport.js");
/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/FeatureSet.js */ "./node_modules/@arcgis/core/arcade/featureset/support/FeatureSet.js");
/* harmony import */ var _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../support/IdSet.js */ "./node_modules/@arcgis/core/arcade/featureset/support/IdSet.js");
/* harmony import */ var _support_shared_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../support/shared.js */ "./node_modules/@arcgis/core/arcade/featureset/support/shared.js");
/* harmony import */ var _geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/geometryEngineAsync.js */ "./node_modules/@arcgis/core/geometry/geometryEngineAsync.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class f extends _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(e),this._relation="",this._relationGeom=null,this._relationString="",this.declaredClass="esri.arcade.featureset.actions.SpatialFilter",this._relationString=e.relationString,this._parent=e.parentfeatureset,this._maxProcessing=40,this._relation=e.relation,this._relationGeom=e.relationGeom}async _getSet(e){if(null===this._wset){await this._ensureLoaded();const t=await this._parent._getFilteredSet("esriSpatialRelRelation"!==this._relation?this._relation:this._relation+":"+this._relationString,this._relationGeom,null,null,e);return this._checkCancelled(e),this._wset=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__["default"](t._candidates.slice(0),t._known.slice(0),t._ordered,this._clonePageDefinition(t.pagesDefinition)),this._wset}return this._wset}_isInFeatureSet(e){let t=this._parent._isInFeatureSet(e);return t===_support_shared_js__WEBPACK_IMPORTED_MODULE_4__.IdState.NotInFeatureSet?t:(t=this._idstates[e],void 0===t?_support_shared_js__WEBPACK_IMPORTED_MODULE_4__.IdState.Unknown:t)}_getFeature(e,t,i){return this._parent._getFeature(e,t,i)}_getFeatures(e,t,i,r){return this._parent._getFeatures(e,t,i,r)}_featureFromCache(e){return this._parent._featureFromCache(e)}async executeSpatialRelationTest(e){if(null===e.geometry)return!1;switch(this._relation){case"esriSpatialRelEnvelopeIntersects":return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_5__.intersects)((0,_support_shared_js__WEBPACK_IMPORTED_MODULE_4__.shapeExtent)(this._relationGeom),(0,_support_shared_js__WEBPACK_IMPORTED_MODULE_4__.shapeExtent)(e.geometry));case"esriSpatialRelIntersects":return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_5__.intersects)(this._relationGeom,e.geometry);case"esriSpatialRelContains":return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_5__.contains)(this._relationGeom,e.geometry);case"esriSpatialRelOverlaps":return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_5__.overlaps)(this._relationGeom,e.geometry);case"esriSpatialRelWithin":return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_5__.within)(this._relationGeom,e.geometry);case"esriSpatialRelTouches":return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_5__.touches)(this._relationGeom,e.geometry);case"esriSpatialRelCrosses":return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_5__.crosses)(this._relationGeom,e.geometry);case"esriSpatialRelRelation":return (0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_5__.relate)(this._relationGeom,e.geometry,this._relationString??"")}}async _fetchAndRefineFeatures(e,t,i){const r=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__["default"]([],e,!1,null),s=Math.min(t,e.length);await(this._parent?._getFeatures(r,-1,s,i)),this._checkCancelled(i);const o=[];for(let n=0;n<s;n++){const t=this._parent._featureFromCache(e[n]);o.push(await this.executeSpatialRelationTest(t))}for(let n=0;n<t;n++)!0===o[n]?this._idstates[e[n]]=_support_shared_js__WEBPACK_IMPORTED_MODULE_4__.IdState.InFeatureSet:this._idstates[e[n]]=_support_shared_js__WEBPACK_IMPORTED_MODULE_4__.IdState.NotInFeatureSet;return"success"}async _getFilteredSet(e,t,i,r,a){await this._ensureLoaded();const s=await this._parent._getFilteredSet("esriSpatialRelRelation"!==this._relation?this._relation:this._relation+":"+this._relationString,this._relationGeom,i,r,a);let o;return this._checkCancelled(a),o=null!==t?new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__["default"](s._candidates.slice(0).concat(s._known.slice(0)),[],s._ordered,this._clonePageDefinition(s.pagesDefinition)):new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__["default"](s._candidates.slice(0),s._known.slice(0),s._ordered,this._clonePageDefinition(s.pagesDefinition)),o}async _stat(e,t,i,r,n,a,s){if(""!==i)return{calculated:!1};const o=await this._parent._stat(e,t,"esriSpatialRelRelation"!==this._relation?this._relation:this._relation+":"+this._relationString,this._relationGeom,n,a,s);return!1===o.calculated?null===n&&""===i&&null===r?this._manualStat(e,t,a,s):{calculated:!1}:o}async _canDoAggregates(e,t,i,r,n){return""===i&&null===r&&(null!==this._parent&&this._parent._canDoAggregates(e,t,"esriSpatialRelRelation"!==this._relation?this._relation:this._relation+":"+this._relationString,this._relationGeom,n))}async _getAggregatePagesDataSourceDefinition(e,r,n,a,s,o,l){if(null===this._parent)throw new _support_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSetError(_support_errorsupport_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSetErrorCodes.NeverReach);return this._parent._getAggregatePagesDataSourceDefinition(e,r,"esriSpatialRelRelation"!==this._relation?this._relation:this._relation+":"+this._relationString,this._relationGeom,s,o,l)}static registerAction(){_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__["default"]._featuresetFunctions.intersects=function(t){return null==t?new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_0__["default"]({parentfeatureset:this}):new f({parentfeatureset:this,relation:"esriSpatialRelIntersects",relationGeom:t})},_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__["default"]._featuresetFunctions.envelopeIntersects=function(t){return null==t?new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_0__["default"]({parentfeatureset:this}):new f({parentfeatureset:this,relation:"esriSpatialRelEnvelopeIntersects",relationGeom:t})},_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__["default"]._featuresetFunctions.contains=function(t){return null==t?new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_0__["default"]({parentfeatureset:this}):new f({parentfeatureset:this,relation:"esriSpatialRelContains",relationGeom:t})},_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__["default"]._featuresetFunctions.overlaps=function(t){return null==t?new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_0__["default"]({parentfeatureset:this}):new f({parentfeatureset:this,relation:"esriSpatialRelOverlaps",relationGeom:t})},_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__["default"]._featuresetFunctions.within=function(t){return null==t?new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_0__["default"]({parentfeatureset:this}):new f({parentfeatureset:this,relation:"esriSpatialRelWithin",relationGeom:t})},_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__["default"]._featuresetFunctions.touches=function(t){return null==t?new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_0__["default"]({parentfeatureset:this}):new f({parentfeatureset:this,relation:"esriSpatialRelTouches",relationGeom:t})},_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__["default"]._featuresetFunctions.crosses=function(t){return null==t?new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_0__["default"]({parentfeatureset:this}):new f({parentfeatureset:this,relation:"esriSpatialRelCrosses",relationGeom:t})},_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__["default"]._featuresetFunctions.relate=function(t,i){return null==t?new _sources_Empty_js__WEBPACK_IMPORTED_MODULE_0__["default"]({parentfeatureset:this}):new f({parentfeatureset:this,relation:"esriSpatialRelRelation",relationGeom:t,relationString:i})}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/arcade/featureset/sources/Empty.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/sources/Empty.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _support_errorsupport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../support/errorsupport.js */ "./node_modules/@arcgis/core/arcade/featureset/support/errorsupport.js");
/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../support/FeatureSet.js */ "./node_modules/@arcgis/core/arcade/featureset/support/FeatureSet.js");
/* harmony import */ var _support_IdSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/IdSet.js */ "./node_modules/@arcgis/core/arcade/featureset/support/IdSet.js");
/* harmony import */ var _support_shared_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../support/shared.js */ "./node_modules/@arcgis/core/arcade/featureset/support/shared.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class u extends _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.declaredClass="esri.layers.featureset.sources.Empty",this._maxProcessing=1e3,this._wset=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_2__["default"]([],[],!1,null),this._parent=e.parentfeatureset,this._databaseType=_support_shared_js__WEBPACK_IMPORTED_MODULE_3__.FeatureServiceDatabaseType.Standardised}async _getSet(){return this._wset}optimisePagingFeatureQueries(){}_isInFeatureSet(){return _support_shared_js__WEBPACK_IMPORTED_MODULE_3__.IdState.NotInFeatureSet}async _getFeature(){throw new _support_errorsupport_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSetError(_support_errorsupport_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSetErrorCodes.NeverReach)}async queryAttachments(){return[]}async _getFeatures(){return"success"}_featureFromCache(){return null}async _fetchAndRefineFeatures(){throw new _support_errorsupport_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSetError(_support_errorsupport_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSetErrorCodes.NeverReach)}async _getFilteredSet(){return new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_2__["default"]([],[],!1,null)}_stat(e,t,r,s,a,n,u){return this._manualStat(e,t,n,u)}async _canDoAggregates(){return!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/arcade/featureset/support/FeatureSet.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/support/FeatureSet.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _arcadeTimeUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../arcadeTimeUtils.js */ "./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js");
/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cache.js */ "./node_modules/@arcgis/core/arcade/featureset/support/cache.js");
/* harmony import */ var _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errorsupport.js */ "./node_modules/@arcgis/core/arcade/featureset/support/errorsupport.js");
/* harmony import */ var _FeatureSetIterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FeatureSetIterator.js */ "./node_modules/@arcgis/core/arcade/featureset/support/FeatureSetIterator.js");
/* harmony import */ var _IdSet_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./IdSet.js */ "./node_modules/@arcgis/core/arcade/featureset/support/IdSet.js");
/* harmony import */ var _shared_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shared.js */ "./node_modules/@arcgis/core/arcade/featureset/support/shared.js");
/* harmony import */ var _stats_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./stats.js */ "./node_modules/@arcgis/core/arcade/featureset/support/stats.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/sql/WhereClause.js */ "./node_modules/@arcgis/core/core/sql/WhereClause.js");
/* harmony import */ var _geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/geometryEngineAsync.js */ "./node_modules/@arcgis/core/geometry/geometryEngineAsync.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class v{constructor(e){this.recentlyUsedQueries=null,this.featureSetQueryInterceptor=null,this._idstates=[],this._parent=null,this._wset=null,this._mainSetInUse=null,this._maxProcessing=200,this._maxQuery=500,this._totalCount=-1,this._databaseType=_shared_js__WEBPACK_IMPORTED_MODULE_5__.FeatureServiceDatabaseType.NotEvaluated,this._databaseTypeProbed=null,this.declaredRootClass="esri.arcade.featureset.support.FeatureSet",this._featureCache=[],this.typeIdField=null,this.types=null,this.fields=null,this.geometryType="",this.objectIdField="",this.globalIdField="",this.spatialReference=null,this.hasM=!1,this.hasZ=!1,this._transparent=!1,this.loaded=!1,this._loadPromise=null,this._fieldsIndex=null,this._dateFieldIndex=null,e&&e.lrucache&&(this.recentlyUsedQueries=e.lrucache),e&&e.interceptor&&(this.featureSetQueryInterceptor=e.interceptor)}optimisePagingFeatureQueries(e){this._parent&&this._parent.optimisePagingFeatureQueries(e)}_hasMemorySource(){return!0}prop(e,t){return void 0===t?this[e]:(void 0!==this[e]&&(this[e]=t),this)}end(){return null!==this._parent&&!0===this._parent._transparent?this._parent.end():this._parent}_ensureLoaded(){return this.load()}load(){return null===this._loadPromise&&(this._loadPromise=this.loadImpl()),this._loadPromise}async loadImpl(){return!0===this._parent?.loaded?(this._initialiseFeatureSet(),this):(await(this._parent?.load()),this._initialiseFeatureSet(),this)}_initialiseFeatureSet(){null!==this._parent?(this.fields=this._parent.fields.slice(0),this.geometryType=this._parent.geometryType,this.objectIdField=this._parent.objectIdField,this.globalIdField=this._parent.globalIdField,this.spatialReference=this._parent.spatialReference,this.hasM=this._parent.hasM,this.hasZ=this._parent.hasZ,this.typeIdField=this._parent.typeIdField,this.types=this._parent.types):(this.fields=[],this.typeIdField="",this.objectIdField="",this.globalIdField="",this.spatialReference=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_10__["default"]({wkid:4326}),this.geometryType=_shared_js__WEBPACK_IMPORTED_MODULE_5__.layerGeometryEsriConstants.point)}getField(e,t){let s;return(t=t||this.fields)&&(e=e.toLowerCase(),t.some((t=>(t&&t.name.toLowerCase()===e&&(s=t),!!s)))),s}getFieldsIndex(){return null===this._fieldsIndex&&(this._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_11__["default"](this.fields)),this._fieldsIndex}_maxProcessingRate(){return null!==this._parent?Math.min(this._maxProcessing,this._parent._maxProcessingRate()):Math.min(this._maxProcessing,this._maxQueryRate())}_maxQueryRate(){return null!==this._parent?Math.max(this._maxQuery,this._parent._maxQueryRate()):this._maxQuery}_checkCancelled(e){if(null!=e&&e.aborted)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.Cancelled)}nativeCapabilities(){return this._parent.nativeCapabilities()}async _canDoAggregates(e,t,s,r,n){return null!==this._parent&&this._parent._canDoAggregates(e,t,s,r,n)}async _getAggregatePagesDataSourceDefinition(e,t,n,i,a,l,u){if(null===this._parent)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.NeverReach);return this._parent._getAggregatePagesDataSourceDefinition(e,t,n,i,a,l,u)}async _getAgregagtePhysicalPage(e,t,n){if(null===this._parent)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.NeverReach);return this._parent._getAgregagtePhysicalPage(e,t,n)}async databaseType(){if(this._databaseType===_shared_js__WEBPACK_IMPORTED_MODULE_5__.FeatureServiceDatabaseType.NotEvaluated){if(null!==_cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].applicationCache){const e=_cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].applicationCache.getDatabaseType(this._cacheableFeatureSetSourceKey());if(null!==e)return e}if(null!==this._databaseTypeProbed)return this._databaseTypeProbed;try{this._databaseTypeProbed=this._getDatabaseTypeImpl(),null!==_cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].applicationCache&&_cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].applicationCache.setDatabaseType(this._cacheableFeatureSetSourceKey(),this._databaseTypeProbed)}catch(e){throw null!==_cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].applicationCache&&_cache_js__WEBPACK_IMPORTED_MODULE_1__["default"].applicationCache.clearDatabaseType(this._cacheableFeatureSetSourceKey()),e}return this._databaseTypeProbed}return this._databaseType}async _getDatabaseTypeImpl(){const e=[{thetype:_shared_js__WEBPACK_IMPORTED_MODULE_5__.FeatureServiceDatabaseType.SqlServer,testwhere:"(CAST( '2015-01-01' as DATETIME) = CAST( '2015-01-01' as DATETIME)) AND OBJECTID<0"},{thetype:_shared_js__WEBPACK_IMPORTED_MODULE_5__.FeatureServiceDatabaseType.Oracle,testwhere:"(TO_DATE('2003-11-18','YYYY-MM-DD') = TO_DATE('2003-11-18','YYYY-MM-DD')) AND OBJECTID<0"},{thetype:_shared_js__WEBPACK_IMPORTED_MODULE_5__.FeatureServiceDatabaseType.StandardisedNoInterval,testwhere:"(date '2015-01-01 10:10:10' = date '2015-01-01 10:10:10') AND OBJECTID<0"}];for(const t of e){if(!0===await this._runDatabaseProbe(t.testwhere))return t.thetype}return _shared_js__WEBPACK_IMPORTED_MODULE_5__.FeatureServiceDatabaseType.StandardisedNoInterval}_cacheableFeatureSetSourceKey(){return"MUSTBESET"}async _runDatabaseProbe(e){if(null!==this._parent)return this._parent._runDatabaseProbe(e);throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.NotImplemented)}isTable(){return this._parent?.isTable()??!1}_featureFromCache(e){if(void 0!==this._featureCache[e])return this._featureCache[e]}_isInFeatureSet(e){return _shared_js__WEBPACK_IMPORTED_MODULE_5__.IdState.Unknown}_getSet(e){throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.NotImplemented)}async _getFeature(e,t,n){if(this._checkCancelled(n),void 0!==this._featureFromCache(t))return this._featureFromCache(t);if(await this._getFeatures(e,t,this._maxProcessingRate(),n),this._checkCancelled(n),void 0!==this._featureFromCache(t))return this._featureFromCache(t);throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.MissingFeatures)}async _getFeatureBatch(e,t){this._checkCancelled(t);const s=new _IdSet_js__WEBPACK_IMPORTED_MODULE_4__["default"]([],e,!1,null),r=[];await this._getFeatures(s,-1,e.length,t),this._checkCancelled(t);for(const n of e)void 0!==this._featureFromCache(n)&&r.push(this._featureFromCache(n));return r}async _getFeatures(e,t,s,r){return"success"}_getFilteredSet(e,t,n,i,a){throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.NotImplemented)}async _refineSetBlock(e,t,s){if(!0===this._checkIfNeedToExpandCandidatePage(e,this._maxQueryRate()))return await this._expandPagedSet(e,this._maxQueryRate(),0,0,s),this._refineSetBlock(e,t,s);this._checkCancelled(s);const r=e._candidates.length;this._refineKnowns(e,t);let n=r-e._candidates.length;if(0===e._candidates.length)return e;if(n>=t)return e;if(await this._refineIfParentKnown(e,t-n,s),this._checkCancelled(s),this._refineKnowns(e,t-n),n=r-e._candidates.length,n<t&&e._candidates.length>0){const r=t-n,i=this._prepareFetchAndRefineSet(e._candidates);return await this._fetchAndRefineFeatures(i,i.length>r?r:e._candidates.length,s),this._checkCancelled(s),this._refineKnowns(e,t-n),e}return e}_fetchAndRefineFeatures(e,t,s){return null}_prepareFetchAndRefineSet(e){const t=[];for(let s=0;s<e.length;s++)this._isPhysicalFeature(e[s])&&t.push(e[s]);return t}_isPhysicalFeature(e){return null===this._parent||this._parent._isPhysicalFeature(e)}_refineKnowns(e,t){let s=0,r=null;const n=[];t=this._maxQueryRate();for(let i=0;i<e._candidates.length&&"GETPAGES"!==e._candidates[i];i++){let a=!1;const l=this._candidateIdTransform(e._candidates[i]);l!==e._candidates[i]&&(a=!0);const h=this._isInFeatureSet(l);if(h===_shared_js__WEBPACK_IMPORTED_MODULE_5__.IdState.InFeatureSet)!0===a?e._known.includes(l)||(e._known.push(l),s+=1):(e._known.push(e._candidates[i]),s+=1),null===r?r={start:i,end:i}:r.end===i-1?r.end=i:(n.push(r),r={start:i,end:i});else if(h===_shared_js__WEBPACK_IMPORTED_MODULE_5__.IdState.NotInFeatureSet)null===r?r={start:i,end:i}:r.end===i-1?r.end=i:(n.push(r),r={start:i,end:i}),s+=1;else if(h===_shared_js__WEBPACK_IMPORTED_MODULE_5__.IdState.Unknown&&(s+=1,!0===e._ordered))break;if(s>=t)break}null!==r&&n.push(r);for(let i=n.length-1;i>=0;i--)e._candidates.splice(n[i].start,n[i].end-n[i].start+1)}_refineIfParentKnown(e,t,s){const r=new _IdSet_js__WEBPACK_IMPORTED_MODULE_4__["default"]([],[],e._ordered,null);return r._candidates=e._candidates.slice(0),this._parent._refineSetBlock(r,t,s)}_candidateIdTransform(e){return this._parent._candidateIdTransform(e)}_checkIfNeedToExpandKnownPage(e,t){if(null===e.pagesDefinition)return!1;let s=0;for(let r=e._lastFetchedIndex;r<e._known.length;r++){if("GETPAGES"===e._known[r])return!0;if(void 0===this._featureCache[e._known[r]]&&(s+=1,s>=t))break}return!1}_checkIfNeedToExpandCandidatePage(e,t){if(null===e.pagesDefinition)return!1;let s=0;for(let r=0;r<e._candidates.length;r++){if("GETPAGES"===e._candidates[r])return!0;if(s+=1,s>=t)break}return!1}async _expandPagedSet(e,t,n,i,a){if(null===this._parent)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetErrorCodes.NotImplemented);return this._parent._expandPagedSet(e,t,n,i,a)}async _expandPagedSetFeatureSet(e,t,s,r,n){if(e._known.length>0&&"GETPAGES"===e._known[e._known.length-1]&&(r=1),0===r&&e._candidates.length>0&&"GETPAGES"===e._candidates[e._candidates.length-1]&&(r=2),0===r)return"finished";const i=await this._getPage(e,r,n);return s+i<t?this._expandPagedSet(e,t,s+i,0,n):"success"}async _getPage(e,t,s){const r=1===t?e._known:e._candidates;if(e.pagesDefinition.internal.set.length>e.pagesDefinition.resultOffset||!0===e.pagesDefinition.internal.fullyResolved){r.length=r.length-1;let t=0;for(let n=0;n<e.pagesDefinition.resultRecordCount&&!(e.pagesDefinition.resultOffset+n>=e.pagesDefinition.internal.set.length);n++)r[r.length]=e.pagesDefinition.internal.set[e.pagesDefinition.resultOffset+n],t++;e.pagesDefinition.resultOffset+=t;let s=!1;return!0===e.pagesDefinition.internal.fullyResolved&&e.pagesDefinition.internal.set.length<=e.pagesDefinition.resultOffset&&(s=!0),!1===s&&r.push("GETPAGES"),t}return await this._getPhysicalPage(e,t,s),this._getPage(e,t,s)}_getPhysicalPage(e,t,s){return null}_clonePageDefinition(e){return null===this._parent?null:this._parent._clonePageDefinition(e)}_first(e){return this.iterator(e).next()}first(e){return this._first(e)}async calculateStatistic(e,t,s,r){await this._ensureLoaded();let n=await this._stat(e,t,"",null,null,s,r);return!1===n.calculated&&(n=await this._manualStat(e,t,s,r)),n.result}async _manualStat(e,t,s,r){let n=null;switch(e.toLowerCase()){case"count":return n=await (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.count)(this,r),{calculated:!0,result:n};case"distinct":return n=await (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.distinct)(this,t,s,r),{calculated:!0,result:n};case"avg":case"mean":return n=await (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.mean)(this,t,r),{calculated:!0,result:n};case"stdev":return n=await (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.stdev)(this,t,r),{calculated:!0,result:n};case"variance":return n=await (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.variance)(this,t,r),{calculated:!0,result:n};case"sum":return n=await (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.sum)(this,t,r),{calculated:!0,result:n};case"min":return n=await (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.min)(this,t,r),{calculated:!0,result:n};case"max":return n=await (0,_stats_js__WEBPACK_IMPORTED_MODULE_6__.max)(this,t,r),{calculated:!0,result:n};default:return{calculated:!0,result:0}}}async _stat(e,t,s,r,n,i,a){const l=await this._parent._stat(e,t,s,r,n,i,a);return!1===l.calculated?null===n&&""===s&&null===r?this._manualStat(e,t,i,a):{calculated:!1}:l}_unionAllGeomSelf(e){const t=this.iterator(this._defaultTracker(e)),s=[];return new Promise(((e,r)=>{this._unionShapeInBatches(s,t,e,r)}))}_unionAllGeom(e){return new Promise(((t,s)=>{const r=this.iterator(this._defaultTracker(e)),n=[];this._unionShapeInBatches(n,r,t,s)}))}_unionShapeInBatches(e,t,s,r){t.next().then((n=>{try{null!==n&&null!==n.geometry&&e.push(n.geometry),e.length>30||null===n&&e.length>1?(0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_9__.union)(e).then((i=>{try{null===n?s(i):(e=[i],this._unionShapeInBatches(e,t,s,r))}catch(a){r(a)}}),r):null===n?1===e.length?s(e[0]):s(null):this._unionShapeInBatches(e,t,s,r)}catch(i){r(i)}}),r)}iterator(e){return new _FeatureSetIterator_js__WEBPACK_IMPORTED_MODULE_3__["default"](this,e)}intersection(e,t=!1){return v._featuresetFunctions.intersection.bind(this)(e,t)}difference(e,t=!1,s=!0){return v._featuresetFunctions.difference.bind(this)(e,t,s)}symmetricDifference(e,t=!1,s=!0){return v._featuresetFunctions.symmetricDifference.bind(this)(e,t,s)}morphShape(e,t,s="unknown",r=null){return v._featuresetFunctions.morphShape.bind(this)(e,t,s,r)}morphShapeAndAttributes(e,t,s="unknown"){return v._featuresetFunctions.morphShapeAndAttributes.bind(this)(e,t,s)}union(e,t=!1){return v._featuresetFunctions.union.bind(this)(e,t)}intersects(e){return v._featuresetFunctions.intersects.bind(this)(e)}envelopeIntersects(e){return v._featuresetFunctions.envelopeIntersects.bind(this)(e)}contains(e){return v._featuresetFunctions.contains.bind(this)(e)}overlaps(e){return v._featuresetFunctions.overlaps.bind(this)(e)}relate(e,t){return v._featuresetFunctions.relate.bind(this)(e,t)}within(e){return v._featuresetFunctions.within.bind(this)(e)}touches(e){return v._featuresetFunctions.touches.bind(this)(e)}top(e){return v._featuresetFunctions.top.bind(this)(e)}crosses(e){return v._featuresetFunctions.crosses.bind(this)(e)}buffer(e,t,s,r=!0){return v._featuresetFunctions.buffer.bind(this)(e,t,s,r)}filter(e,t=null){return v._featuresetFunctions.filter.bind(this)(e,t)}orderBy(e){return v._featuresetFunctions.orderBy.bind(this)(e)}dissolve(e,t){return v._featuresetFunctions.dissolve.bind(this)(e,t)}groupby(e,t){return v._featuresetFunctions.groupby.bind(this)(e,t)}reduce(e,t=null,s){return new Promise(((r,n)=>{this._reduceImpl(this.iterator(this._defaultTracker(s)),e,t,0,r,n,0)}))}_reduceImpl(e,t,s,r,n,i,a){try{if(++a>1e3)return void setTimeout((()=>{a=0,this._reduceImpl(e,t,s,r,n,i,a)}));e.next().then((l=>{try{if(null===l)n(s);else{const u=t(s,l,r,this);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPromiseLike)(u)?u.then((s=>{this._reduceImpl(e,t,s,r+1,n,i,a)}),i):this._reduceImpl(e,t,u,r+1,n,i,a)}}catch(u){i(u)}}),i)}catch(l){i(l)}}removeField(e){return v._featuresetFunctions.removeField.bind(this)(e)}addField(e,t,s=null){return v._featuresetFunctions.addField.bind(this)(e,t,s)}sumArea(e,t=!1,s){const r=(0,_shared_js__WEBPACK_IMPORTED_MODULE_5__.convertSquareUnitsToCode)(e);return this.reduce(((e,s)=>null===s.geometry?0:t?(0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_9__.geodesicArea)(s.geometry,r).then((t=>e+t)):(0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_9__.planarArea)(s.geometry,r).then((t=>e+t))),0,s)}sumLength(e,t=!1,s){const r=(0,_shared_js__WEBPACK_IMPORTED_MODULE_5__.convertLinearUnitsToCode)(e);return this.reduce(((e,s)=>null===s.geometry?0:t?(0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_9__.geodesicLength)(s.geometry,r).then((t=>e+t)):(0,_geometry_geometryEngineAsync_js__WEBPACK_IMPORTED_MODULE_9__.planarLength)(s.geometry,r).then((t=>e+t))),0,s)}_substituteVars(e,t){if(null!==t){const s={};for(const e in t)s[e.toLowerCase()]=t[e];e.parameters=s}}async distinct(e,t=1e3,s=null,r){await this.load();const n=_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(n,s),this.calculateStatistic("distinct",n,t,this._defaultTracker(r))}async min(e,t=null,s){await this.load();const r=_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic("min",r,-1,this._defaultTracker(s))}async max(e,t=null,s){await this.load();const r=_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic("max",r,-1,this._defaultTracker(s))}async avg(e,t=null,s){await this.load();const r=_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic("avg",r,-1,this._defaultTracker(s))}async sum(e,t=null,s){await this.load();const r=_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic("sum",r,-1,this._defaultTracker(s))}async stdev(e,t=null,s){await this.load();const r=_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic("stdev",r,-1,this._defaultTracker(s))}async variance(e,t=null,s){await this.load();const r=_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic("variance",r,-1,this._defaultTracker(s))}async count(e){return await this.load(),this.calculateStatistic("count",_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_8__.WhereClause.create("1",this.getFieldsIndex()),-1,this._defaultTracker(e))}_defaultTracker(e){return e??{aborted:!1}}forEach(e,t){return new Promise(((s,r)=>{this._forEachImpl(this.iterator(this._defaultTracker(t)),e,this,s,r,0)}))}_forEachImpl(e,t,s,r,n,i){try{if(++i>1e3)return void setTimeout((()=>{i=0,this._forEachImpl(e,t,s,r,n,i)}),0);e.next().then((a=>{try{if(null===a)r(s);else{const l=t(a);null==l?this._forEachImpl(e,t,s,r,n,i):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.isPromiseLike)(l)?l.then((()=>{try{this._forEachImpl(e,t,s,r,n,i)}catch(a){n(a)}}),n):this._forEachImpl(e,t,s,r,n,i)}}catch(l){n(l)}}),n)}catch(a){n(a)}}convertToJSON(e){const t={layerDefinition:{geometryType:this.geometryType,fields:[]},featureSet:{features:[],geometryType:this.geometryType}};for(let s=0;s<this.fields.length;s++)t.layerDefinition.fields.push((0,_shared_js__WEBPACK_IMPORTED_MODULE_5__.esriFieldToJson)(this.fields[s]));return this.reduce(((e,s)=>{const r={geometry:s.geometry&&s.geometry.toJSON(),attributes:{}};for(const t in s.attributes)r.attributes[t]=s.attributes[t];return t.featureSet.features.push(r),1}),0,e).then((()=>t))}castToText(e=!1){return"object, FeatureSet"}queryAttachments(e,t,s,r,n){return this._parent.queryAttachments(e,t,s,r,n)}serviceUrl(){return this._parent.serviceUrl()}subtypes(){return this.typeIdField?{subtypeField:this.typeIdField,subtypes:this.types?this.types.map((e=>({name:e.name,code:e.id}))):[]}:null}relationshipMetaData(){return this._parent.relationshipMetaData()}get gdbVersion(){return this._parent?this._parent.gdbVersion:""}schema(){const e=[];for(const t of this.fields)e.push((0,_shared_js__WEBPACK_IMPORTED_MODULE_5__.esriFieldToJson)(t));return{objectIdField:this.objectIdField,globalIdField:this.globalIdField,geometryType:void 0===_shared_js__WEBPACK_IMPORTED_MODULE_5__.layerGeometryEsriRestConstants[this.geometryType]?"esriGeometryNull":_shared_js__WEBPACK_IMPORTED_MODULE_5__.layerGeometryEsriRestConstants[this.geometryType],fields:e}}async convertToText(e,t){if("schema"===e)return await this._ensureLoaded(),JSON.stringify(this.schema());if("featureset"===e){await this._ensureLoaded();const e=[];await this.reduce(((t,s)=>{const r={geometry:s.geometry?s.geometry.toJSON():null,attributes:s.attributes};return null!==r.geometry&&r.geometry.spatialReference&&delete r.geometry.spatialReference,e.push(r),1}),0,t);const s=this.schema();return s.features=e,s.spatialReference=this.spatialReference.toJSON(),JSON.stringify(s)}return this.castToText()}getFeatureByObjectId(e,t){return this._parent.getFeatureByObjectId(e,t)}getOwningSystemUrl(){return this._parent.getOwningSystemUrl()}getIdentityUser(){return this._parent.getIdentityUser()}getRootFeatureSet(){return null!==this._parent?this._parent.getRootFeatureSet():this}getDataSourceFeatureSet(){return null!==this._parent?this._parent.getDataSourceFeatureSet():this}castAsJson(e=null){return"keeptype"===e?.featureset?this:"none"===e?.featureset?null:{type:"FeatureSet"}}async castAsJsonAsync(e=null,t=null){if("keeptype"===t?.featureset)return this;if("schema"===t?.featureset)return await this._ensureLoaded(),JSON.parse(JSON.stringify(this.schema()));if("none"===t?.featureset)return null;await this._ensureLoaded();const s=[];await this.reduce(((e,r)=>{const n={geometry:r.geometry?!0===t?.keepGeometryType?r.geometry:r.geometry.toJSON():null,attributes:r.attributes};return null!==n.geometry&&n.geometry.spatialReference&&!0!==t?.keepGeometryType&&delete n.geometry.spatialReference,s.push(n),1}),0,e);const r=this.schema();return r.features=s,r.spatialReference=!0===t?.keepGeometryType?this.spatialReference:this.spatialReference?.toJSON(),r}get dateTimeReferenceFieldIndex(){return null===this._dateFieldIndex&&(this._dateFieldIndex=_arcadeTimeUtils_js__WEBPACK_IMPORTED_MODULE_0__.DateTimeReferenceFieldIndex.create(this.getFieldsIndex(),this)),this._dateFieldIndex}fieldTimeZone(e){return this.dateTimeReferenceFieldIndex.fieldTimeZone(e)}get preferredTimeReference(){return this._parent?.preferredTimeReference??null}get dateFieldsTimeReference(){return this._parent?.dateFieldsTimeReference??null}get datesInUnknownTimezone(){return this._parent.datesInUnknownTimezone}get editFieldsInfo(){return this._parent?.editFieldsInfo??null}get timeInfo(){return this._parent?.timeInfo??null}}v._featuresetFunctions={};


/***/ }),

/***/ "./node_modules/@arcgis/core/arcade/featureset/support/FeatureSetIterator.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/support/FeatureSetIterator.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{constructor(t,e){this._lastId=-1,this._progress=e,this._parent=t}reset(){this._lastId=-1}nextBatch(e){if(null!==this._parent._mainSetInUse)return this._parent._mainSetInUse.then((t=>this.nextBatch(e)),(t=>this.nextBatch(e)));const n={returnpromise:null,hasset:!1},s=[];return n.returnpromise=new Promise(((a,i)=>{this._parent._getSet(this._progress).then((r=>{const h=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.unwrapOrThrow)(r._known,"known");let _=h.length-1;if("GETPAGES"===h[h.length-1]&&(_-=1),this._lastId+e>_&&h.length>0&&"GETPAGES"===h[h.length-1])return void this._parent._expandPagedSet(r,this._parent._maxQueryRate(),0,0,this._progress).then((t=>{n.hasset=!0,this._parent._mainSetInUse=null,this.nextBatch(e).then(a,i)}),(t=>{n.hasset=!0,this._parent._mainSetInUse=null,i(t)}));const l=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.unwrapOrThrow)(r._candidates,"candidates");if(_>=this._lastId+e||0===l.length){for(let t=0;t<e;t++){const e=t+this._lastId+1;if(e>=h.length)break;s[t]=h[e]}return this._lastId+=s.length,0===s.length&&(n.hasset=!0,this._parent._mainSetInUse=null,a([])),void this._parent._getFeatureBatch(s,this._progress).then((t=>{n.hasset=!0,this._parent._mainSetInUse=null,a(t)}),(t=>{n.hasset=!0,this._parent._mainSetInUse=null,i(t)}))}this._parent._refineSetBlock(r,this._parent._maxProcessingRate(),this._progress).then((()=>{n.hasset=!0,this._parent._mainSetInUse=null,this.nextBatch(e).then(a,i)}),(t=>{n.hasset=!0,this._parent._mainSetInUse=null,i(t)}))}),(t=>{n.hasset=!0,this._parent._mainSetInUse=null,i(t)}))})),!1===n.hasset&&(this._parent._mainSetInUse=n.returnpromise,n.hasset=!0),n.returnpromise}next(){if(null!==this._parent._mainSetInUse)return this._parent._mainSetInUse.then((t=>this.next()),(t=>this.next()));const e={returnpromise:null,hasset:!1};return e.returnpromise=new Promise(((n,s)=>{this._parent._getSet(this._progress).then((a=>{const i=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.unwrapOrThrow)(a._known,"known");if(this._lastId<i.length-1)"GETPAGES"===i[this._lastId+1]?this._parent._expandPagedSet(a,this._parent._maxQueryRate(),0,0,this._progress).then((t=>(e.hasset=!0,this._parent._mainSetInUse=null,this.next()))).then(n,s):(this._lastId+=1,this._parent._getFeature(a,i[this._lastId],this._progress).then((t=>{e.hasset=!0,this._parent._mainSetInUse=null,n(t)}),(t=>{e.hasset=!0,this._parent._mainSetInUse=null,s(t)})));else{(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.unwrapOrThrow)(a._candidates,"candidates").length>0?this._parent._refineSetBlock(a,this._parent._maxProcessingRate(),this._progress).then((()=>{e.hasset=!0,this._parent._mainSetInUse=null,this.next().then(n,s)}),(t=>{e.hasset=!0,this._parent._mainSetInUse=null,s(t)})):(e.hasset=!0,this._parent._mainSetInUse=null,n(null))}}),(t=>{e.hasset=!0,this._parent._mainSetInUse=null,s(t)}))})),!1===e.hasset&&(this._parent._mainSetInUse=e.returnpromise,e.hasset=!0),e.returnpromise}async count(){if(-1!==this._parent._totalCount)return this._parent._totalCount;const t=await this._parent._getSet(this._progress),e=await this._refineAllSets(t);return this._parent._totalCount=e._known.length,this._parent._totalCount}async _refineAllSets(t){if(t._known.length>0&&"GETPAGES"===t._known[t._known.length-1])return await this._parent._expandPagedSet(t,this._parent._maxQueryRate(),0,1,this._progress),this._refineAllSets(t);if(t._candidates.length>0){if("GETPAGES"===t._known[t._candidates.length-1])return await this._parent._expandPagedSet(t,this._parent._maxQueryRate(),0,2,this._progress),this._refineAllSets(t);const e=await this._parent._refineSetBlock(t,this._parent._maxProcessingRate(),this._progress);return e._candidates.length>0?this._refineAllSets(e):e}return t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/arcade/featureset/support/IdSet.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/support/IdSet.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(t,s,e,i){this._lastFetchedIndex=0,this._ordered=!1,this.pagesDefinition=null,this._candidates=t,this._known=s,this._ordered=e,this.pagesDefinition=i}}


/***/ }),

/***/ "./node_modules/@arcgis/core/arcade/featureset/support/cache.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/support/cache.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class a{constructor(){this._databaseTypeMetaData={},this._layerInfo={}}clearDatabaseType(a){void 0===this._databaseTypeMetaData[a]&&delete this._databaseTypeMetaData[a]}getDatabaseType(a){return"MUSTBESET"===a||void 0===this._databaseTypeMetaData[a]?null:this._databaseTypeMetaData[a]}setDatabaseType(a,e){this._databaseTypeMetaData[a]=e}getLayerInfo(a){return void 0===this._layerInfo[a]?null:this._layerInfo[a]}setLayerInfo(a,e){this._layerInfo[a]=e}clearLayerInfo(a){void 0!==this._layerInfo[a]&&delete this._layerInfo[a]}}a.applicationCache=null;


/***/ }),

/***/ "./node_modules/@arcgis/core/arcade/featureset/support/sqlUtils.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/support/sqlUtils.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "arcadeDateToSqlString": () => (/* binding */ h),
/* harmony export */   "changeSqlTimeZones": () => (/* binding */ l),
/* harmony export */   "changeWhereClauseTimeZone": () => (/* binding */ d),
/* harmony export */   "combine": () => (/* binding */ m),
/* harmony export */   "convertIntervalToSql": () => (/* binding */ R),
/* harmony export */   "isSingleField": () => (/* binding */ N),
/* harmony export */   "makeDateString": () => (/* binding */ T),
/* harmony export */   "makeToday": () => (/* binding */ L),
/* harmony export */   "predictType": () => (/* binding */ S),
/* harmony export */   "reformulateWithoutField": () => (/* binding */ p),
/* harmony export */   "scanForField": () => (/* binding */ A),
/* harmony export */   "toWhereClause": () => (/* binding */ u),
/* harmony export */   "toWhereClauseFromTree": () => (/* binding */ f),
/* harmony export */   "translateFunctionToDatabaseSpecific": () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ArcadeDate.js */ "./node_modules/@arcgis/core/arcade/ArcadeDate.js");
/* harmony import */ var _shared_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shared.js */ "./node_modules/@arcgis/core/arcade/featureset/support/shared.js");
/* harmony import */ var _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/sql/WhereClause.js */ "./node_modules/@arcgis/core/core/sql/WhereClause.js");
/* harmony import */ var _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errorsupport.js */ "./node_modules/@arcgis/core/arcade/featureset/support/errorsupport.js");
/* harmony import */ var _arcadeTimeUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../arcadeTimeUtils.js */ "./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js");
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/src/luxon.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function u(e,r){return y(e?.parseTree,r,e?.parameters)}function l(e,r,t,a){return d(_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_2__.WhereClause.create(e,r.fieldsIndex),t,a)}function d(e,t,a){const n=(0,_arcadeTimeUtils_js__WEBPACK_IMPORTED_MODULE_4__.convertTimeReference)(t),s=(0,_arcadeTimeUtils_js__WEBPACK_IMPORTED_MODULE_4__.convertTimeReference)(a);return y(e.parseTree,_shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Standardised,null,null,null,{inputTimeReference:n,outputTimeReference:s})}function f(e,r,t){return y(e,r,t)}function p(e,t,a,s){return _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_2__.WhereClause.create(y(e.parseTree,_shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Standardised,e.parameters,t,a),s)}function m(e,t,a="AND"){return _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_2__.WhereClause.create("(("+u(e,_shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Standardised)+")"+a+"("+u(t,_shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Standardised)+"))",e.fieldsIndex)}function y(e,n,o,i=null,u=null,l=null){let d,f,p,m;switch(e.type){case"interval":return R(y(e.value,n,o,i,u,l),e.qualifier,e.op);case"case-expression":{let r=" CASE ";"simple"===e.format&&(r+=y(e.operand,n,o,i,u,l));for(let t=0;t<e.clauses.length;t++)r+=" WHEN "+y(e.clauses[t].operand,n,o,i,u,l)+" THEN "+y(e.clauses[t].value,n,o,i,u,l);return null!==e.else&&(r+=" ELSE "+y(e.else,n,o,i,u,l)),r+=" END ",r}case"parameter":{const r=o[e.value.toLowerCase()];if("string"==typeof r){return"'"+o[e.value.toLowerCase()].toString().replaceAll("'","''")+"'"}if((0,_shared_js__WEBPACK_IMPORTED_MODULE_1__.isDate)(r))return T(r,n,l);if((0,_shared_js__WEBPACK_IMPORTED_MODULE_1__.isArcadeDate)(r))return h(r,n,l);if(r instanceof Array){const e=[];for(let s=0;s<r.length;s++)"string"==typeof r[s]?e.push("'"+r[s].toString().replaceAll("'","''")+"'"):(0,_shared_js__WEBPACK_IMPORTED_MODULE_1__.isDate)(r[s])?e.push(T(r[s],n,l)):(0,_shared_js__WEBPACK_IMPORTED_MODULE_1__.isArcadeDate)(r[s])?e.push(h(r[s],n,l)):e.push(r[s].toString());return e}return r.toString()}case"expression-list":f=[];for(const r of e.value)f.push(y(r,n,o,i,u,l));return f;case"unary-expression":return" ( NOT "+y(e.expr,n,o,i,u,l)+" ) ";case"binary-expression":switch(e.operator){case"AND":return" ("+y(e.left,n,o,i,u,l)+" AND "+y(e.right,n,o,i,u,l)+") ";case"OR":return" ("+y(e.left,n,o,i,u,l)+" OR "+y(e.right,n,o,i,u,l)+") ";case"IS":if("null"!==e.right.type)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.UnsupportedIsRhs);return" ("+y(e.left,n,o,i,u,l)+" IS NULL )";case"ISNOT":if("null"!==e.right.type)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.UnsupportedIsRhs);return" ("+y(e.left,n,o,i,u,l)+" IS NOT NULL )";case"IN":return d=[],"expression-list"===e.right.type?(d=y(e.right,n,o,i,u)," ("+y(e.left,n,o,i,u,l)+" IN ("+d.join(",")+")) "):(m=y(e.right,n,o,i,u,l),m instanceof Array?" ("+y(e.left,n,o,i,u,l)+" IN ("+m.join(",")+")) ":" ("+y(e.left,n,o,i,u,l)+" IN ("+m+")) ");case"NOT IN":return d=[],"expression-list"===e.right.type?(d=y(e.right,n,o,i,u)," ("+y(e.left,n,o,i,u,l)+" NOT IN ("+d.join(",")+")) "):(m=y(e.right,n,o,i,u,l),m instanceof Array?" ("+y(e.left,n,o,i,u,l)+" NOT IN ("+m.join(",")+")) ":" ("+y(e.left,n,o,i,u,l)+" NOT IN ("+m+")) ");case"BETWEEN":return p=y(e.right,n,o,i,u,l)," ("+y(e.left,n,o,i,u,l)+" BETWEEN "+p[0]+" AND "+p[1]+" ) ";case"NOTBETWEEN":return p=y(e.right,n,o,i,u,l)," ("+y(e.left,n,o,i,u,l)+" NOT BETWEEN "+p[0]+" AND "+p[1]+" ) ";case"LIKE":return""!==e.escape?" ("+y(e.left,n,o,i,u,l)+" LIKE "+y(e.right,n,o,i,u,l)+" ESCAPE '"+e.escape+"') ":" ("+y(e.left,n,o,i,u,l)+" LIKE "+y(e.right,n,o,i,u,l)+") ";case"NOT LIKE":return""!==e.escape?" ("+y(e.left,n,o,i,u,l)+" NOT LIKE "+y(e.right,n,o,i,u,l)+" ESCAPE '"+e.escape+"') ":" ("+y(e.left,n,o,i,u,l)+" NOT LIKE "+y(e.right,n,o,i,u,l)+") ";case"<>":case"<":case">":case">=":case"<=":case"=":case"*":case"-":case"+":case"/":return" ("+y(e.left,n,o,i,u,l)+" "+e.operator+" "+y(e.right,n,o,i,u,l)+") ";case"||":return" ("+y(e.left,n,o,i,u,l)+" "+(n===_shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.SqlServer?"+":e.operator)+" "+y(e.right,n,o,i,u,l)+") "}throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.UnsupportedOperator,{operator:e.operator});case"null":return"null";case"boolean":return!0===e.value?"1":"0";case"string":return"'"+e.value.toString().replaceAll("'","''")+"'";case"timestamp":case"date":return T(e.value,n,l);case"number":return e.value.toString();case"current-time":return L("date"===e.mode,n);case"column-reference":return i&&i.toLowerCase()===e.column.toLowerCase()?"("+u+")":e.column;case"data-type":return e.value;case"function":{const r=y(e.args,n,o,i,u,l);return g(e.name,r,n)}}throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.UnsupportedSyntax,{node:e.type})}function g(e,t,a){switch(e.toLowerCase().trim()){case"cos":case"sin":case"tan":case"cosh":case"tanh":case"sinh":case"acos":case"asin":case"atan":case"floor":case"log10":case"log":case"abs":if(1!==t.length)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.InvalidFunctionParameters,{function:e.toLowerCase().trim()});return`${e.toUpperCase().trim()}(${t[0]})`;case"ceiling":case"ceil":if(1!==t.length)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.InvalidFunctionParameters,{function:"ceiling"});switch(a){case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Standardised:case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.StandardisedNoInterval:}return"CEILING("+t[0]+")";case"mod":case"power":case"nullif":if(2!==t.length)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.InvalidFunctionParameters,{function:e.toLowerCase().trim()});return`${e.toUpperCase().trim()}(${t[0]},${t[1]})`;case"round":if(2===t.length)return"ROUND("+t[0]+","+t[1]+")";if(1===t.length)return"ROUND("+t[0]+")";throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.InvalidFunctionParameters,{function:"round"});case"truncate":if(t.length<1||t.length>2)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.InvalidFunctionParameters,{function:"truncate"});return a===_shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.SqlServer?"ROUND("+t[0]+(1===t.length?"0":","+t[1])+",1)":"TRUNCATE("+t[0]+(1===t.length?")":","+t[1]+")");case"char_length":case"len":if(1!==t.length)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.InvalidFunctionParameters,{function:"char_length"});switch(a){case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.SqlServer:return"LEN("+t[0]+")";case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Oracle:return"LENGTH("+t[0]+")";default:return"CHAR_LENGTH("+t[0]+")"}case"coalesce":case"concat":{if(t.length<1)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.InvalidFunctionParameters,{function:e.toLowerCase()});let r=e.toUpperCase().trim()+"(";for(let e=0;e<t.length;e++)0!==e&&(r+=","),r+=t[e];return r+=")",r}case"lower":case"lcase":if(1!==t.length)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.InvalidFunctionParameters,{function:"lower"});return"LOWER("+t[0]+")";case"upper":case"ucase":if(1!==t.length)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.InvalidFunctionParameters,{function:"upper"});return"UPPER("+t[0]+")";case"substring":{let e="";switch(a){case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Oracle:return e="SUBSTR("+t[0]+","+t[1],3===t.length&&(e+=","+t[2]),e+=")",e;case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.SqlServer:return e=3===t.length?"SUBSTRING("+t[0]+","+t[1]+","+t[2]+")":"SUBSTRING("+t[0]+",  "+t[1]+", LEN("+t[0]+") - "+t[1]+")",e;default:return e="SUBSTRING("+t[0]+" FROM "+t[1],3===t.length&&(e+=" FOR "+t[2]),e+=")",e}}case"extract":return"EXTRACT("+t[0].replaceAll("'","")+" FROM "+t[1]+")";case"cast":{let e="";switch(a){case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Oracle:switch(t[1].type){case"date":e="DATE";break;case"float":e="DOUBLE";break;case"integer":e="INTEGER";break;case"real":e="REAL";break;case"smallint":e="SMALLINT";break;case"timestamp":e="TIMESTAMP";break;case"varchar":e="VARCHAR("+t[1].size.toString()+")"}return`CAST(${t[0]} AS ${e})`;case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Postgres:switch(t[1].type){case"date":e="DATE";break;case"float":e="DOUBLE PRECISION";break;case"integer":e="INT";break;case"real":e="REAL";break;case"smallint":e="SMALLINT";break;case"timestamp":e="TIMESTAMP";break;case"varchar":e="VARCHAR("+t[1].size.toString()+")"}return`CAST(${t[0]} AS ${e})`;case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.SqlServer:switch(t[1].type){case"date":e="DATE";break;case"float":e="FLOAT";break;case"integer":e="INT";break;case"real":e="REAL";break;case"smallint":e="SMALLINT";break;case"timestamp":e="DATETIME";break;case"varchar":e="VARCHAR("+t[1].size.toString()+")"}return`CAST(${t[0]} AS ${e})`;default:switch(t[1].type){case"date":e="DATE";break;case"float":e="FLOAT";break;case"integer":e="INTEGER";break;case"real":e="REAL";break;case"smallint":e="SMALLINT";break;case"timestamp":e="TIMESTAMP";break;case"varchar":e="VARCHAR("+t[1].size.toString()+")"}return`CAST(${t[0]} AS ${e})`}}}throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.InvalidFunctionParameters,{function:e})}function h(t,a,n,s){n?.outputTimeReference&&(t=_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDate.arcadeDateAndZoneToArcadeDate(t,n?.outputTimeReference));const c=t.toDateTime(),o=0===c.hour&&0===c.minute&&0===c.second&&0===c.millisecond;switch(a){case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.FILEGDB:case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Standardised:case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.StandardisedNoInterval:return o?`date '${c.toFormat("yyyy-LL-dd")}'`:`date '${c.toFormat("yyyy-LL-dd HH:mm:ss")}'`;case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Oracle:return o?`TO_DATE('${c.toFormat("yyyy-LL-dd")}','YYYY-MM-DD')`:`TO_DATE('${c.toFormat("yyyy-LL-dd HH:mm:ss")}','YYYY-MM-DD HH24:MI:SS')`;case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.SqlServer:return`'${c.toFormat(o?"yyyy-LL-dd":"yyyy-LL-dd HH:mm:ss")}'`;case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.PGDB:return`#${c.toFormat(o?"LL-dd-yyyy":"LL-dd-yyyy HH:mm:ss")}#`;case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Postgres:return`TIMESTAMP '${c.toFormat(o?"yyyy-LL-dd":"yyyy-LL-dd HH:mm:ss")}'`;default:return`date '${c.toFormat("yyyy-LL-dd HH:mm:ss")}'`}}function T(e,a,n,s){let c=(0,_shared_js__WEBPACK_IMPORTED_MODULE_1__.isDate)(e)?luxon__WEBPACK_IMPORTED_MODULE_5__.DateTime.fromJSDate(e):luxon__WEBPACK_IMPORTED_MODULE_5__.DateTime.fromSQL(e);const o=0===c.hour&&0===c.minute&&0===c.second&&0===c.millisecond;switch(n?.inputTimeReference&&(c=luxon__WEBPACK_IMPORTED_MODULE_5__.DateTime.fromObject({day:c.day,year:c.year,month:c.month,hour:c.hour,minute:c.minute,second:c.second,millisecond:c.millisecond},{zone:n.inputTimeReference})),n?.outputTimeReference&&(c=c.setZone(n.outputTimeReference)),a){case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.FILEGDB:case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Standardised:case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.StandardisedNoInterval:return o?`date '${c.toFormat("yyyy-LL-dd")}'`:`date '${c.toFormat("yyyy-LL-dd HH:mm:ss")}'`;case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Oracle:return o?`TO_DATE('${c.toFormat("yyyy-LL-dd")}','YYYY-MM-DD')`:`TO_DATE('${c.toFormat("yyyy-LL-dd HH:mm:ss")}','YYYY-MM-DD HH24:MI:SS')`;case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.SqlServer:return`'${c.toFormat(o?"yyyy-LL-dd":"yyyy-LL-dd HH:mm:ss")}'`;case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.PGDB:return`#${c.toFormat(o?"LL-dd-yyyy":"LL-dd-yyyy HH:mm:ss")}#`;case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Postgres:return`TIMESTAMP '${c.toFormat(o?"yyyy-LL-dd":"yyyy-LL-dd HH:mm:ss")}'`;default:return`date '${c.toFormat("yyyy-LL-dd HH:mm:ss")}'`}}function L(e,t){switch(t){case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.FILEGDB:case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Standardised:case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.StandardisedNoInterval:case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Oracle:return e?"CURRENT_DATE":"CURRENT_TIMESTAMP";case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.SqlServer:return e?"CAST(GETDATE() AS DATE)":"GETDATE()";case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.PGDB:case _shared_js__WEBPACK_IMPORTED_MODULE_1__.FeatureServiceDatabaseType.Postgres:default:return e?"CURRENT_DATE":"CURRENT_TIMESTAMP"}}function S(e,r,t={}){const a={},n={},s={esriFieldTypeSmallInteger:"integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"double",esriFieldTypeDouble:"double",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"integer",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"guid",oid:"integer",long:"integer","small-integer":"integer",integer:"integer",single:"double",double:"double",date:"date",guid:"guid",globalid:"guid",string:"string"};for(const c of r){const e=c.type?s[c.type]:void 0;a[c.name.toLowerCase()]=void 0===e?"":e}for(const c in t){const e=s[t[c]];n[c.toLowerCase()]=void 0===e?"":e}switch(E(a,e.parseTree,e.parameters,n)){case"double":return"double";case"integer":return"integer";case"date":return"date";case"string":return"string";case"global-id":case"guid":return"guid"}return""}function E(e,r,n,o){let i;switch(r.type){case"interval":return"integer";case"case-expression":{const t=[];if("simple"===r.format){for(let a=0;a<r.clauses.length;a++)t.push(E(e,r.clauses[a].value,n,o));null!==r.else&&t.push(E(e,r.else,n,o))}else{for(let a=0;a<r.clauses.length;a++)t.push(E(e,r.else,n,o));null!==r.else&&t.push(E(e,r.else,n,o))}return w(t)}case"parameter":{const e=o[r.value.toLowerCase()];if(void 0===e&&n){const e=n[r.value.toLowerCase()];if(void 0===e)return"";if(null===e)return"";if("string"==typeof e||e instanceof String)return"string";if("boolean"==typeof e)return"boolean";if((0,_shared_js__WEBPACK_IMPORTED_MODULE_1__.isDate)(e))return"date";if((0,_shared_js__WEBPACK_IMPORTED_MODULE_1__.isArcadeDate)(e))return"date";if("number"==typeof e)return e%1==0?"integer":"double"}return void 0===e?"":e}case"expression-list":{const t=[];for(const a of r.value)t.push(E(e,a,n,o));return t}case"unary-expression":return"boolean";case"binary-expression":switch(r.operator){case"AND":case"OR":case"IN":case"NOT IN":case"BETWEEN":case"NOTBETWEEN":case"LIKE":case"NOT LIKE":case"<>":case"<":case">":case">=":case"<=":case"=":return"boolean";case"IS":case"ISNOT":if("null"!==r.right.type)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.UnsupportedIsRhs);return"boolean";case"*":case"-":case"+":case"/":return w([E(e,r.left,n,o),E(e,r.right,n,o)]);case"||":return"string";default:throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.UnsupportedOperator,{operator:r.operator})}case"null":return"";case"boolean":return"boolean";case"string":return"string";case"number":return null===r.value?"":r.value%1==0?"integer":"double";case"date":case"timestamp":case"current-time":return"date";case"column-reference":{const t=e[r.column.toLowerCase()];return void 0===t?"":t}case"function":switch(r.name.toLowerCase()){case"cast":switch(r.args?.value[1]?.value.type??""){case"integer":case"smallint":return"integer";case"real":case"float":return"double";case"date":case"timestamp":return"date";case"varchar":return"string";default:return""}case"position":case"extract":case"char_length":case"mod":return"integer";case"round":if(i=E(e,r.args,n,o),i instanceof Array){if(i.length<=0)return"double";i=i[0]}return i;case"sign":return"integer";case"ceiling":case"floor":case"abs":return i=E(e,r.args,n,o),i instanceof Array&&(i=w(i)),"integer"===i||"double"===i?i:"double";case"area":case"length":case"log":case"log10":case"sin":case"cos":case"tan":case"asin":case"acos":case"atan":case"cosh":case"sinh":case"tanh":case"power":return"double";case"substring":case"trim":case"concat":case"lower":case"upper":return"string";case"truncate":return"double";case"nullif":case"coalesce":return i=E(e,r.args,n,o),i instanceof Array?i.length>0?i[0]:"":i}return""}throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_3__.SqlErrorCodes.UnsupportedSyntax,{node:r.type})}const I={boolean:1,string:2,integer:3,double:4,date:5};function w(e){if(e){let r="";for(const t of e)""!==t&&(r=""===r||I[r]<I[t]?t:r);return r}return""}function A(e,r){return b(e.parseTree,r)}function N(e){return"column-reference"===e?.parseTree.type}function b(e,r){if(null==e)return!1;switch(e.type){case"when-clause":return b(e.operand,r)||b(e.value,r);case"case-expression":for(const t of e.clauses)if(b(t,r))return!0;return!("simple"!==e.format||!b(e.operand,r))||!(null===e.else||!b(e.else,r));case"parameter":case"null":case"boolean":case"date":case"timestamp":case"string":case"number":return!1;case"expression-list":for(const t of e.value)if(b(t,r))return!0;return!1;case"unary-expression":return b(e.expr,r);case"binary-expression":return b(e.left,r)||b(e.right,r);case"column-reference":return r.toLowerCase()===e.column.toLowerCase();case"function":return b(e.args,r)}return!1}function v(e){let r="";return r+=e.period.toUpperCase(),r}function R(e,r,t){let a="";return a="interval-period"===r.type?v(r):v(r.start)+" TO "+v(r.end),"INTERVAL "+t+" "+e+" "+a}


/***/ }),

/***/ "./node_modules/@arcgis/core/arcade/featureset/support/stats.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/featureset/support/stats.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "calculateStat": () => (/* binding */ g),
/* harmony export */   "count": () => (/* binding */ M),
/* harmony export */   "decodeStatType": () => (/* binding */ m),
/* harmony export */   "distinct": () => (/* binding */ C),
/* harmony export */   "max": () => (/* binding */ d),
/* harmony export */   "mean": () => (/* binding */ p),
/* harmony export */   "min": () => (/* binding */ w),
/* harmony export */   "stdev": () => (/* binding */ y),
/* harmony export */   "sum": () => (/* binding */ x),
/* harmony export */   "variance": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _errorsupport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errorsupport.js */ "./node_modules/@arcgis/core/arcade/featureset/support/errorsupport.js");
/* harmony import */ var _shared_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shared.js */ "./node_modules/@arcgis/core/arcade/featureset/support/shared.js");
/* harmony import */ var _sqlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sqlUtils.js */ "./node_modules/@arcgis/core/arcade/featureset/support/sqlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function s(t){return t=+t,isFinite(t)?t-t%1||(t<0?-0:0===t?t:0):t}function i(t){let n=0;for(let e=0;e<t.length;e++)n+=t[e];return n/t.length}function l(t){const n=i(t);let e=0;for(let r=0;r<t.length;r++)e+=(n-t[r])**2;return e/t.length}function o(t){const n=i(t);let e=0;for(let r=0;r<t.length;r++)e+=(n-t[r])**2;return e/(t.length-1)}function h(t){let n=0;for(let e=0;e<t.length;e++)n+=t[e];return n}function f(t,n){const c=[],u={},s=[];for(let i=0;i<t.length;i++){if(void 0!==t[i]&&null!==t[i]){const n=t[i];if((0,_shared_js__WEBPACK_IMPORTED_MODULE_1__.isNumber)(n)||(0,_shared_js__WEBPACK_IMPORTED_MODULE_1__.isString)(n))void 0===u[n]&&(c.push(n),u[n]=1);else{let t=!1;for(let e=0;e<s.length;e++)!0===(0,_shared_js__WEBPACK_IMPORTED_MODULE_1__.equalityTest)(s[e],n)&&(t=!0);!1===t&&(s.push(n),c.push(n))}}if(c.length>=n&&-1!==n)return c}return c}function m(t){switch(t.toLowerCase()){case"distinct":return"distinct";case"avg":case"mean":return"avg";case"min":return"min";case"sum":return"sum";case"max":return"max";case"stdev":case"stddev":return"stddev";case"var":case"variance":return"var";case"count":return"count"}return""}function g(t,n,e=1e3){switch(t.toLowerCase()){case"distinct":return f(n,e);case"avg":case"mean":return i(n);case"min":return Math.min.apply(Math,n);case"sum":return h(n);case"max":return Math.max.apply(Math,n);case"stdev":case"stddev":return Math.sqrt(l(n));case"var":case"variance":return l(n);case"count":return n.length}return 0}async function w(t,n,e){const r=await k(t,n,e,!0);return 0===r.length?null:Math.min.apply(Math,r)}async function d(t,n,e){const r=await k(t,n,e,!0);return 0===r.length?null:Math.max.apply(Math,r)}async function p(t,n,e){let r="";n&&!(0,_sqlUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSingleField)(n)&&(r=(0,_sqlUtils_js__WEBPACK_IMPORTED_MODULE_2__.predictType)(n,t.fields));const a=await k(t,n,e,!0);if(0===a.length)return null;const l=i(a);return null===l?l:"integer"===r?s(l):l}async function v(t,n,e){const r=await k(t,n,e,!0);return 0===r.length?null:o(r)}async function y(t,n,e){const r=await k(t,n,e,!0);return 0===r.length?null:Math.sqrt(o(r))}async function x(t,n,e){const r=await k(t,n,e,!0);return 0===r.length?null:h(r)}async function M(t,n){return t.iterator(n).count()}async function k(e,r,a,c=!1){const u=e.iterator(a),s=[],i={ticker:0};let l=await u.next();for(;null!==l;){if(i.ticker++,a.aborted)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSetErrorCodes.Cancelled);i.ticker%100==0&&(i.ticker=0,await new Promise((t=>{setTimeout(t,0)})));const e=r?.calculateValue(l);null===e?!1===c&&(s[s.length]=e):s[s.length]=e,l=await u.next()}return s}async function C(e,r,a=1e3,c=null){const u=e.iterator(c),s=[],i={},l={ticker:0};let o=await u.next();for(;null!==o;){if(l.ticker++,c&&c.aborted)throw new _errorsupport_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSetError(_errorsupport_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSetErrorCodes.Cancelled);l.ticker%100==0&&(l.ticker=0,await new Promise((t=>{setTimeout(t,0)})));const e=r?.calculateValue(o);if(null!=e&&void 0===i[e]&&(s.push(e),i[e]=1),s.length>=a&&-1!==a)return s;o=await u.next()}return s}


/***/ }),

/***/ "./node_modules/@arcgis/core/assets.js":
/*!*********************************************!*\
  !*** ./node_modules/@arcgis/core/assets.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fetchAsset": () => (/* binding */ n),
/* harmony export */   "getAssetUrl": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.assets");function n(s,o){return (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(a(s),o)}function a(t){if(!_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].assetsPath)throw i.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("assets:path-not-set","config.assetsPath is not set");return (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.join)(_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].assetsPath,t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/geometryEngineAsync.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/geometryEngineAsync.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "buffer": () => (/* binding */ L),
/* harmony export */   "changeDefaultSpatialReferenceTolerance": () => (/* binding */ X),
/* harmony export */   "clearDefaultSpatialReferenceTolerance": () => (/* binding */ Y),
/* harmony export */   "clip": () => (/* binding */ y),
/* harmony export */   "contains": () => (/* binding */ p),
/* harmony export */   "convexHull": () => (/* binding */ j),
/* harmony export */   "crosses": () => (/* binding */ m),
/* harmony export */   "cut": () => (/* binding */ w),
/* harmony export */   "densify": () => (/* binding */ C),
/* harmony export */   "difference": () => (/* binding */ E),
/* harmony export */   "disjoint": () => (/* binding */ A),
/* harmony export */   "distance": () => (/* binding */ d),
/* harmony export */   "equals": () => (/* binding */ g),
/* harmony export */   "extendedSpatialReferenceInfo": () => (/* binding */ l),
/* harmony export */   "flipHorizontal": () => (/* binding */ I),
/* harmony export */   "flipVertical": () => (/* binding */ q),
/* harmony export */   "generalize": () => (/* binding */ B),
/* harmony export */   "geodesicArea": () => (/* binding */ K),
/* harmony export */   "geodesicBuffer": () => (/* binding */ P),
/* harmony export */   "geodesicDensify": () => (/* binding */ U),
/* harmony export */   "geodesicLength": () => (/* binding */ M),
/* harmony export */   "intersect": () => (/* binding */ D),
/* harmony export */   "intersectLinesToPoints": () => (/* binding */ Q),
/* harmony export */   "intersects": () => (/* binding */ h),
/* harmony export */   "isSimple": () => (/* binding */ J),
/* harmony export */   "nearestCoordinate": () => (/* binding */ T),
/* harmony export */   "nearestVertex": () => (/* binding */ V),
/* harmony export */   "nearestVertices": () => (/* binding */ z),
/* harmony export */   "offset": () => (/* binding */ v),
/* harmony export */   "overlaps": () => (/* binding */ O),
/* harmony export */   "planarArea": () => (/* binding */ W),
/* harmony export */   "planarLength": () => (/* binding */ F),
/* harmony export */   "relate": () => (/* binding */ R),
/* harmony export */   "rotate": () => (/* binding */ H),
/* harmony export */   "simplify": () => (/* binding */ N),
/* harmony export */   "symmetricDifference": () => (/* binding */ k),
/* harmony export */   "touches": () => (/* binding */ S),
/* harmony export */   "union": () => (/* binding */ b),
/* harmony export */   "within": () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_workers_workers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/workers/workers.js */ "./node_modules/@arcgis/core/core/workers/workers.js");
/* harmony import */ var _Point_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r(n){return Array.isArray(n)?n[0]?.spatialReference:n?.spatialReference}function a(n){return n?Array.isArray(n)?n.map(a):n.toJSON?n.toJSON():n:n}function i(n){return Array.isArray(n)?n.map((n=>(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.fromJSON)(n))):(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.fromJSON)(n)}function o(n,t){let e;return Array.isArray(n)?e=n:(e=[],e.push(n),null!=t&&e.push(t)),e}let c;async function u(){return c||(c=(0,_core_workers_workers_js__WEBPACK_IMPORTED_MODULE_1__.open)("geometryEngineWorker",{strategy:"distributed"})),c}async function s(n,t){return(await u()).invoke("executeGEOperation",{operation:n,parameters:a(t)})}async function f(n,t){const e=await u();return Promise.all(e.broadcast("executeGEOperation",{operation:n,parameters:a(t)}))}function l(n){return s("extendedSpatialReferenceInfo",[n])}async function y(n,t){return i(await s("clip",[r(n),n,t]))}async function w(n,t){return i(await s("cut",[r(n),n,t]))}function p(n,t){return s("contains",[r(n),n,t])}function m(n,t){return s("crosses",[r(n),n,t])}function d(n,t,e){return s("distance",[r(n),n,t,e])}function g(n,t){return s("equals",[r(n),n,t])}function h(n,t){return s("intersects",[r(n),n,t])}function S(n,t){return s("touches",[r(n),n,t])}function x(n,t){return s("within",[r(n),n,t])}function A(n,t){return s("disjoint",[r(n),n,t])}function O(n,t){return s("overlaps",[r(n),n,t])}function R(n,t,e){return s("relate",[r(n),n,t,e])}function J(n){return s("isSimple",[r(n),n])}async function N(n){return i(await s("simplify",[r(n),n]))}async function j(n,t=!1){return i(await s("convexHull",[r(n),n,t]))}async function E(n,t){return i(await s("difference",[r(n),n,t]))}async function k(n,t){return i(await s("symmetricDifference",[r(n),n,t]))}async function D(n,t){return i(await s("intersect",[r(n),n,t]))}async function b(n,t=null){const e=o(n,t);return i(await s("union",[r(e),e]))}async function v(n,t,e,a,o,c){return i(await s("offset",[r(n),n,t,e,a,o,c]))}async function L(n,t,e,a=!1){const o=[r(n),n,t,e,a];return i(await s("buffer",o))}async function P(n,t,e,a,o,c){const u=[r(n),n,t,e,a,o,c];return i(await s("geodesicBuffer",u))}async function T(n,e,a=!0){const i=await s("nearestCoordinate",[r(n),n,e,a]);return{...i,coordinate:_Point_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(i.coordinate)}}async function V(n,e){const a=await s("nearestVertex",[r(n),n,e]);return{...a,coordinate:_Point_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(a.coordinate)}}async function z(n,e,a,i){return(await s("nearestVertices",[r(n),n,e,a,i])).map((n=>({...n,coordinate:_Point_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(n.coordinate)})))}function G(n){return"xmin"in n?n.center:"x"in n?n:n.extent?.center}async function H(n,t,e){if(null==n)throw new Z;const r=n.spatialReference;if(null==(e=e??G(n)))throw new Z;const a=n.constructor.fromJSON(await s("rotate",[r,n,t,e]));return a.spatialReference=r,a}async function I(n,t){if(null==n)throw new Z;const e=n.spatialReference;if(null==(t=t??G(n)))throw new Z;const r=n.constructor.fromJSON(await s("flipHorizontal",[e,n,t]));return r.spatialReference=e,r}async function q(n,t){if(null==n)throw new Z;const e=n.spatialReference;if(null==(t=t??G(n)))throw new Z;const r=n.constructor.fromJSON(await s("flipVertical",[e,n,t]));return r.spatialReference=e,r}async function B(n,t,e,a){return i(await s("generalize",[r(n),n,t,e,a]))}async function C(n,t,e){return i(await s("densify",[r(n),n,t,e]))}async function U(n,t,e,a=0){return i(await s("geodesicDensify",[r(n),n,t,e,a]))}function W(n,t){return s("planarArea",[r(n),n,t])}function F(n,t){return s("planarLength",[r(n),n,t])}function K(n,t,e){return s("geodesicArea",[r(n),n,t,e])}function M(n,t,e){return s("geodesicLength",[r(n),n,t,e])}async function Q(n,t){return i(await s("intersectLinesToPoints",[r(n),n,t]))}async function X(n,t){await f("changeDefaultSpatialReferenceTolerance",[n,t])}async function Y(n){await f("clearDefaultSpatialReferenceTolerance",[n])}class Z extends Error{constructor(){super("Illegal Argument Exception")}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvMTIxYzA5ZTMzNDBiMjAyYmZjNThmY2MwNzQwZWY1YzMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ3laLGdCQUFnQiw4REFBQyxDQUFDLGVBQWUsc1NBQXNTLGlCQUFpQixzQkFBc0IsMkJBQTJCLDRLQUE0Syw4Q0FBOEMseURBQUMsOEdBQThHLGtCQUFrQixtQkFBbUIsc0NBQXNDLFdBQVcsdUVBQWlCLG1DQUFtQywrREFBUyxJQUFJLG1CQUFtQix1Q0FBdUMsc0JBQXNCLDBDQUEwQyxxQkFBcUIseUNBQXlDLG9DQUFvQyw4QkFBOEIsdUJBQXVCLDhDQUE4Qyw0RUFBQyxDQUFDLCtEQUFDLHFCQUFxQiwrREFBQyxjQUFjLHNDQUFzQyw0RUFBQyxnQ0FBZ0Msb0NBQW9DLDBFQUFDLGdDQUFnQyxvQ0FBb0MsMEVBQUMsZ0NBQWdDLGtDQUFrQyx3RUFBQyxnQ0FBZ0MsbUNBQW1DLHlFQUFDLGdDQUFnQyxtQ0FBbUMseUVBQUMsZ0NBQWdDLG9DQUFvQyx3RUFBQywwREFBMEQscUNBQXFDLFlBQVkseURBQUMsc0NBQXNDLG9FQUFvRSxXQUFXLFlBQVksSUFBSSxLQUFLLDZDQUE2QyxpREFBaUQsWUFBWSxJQUFJLG1DQUFtQyxvRUFBYyxzQkFBc0IsdUVBQWlCLENBQUMsZ0JBQWdCLGlDQUFpQywyQkFBMkIsc0tBQXNLLE1BQU0sOENBQThDLHlEQUFDLGtIQUFrSCx5REFBQyxxR0FBcUcsMkJBQTJCLGlCQUFpQixlQUFlLGdLQUFnSyw4RUFBOEUsY0FBYyxHQUFHLGtDQUFrQyx3TUFBd00sNERBQTRELGlDQUFpQyxxRUFBQyxDQUFDLHFGQUFZLEVBQUUsMExBQTBMLHdCQUF3Qiw4RkFBaUMsYUFBYSxtQkFBbUIseURBQUMsRUFBRSxzQkFBc0IsU0FBUyx5RUFBeUUsRUFBRSxDQUFDLHNHQUF5QyxhQUFhLG1CQUFtQix5REFBQyxFQUFFLHNCQUFzQixTQUFTLGlGQUFpRixFQUFFLENBQUMsNEZBQStCLGFBQWEsbUJBQW1CLHlEQUFDLEVBQUUsc0JBQXNCLFNBQVMsdUVBQXVFLEVBQUUsQ0FBQyw0RkFBK0IsYUFBYSxtQkFBbUIseURBQUMsRUFBRSxzQkFBc0IsU0FBUyx1RUFBdUUsRUFBRSxDQUFDLDBGQUE2QixhQUFhLG1CQUFtQix5REFBQyxFQUFFLHNCQUFzQixTQUFTLHFFQUFxRSxFQUFFLENBQUMsMkZBQThCLGFBQWEsbUJBQW1CLHlEQUFDLEVBQUUsc0JBQXNCLFNBQVMsc0VBQXNFLEVBQUUsQ0FBQywyRkFBOEIsYUFBYSxtQkFBbUIseURBQUMsRUFBRSxzQkFBc0IsU0FBUyxzRUFBc0UsRUFBRSxDQUFDLDBGQUE2QixlQUFlLG1CQUFtQix5REFBQyxFQUFFLHNCQUFzQixTQUFTLHdGQUF3RixJQUF5Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p2dEs7QUFDQTtBQUNBO0FBQ0E7QUFDaVAsZ0JBQWdCLDhEQUFDLENBQUMsZUFBZSwwR0FBMEcseURBQUMsbUVBQW1FLHVGQUFjLENBQUMsZ0JBQWdCLGtCQUFrQixnQ0FBZ0Msa0JBQWtCLE9BQU8sdUVBQWlCLENBQUMsb0JBQW9CLFVBQVUscUVBQUMsQ0FBQyxxRkFBWSxFQUFFLHlCQUF5QixTQUFTLHFCQUFxQixnQkFBZ0Isb0JBQW9CLFlBQVksZ0NBQWdDLFVBQVUscUVBQUMsQ0FBQyxxRkFBWSxFQUFFLHdCQUF3QixXQUFXLHlEQUFDLGdCQUFnQixxQkFBcUIsaUNBQWlDLHlCQUF5QixVQUErQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjc2QjtBQUNBO0FBQ0E7QUFDQTtBQUMyNkIsUUFBUSxlQUFlLGlPQUFpTywrRUFBYyx3Z0JBQXdnQixnQ0FBZ0MsMkRBQTJELG1CQUFtQixTQUFTLFVBQVUsK0RBQStELE1BQU0sMkZBQTJGLGdCQUFnQixtQkFBbUIsT0FBTyx1RkFBdUYsaUJBQWlCLG9JQUFvSSx3QkFBd0IscWVBQXFlLHNFQUFDLEVBQUUsVUFBVSxvQkFBb0Isd0VBQU8sRUFBRSxjQUFjLE1BQU0sc0dBQXNHLGlCQUFpQix3REFBd0QsdUVBQUMsaUNBQWlDLHFCQUFxQiw4SUFBOEksZ0JBQWdCLGdHQUFnRyxtQkFBbUIsZ0NBQWdDLDZEQUFDLENBQUMsNEVBQVcsRUFBRSxxQkFBcUIseUNBQXlDLGtDQUFrQyxxRUFBcUUsNERBQTRELGlDQUFpQyw2REFBQyxDQUFDLDZFQUFZLEVBQUUsMEVBQTBFLHVDQUF1QyxpQ0FBaUMsNkRBQUMsQ0FBQyw2RUFBWSxFQUFFLHFEQUFxRCxxQkFBcUIsd0JBQXdCLCtFQUFjLEVBQUUsVUFBVSxrRUFBa0IsRUFBRSxRQUFRLGtGQUFrQyx1Q0FBdUMscUJBQXFCLG1FQUFtRSxJQUFJLDREQUE0RCxrRUFBa0IsRUFBRSxrRkFBa0MsZ0VBQWdFLFNBQVMsYUFBYSxrRUFBa0IsRUFBRSxvRkFBb0MseUNBQXlDLGdDQUFnQywwQkFBMEIsNkJBQTZCLFVBQVUsUUFBUSw0RUFBVyxnR0FBZ0csRUFBRSxRQUFRLHlFQUFRLHNHQUFzRyxFQUFFLFFBQVEseUZBQXdCLHNGQUFzRixFQUFFLGtCQUFrQixtRUFBbUUsT0FBTyx5RkFBd0IsQ0FBQyxnQ0FBZ0Msa0JBQWtCLDJCQUEyQixnRUFBZ0UsVUFBVSw2REFBQyxDQUFDLGlGQUFnQixFQUFFLFVBQVUsbUNBQW1DLHFCQUFxQiwrREFBK0QsbUJBQW1CLE9BQU8sdURBQVMsQ0FBQyxXQUFXLFVBQVUsNkRBQUMsQ0FBQyxpRkFBZ0IsRUFBRSx5QkFBeUIsK0ZBQStGLHdKQUF3SixVQUFVLDZEQUFDLENBQUMsa0ZBQWlCLEVBQUUsNEJBQTRCLHdCQUF3QixZQUFZLGlEQUFDLG9CQUFvQixpRUFBaUUsdUZBQXVGLFNBQVMsNEJBQTRCLGdCQUFnQiwyQkFBMkIsVUFBVSw2REFBQyxDQUFDLGlGQUFnQixFQUFFLDZCQUE2QixtS0FBbUssd0JBQXdCLDZCQUE2Qix3QkFBd0IsNkJBQTZCLHFDQUFxQyxpQkFBaUIsb0pBQW9KLDREQUE0RCxxSUFBcUksU0FBUywrQkFBK0IsWUFBWSw2QkFBNkIsV0FBVyxZQUFZLFdBQVcsZ0RBQWdELFNBQVMsc0JBQXNCLCtEQUErRCxtQkFBbUIsZUFBZSxXQUFXLHVCQUF1QixZQUFZLHNEQUFzRCxLQUFLLFNBQVMscURBQXFELDZCQUE2QixnQ0FBZ0MsT0FBTyw0REFBYyx5R0FBeUcsY0FBYyxtQ0FBbUMsY0FBYyxFQUFFLFlBQVksK0RBQWlCLGFBQWEsY0FBYyxtQ0FBbUMsY0FBYyxPQUFPLFlBQVksdURBQVMsK0JBQStCLGNBQWMsb0JBQW9CLHFCQUFxQixLQUFLLDJEQUEyRCw0QkFBNEIsWUFBWSxpREFBQyx3QkFBd0IsZ0ZBQWdGLHlCQUF5Qiw2Q0FBNkMsbUNBQW1DLHFDQUFxQyxRQUFRLDhCQUE4QixrQkFBa0IsS0FBSyxxQ0FBcUMsK0RBQStELFNBQVMsdUNBQXVDLHFDQUFxQyxRQUFRLFlBQVksdUJBQXVCLEtBQUssMENBQTBDLG1CQUFtQixTQUFTLGlDQUFpQyxpQ0FBaUMsNkRBQUMsQ0FBQyxpRkFBZ0IsRUFBRSwrQ0FBK0MsMkNBQTJDLHNMQUFzTCxtQ0FBbUMseURBQXlELHNCQUFzQixxQ0FBcUMsd0hBQXdILG9CQUFvQixRQUFRLFlBQVksa0hBQWtILHFGQUFxRixrQ0FBa0MsU0FBUyxnS0FBZ0ssK0RBQStELHdCQUF3QixZQUFZLHdCQUF3QixxRUFBcUUsVUFBVSwrQkFBK0IsU0FBUyxzQkFBc0Isa0NBQWtDLDJCQUEyQiw2Q0FBNkMsc0VBQXNFLDJCQUEyQixXQUFXLHdCQUF3QiwyQkFBMkIsZ0RBQUMsVUFBVSx3QkFBd0IsOEJBQThCLG1EQUFDLGNBQWMsd0JBQXdCLG9DQUFvQywrQ0FBQyxZQUFZLHdCQUF3QiwyQkFBMkIsZ0RBQUMsWUFBWSx3QkFBd0IsOEJBQThCLG1EQUFDLFlBQVksd0JBQXdCLHlCQUF5Qiw4Q0FBQyxZQUFZLHdCQUF3Qix5QkFBeUIsOENBQUMsWUFBWSx3QkFBd0IseUJBQXlCLDhDQUFDLFlBQVksd0JBQXdCLGVBQWUseUJBQXlCLDJCQUEyQixnREFBZ0QsOEVBQThFLGNBQWMsR0FBRyxxQkFBcUIsb0RBQW9ELDRCQUE0QixtQ0FBbUMsR0FBRyxpQkFBaUIsNEJBQTRCLG9EQUFvRCxtQ0FBbUMsR0FBRyw4QkFBOEIsbUJBQW1CLElBQUksa0ZBQWtGLHVFQUFDLGNBQWMsSUFBSSx5REFBeUQsU0FBUyxNQUFNLDhFQUE4RSxTQUFTLE1BQU0sS0FBSyxZQUFZLFdBQVcsOERBQUMsU0FBUyxxQkFBcUIsMkRBQTJELHdCQUF3QiwyREFBMkQsaUNBQWlDLG9FQUFvRSxtQ0FBbUMsNkRBQTZELHlDQUF5Qyx3RUFBd0UsY0FBYyxvREFBb0QsY0FBYyx1REFBdUQsc0JBQXNCLCtEQUErRCxZQUFZLHFEQUFxRCxZQUFZLHFEQUFxRCxZQUFZLHFEQUFxRCxVQUFVLG1EQUFtRCxXQUFXLG9EQUFvRCxPQUFPLGdEQUFnRCxXQUFXLG9EQUFvRCxtQkFBbUIseURBQXlELGlCQUFpQixxREFBcUQsV0FBVyxvREFBb0QsY0FBYyx1REFBdUQsYUFBYSxzREFBc0QsbUJBQW1CLDRCQUE0QixxRUFBcUUsR0FBRywyQkFBMkIsSUFBSSx3Q0FBd0Msb0NBQW9DLEdBQUcsbUJBQW1CLElBQUksaUJBQWlCLEtBQUssc0JBQXNCLG9FQUFDLGdCQUFnQixrQ0FBa0Msd0NBQXdDLFNBQVMsTUFBTSxLQUFLLFNBQVMsTUFBTSxlQUFlLHdEQUF3RCxxQkFBcUIseURBQXlELGtCQUFrQixRQUFRLG9FQUFDLElBQUksaURBQWlELDhFQUFDLDhCQUE4Qiw0RUFBQyxvQ0FBb0Msb0JBQW9CLFFBQVEsb0VBQUMsSUFBSSxpREFBaUQsZ0ZBQUMsOEJBQThCLDhFQUFDLG9DQUFvQyxxQkFBcUIsYUFBYSxXQUFXLHlDQUF5QyxnQkFBZ0IsaUNBQWlDLGtCQUFrQixRQUFRLHdFQUFRLDBCQUEwQixpR0FBaUcsc0JBQXNCLGtCQUFrQixRQUFRLHdFQUFRLDBCQUEwQiw2RkFBNkYsc0JBQXNCLGtCQUFrQixRQUFRLHdFQUFRLDBCQUEwQiw2RkFBNkYsc0JBQXNCLGtCQUFrQixRQUFRLHdFQUFRLDBCQUEwQiw2RkFBNkYsc0JBQXNCLGtCQUFrQixRQUFRLHdFQUFRLDBCQUEwQiw2RkFBNkYsd0JBQXdCLGtCQUFrQixRQUFRLHdFQUFRLDBCQUEwQiwrRkFBK0YsMkJBQTJCLGtCQUFrQixRQUFRLHdFQUFRLDBCQUEwQixrR0FBa0csZUFBZSx5REFBeUQsd0VBQVEsd0RBQXdELG1CQUFtQixXQUFXLFlBQVksYUFBYSw0QkFBNEIsdUVBQXVFLEdBQUcsMEJBQTBCLElBQUksd0NBQXdDLG1DQUFtQyxLQUFLLG1CQUFtQixJQUFJLGlCQUFpQixLQUFLLGFBQWEsdUNBQXVDLG9FQUFDLGlCQUFpQixJQUFJLCtCQUErQixTQUFTLE1BQU0scUNBQXFDLFNBQVMsTUFBTSxLQUFLLFNBQVMsTUFBTSxpQkFBaUIsU0FBUyxpQkFBaUIseUNBQXlDLGFBQWEsNkNBQTZDLFlBQVkscUJBQXFCLGtDQUFrQywyREFBQyxrQkFBa0IsNEJBQTRCLFNBQVMsd0RBQXdELDREQUE0RCx1Q0FBdUMscUJBQXFCLGlCQUFpQiwyQkFBMkIsNEJBQTRCLGdEQUFnRCxhQUFhLGlDQUFpQyxXQUFXLHlCQUF5Qix1RUFBdUUsc0JBQXNCLE9BQU8sTUFBTSx1QkFBdUIsMkNBQTJDLGlCQUFpQiwrQ0FBK0MsU0FBUyxXQUFXLGtDQUFrQywyREFBQyxLQUFLLE9BQU8sd0ZBQXdGLHNFQUFDLHVDQUF1QyxzRUFBQyw4QkFBOEIseUJBQXlCLGdGQUFnRixxQkFBcUIsMkJBQTJCLFdBQVcsMkJBQTJCLFNBQVMsc0VBQXNFLHNHQUFzRyxPQUFPLHNCQUFzQix3RkFBd0YseUJBQXlCLDBCQUEwQiw4Q0FBOEMscUJBQXFCLHlDQUF5QyxrQkFBa0Isc0NBQXNDLG9CQUFvQixpRUFBaUUsMEJBQTBCLHVFQUF1RSxtQkFBbUIsbUVBQW1FLG1CQUFtQixxQ0FBcUMsMENBQTBDLHdHQUF3RyxzQ0FBc0MsMkJBQTJCLFdBQVcsMkJBQTJCLFNBQVMsMEdBQTBHLGdJQUFnSSxPQUFPLHNCQUFzQix3SEFBd0gsa0NBQWtDLDBEQUEwRCxtRkFBUSxtREFBbUQsaUJBQWlCLHlEQUF5RCw2QkFBNkIsa0RBQWtELDhCQUE4QixtREFBbUQsNkJBQTZCLDJDQUEyQyxxQkFBcUIsMENBQTBDLGVBQWUscUNBQXFDLDBCQUErQzs7Ozs7Ozs7Ozs7Ozs7OztBQ0p0bmxCO0FBQ0E7QUFDQTtBQUNBO0FBQ3VELFFBQVEsaUJBQWlCLGdEQUFnRCxRQUFRLGdCQUFnQixhQUFhLDJIQUEySCxTQUFTLDZCQUE2QixNQUFNLDRDQUE0QywrQ0FBK0MsUUFBUSw2REFBQyxtQkFBbUIsaUJBQWlCLHFNQUFxTSx3RUFBd0UsT0FBTyxpREFBaUQsR0FBRyxRQUFRLDZEQUFDLDZCQUE2QixvQ0FBb0MsWUFBWSxJQUFJLEtBQUsseUJBQXlCLHFCQUFxQixVQUFVLCtKQUErSixpREFBaUQsT0FBTyxpREFBaUQsR0FBRyw0RkFBNEYsd0VBQXdFLE9BQU8saURBQWlELEdBQUcsT0FBTyxpREFBaUQsR0FBRywyRkFBMkYsT0FBTywrR0FBK0csU0FBUyw4QkFBOEIsNENBQTRDLCtDQUErQyxRQUFRLDZEQUFDLG1CQUFtQiwrU0FBK1MsaURBQWlELE9BQU8saURBQWlELElBQUksS0FBSyw2REFBQyxrSUFBa0ksa0VBQWtFLE9BQU8saURBQWlELDBEQUEwRCxPQUFPLGlEQUFpRCxHQUFHLDJGQUEyRixjQUFjLGlFQUFpRSxrRkFBa0YseUVBQXlFLHdCQUF3QixtTEFBbUwsMkJBQTJCLHFLQUFxSywrRkFBK0YsdURBQXVELFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7QUNKLzlHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxQkFBcUIsNklBQWtLOzs7Ozs7Ozs7Ozs7Ozs7QUNKL0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGNBQWMsNkJBQTZCLG9CQUFvQixxQkFBcUIsNkVBQTZFLG1CQUFtQixpR0FBaUcscUJBQXFCLGdDQUFnQyxnQkFBZ0IsMkRBQTJELGtCQUFrQixxQkFBcUIsa0JBQWtCLHdEQUF3RCx3QkFBNkM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKM2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ3dXLGdCQUFnQix1Q0FBdUMsb0JBQW9CLFNBQVMsd0VBQVEsdUJBQXVCLGtCQUFrQixRQUFRLHlFQUFDLE1BQU0seUVBQUMsSUFBSSxxQkFBcUIsK0VBQWMsaUJBQWlCLDJDQUEyQyxFQUFFLGtCQUFrQixnQkFBZ0Isb0JBQW9CLE9BQU8sd0VBQVEsZUFBZSwrRUFBYyxzQkFBc0Isd0JBQXdCLE9BQU8sd0VBQVEsVUFBVSwrRUFBYyxnQkFBZ0IsK0VBQWMsc0JBQXNCLHVDQUF1QyxZQUFZLGVBQWUsK0RBQStELHVCQUF1QixlQUFlLGlEQUFpRCxZQUFZLG1CQUFtQiwyRkFBMkYscUVBQXFFLGlCQUFpQixpQ0FBaUMsdUJBQXVCLHVFQUF1RSxHQUFHLGtEQUFDLG9CQUFvQixHQUFHLHdEQUFDLG9CQUFvQix1QkFBdUIsV0FBVyxZQUFZLFdBQVcsK0VBQStFLGtEQUFDLDJCQUEyQix3REFBQyxtREFBbUQsU0FBUyxvQkFBb0IsMkJBQTJCLDhDQUE4QyxTQUFTLGlFQUFpRSwyQ0FBMkMsMkVBQTJFLHlFQUF5RSw0Q0FBNEMsc0RBQUMsQ0FBQyw0RUFBa0IsRUFBRSw0Q0FBNEMsK0NBQStDLHNEQUFDLENBQUMsNEVBQWtCLEVBQUUsZ0RBQWdELHdRQUF3USx3UkFBd1IseUdBQXlHLGdIQUFnSCw2S0FBNksseUxBQXlMLCtKQUErSixpREFBaUQsNEVBQVcsK0NBQStDLFVBQVUsc0RBQUMsQ0FBQywrRUFBcUIsRUFBRSxvQkFBb0IsRUFBRSx3QkFBd0IseUNBQXlDLG1FQUFtRSxpREFBaUQsdUNBQXVDLCtDQUErQyw2RkFBNkYsK0JBQStCLGdCQUFnQiw0QkFBNEIsc0JBQXNCLFVBQVUsc0RBQUMsQ0FBQyw2RUFBbUIsRUFBRSxZQUFZLEVBQUUsa0JBQWtCLCtCQUErQixzS0FBc0ssc0RBQUMsQ0FBQyxxRkFBMkIsRUFBRSxnQ0FBZ0MsRUFBRSxTQUFTLHVCQUF1QixHQUFHLEtBQUssR0FBRyxtREFBbUQsc0RBQUMsQ0FBQyxxRkFBMkIsRUFBRSxtQkFBbUIsRUFBRSxVQUFVLEtBQUssK0VBQWMsTUFBTSx5RkFBd0IsRUFBRSwwQkFBMEIsNkRBQTZELHNEQUFDLENBQUMscUZBQTJCLEVBQUUsZ0NBQWdDLEVBQUUsU0FBUyx1QkFBdUIsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLDZEQUE2RCx3Q0FBd0MsVUFBVSxzREFBQyxDQUFDLHFGQUEyQixFQUFFLGlCQUFpQixFQUFFLG1EQUFtRCxzREFBQyxDQUFDLHFGQUEyQixFQUFFLG9CQUFvQixFQUFFLFdBQVcsNEVBQVcsa0dBQWtHLHNEQUFzRCxzREFBQyxDQUFDLHFGQUEyQixFQUFFLHVCQUF1QixFQUFFLFVBQVUsS0FBSyw0RUFBVyx1QkFBdUIsS0FBSyx5RUFBUSwwQkFBMEIsc0NBQXNDLDZCQUE2Qix3QkFBd0Isc0RBQUMsQ0FBQyxxRkFBMkIsRUFBRSx5QkFBeUIsRUFBRSxpQ0FBaUMsWUFBWSxXQUFXLDRCQUE0QixnQkFBZ0Isa0RBQWtELHNEQUFDLENBQUMscUZBQTJCLEVBQUUsaUJBQWlCLEVBQUUsd0JBQXdCLGtEQUFrRCxzREFBQyxDQUFDLHFGQUEyQixFQUFFLGlCQUFpQixFQUFFLHdCQUF3QixpQkFBaUIsU0FBUyxVQUFVLEtBQUsseUVBQVEsdUVBQXVFLEtBQUssNEVBQVcsNEhBQTRILDJGQUEyRix5RUFBeUUsWUFBWSxTQUFTLFVBQVUsS0FBSyx5RUFBUSxtQkFBbUIsb0JBQW9CLE1BQU0sdUJBQXVCLE1BQU0sMEJBQTBCLE1BQU0sb0JBQW9CLE1BQU0sNEJBQTRCLE1BQU0sOEJBQThCLE1BQU0sb0RBQW9ELGNBQWMsTUFBTSxLQUFLLEVBQUUsR0FBRyxLQUFLLDJFQUFVLG1CQUFtQixvQkFBb0IsTUFBTSxpQ0FBaUMsTUFBTSxzQkFBc0IsTUFBTSxvQkFBb0IsTUFBTSw0QkFBNEIsTUFBTSw4QkFBOEIsTUFBTSxvREFBb0QsY0FBYyxNQUFNLEtBQUssRUFBRSxHQUFHLEtBQUssNEVBQVcsbUJBQW1CLG9CQUFvQixNQUFNLHNCQUFzQixNQUFNLHNCQUFzQixNQUFNLG9CQUFvQixNQUFNLDRCQUE0QixNQUFNLDZCQUE2QixNQUFNLG9EQUFvRCxjQUFjLE1BQU0sS0FBSyxFQUFFLEdBQUcsMEJBQTBCLG9CQUFvQixNQUFNLHNCQUFzQixNQUFNLDBCQUEwQixNQUFNLG9CQUFvQixNQUFNLDRCQUE0QixNQUFNLDhCQUE4QixNQUFNLG9EQUFvRCxjQUFjLE1BQU0sS0FBSyxFQUFFLEtBQUssVUFBVSxzREFBQyxDQUFDLHFGQUEyQixFQUFFLFdBQVcsRUFBRSxvQkFBb0IsMkJBQTJCLG9GQUErQiw0QkFBNEIsbUZBQW1GLFVBQVUsS0FBSywwRUFBUyxNQUFNLCtFQUFjLE1BQU0seUZBQXdCLG1CQUFtQix5QkFBeUIsWUFBWSxrQ0FBa0MsR0FBRyxLQUFLLHlFQUFRLHNCQUFzQix5QkFBeUIsNkJBQTZCLGtDQUFrQyw0QkFBNEIsS0FBSyw0RUFBVyxXQUFXLGlEQUFpRCxHQUFHLEtBQUssdUVBQU0sV0FBVyxpREFBaUQsR0FBRyxLQUFLLDJFQUFVLHFCQUFxQixpREFBaUQsR0FBRyx1QkFBdUIsa0NBQWtDLElBQUksb0JBQW9CLE1BQU0sa0RBQUMsSUFBSSxzREFBWSxJQUFJLG1EQUFTLElBQUksa0VBQWtFLGlDQUFpQyxzREFBWSxFQUFFLDBHQUEwRyxFQUFFLDBCQUEwQixtRUFBbUUsS0FBSywwRUFBUyxNQUFNLCtFQUFjLE1BQU0seUZBQXdCLG1CQUFtQix5QkFBeUIsWUFBWSxrQ0FBa0MsR0FBRyxLQUFLLHlFQUFRLHNCQUFzQix5QkFBeUIsNkJBQTZCLGtDQUFrQyw0QkFBNEIsS0FBSyw0RUFBVyxXQUFXLGlEQUFpRCxHQUFHLEtBQUssdUVBQU0sV0FBVyxpREFBaUQsR0FBRyxLQUFLLDJFQUFVLHFCQUFxQixpREFBaUQsR0FBRyx1QkFBdUIsa0NBQWtDLElBQUksZ0JBQWdCLFVBQVUsS0FBSywwRUFBUyxNQUFNLCtFQUFjLE1BQU0seUZBQXdCLE1BQU0seUVBQVEsNkNBQTZDLEtBQUssNEVBQVcsZ0RBQWdELEtBQUssdUVBQU0sTUFBTSwyRUFBVSxzREFBc0QsbUJBQW1CLEVBQUUsVUFBVSxLQUFLLElBQUksc2FBQXNhLGtCQUFrQixnQ0FBZ0Msd0NBQXdDLGtCQUFrQixnQkFBZ0IsbUNBQW1DLHdDQUF3Qyw0QkFBNEIsOEJBQThCLHdCQUF3Qiw0QkFBNEIsd0NBQXdDLFNBQVMsb0JBQW9CLE1BQU0sZUFBZSwrQkFBK0IsdUJBQXVCLFdBQVcsd0JBQXdCLFlBQVksbUJBQW1CLHdDQUF3Qyx1Q0FBdUMsS0FBSyxZQUFZLG1CQUFtQiw0QkFBNEIsdUNBQXVDLFlBQVksaUJBQWlCLGlDQUFpQyxrQkFBa0IsaUNBQWlDLHVCQUF1QixxQkFBcUIsMERBQTBELHVDQUF1QyxHQUFHLGtEQUFDLGlCQUFpQixHQUFHLHdEQUFDLGlCQUFpQix1REFBdUQsdUJBQXVCLHVCQUF1QixXQUFXLDBDQUEwQyxTQUFTLHVDQUF1QywyQ0FBMkMscUtBQXFLLHdEQUF3RCxzREFBQyxDQUFDLDRFQUFrQixFQUFFLGdCQUFnQiw2RUFBNkUsd0JBQXdCLGtCQUFrQixzREFBQyxDQUFDLCtFQUFxQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQiw4QkFBOEIsNEJBQTRCLHNFQUFzRSwyREFBMkQsd0JBQXdCLGtDQUFrQyx1QkFBdUIsNENBQTRDLG9EQUFvRCw2Q0FBNkMsc0NBQXNDLHdDQUF3Qyw2QkFBNkIsaUJBQWlCLHlFQUF5RSxxREFBcUQsOEJBQThCLE9BQU8sU0FBUywyQkFBMkIsaUlBQWlJLHlLQUF5SywrRUFBK0UsOEJBQThCLDZGQUE2RixTQUFTLFVBQVUsc0RBQUMsQ0FBQyw2RUFBbUIsRUFBRSxZQUFZLEVBQUUsU0FBUyw4Q0FBOEMsY0FBYyxNQUFNLFNBQVMsbURBQW1ELFNBQVMsU0FBUyxnQkFBZ0Isd0JBQXdCLGNBQWMsNkNBQTZDLGdCQUFnQixvQkFBb0IsZUFBZSxzREFBc0Qsa0VBQWtFLDhFQUE4RSx1R0FBdUcsZ0VBQWdFLFNBQVMsMENBQTBDLHlEQUF5RCx1RUFBdUUsa0NBQWtDLFNBQVMsY0FBYyxTQUFTLG1DQUFtQyxrQkFBa0IsU0FBUyw4RkFBNGE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0psd2M7QUFDQTtBQUNBO0FBQ0E7QUFDb04sY0FBYyxvREFBb0QsY0FBYyxRQUFRLFlBQVksV0FBVyxZQUFZLGtCQUFrQixjQUFjLGFBQWEsUUFBUSxZQUFZLFdBQVcsbUJBQW1CLGtCQUFrQixjQUFjLGFBQWEsUUFBUSxZQUFZLFdBQVcsbUJBQW1CLHNCQUFzQixjQUFjLFFBQVEsWUFBWSxXQUFXLFlBQVksU0FBUyxnQkFBZ0IsZUFBZSxNQUFNLFlBQVksV0FBVyxLQUFLLCtCQUErQixhQUFhLEdBQUcsb0RBQUMsS0FBSyxvREFBQyxzQ0FBc0MsS0FBSyxTQUFTLFlBQVksV0FBVyxTQUFTLHdEQUFDLGlCQUFpQiwrQkFBK0IsZ0NBQWdDLFNBQVMsY0FBYyx3QkFBd0IsZ0NBQWdDLGlDQUFpQyxzQkFBc0Isc0JBQXNCLHNCQUFzQix3Q0FBd0MscUNBQXFDLDBCQUEwQixTQUFTLHNCQUFzQix3QkFBd0IsNkJBQTZCLGlDQUFpQyx3Q0FBd0Msc0JBQXNCLHdDQUF3QyxnREFBZ0QscUNBQXFDLDRCQUE0QixTQUFTLHdCQUF3QiwwQkFBMEIsZ0RBQWdELHdCQUF3QiwwQkFBMEIsZ0RBQWdELHdCQUF3QixTQUFTLElBQUksMkRBQUMsUUFBUSx5REFBQyxjQUFjLDBCQUEwQiw0QkFBNEIsYUFBYSx1Q0FBdUMsd0JBQXdCLDBCQUEwQiw4QkFBOEIsd0JBQXdCLDBCQUEwQix5Q0FBeUMsd0JBQXdCLDBCQUEwQiw4QkFBOEIsc0JBQXNCLDZCQUE2Qiw2QkFBNkIsOEJBQThCLFVBQVUscUJBQXFCLEtBQUssU0FBUyxFQUFFLGtDQUFrQyw2REFBQyxDQUFDLDRFQUFXLEVBQUUsb0RBQW9ELGdCQUFnQixJQUFJLDZCQUE2QixnRUFBZ0UsU0FBUyxtQ0FBbUMsK0JBQStCLElBQUksVUFBVSxxQkFBcUIsS0FBSyxTQUFTLEVBQUUscUNBQXFDLDZEQUFDLENBQUMsNEVBQVcsRUFBRSxvREFBb0QsZ0JBQWdCLElBQUksNkJBQTZCLDJFQUEyRSxpQkFBaUIsU0FBK0k7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0oxOEY7QUFDQTtBQUNBO0FBQ0E7QUFDZ0ssUUFBUSxpRUFBVyxnQkFBZ0IsZ0JBQWdCLE9BQU8sdURBQUMsU0FBUyxjQUFjLElBQUksNkRBQVkscUlBQXFJLHNEQUFDLHVEQUF1RCxPQUFPLHVEQUFDLENBQUMsNkRBQVksSUFBNkM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pqZ0I7QUFDQTtBQUNBO0FBQ0E7QUFDcUosY0FBYyxtRUFBbUUsY0FBYywyREFBMkQsY0FBYyxrQ0FBa0MsK0RBQUMsTUFBTSwrREFBQyxJQUFJLGdCQUFnQixNQUFNLGtFQUFrRSxNQUFNLG1CQUFtQixhQUFhLDhEQUFDLHlCQUF5Qix1QkFBdUIsS0FBSyxzQkFBc0IsK0NBQStDLDRCQUE0QixFQUFFLHNCQUFzQixrQkFBa0IscURBQXFELDRCQUE0QixHQUFHLGNBQWMsNkNBQTZDLHNCQUFzQixxQ0FBcUMsc0JBQXNCLG9DQUFvQyxnQkFBZ0IsZ0NBQWdDLGdCQUFnQiwrQkFBK0Isa0JBQWtCLGtDQUFrQyxnQkFBZ0IsOEJBQThCLGdCQUFnQixrQ0FBa0MsZ0JBQWdCLCtCQUErQixnQkFBZ0IsOEJBQThCLGdCQUFnQixnQ0FBZ0MsZ0JBQWdCLGdDQUFnQyxrQkFBa0IsZ0NBQWdDLGNBQWMsOEJBQThCLG9CQUFvQix1Q0FBdUMseUJBQXlCLDJDQUEyQyxzQkFBc0IsMkNBQTJDLHNCQUFzQixvREFBb0Qsc0JBQXNCLDBDQUEwQywyQkFBMkIsZUFBZSxvQ0FBb0MsOEJBQThCLCtDQUErQyw2QkFBNkIsdUJBQXVCLDhCQUE4Qiw4QkFBOEIsMkJBQTJCLHNDQUFzQywyQkFBMkIsa0RBQWtELE9BQU8sZ0JBQWdCLDBEQUFVLGdCQUFnQixzQkFBc0IsNENBQTRDLE9BQU8sZ0JBQWdCLDBEQUFVLGdCQUFnQiwwQkFBMEIsNERBQTRELGdCQUFnQiwwREFBVSxlQUFlLElBQUksY0FBYyxxREFBcUQsd0JBQXdCLHVCQUF1QiwyQkFBMkIsaUNBQWlDLDREQUE0RCw4QkFBOEIsc0JBQXNCLHVCQUF1QiwyQkFBMkIsaUNBQWlDLGtFQUFrRSw4QkFBOEIsc0JBQXNCLHVCQUF1QiwyQkFBMkIsaUNBQWlDLGdFQUFnRSw4QkFBOEIsMEJBQTBCLCtDQUErQyx3QkFBd0IsMENBQTBDLDRCQUE0QixvREFBb0QsZ0JBQWdCLGtDQUFrQyxnQkFBZ0Isb0NBQW9DLGtCQUFrQixzQ0FBc0Msa0JBQWtCLHdDQUF3QyxzQkFBc0IsdURBQXVELHNCQUFzQix3REFBd0Qsb0JBQW9CLHFEQUFxRCxzQkFBc0IsY0FBYyxxQ0FBaXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvYXJjYWRlL2ZlYXR1cmVzZXQvYWN0aW9ucy9TcGF0aWFsRmlsdGVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2FyY2FkZS9mZWF0dXJlc2V0L3NvdXJjZXMvRW1wdHkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvYXJjYWRlL2ZlYXR1cmVzZXQvc3VwcG9ydC9GZWF0dXJlU2V0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2FyY2FkZS9mZWF0dXJlc2V0L3N1cHBvcnQvRmVhdHVyZVNldEl0ZXJhdG9yLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2FyY2FkZS9mZWF0dXJlc2V0L3N1cHBvcnQvSWRTZXQuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvYXJjYWRlL2ZlYXR1cmVzZXQvc3VwcG9ydC9jYWNoZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9hcmNhZGUvZmVhdHVyZXNldC9zdXBwb3J0L3NxbFV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2FyY2FkZS9mZWF0dXJlc2V0L3N1cHBvcnQvc3RhdHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvYXNzZXRzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L2dlb21ldHJ5RW5naW5lQXN5bmMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uL3NvdXJjZXMvRW1wdHkuanNcIjtpbXBvcnR7RmVhdHVyZVNldEVycm9yIGFzIHQsRmVhdHVyZVNldEVycm9yQ29kZXMgYXMgaX1mcm9tXCIuLi9zdXBwb3J0L2Vycm9yc3VwcG9ydC5qc1wiO2ltcG9ydCByIGZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZVNldC5qc1wiO2ltcG9ydCBuIGZyb21cIi4uL3N1cHBvcnQvSWRTZXQuanNcIjtpbXBvcnR7SWRTdGF0ZSBhcyBhLHNoYXBlRXh0ZW50IGFzIHN9ZnJvbVwiLi4vc3VwcG9ydC9zaGFyZWQuanNcIjtpbXBvcnR7cmVsYXRlIGFzIG8sY3Jvc3NlcyBhcyBsLHRvdWNoZXMgYXMgdSx3aXRoaW4gYXMgaCxvdmVybGFwcyBhcyBfLGNvbnRhaW5zIGFzIGMsaW50ZXJzZWN0cyBhcyBwfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L2dlb21ldHJ5RW5naW5lQXN5bmMuanNcIjtjbGFzcyBmIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9yZWxhdGlvbj1cIlwiLHRoaXMuX3JlbGF0aW9uR2VvbT1udWxsLHRoaXMuX3JlbGF0aW9uU3RyaW5nPVwiXCIsdGhpcy5kZWNsYXJlZENsYXNzPVwiZXNyaS5hcmNhZGUuZmVhdHVyZXNldC5hY3Rpb25zLlNwYXRpYWxGaWx0ZXJcIix0aGlzLl9yZWxhdGlvblN0cmluZz1lLnJlbGF0aW9uU3RyaW5nLHRoaXMuX3BhcmVudD1lLnBhcmVudGZlYXR1cmVzZXQsdGhpcy5fbWF4UHJvY2Vzc2luZz00MCx0aGlzLl9yZWxhdGlvbj1lLnJlbGF0aW9uLHRoaXMuX3JlbGF0aW9uR2VvbT1lLnJlbGF0aW9uR2VvbX1hc3luYyBfZ2V0U2V0KGUpe2lmKG51bGw9PT10aGlzLl93c2V0KXthd2FpdCB0aGlzLl9lbnN1cmVMb2FkZWQoKTtjb25zdCB0PWF3YWl0IHRoaXMuX3BhcmVudC5fZ2V0RmlsdGVyZWRTZXQoXCJlc3JpU3BhdGlhbFJlbFJlbGF0aW9uXCIhPT10aGlzLl9yZWxhdGlvbj90aGlzLl9yZWxhdGlvbjp0aGlzLl9yZWxhdGlvbitcIjpcIit0aGlzLl9yZWxhdGlvblN0cmluZyx0aGlzLl9yZWxhdGlvbkdlb20sbnVsbCxudWxsLGUpO3JldHVybiB0aGlzLl9jaGVja0NhbmNlbGxlZChlKSx0aGlzLl93c2V0PW5ldyBuKHQuX2NhbmRpZGF0ZXMuc2xpY2UoMCksdC5fa25vd24uc2xpY2UoMCksdC5fb3JkZXJlZCx0aGlzLl9jbG9uZVBhZ2VEZWZpbml0aW9uKHQucGFnZXNEZWZpbml0aW9uKSksdGhpcy5fd3NldH1yZXR1cm4gdGhpcy5fd3NldH1faXNJbkZlYXR1cmVTZXQoZSl7bGV0IHQ9dGhpcy5fcGFyZW50Ll9pc0luRmVhdHVyZVNldChlKTtyZXR1cm4gdD09PWEuTm90SW5GZWF0dXJlU2V0P3Q6KHQ9dGhpcy5faWRzdGF0ZXNbZV0sdm9pZCAwPT09dD9hLlVua25vd246dCl9X2dldEZlYXR1cmUoZSx0LGkpe3JldHVybiB0aGlzLl9wYXJlbnQuX2dldEZlYXR1cmUoZSx0LGkpfV9nZXRGZWF0dXJlcyhlLHQsaSxyKXtyZXR1cm4gdGhpcy5fcGFyZW50Ll9nZXRGZWF0dXJlcyhlLHQsaSxyKX1fZmVhdHVyZUZyb21DYWNoZShlKXtyZXR1cm4gdGhpcy5fcGFyZW50Ll9mZWF0dXJlRnJvbUNhY2hlKGUpfWFzeW5jIGV4ZWN1dGVTcGF0aWFsUmVsYXRpb25UZXN0KGUpe2lmKG51bGw9PT1lLmdlb21ldHJ5KXJldHVybiExO3N3aXRjaCh0aGlzLl9yZWxhdGlvbil7Y2FzZVwiZXNyaVNwYXRpYWxSZWxFbnZlbG9wZUludGVyc2VjdHNcIjpyZXR1cm4gcChzKHRoaXMuX3JlbGF0aW9uR2VvbSkscyhlLmdlb21ldHJ5KSk7Y2FzZVwiZXNyaVNwYXRpYWxSZWxJbnRlcnNlY3RzXCI6cmV0dXJuIHAodGhpcy5fcmVsYXRpb25HZW9tLGUuZ2VvbWV0cnkpO2Nhc2VcImVzcmlTcGF0aWFsUmVsQ29udGFpbnNcIjpyZXR1cm4gYyh0aGlzLl9yZWxhdGlvbkdlb20sZS5nZW9tZXRyeSk7Y2FzZVwiZXNyaVNwYXRpYWxSZWxPdmVybGFwc1wiOnJldHVybiBfKHRoaXMuX3JlbGF0aW9uR2VvbSxlLmdlb21ldHJ5KTtjYXNlXCJlc3JpU3BhdGlhbFJlbFdpdGhpblwiOnJldHVybiBoKHRoaXMuX3JlbGF0aW9uR2VvbSxlLmdlb21ldHJ5KTtjYXNlXCJlc3JpU3BhdGlhbFJlbFRvdWNoZXNcIjpyZXR1cm4gdSh0aGlzLl9yZWxhdGlvbkdlb20sZS5nZW9tZXRyeSk7Y2FzZVwiZXNyaVNwYXRpYWxSZWxDcm9zc2VzXCI6cmV0dXJuIGwodGhpcy5fcmVsYXRpb25HZW9tLGUuZ2VvbWV0cnkpO2Nhc2VcImVzcmlTcGF0aWFsUmVsUmVsYXRpb25cIjpyZXR1cm4gbyh0aGlzLl9yZWxhdGlvbkdlb20sZS5nZW9tZXRyeSx0aGlzLl9yZWxhdGlvblN0cmluZz8/XCJcIil9fWFzeW5jIF9mZXRjaEFuZFJlZmluZUZlYXR1cmVzKGUsdCxpKXtjb25zdCByPW5ldyBuKFtdLGUsITEsbnVsbCkscz1NYXRoLm1pbih0LGUubGVuZ3RoKTthd2FpdCh0aGlzLl9wYXJlbnQ/Ll9nZXRGZWF0dXJlcyhyLC0xLHMsaSkpLHRoaXMuX2NoZWNrQ2FuY2VsbGVkKGkpO2NvbnN0IG89W107Zm9yKGxldCBuPTA7bjxzO24rKyl7Y29uc3QgdD10aGlzLl9wYXJlbnQuX2ZlYXR1cmVGcm9tQ2FjaGUoZVtuXSk7by5wdXNoKGF3YWl0IHRoaXMuZXhlY3V0ZVNwYXRpYWxSZWxhdGlvblRlc3QodCkpfWZvcihsZXQgbj0wO248dDtuKyspITA9PT1vW25dP3RoaXMuX2lkc3RhdGVzW2Vbbl1dPWEuSW5GZWF0dXJlU2V0OnRoaXMuX2lkc3RhdGVzW2Vbbl1dPWEuTm90SW5GZWF0dXJlU2V0O3JldHVyblwic3VjY2Vzc1wifWFzeW5jIF9nZXRGaWx0ZXJlZFNldChlLHQsaSxyLGEpe2F3YWl0IHRoaXMuX2Vuc3VyZUxvYWRlZCgpO2NvbnN0IHM9YXdhaXQgdGhpcy5fcGFyZW50Ll9nZXRGaWx0ZXJlZFNldChcImVzcmlTcGF0aWFsUmVsUmVsYXRpb25cIiE9PXRoaXMuX3JlbGF0aW9uP3RoaXMuX3JlbGF0aW9uOnRoaXMuX3JlbGF0aW9uK1wiOlwiK3RoaXMuX3JlbGF0aW9uU3RyaW5nLHRoaXMuX3JlbGF0aW9uR2VvbSxpLHIsYSk7bGV0IG87cmV0dXJuIHRoaXMuX2NoZWNrQ2FuY2VsbGVkKGEpLG89bnVsbCE9PXQ/bmV3IG4ocy5fY2FuZGlkYXRlcy5zbGljZSgwKS5jb25jYXQocy5fa25vd24uc2xpY2UoMCkpLFtdLHMuX29yZGVyZWQsdGhpcy5fY2xvbmVQYWdlRGVmaW5pdGlvbihzLnBhZ2VzRGVmaW5pdGlvbikpOm5ldyBuKHMuX2NhbmRpZGF0ZXMuc2xpY2UoMCkscy5fa25vd24uc2xpY2UoMCkscy5fb3JkZXJlZCx0aGlzLl9jbG9uZVBhZ2VEZWZpbml0aW9uKHMucGFnZXNEZWZpbml0aW9uKSksb31hc3luYyBfc3RhdChlLHQsaSxyLG4sYSxzKXtpZihcIlwiIT09aSlyZXR1cm57Y2FsY3VsYXRlZDohMX07Y29uc3Qgbz1hd2FpdCB0aGlzLl9wYXJlbnQuX3N0YXQoZSx0LFwiZXNyaVNwYXRpYWxSZWxSZWxhdGlvblwiIT09dGhpcy5fcmVsYXRpb24/dGhpcy5fcmVsYXRpb246dGhpcy5fcmVsYXRpb24rXCI6XCIrdGhpcy5fcmVsYXRpb25TdHJpbmcsdGhpcy5fcmVsYXRpb25HZW9tLG4sYSxzKTtyZXR1cm4hMT09PW8uY2FsY3VsYXRlZD9udWxsPT09biYmXCJcIj09PWkmJm51bGw9PT1yP3RoaXMuX21hbnVhbFN0YXQoZSx0LGEscyk6e2NhbGN1bGF0ZWQ6ITF9Om99YXN5bmMgX2NhbkRvQWdncmVnYXRlcyhlLHQsaSxyLG4pe3JldHVyblwiXCI9PT1pJiZudWxsPT09ciYmKG51bGwhPT10aGlzLl9wYXJlbnQmJnRoaXMuX3BhcmVudC5fY2FuRG9BZ2dyZWdhdGVzKGUsdCxcImVzcmlTcGF0aWFsUmVsUmVsYXRpb25cIiE9PXRoaXMuX3JlbGF0aW9uP3RoaXMuX3JlbGF0aW9uOnRoaXMuX3JlbGF0aW9uK1wiOlwiK3RoaXMuX3JlbGF0aW9uU3RyaW5nLHRoaXMuX3JlbGF0aW9uR2VvbSxuKSl9YXN5bmMgX2dldEFnZ3JlZ2F0ZVBhZ2VzRGF0YVNvdXJjZURlZmluaXRpb24oZSxyLG4sYSxzLG8sbCl7aWYobnVsbD09PXRoaXMuX3BhcmVudCl0aHJvdyBuZXcgdChpLk5ldmVyUmVhY2gpO3JldHVybiB0aGlzLl9wYXJlbnQuX2dldEFnZ3JlZ2F0ZVBhZ2VzRGF0YVNvdXJjZURlZmluaXRpb24oZSxyLFwiZXNyaVNwYXRpYWxSZWxSZWxhdGlvblwiIT09dGhpcy5fcmVsYXRpb24/dGhpcy5fcmVsYXRpb246dGhpcy5fcmVsYXRpb24rXCI6XCIrdGhpcy5fcmVsYXRpb25TdHJpbmcsdGhpcy5fcmVsYXRpb25HZW9tLHMsbyxsKX1zdGF0aWMgcmVnaXN0ZXJBY3Rpb24oKXtyLl9mZWF0dXJlc2V0RnVuY3Rpb25zLmludGVyc2VjdHM9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/bmV3IGUoe3BhcmVudGZlYXR1cmVzZXQ6dGhpc30pOm5ldyBmKHtwYXJlbnRmZWF0dXJlc2V0OnRoaXMscmVsYXRpb246XCJlc3JpU3BhdGlhbFJlbEludGVyc2VjdHNcIixyZWxhdGlvbkdlb206dH0pfSxyLl9mZWF0dXJlc2V0RnVuY3Rpb25zLmVudmVsb3BlSW50ZXJzZWN0cz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9uZXcgZSh7cGFyZW50ZmVhdHVyZXNldDp0aGlzfSk6bmV3IGYoe3BhcmVudGZlYXR1cmVzZXQ6dGhpcyxyZWxhdGlvbjpcImVzcmlTcGF0aWFsUmVsRW52ZWxvcGVJbnRlcnNlY3RzXCIscmVsYXRpb25HZW9tOnR9KX0sci5fZmVhdHVyZXNldEZ1bmN0aW9ucy5jb250YWlucz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9uZXcgZSh7cGFyZW50ZmVhdHVyZXNldDp0aGlzfSk6bmV3IGYoe3BhcmVudGZlYXR1cmVzZXQ6dGhpcyxyZWxhdGlvbjpcImVzcmlTcGF0aWFsUmVsQ29udGFpbnNcIixyZWxhdGlvbkdlb206dH0pfSxyLl9mZWF0dXJlc2V0RnVuY3Rpb25zLm92ZXJsYXBzPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P25ldyBlKHtwYXJlbnRmZWF0dXJlc2V0OnRoaXN9KTpuZXcgZih7cGFyZW50ZmVhdHVyZXNldDp0aGlzLHJlbGF0aW9uOlwiZXNyaVNwYXRpYWxSZWxPdmVybGFwc1wiLHJlbGF0aW9uR2VvbTp0fSl9LHIuX2ZlYXR1cmVzZXRGdW5jdGlvbnMud2l0aGluPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P25ldyBlKHtwYXJlbnRmZWF0dXJlc2V0OnRoaXN9KTpuZXcgZih7cGFyZW50ZmVhdHVyZXNldDp0aGlzLHJlbGF0aW9uOlwiZXNyaVNwYXRpYWxSZWxXaXRoaW5cIixyZWxhdGlvbkdlb206dH0pfSxyLl9mZWF0dXJlc2V0RnVuY3Rpb25zLnRvdWNoZXM9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/bmV3IGUoe3BhcmVudGZlYXR1cmVzZXQ6dGhpc30pOm5ldyBmKHtwYXJlbnRmZWF0dXJlc2V0OnRoaXMscmVsYXRpb246XCJlc3JpU3BhdGlhbFJlbFRvdWNoZXNcIixyZWxhdGlvbkdlb206dH0pfSxyLl9mZWF0dXJlc2V0RnVuY3Rpb25zLmNyb3NzZXM9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/bmV3IGUoe3BhcmVudGZlYXR1cmVzZXQ6dGhpc30pOm5ldyBmKHtwYXJlbnRmZWF0dXJlc2V0OnRoaXMscmVsYXRpb246XCJlc3JpU3BhdGlhbFJlbENyb3NzZXNcIixyZWxhdGlvbkdlb206dH0pfSxyLl9mZWF0dXJlc2V0RnVuY3Rpb25zLnJlbGF0ZT1mdW5jdGlvbih0LGkpe3JldHVybiBudWxsPT10P25ldyBlKHtwYXJlbnRmZWF0dXJlc2V0OnRoaXN9KTpuZXcgZih7cGFyZW50ZmVhdHVyZXNldDp0aGlzLHJlbGF0aW9uOlwiZXNyaVNwYXRpYWxSZWxSZWxhdGlvblwiLHJlbGF0aW9uR2VvbTp0LHJlbGF0aW9uU3RyaW5nOml9KX19fWV4cG9ydHtmIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtGZWF0dXJlU2V0RXJyb3IgYXMgZSxGZWF0dXJlU2V0RXJyb3JDb2RlcyBhcyB0fWZyb21cIi4uL3N1cHBvcnQvZXJyb3JzdXBwb3J0LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vc3VwcG9ydC9GZWF0dXJlU2V0LmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vc3VwcG9ydC9JZFNldC5qc1wiO2ltcG9ydHtGZWF0dXJlU2VydmljZURhdGFiYXNlVHlwZSBhcyBhLElkU3RhdGUgYXMgbn1mcm9tXCIuLi9zdXBwb3J0L3NoYXJlZC5qc1wiO2NsYXNzIHUgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZGVjbGFyZWRDbGFzcz1cImVzcmkubGF5ZXJzLmZlYXR1cmVzZXQuc291cmNlcy5FbXB0eVwiLHRoaXMuX21heFByb2Nlc3Npbmc9MWUzLHRoaXMuX3dzZXQ9bmV3IHMoW10sW10sITEsbnVsbCksdGhpcy5fcGFyZW50PWUucGFyZW50ZmVhdHVyZXNldCx0aGlzLl9kYXRhYmFzZVR5cGU9YS5TdGFuZGFyZGlzZWR9YXN5bmMgX2dldFNldCgpe3JldHVybiB0aGlzLl93c2V0fW9wdGltaXNlUGFnaW5nRmVhdHVyZVF1ZXJpZXMoKXt9X2lzSW5GZWF0dXJlU2V0KCl7cmV0dXJuIG4uTm90SW5GZWF0dXJlU2V0fWFzeW5jIF9nZXRGZWF0dXJlKCl7dGhyb3cgbmV3IGUodC5OZXZlclJlYWNoKX1hc3luYyBxdWVyeUF0dGFjaG1lbnRzKCl7cmV0dXJuW119YXN5bmMgX2dldEZlYXR1cmVzKCl7cmV0dXJuXCJzdWNjZXNzXCJ9X2ZlYXR1cmVGcm9tQ2FjaGUoKXtyZXR1cm4gbnVsbH1hc3luYyBfZmV0Y2hBbmRSZWZpbmVGZWF0dXJlcygpe3Rocm93IG5ldyBlKHQuTmV2ZXJSZWFjaCl9YXN5bmMgX2dldEZpbHRlcmVkU2V0KCl7cmV0dXJuIG5ldyBzKFtdLFtdLCExLG51bGwpfV9zdGF0KGUsdCxyLHMsYSxuLHUpe3JldHVybiB0aGlzLl9tYW51YWxTdGF0KGUsdCxuLHUpfWFzeW5jIF9jYW5Eb0FnZ3JlZ2F0ZXMoKXtyZXR1cm4hMX19ZXhwb3J0e3UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0RhdGVUaW1lUmVmZXJlbmNlRmllbGRJbmRleCBhcyBlfWZyb21cIi4uLy4uL2FyY2FkZVRpbWVVdGlscy5qc1wiO2ltcG9ydCB0IGZyb21cIi4vY2FjaGUuanNcIjtpbXBvcnR7RmVhdHVyZVNldEVycm9yIGFzIHMsRmVhdHVyZVNldEVycm9yQ29kZXMgYXMgcn1mcm9tXCIuL2Vycm9yc3VwcG9ydC5qc1wiO2ltcG9ydCBuIGZyb21cIi4vRmVhdHVyZVNldEl0ZXJhdG9yLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi9JZFNldC5qc1wiO2ltcG9ydHtGZWF0dXJlU2VydmljZURhdGFiYXNlVHlwZSBhcyBhLGxheWVyR2VvbWV0cnlFc3JpQ29uc3RhbnRzIGFzIGwsSWRTdGF0ZSBhcyB1LGNvbnZlcnRTcXVhcmVVbml0c1RvQ29kZSBhcyBoLGNvbnZlcnRMaW5lYXJVbml0c1RvQ29kZSBhcyBjLGVzcmlGaWVsZFRvSnNvbiBhcyBvLGxheWVyR2VvbWV0cnlFc3JpUmVzdENvbnN0YW50cyBhcyBkfWZyb21cIi4vc2hhcmVkLmpzXCI7aW1wb3J0e21heCBhcyBfLG1pbiBhcyBwLHN1bSBhcyBmLHZhcmlhbmNlIGFzIGcsc3RkZXYgYXMgbSxtZWFuIGFzIHksZGlzdGluY3QgYXMgRixjb3VudCBhcyBifWZyb21cIi4vc3RhdHMuanNcIjtpbXBvcnR7aXNQcm9taXNlTGlrZSBhcyBJfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e1doZXJlQ2xhdXNlIGFzIHd9ZnJvbVwiLi4vLi4vLi4vY29yZS9zcWwvV2hlcmVDbGF1c2UuanNcIjtpbXBvcnR7dW5pb24gYXMgUyxnZW9kZXNpY0FyZWEgYXMgVCxwbGFuYXJBcmVhIGFzIFAsZ2VvZGVzaWNMZW5ndGggYXMgeCxwbGFuYXJMZW5ndGggYXMga31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZUFzeW5jLmpzXCI7aW1wb3J0IEQgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydCBDIGZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0ZpZWxkc0luZGV4LmpzXCI7Y2xhc3Mgdntjb25zdHJ1Y3RvcihlKXt0aGlzLnJlY2VudGx5VXNlZFF1ZXJpZXM9bnVsbCx0aGlzLmZlYXR1cmVTZXRRdWVyeUludGVyY2VwdG9yPW51bGwsdGhpcy5faWRzdGF0ZXM9W10sdGhpcy5fcGFyZW50PW51bGwsdGhpcy5fd3NldD1udWxsLHRoaXMuX21haW5TZXRJblVzZT1udWxsLHRoaXMuX21heFByb2Nlc3Npbmc9MjAwLHRoaXMuX21heFF1ZXJ5PTUwMCx0aGlzLl90b3RhbENvdW50PS0xLHRoaXMuX2RhdGFiYXNlVHlwZT1hLk5vdEV2YWx1YXRlZCx0aGlzLl9kYXRhYmFzZVR5cGVQcm9iZWQ9bnVsbCx0aGlzLmRlY2xhcmVkUm9vdENsYXNzPVwiZXNyaS5hcmNhZGUuZmVhdHVyZXNldC5zdXBwb3J0LkZlYXR1cmVTZXRcIix0aGlzLl9mZWF0dXJlQ2FjaGU9W10sdGhpcy50eXBlSWRGaWVsZD1udWxsLHRoaXMudHlwZXM9bnVsbCx0aGlzLmZpZWxkcz1udWxsLHRoaXMuZ2VvbWV0cnlUeXBlPVwiXCIsdGhpcy5vYmplY3RJZEZpZWxkPVwiXCIsdGhpcy5nbG9iYWxJZEZpZWxkPVwiXCIsdGhpcy5zcGF0aWFsUmVmZXJlbmNlPW51bGwsdGhpcy5oYXNNPSExLHRoaXMuaGFzWj0hMSx0aGlzLl90cmFuc3BhcmVudD0hMSx0aGlzLmxvYWRlZD0hMSx0aGlzLl9sb2FkUHJvbWlzZT1udWxsLHRoaXMuX2ZpZWxkc0luZGV4PW51bGwsdGhpcy5fZGF0ZUZpZWxkSW5kZXg9bnVsbCxlJiZlLmxydWNhY2hlJiYodGhpcy5yZWNlbnRseVVzZWRRdWVyaWVzPWUubHJ1Y2FjaGUpLGUmJmUuaW50ZXJjZXB0b3ImJih0aGlzLmZlYXR1cmVTZXRRdWVyeUludGVyY2VwdG9yPWUuaW50ZXJjZXB0b3IpfW9wdGltaXNlUGFnaW5nRmVhdHVyZVF1ZXJpZXMoZSl7dGhpcy5fcGFyZW50JiZ0aGlzLl9wYXJlbnQub3B0aW1pc2VQYWdpbmdGZWF0dXJlUXVlcmllcyhlKX1faGFzTWVtb3J5U291cmNlKCl7cmV0dXJuITB9cHJvcChlLHQpe3JldHVybiB2b2lkIDA9PT10P3RoaXNbZV06KHZvaWQgMCE9PXRoaXNbZV0mJih0aGlzW2VdPXQpLHRoaXMpfWVuZCgpe3JldHVybiBudWxsIT09dGhpcy5fcGFyZW50JiYhMD09PXRoaXMuX3BhcmVudC5fdHJhbnNwYXJlbnQ/dGhpcy5fcGFyZW50LmVuZCgpOnRoaXMuX3BhcmVudH1fZW5zdXJlTG9hZGVkKCl7cmV0dXJuIHRoaXMubG9hZCgpfWxvYWQoKXtyZXR1cm4gbnVsbD09PXRoaXMuX2xvYWRQcm9taXNlJiYodGhpcy5fbG9hZFByb21pc2U9dGhpcy5sb2FkSW1wbCgpKSx0aGlzLl9sb2FkUHJvbWlzZX1hc3luYyBsb2FkSW1wbCgpe3JldHVybiEwPT09dGhpcy5fcGFyZW50Py5sb2FkZWQ/KHRoaXMuX2luaXRpYWxpc2VGZWF0dXJlU2V0KCksdGhpcyk6KGF3YWl0KHRoaXMuX3BhcmVudD8ubG9hZCgpKSx0aGlzLl9pbml0aWFsaXNlRmVhdHVyZVNldCgpLHRoaXMpfV9pbml0aWFsaXNlRmVhdHVyZVNldCgpe251bGwhPT10aGlzLl9wYXJlbnQ/KHRoaXMuZmllbGRzPXRoaXMuX3BhcmVudC5maWVsZHMuc2xpY2UoMCksdGhpcy5nZW9tZXRyeVR5cGU9dGhpcy5fcGFyZW50Lmdlb21ldHJ5VHlwZSx0aGlzLm9iamVjdElkRmllbGQ9dGhpcy5fcGFyZW50Lm9iamVjdElkRmllbGQsdGhpcy5nbG9iYWxJZEZpZWxkPXRoaXMuX3BhcmVudC5nbG9iYWxJZEZpZWxkLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT10aGlzLl9wYXJlbnQuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLmhhc009dGhpcy5fcGFyZW50Lmhhc00sdGhpcy5oYXNaPXRoaXMuX3BhcmVudC5oYXNaLHRoaXMudHlwZUlkRmllbGQ9dGhpcy5fcGFyZW50LnR5cGVJZEZpZWxkLHRoaXMudHlwZXM9dGhpcy5fcGFyZW50LnR5cGVzKToodGhpcy5maWVsZHM9W10sdGhpcy50eXBlSWRGaWVsZD1cIlwiLHRoaXMub2JqZWN0SWRGaWVsZD1cIlwiLHRoaXMuZ2xvYmFsSWRGaWVsZD1cIlwiLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1uZXcgRCh7d2tpZDo0MzI2fSksdGhpcy5nZW9tZXRyeVR5cGU9bC5wb2ludCl9Z2V0RmllbGQoZSx0KXtsZXQgcztyZXR1cm4odD10fHx0aGlzLmZpZWxkcykmJihlPWUudG9Mb3dlckNhc2UoKSx0LnNvbWUoKHQ9Pih0JiZ0Lm5hbWUudG9Mb3dlckNhc2UoKT09PWUmJihzPXQpLCEhcykpKSksc31nZXRGaWVsZHNJbmRleCgpe3JldHVybiBudWxsPT09dGhpcy5fZmllbGRzSW5kZXgmJih0aGlzLl9maWVsZHNJbmRleD1uZXcgQyh0aGlzLmZpZWxkcykpLHRoaXMuX2ZpZWxkc0luZGV4fV9tYXhQcm9jZXNzaW5nUmF0ZSgpe3JldHVybiBudWxsIT09dGhpcy5fcGFyZW50P01hdGgubWluKHRoaXMuX21heFByb2Nlc3NpbmcsdGhpcy5fcGFyZW50Ll9tYXhQcm9jZXNzaW5nUmF0ZSgpKTpNYXRoLm1pbih0aGlzLl9tYXhQcm9jZXNzaW5nLHRoaXMuX21heFF1ZXJ5UmF0ZSgpKX1fbWF4UXVlcnlSYXRlKCl7cmV0dXJuIG51bGwhPT10aGlzLl9wYXJlbnQ/TWF0aC5tYXgodGhpcy5fbWF4UXVlcnksdGhpcy5fcGFyZW50Ll9tYXhRdWVyeVJhdGUoKSk6dGhpcy5fbWF4UXVlcnl9X2NoZWNrQ2FuY2VsbGVkKGUpe2lmKG51bGwhPWUmJmUuYWJvcnRlZCl0aHJvdyBuZXcgcyhyLkNhbmNlbGxlZCl9bmF0aXZlQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIHRoaXMuX3BhcmVudC5uYXRpdmVDYXBhYmlsaXRpZXMoKX1hc3luYyBfY2FuRG9BZ2dyZWdhdGVzKGUsdCxzLHIsbil7cmV0dXJuIG51bGwhPT10aGlzLl9wYXJlbnQmJnRoaXMuX3BhcmVudC5fY2FuRG9BZ2dyZWdhdGVzKGUsdCxzLHIsbil9YXN5bmMgX2dldEFnZ3JlZ2F0ZVBhZ2VzRGF0YVNvdXJjZURlZmluaXRpb24oZSx0LG4saSxhLGwsdSl7aWYobnVsbD09PXRoaXMuX3BhcmVudCl0aHJvdyBuZXcgcyhyLk5ldmVyUmVhY2gpO3JldHVybiB0aGlzLl9wYXJlbnQuX2dldEFnZ3JlZ2F0ZVBhZ2VzRGF0YVNvdXJjZURlZmluaXRpb24oZSx0LG4saSxhLGwsdSl9YXN5bmMgX2dldEFncmVnYWd0ZVBoeXNpY2FsUGFnZShlLHQsbil7aWYobnVsbD09PXRoaXMuX3BhcmVudCl0aHJvdyBuZXcgcyhyLk5ldmVyUmVhY2gpO3JldHVybiB0aGlzLl9wYXJlbnQuX2dldEFncmVnYWd0ZVBoeXNpY2FsUGFnZShlLHQsbil9YXN5bmMgZGF0YWJhc2VUeXBlKCl7aWYodGhpcy5fZGF0YWJhc2VUeXBlPT09YS5Ob3RFdmFsdWF0ZWQpe2lmKG51bGwhPT10LmFwcGxpY2F0aW9uQ2FjaGUpe2NvbnN0IGU9dC5hcHBsaWNhdGlvbkNhY2hlLmdldERhdGFiYXNlVHlwZSh0aGlzLl9jYWNoZWFibGVGZWF0dXJlU2V0U291cmNlS2V5KCkpO2lmKG51bGwhPT1lKXJldHVybiBlfWlmKG51bGwhPT10aGlzLl9kYXRhYmFzZVR5cGVQcm9iZWQpcmV0dXJuIHRoaXMuX2RhdGFiYXNlVHlwZVByb2JlZDt0cnl7dGhpcy5fZGF0YWJhc2VUeXBlUHJvYmVkPXRoaXMuX2dldERhdGFiYXNlVHlwZUltcGwoKSxudWxsIT09dC5hcHBsaWNhdGlvbkNhY2hlJiZ0LmFwcGxpY2F0aW9uQ2FjaGUuc2V0RGF0YWJhc2VUeXBlKHRoaXMuX2NhY2hlYWJsZUZlYXR1cmVTZXRTb3VyY2VLZXkoKSx0aGlzLl9kYXRhYmFzZVR5cGVQcm9iZWQpfWNhdGNoKGUpe3Rocm93IG51bGwhPT10LmFwcGxpY2F0aW9uQ2FjaGUmJnQuYXBwbGljYXRpb25DYWNoZS5jbGVhckRhdGFiYXNlVHlwZSh0aGlzLl9jYWNoZWFibGVGZWF0dXJlU2V0U291cmNlS2V5KCkpLGV9cmV0dXJuIHRoaXMuX2RhdGFiYXNlVHlwZVByb2JlZH1yZXR1cm4gdGhpcy5fZGF0YWJhc2VUeXBlfWFzeW5jIF9nZXREYXRhYmFzZVR5cGVJbXBsKCl7Y29uc3QgZT1be3RoZXR5cGU6YS5TcWxTZXJ2ZXIsdGVzdHdoZXJlOlwiKENBU1QoICcyMDE1LTAxLTAxJyBhcyBEQVRFVElNRSkgPSBDQVNUKCAnMjAxNS0wMS0wMScgYXMgREFURVRJTUUpKSBBTkQgT0JKRUNUSUQ8MFwifSx7dGhldHlwZTphLk9yYWNsZSx0ZXN0d2hlcmU6XCIoVE9fREFURSgnMjAwMy0xMS0xOCcsJ1lZWVktTU0tREQnKSA9IFRPX0RBVEUoJzIwMDMtMTEtMTgnLCdZWVlZLU1NLUREJykpIEFORCBPQkpFQ1RJRDwwXCJ9LHt0aGV0eXBlOmEuU3RhbmRhcmRpc2VkTm9JbnRlcnZhbCx0ZXN0d2hlcmU6XCIoZGF0ZSAnMjAxNS0wMS0wMSAxMDoxMDoxMCcgPSBkYXRlICcyMDE1LTAxLTAxIDEwOjEwOjEwJykgQU5EIE9CSkVDVElEPDBcIn1dO2Zvcihjb25zdCB0IG9mIGUpe2lmKCEwPT09YXdhaXQgdGhpcy5fcnVuRGF0YWJhc2VQcm9iZSh0LnRlc3R3aGVyZSkpcmV0dXJuIHQudGhldHlwZX1yZXR1cm4gYS5TdGFuZGFyZGlzZWROb0ludGVydmFsfV9jYWNoZWFibGVGZWF0dXJlU2V0U291cmNlS2V5KCl7cmV0dXJuXCJNVVNUQkVTRVRcIn1hc3luYyBfcnVuRGF0YWJhc2VQcm9iZShlKXtpZihudWxsIT09dGhpcy5fcGFyZW50KXJldHVybiB0aGlzLl9wYXJlbnQuX3J1bkRhdGFiYXNlUHJvYmUoZSk7dGhyb3cgbmV3IHMoci5Ob3RJbXBsZW1lbnRlZCl9aXNUYWJsZSgpe3JldHVybiB0aGlzLl9wYXJlbnQ/LmlzVGFibGUoKT8/ITF9X2ZlYXR1cmVGcm9tQ2FjaGUoZSl7aWYodm9pZCAwIT09dGhpcy5fZmVhdHVyZUNhY2hlW2VdKXJldHVybiB0aGlzLl9mZWF0dXJlQ2FjaGVbZV19X2lzSW5GZWF0dXJlU2V0KGUpe3JldHVybiB1LlVua25vd259X2dldFNldChlKXt0aHJvdyBuZXcgcyhyLk5vdEltcGxlbWVudGVkKX1hc3luYyBfZ2V0RmVhdHVyZShlLHQsbil7aWYodGhpcy5fY2hlY2tDYW5jZWxsZWQobiksdm9pZCAwIT09dGhpcy5fZmVhdHVyZUZyb21DYWNoZSh0KSlyZXR1cm4gdGhpcy5fZmVhdHVyZUZyb21DYWNoZSh0KTtpZihhd2FpdCB0aGlzLl9nZXRGZWF0dXJlcyhlLHQsdGhpcy5fbWF4UHJvY2Vzc2luZ1JhdGUoKSxuKSx0aGlzLl9jaGVja0NhbmNlbGxlZChuKSx2b2lkIDAhPT10aGlzLl9mZWF0dXJlRnJvbUNhY2hlKHQpKXJldHVybiB0aGlzLl9mZWF0dXJlRnJvbUNhY2hlKHQpO3Rocm93IG5ldyBzKHIuTWlzc2luZ0ZlYXR1cmVzKX1hc3luYyBfZ2V0RmVhdHVyZUJhdGNoKGUsdCl7dGhpcy5fY2hlY2tDYW5jZWxsZWQodCk7Y29uc3Qgcz1uZXcgaShbXSxlLCExLG51bGwpLHI9W107YXdhaXQgdGhpcy5fZ2V0RmVhdHVyZXMocywtMSxlLmxlbmd0aCx0KSx0aGlzLl9jaGVja0NhbmNlbGxlZCh0KTtmb3IoY29uc3QgbiBvZiBlKXZvaWQgMCE9PXRoaXMuX2ZlYXR1cmVGcm9tQ2FjaGUobikmJnIucHVzaCh0aGlzLl9mZWF0dXJlRnJvbUNhY2hlKG4pKTtyZXR1cm4gcn1hc3luYyBfZ2V0RmVhdHVyZXMoZSx0LHMscil7cmV0dXJuXCJzdWNjZXNzXCJ9X2dldEZpbHRlcmVkU2V0KGUsdCxuLGksYSl7dGhyb3cgbmV3IHMoci5Ob3RJbXBsZW1lbnRlZCl9YXN5bmMgX3JlZmluZVNldEJsb2NrKGUsdCxzKXtpZighMD09PXRoaXMuX2NoZWNrSWZOZWVkVG9FeHBhbmRDYW5kaWRhdGVQYWdlKGUsdGhpcy5fbWF4UXVlcnlSYXRlKCkpKXJldHVybiBhd2FpdCB0aGlzLl9leHBhbmRQYWdlZFNldChlLHRoaXMuX21heFF1ZXJ5UmF0ZSgpLDAsMCxzKSx0aGlzLl9yZWZpbmVTZXRCbG9jayhlLHQscyk7dGhpcy5fY2hlY2tDYW5jZWxsZWQocyk7Y29uc3Qgcj1lLl9jYW5kaWRhdGVzLmxlbmd0aDt0aGlzLl9yZWZpbmVLbm93bnMoZSx0KTtsZXQgbj1yLWUuX2NhbmRpZGF0ZXMubGVuZ3RoO2lmKDA9PT1lLl9jYW5kaWRhdGVzLmxlbmd0aClyZXR1cm4gZTtpZihuPj10KXJldHVybiBlO2lmKGF3YWl0IHRoaXMuX3JlZmluZUlmUGFyZW50S25vd24oZSx0LW4scyksdGhpcy5fY2hlY2tDYW5jZWxsZWQocyksdGhpcy5fcmVmaW5lS25vd25zKGUsdC1uKSxuPXItZS5fY2FuZGlkYXRlcy5sZW5ndGgsbjx0JiZlLl9jYW5kaWRhdGVzLmxlbmd0aD4wKXtjb25zdCByPXQtbixpPXRoaXMuX3ByZXBhcmVGZXRjaEFuZFJlZmluZVNldChlLl9jYW5kaWRhdGVzKTtyZXR1cm4gYXdhaXQgdGhpcy5fZmV0Y2hBbmRSZWZpbmVGZWF0dXJlcyhpLGkubGVuZ3RoPnI/cjplLl9jYW5kaWRhdGVzLmxlbmd0aCxzKSx0aGlzLl9jaGVja0NhbmNlbGxlZChzKSx0aGlzLl9yZWZpbmVLbm93bnMoZSx0LW4pLGV9cmV0dXJuIGV9X2ZldGNoQW5kUmVmaW5lRmVhdHVyZXMoZSx0LHMpe3JldHVybiBudWxsfV9wcmVwYXJlRmV0Y2hBbmRSZWZpbmVTZXQoZSl7Y29uc3QgdD1bXTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl0aGlzLl9pc1BoeXNpY2FsRmVhdHVyZShlW3NdKSYmdC5wdXNoKGVbc10pO3JldHVybiB0fV9pc1BoeXNpY2FsRmVhdHVyZShlKXtyZXR1cm4gbnVsbD09PXRoaXMuX3BhcmVudHx8dGhpcy5fcGFyZW50Ll9pc1BoeXNpY2FsRmVhdHVyZShlKX1fcmVmaW5lS25vd25zKGUsdCl7bGV0IHM9MCxyPW51bGw7Y29uc3Qgbj1bXTt0PXRoaXMuX21heFF1ZXJ5UmF0ZSgpO2ZvcihsZXQgaT0wO2k8ZS5fY2FuZGlkYXRlcy5sZW5ndGgmJlwiR0VUUEFHRVNcIiE9PWUuX2NhbmRpZGF0ZXNbaV07aSsrKXtsZXQgYT0hMTtjb25zdCBsPXRoaXMuX2NhbmRpZGF0ZUlkVHJhbnNmb3JtKGUuX2NhbmRpZGF0ZXNbaV0pO2whPT1lLl9jYW5kaWRhdGVzW2ldJiYoYT0hMCk7Y29uc3QgaD10aGlzLl9pc0luRmVhdHVyZVNldChsKTtpZihoPT09dS5JbkZlYXR1cmVTZXQpITA9PT1hP2UuX2tub3duLmluY2x1ZGVzKGwpfHwoZS5fa25vd24ucHVzaChsKSxzKz0xKTooZS5fa25vd24ucHVzaChlLl9jYW5kaWRhdGVzW2ldKSxzKz0xKSxudWxsPT09cj9yPXtzdGFydDppLGVuZDppfTpyLmVuZD09PWktMT9yLmVuZD1pOihuLnB1c2gocikscj17c3RhcnQ6aSxlbmQ6aX0pO2Vsc2UgaWYoaD09PXUuTm90SW5GZWF0dXJlU2V0KW51bGw9PT1yP3I9e3N0YXJ0OmksZW5kOml9OnIuZW5kPT09aS0xP3IuZW5kPWk6KG4ucHVzaChyKSxyPXtzdGFydDppLGVuZDppfSkscys9MTtlbHNlIGlmKGg9PT11LlVua25vd24mJihzKz0xLCEwPT09ZS5fb3JkZXJlZCkpYnJlYWs7aWYocz49dClicmVha31udWxsIT09ciYmbi5wdXNoKHIpO2ZvcihsZXQgaT1uLmxlbmd0aC0xO2k+PTA7aS0tKWUuX2NhbmRpZGF0ZXMuc3BsaWNlKG5baV0uc3RhcnQsbltpXS5lbmQtbltpXS5zdGFydCsxKX1fcmVmaW5lSWZQYXJlbnRLbm93bihlLHQscyl7Y29uc3Qgcj1uZXcgaShbXSxbXSxlLl9vcmRlcmVkLG51bGwpO3JldHVybiByLl9jYW5kaWRhdGVzPWUuX2NhbmRpZGF0ZXMuc2xpY2UoMCksdGhpcy5fcGFyZW50Ll9yZWZpbmVTZXRCbG9jayhyLHQscyl9X2NhbmRpZGF0ZUlkVHJhbnNmb3JtKGUpe3JldHVybiB0aGlzLl9wYXJlbnQuX2NhbmRpZGF0ZUlkVHJhbnNmb3JtKGUpfV9jaGVja0lmTmVlZFRvRXhwYW5kS25vd25QYWdlKGUsdCl7aWYobnVsbD09PWUucGFnZXNEZWZpbml0aW9uKXJldHVybiExO2xldCBzPTA7Zm9yKGxldCByPWUuX2xhc3RGZXRjaGVkSW5kZXg7cjxlLl9rbm93bi5sZW5ndGg7cisrKXtpZihcIkdFVFBBR0VTXCI9PT1lLl9rbm93bltyXSlyZXR1cm4hMDtpZih2b2lkIDA9PT10aGlzLl9mZWF0dXJlQ2FjaGVbZS5fa25vd25bcl1dJiYocys9MSxzPj10KSlicmVha31yZXR1cm4hMX1fY2hlY2tJZk5lZWRUb0V4cGFuZENhbmRpZGF0ZVBhZ2UoZSx0KXtpZihudWxsPT09ZS5wYWdlc0RlZmluaXRpb24pcmV0dXJuITE7bGV0IHM9MDtmb3IobGV0IHI9MDtyPGUuX2NhbmRpZGF0ZXMubGVuZ3RoO3IrKyl7aWYoXCJHRVRQQUdFU1wiPT09ZS5fY2FuZGlkYXRlc1tyXSlyZXR1cm4hMDtpZihzKz0xLHM+PXQpYnJlYWt9cmV0dXJuITF9YXN5bmMgX2V4cGFuZFBhZ2VkU2V0KGUsdCxuLGksYSl7aWYobnVsbD09PXRoaXMuX3BhcmVudCl0aHJvdyBuZXcgcyhyLk5vdEltcGxlbWVudGVkKTtyZXR1cm4gdGhpcy5fcGFyZW50Ll9leHBhbmRQYWdlZFNldChlLHQsbixpLGEpfWFzeW5jIF9leHBhbmRQYWdlZFNldEZlYXR1cmVTZXQoZSx0LHMscixuKXtpZihlLl9rbm93bi5sZW5ndGg+MCYmXCJHRVRQQUdFU1wiPT09ZS5fa25vd25bZS5fa25vd24ubGVuZ3RoLTFdJiYocj0xKSwwPT09ciYmZS5fY2FuZGlkYXRlcy5sZW5ndGg+MCYmXCJHRVRQQUdFU1wiPT09ZS5fY2FuZGlkYXRlc1tlLl9jYW5kaWRhdGVzLmxlbmd0aC0xXSYmKHI9MiksMD09PXIpcmV0dXJuXCJmaW5pc2hlZFwiO2NvbnN0IGk9YXdhaXQgdGhpcy5fZ2V0UGFnZShlLHIsbik7cmV0dXJuIHMraTx0P3RoaXMuX2V4cGFuZFBhZ2VkU2V0KGUsdCxzK2ksMCxuKTpcInN1Y2Nlc3NcIn1hc3luYyBfZ2V0UGFnZShlLHQscyl7Y29uc3Qgcj0xPT09dD9lLl9rbm93bjplLl9jYW5kaWRhdGVzO2lmKGUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLnNldC5sZW5ndGg+ZS5wYWdlc0RlZmluaXRpb24ucmVzdWx0T2Zmc2V0fHwhMD09PWUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLmZ1bGx5UmVzb2x2ZWQpe3IubGVuZ3RoPXIubGVuZ3RoLTE7bGV0IHQ9MDtmb3IobGV0IG49MDtuPGUucGFnZXNEZWZpbml0aW9uLnJlc3VsdFJlY29yZENvdW50JiYhKGUucGFnZXNEZWZpbml0aW9uLnJlc3VsdE9mZnNldCtuPj1lLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5zZXQubGVuZ3RoKTtuKyspcltyLmxlbmd0aF09ZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuc2V0W2UucGFnZXNEZWZpbml0aW9uLnJlc3VsdE9mZnNldCtuXSx0Kys7ZS5wYWdlc0RlZmluaXRpb24ucmVzdWx0T2Zmc2V0Kz10O2xldCBzPSExO3JldHVybiEwPT09ZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuZnVsbHlSZXNvbHZlZCYmZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuc2V0Lmxlbmd0aDw9ZS5wYWdlc0RlZmluaXRpb24ucmVzdWx0T2Zmc2V0JiYocz0hMCksITE9PT1zJiZyLnB1c2goXCJHRVRQQUdFU1wiKSx0fXJldHVybiBhd2FpdCB0aGlzLl9nZXRQaHlzaWNhbFBhZ2UoZSx0LHMpLHRoaXMuX2dldFBhZ2UoZSx0LHMpfV9nZXRQaHlzaWNhbFBhZ2UoZSx0LHMpe3JldHVybiBudWxsfV9jbG9uZVBhZ2VEZWZpbml0aW9uKGUpe3JldHVybiBudWxsPT09dGhpcy5fcGFyZW50P251bGw6dGhpcy5fcGFyZW50Ll9jbG9uZVBhZ2VEZWZpbml0aW9uKGUpfV9maXJzdChlKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihlKS5uZXh0KCl9Zmlyc3QoZSl7cmV0dXJuIHRoaXMuX2ZpcnN0KGUpfWFzeW5jIGNhbGN1bGF0ZVN0YXRpc3RpYyhlLHQscyxyKXthd2FpdCB0aGlzLl9lbnN1cmVMb2FkZWQoKTtsZXQgbj1hd2FpdCB0aGlzLl9zdGF0KGUsdCxcIlwiLG51bGwsbnVsbCxzLHIpO3JldHVybiExPT09bi5jYWxjdWxhdGVkJiYobj1hd2FpdCB0aGlzLl9tYW51YWxTdGF0KGUsdCxzLHIpKSxuLnJlc3VsdH1hc3luYyBfbWFudWFsU3RhdChlLHQscyxyKXtsZXQgbj1udWxsO3N3aXRjaChlLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImNvdW50XCI6cmV0dXJuIG49YXdhaXQgYih0aGlzLHIpLHtjYWxjdWxhdGVkOiEwLHJlc3VsdDpufTtjYXNlXCJkaXN0aW5jdFwiOnJldHVybiBuPWF3YWl0IEYodGhpcyx0LHMscikse2NhbGN1bGF0ZWQ6ITAscmVzdWx0Om59O2Nhc2VcImF2Z1wiOmNhc2VcIm1lYW5cIjpyZXR1cm4gbj1hd2FpdCB5KHRoaXMsdCxyKSx7Y2FsY3VsYXRlZDohMCxyZXN1bHQ6bn07Y2FzZVwic3RkZXZcIjpyZXR1cm4gbj1hd2FpdCBtKHRoaXMsdCxyKSx7Y2FsY3VsYXRlZDohMCxyZXN1bHQ6bn07Y2FzZVwidmFyaWFuY2VcIjpyZXR1cm4gbj1hd2FpdCBnKHRoaXMsdCxyKSx7Y2FsY3VsYXRlZDohMCxyZXN1bHQ6bn07Y2FzZVwic3VtXCI6cmV0dXJuIG49YXdhaXQgZih0aGlzLHQscikse2NhbGN1bGF0ZWQ6ITAscmVzdWx0Om59O2Nhc2VcIm1pblwiOnJldHVybiBuPWF3YWl0IHAodGhpcyx0LHIpLHtjYWxjdWxhdGVkOiEwLHJlc3VsdDpufTtjYXNlXCJtYXhcIjpyZXR1cm4gbj1hd2FpdCBfKHRoaXMsdCxyKSx7Y2FsY3VsYXRlZDohMCxyZXN1bHQ6bn07ZGVmYXVsdDpyZXR1cm57Y2FsY3VsYXRlZDohMCxyZXN1bHQ6MH19fWFzeW5jIF9zdGF0KGUsdCxzLHIsbixpLGEpe2NvbnN0IGw9YXdhaXQgdGhpcy5fcGFyZW50Ll9zdGF0KGUsdCxzLHIsbixpLGEpO3JldHVybiExPT09bC5jYWxjdWxhdGVkP251bGw9PT1uJiZcIlwiPT09cyYmbnVsbD09PXI/dGhpcy5fbWFudWFsU3RhdChlLHQsaSxhKTp7Y2FsY3VsYXRlZDohMX06bH1fdW5pb25BbGxHZW9tU2VsZihlKXtjb25zdCB0PXRoaXMuaXRlcmF0b3IodGhpcy5fZGVmYXVsdFRyYWNrZXIoZSkpLHM9W107cmV0dXJuIG5ldyBQcm9taXNlKCgoZSxyKT0+e3RoaXMuX3VuaW9uU2hhcGVJbkJhdGNoZXMocyx0LGUscil9KSl9X3VuaW9uQWxsR2VvbShlKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LHMpPT57Y29uc3Qgcj10aGlzLml0ZXJhdG9yKHRoaXMuX2RlZmF1bHRUcmFja2VyKGUpKSxuPVtdO3RoaXMuX3VuaW9uU2hhcGVJbkJhdGNoZXMobixyLHQscyl9KSl9X3VuaW9uU2hhcGVJbkJhdGNoZXMoZSx0LHMscil7dC5uZXh0KCkudGhlbigobj0+e3RyeXtudWxsIT09biYmbnVsbCE9PW4uZ2VvbWV0cnkmJmUucHVzaChuLmdlb21ldHJ5KSxlLmxlbmd0aD4zMHx8bnVsbD09PW4mJmUubGVuZ3RoPjE/UyhlKS50aGVuKChpPT57dHJ5e251bGw9PT1uP3MoaSk6KGU9W2ldLHRoaXMuX3VuaW9uU2hhcGVJbkJhdGNoZXMoZSx0LHMscikpfWNhdGNoKGEpe3IoYSl9fSkscik6bnVsbD09PW4/MT09PWUubGVuZ3RoP3MoZVswXSk6cyhudWxsKTp0aGlzLl91bmlvblNoYXBlSW5CYXRjaGVzKGUsdCxzLHIpfWNhdGNoKGkpe3IoaSl9fSkscil9aXRlcmF0b3IoZSl7cmV0dXJuIG5ldyBuKHRoaXMsZSl9aW50ZXJzZWN0aW9uKGUsdD0hMSl7cmV0dXJuIHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMuaW50ZXJzZWN0aW9uLmJpbmQodGhpcykoZSx0KX1kaWZmZXJlbmNlKGUsdD0hMSxzPSEwKXtyZXR1cm4gdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5kaWZmZXJlbmNlLmJpbmQodGhpcykoZSx0LHMpfXN5bW1ldHJpY0RpZmZlcmVuY2UoZSx0PSExLHM9ITApe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLnN5bW1ldHJpY0RpZmZlcmVuY2UuYmluZCh0aGlzKShlLHQscyl9bW9ycGhTaGFwZShlLHQscz1cInVua25vd25cIixyPW51bGwpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLm1vcnBoU2hhcGUuYmluZCh0aGlzKShlLHQscyxyKX1tb3JwaFNoYXBlQW5kQXR0cmlidXRlcyhlLHQscz1cInVua25vd25cIil7cmV0dXJuIHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMubW9ycGhTaGFwZUFuZEF0dHJpYnV0ZXMuYmluZCh0aGlzKShlLHQscyl9dW5pb24oZSx0PSExKXtyZXR1cm4gdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy51bmlvbi5iaW5kKHRoaXMpKGUsdCl9aW50ZXJzZWN0cyhlKXtyZXR1cm4gdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5pbnRlcnNlY3RzLmJpbmQodGhpcykoZSl9ZW52ZWxvcGVJbnRlcnNlY3RzKGUpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLmVudmVsb3BlSW50ZXJzZWN0cy5iaW5kKHRoaXMpKGUpfWNvbnRhaW5zKGUpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLmNvbnRhaW5zLmJpbmQodGhpcykoZSl9b3ZlcmxhcHMoZSl7cmV0dXJuIHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMub3ZlcmxhcHMuYmluZCh0aGlzKShlKX1yZWxhdGUoZSx0KXtyZXR1cm4gdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5yZWxhdGUuYmluZCh0aGlzKShlLHQpfXdpdGhpbihlKXtyZXR1cm4gdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy53aXRoaW4uYmluZCh0aGlzKShlKX10b3VjaGVzKGUpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLnRvdWNoZXMuYmluZCh0aGlzKShlKX10b3AoZSl7cmV0dXJuIHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMudG9wLmJpbmQodGhpcykoZSl9Y3Jvc3NlcyhlKXtyZXR1cm4gdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5jcm9zc2VzLmJpbmQodGhpcykoZSl9YnVmZmVyKGUsdCxzLHI9ITApe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLmJ1ZmZlci5iaW5kKHRoaXMpKGUsdCxzLHIpfWZpbHRlcihlLHQ9bnVsbCl7cmV0dXJuIHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMuZmlsdGVyLmJpbmQodGhpcykoZSx0KX1vcmRlckJ5KGUpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLm9yZGVyQnkuYmluZCh0aGlzKShlKX1kaXNzb2x2ZShlLHQpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLmRpc3NvbHZlLmJpbmQodGhpcykoZSx0KX1ncm91cGJ5KGUsdCl7cmV0dXJuIHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMuZ3JvdXBieS5iaW5kKHRoaXMpKGUsdCl9cmVkdWNlKGUsdD1udWxsLHMpe3JldHVybiBuZXcgUHJvbWlzZSgoKHIsbik9Pnt0aGlzLl9yZWR1Y2VJbXBsKHRoaXMuaXRlcmF0b3IodGhpcy5fZGVmYXVsdFRyYWNrZXIocykpLGUsdCwwLHIsbiwwKX0pKX1fcmVkdWNlSW1wbChlLHQscyxyLG4saSxhKXt0cnl7aWYoKythPjFlMylyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KCgoKT0+e2E9MCx0aGlzLl9yZWR1Y2VJbXBsKGUsdCxzLHIsbixpLGEpfSkpO2UubmV4dCgpLnRoZW4oKGw9Pnt0cnl7aWYobnVsbD09PWwpbihzKTtlbHNle2NvbnN0IHU9dChzLGwscix0aGlzKTtJKHUpP3UudGhlbigocz0+e3RoaXMuX3JlZHVjZUltcGwoZSx0LHMscisxLG4saSxhKX0pLGkpOnRoaXMuX3JlZHVjZUltcGwoZSx0LHUscisxLG4saSxhKX19Y2F0Y2godSl7aSh1KX19KSxpKX1jYXRjaChsKXtpKGwpfX1yZW1vdmVGaWVsZChlKXtyZXR1cm4gdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5yZW1vdmVGaWVsZC5iaW5kKHRoaXMpKGUpfWFkZEZpZWxkKGUsdCxzPW51bGwpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLmFkZEZpZWxkLmJpbmQodGhpcykoZSx0LHMpfXN1bUFyZWEoZSx0PSExLHMpe2NvbnN0IHI9aChlKTtyZXR1cm4gdGhpcy5yZWR1Y2UoKChlLHMpPT5udWxsPT09cy5nZW9tZXRyeT8wOnQ/VChzLmdlb21ldHJ5LHIpLnRoZW4oKHQ9PmUrdCkpOlAocy5nZW9tZXRyeSxyKS50aGVuKCh0PT5lK3QpKSksMCxzKX1zdW1MZW5ndGgoZSx0PSExLHMpe2NvbnN0IHI9YyhlKTtyZXR1cm4gdGhpcy5yZWR1Y2UoKChlLHMpPT5udWxsPT09cy5nZW9tZXRyeT8wOnQ/eChzLmdlb21ldHJ5LHIpLnRoZW4oKHQ9PmUrdCkpOmsocy5nZW9tZXRyeSxyKS50aGVuKCh0PT5lK3QpKSksMCxzKX1fc3Vic3RpdHV0ZVZhcnMoZSx0KXtpZihudWxsIT09dCl7Y29uc3Qgcz17fTtmb3IoY29uc3QgZSBpbiB0KXNbZS50b0xvd2VyQ2FzZSgpXT10W2VdO2UucGFyYW1ldGVycz1zfX1hc3luYyBkaXN0aW5jdChlLHQ9MWUzLHM9bnVsbCxyKXthd2FpdCB0aGlzLmxvYWQoKTtjb25zdCBuPXcuY3JlYXRlKGUsdGhpcy5nZXRGaWVsZHNJbmRleCgpKTtyZXR1cm4gdGhpcy5fc3Vic3RpdHV0ZVZhcnMobixzKSx0aGlzLmNhbGN1bGF0ZVN0YXRpc3RpYyhcImRpc3RpbmN0XCIsbix0LHRoaXMuX2RlZmF1bHRUcmFja2VyKHIpKX1hc3luYyBtaW4oZSx0PW51bGwscyl7YXdhaXQgdGhpcy5sb2FkKCk7Y29uc3Qgcj13LmNyZWF0ZShlLHRoaXMuZ2V0RmllbGRzSW5kZXgoKSk7cmV0dXJuIHRoaXMuX3N1YnN0aXR1dGVWYXJzKHIsdCksdGhpcy5jYWxjdWxhdGVTdGF0aXN0aWMoXCJtaW5cIixyLC0xLHRoaXMuX2RlZmF1bHRUcmFja2VyKHMpKX1hc3luYyBtYXgoZSx0PW51bGwscyl7YXdhaXQgdGhpcy5sb2FkKCk7Y29uc3Qgcj13LmNyZWF0ZShlLHRoaXMuZ2V0RmllbGRzSW5kZXgoKSk7cmV0dXJuIHRoaXMuX3N1YnN0aXR1dGVWYXJzKHIsdCksdGhpcy5jYWxjdWxhdGVTdGF0aXN0aWMoXCJtYXhcIixyLC0xLHRoaXMuX2RlZmF1bHRUcmFja2VyKHMpKX1hc3luYyBhdmcoZSx0PW51bGwscyl7YXdhaXQgdGhpcy5sb2FkKCk7Y29uc3Qgcj13LmNyZWF0ZShlLHRoaXMuZ2V0RmllbGRzSW5kZXgoKSk7cmV0dXJuIHRoaXMuX3N1YnN0aXR1dGVWYXJzKHIsdCksdGhpcy5jYWxjdWxhdGVTdGF0aXN0aWMoXCJhdmdcIixyLC0xLHRoaXMuX2RlZmF1bHRUcmFja2VyKHMpKX1hc3luYyBzdW0oZSx0PW51bGwscyl7YXdhaXQgdGhpcy5sb2FkKCk7Y29uc3Qgcj13LmNyZWF0ZShlLHRoaXMuZ2V0RmllbGRzSW5kZXgoKSk7cmV0dXJuIHRoaXMuX3N1YnN0aXR1dGVWYXJzKHIsdCksdGhpcy5jYWxjdWxhdGVTdGF0aXN0aWMoXCJzdW1cIixyLC0xLHRoaXMuX2RlZmF1bHRUcmFja2VyKHMpKX1hc3luYyBzdGRldihlLHQ9bnVsbCxzKXthd2FpdCB0aGlzLmxvYWQoKTtjb25zdCByPXcuY3JlYXRlKGUsdGhpcy5nZXRGaWVsZHNJbmRleCgpKTtyZXR1cm4gdGhpcy5fc3Vic3RpdHV0ZVZhcnMocix0KSx0aGlzLmNhbGN1bGF0ZVN0YXRpc3RpYyhcInN0ZGV2XCIsciwtMSx0aGlzLl9kZWZhdWx0VHJhY2tlcihzKSl9YXN5bmMgdmFyaWFuY2UoZSx0PW51bGwscyl7YXdhaXQgdGhpcy5sb2FkKCk7Y29uc3Qgcj13LmNyZWF0ZShlLHRoaXMuZ2V0RmllbGRzSW5kZXgoKSk7cmV0dXJuIHRoaXMuX3N1YnN0aXR1dGVWYXJzKHIsdCksdGhpcy5jYWxjdWxhdGVTdGF0aXN0aWMoXCJ2YXJpYW5jZVwiLHIsLTEsdGhpcy5fZGVmYXVsdFRyYWNrZXIocykpfWFzeW5jIGNvdW50KGUpe3JldHVybiBhd2FpdCB0aGlzLmxvYWQoKSx0aGlzLmNhbGN1bGF0ZVN0YXRpc3RpYyhcImNvdW50XCIsdy5jcmVhdGUoXCIxXCIsdGhpcy5nZXRGaWVsZHNJbmRleCgpKSwtMSx0aGlzLl9kZWZhdWx0VHJhY2tlcihlKSl9X2RlZmF1bHRUcmFja2VyKGUpe3JldHVybiBlPz97YWJvcnRlZDohMX19Zm9yRWFjaChlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoKHMscik9Pnt0aGlzLl9mb3JFYWNoSW1wbCh0aGlzLml0ZXJhdG9yKHRoaXMuX2RlZmF1bHRUcmFja2VyKHQpKSxlLHRoaXMscyxyLDApfSkpfV9mb3JFYWNoSW1wbChlLHQscyxyLG4saSl7dHJ5e2lmKCsraT4xZTMpcmV0dXJuIHZvaWQgc2V0VGltZW91dCgoKCk9PntpPTAsdGhpcy5fZm9yRWFjaEltcGwoZSx0LHMscixuLGkpfSksMCk7ZS5uZXh0KCkudGhlbigoYT0+e3RyeXtpZihudWxsPT09YSlyKHMpO2Vsc2V7Y29uc3QgbD10KGEpO251bGw9PWw/dGhpcy5fZm9yRWFjaEltcGwoZSx0LHMscixuLGkpOkkobCk/bC50aGVuKCgoKT0+e3RyeXt0aGlzLl9mb3JFYWNoSW1wbChlLHQscyxyLG4saSl9Y2F0Y2goYSl7bihhKX19KSxuKTp0aGlzLl9mb3JFYWNoSW1wbChlLHQscyxyLG4saSl9fWNhdGNoKGwpe24obCl9fSksbil9Y2F0Y2goYSl7bihhKX19Y29udmVydFRvSlNPTihlKXtjb25zdCB0PXtsYXllckRlZmluaXRpb246e2dlb21ldHJ5VHlwZTp0aGlzLmdlb21ldHJ5VHlwZSxmaWVsZHM6W119LGZlYXR1cmVTZXQ6e2ZlYXR1cmVzOltdLGdlb21ldHJ5VHlwZTp0aGlzLmdlb21ldHJ5VHlwZX19O2ZvcihsZXQgcz0wO3M8dGhpcy5maWVsZHMubGVuZ3RoO3MrKyl0LmxheWVyRGVmaW5pdGlvbi5maWVsZHMucHVzaChvKHRoaXMuZmllbGRzW3NdKSk7cmV0dXJuIHRoaXMucmVkdWNlKCgoZSxzKT0+e2NvbnN0IHI9e2dlb21ldHJ5OnMuZ2VvbWV0cnkmJnMuZ2VvbWV0cnkudG9KU09OKCksYXR0cmlidXRlczp7fX07Zm9yKGNvbnN0IHQgaW4gcy5hdHRyaWJ1dGVzKXIuYXR0cmlidXRlc1t0XT1zLmF0dHJpYnV0ZXNbdF07cmV0dXJuIHQuZmVhdHVyZVNldC5mZWF0dXJlcy5wdXNoKHIpLDF9KSwwLGUpLnRoZW4oKCgpPT50KSl9Y2FzdFRvVGV4dChlPSExKXtyZXR1cm5cIm9iamVjdCwgRmVhdHVyZVNldFwifXF1ZXJ5QXR0YWNobWVudHMoZSx0LHMscixuKXtyZXR1cm4gdGhpcy5fcGFyZW50LnF1ZXJ5QXR0YWNobWVudHMoZSx0LHMscixuKX1zZXJ2aWNlVXJsKCl7cmV0dXJuIHRoaXMuX3BhcmVudC5zZXJ2aWNlVXJsKCl9c3VidHlwZXMoKXtyZXR1cm4gdGhpcy50eXBlSWRGaWVsZD97c3VidHlwZUZpZWxkOnRoaXMudHlwZUlkRmllbGQsc3VidHlwZXM6dGhpcy50eXBlcz90aGlzLnR5cGVzLm1hcCgoZT0+KHtuYW1lOmUubmFtZSxjb2RlOmUuaWR9KSkpOltdfTpudWxsfXJlbGF0aW9uc2hpcE1ldGFEYXRhKCl7cmV0dXJuIHRoaXMuX3BhcmVudC5yZWxhdGlvbnNoaXBNZXRhRGF0YSgpfWdldCBnZGJWZXJzaW9uKCl7cmV0dXJuIHRoaXMuX3BhcmVudD90aGlzLl9wYXJlbnQuZ2RiVmVyc2lvbjpcIlwifXNjaGVtYSgpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2YgdGhpcy5maWVsZHMpZS5wdXNoKG8odCkpO3JldHVybntvYmplY3RJZEZpZWxkOnRoaXMub2JqZWN0SWRGaWVsZCxnbG9iYWxJZEZpZWxkOnRoaXMuZ2xvYmFsSWRGaWVsZCxnZW9tZXRyeVR5cGU6dm9pZCAwPT09ZFt0aGlzLmdlb21ldHJ5VHlwZV0/XCJlc3JpR2VvbWV0cnlOdWxsXCI6ZFt0aGlzLmdlb21ldHJ5VHlwZV0sZmllbGRzOmV9fWFzeW5jIGNvbnZlcnRUb1RleHQoZSx0KXtpZihcInNjaGVtYVwiPT09ZSlyZXR1cm4gYXdhaXQgdGhpcy5fZW5zdXJlTG9hZGVkKCksSlNPTi5zdHJpbmdpZnkodGhpcy5zY2hlbWEoKSk7aWYoXCJmZWF0dXJlc2V0XCI9PT1lKXthd2FpdCB0aGlzLl9lbnN1cmVMb2FkZWQoKTtjb25zdCBlPVtdO2F3YWl0IHRoaXMucmVkdWNlKCgodCxzKT0+e2NvbnN0IHI9e2dlb21ldHJ5OnMuZ2VvbWV0cnk/cy5nZW9tZXRyeS50b0pTT04oKTpudWxsLGF0dHJpYnV0ZXM6cy5hdHRyaWJ1dGVzfTtyZXR1cm4gbnVsbCE9PXIuZ2VvbWV0cnkmJnIuZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZSYmZGVsZXRlIHIuZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZSxlLnB1c2gociksMX0pLDAsdCk7Y29uc3Qgcz10aGlzLnNjaGVtYSgpO3JldHVybiBzLmZlYXR1cmVzPWUscy5zcGF0aWFsUmVmZXJlbmNlPXRoaXMuc3BhdGlhbFJlZmVyZW5jZS50b0pTT04oKSxKU09OLnN0cmluZ2lmeShzKX1yZXR1cm4gdGhpcy5jYXN0VG9UZXh0KCl9Z2V0RmVhdHVyZUJ5T2JqZWN0SWQoZSx0KXtyZXR1cm4gdGhpcy5fcGFyZW50LmdldEZlYXR1cmVCeU9iamVjdElkKGUsdCl9Z2V0T3duaW5nU3lzdGVtVXJsKCl7cmV0dXJuIHRoaXMuX3BhcmVudC5nZXRPd25pbmdTeXN0ZW1VcmwoKX1nZXRJZGVudGl0eVVzZXIoKXtyZXR1cm4gdGhpcy5fcGFyZW50LmdldElkZW50aXR5VXNlcigpfWdldFJvb3RGZWF0dXJlU2V0KCl7cmV0dXJuIG51bGwhPT10aGlzLl9wYXJlbnQ/dGhpcy5fcGFyZW50LmdldFJvb3RGZWF0dXJlU2V0KCk6dGhpc31nZXREYXRhU291cmNlRmVhdHVyZVNldCgpe3JldHVybiBudWxsIT09dGhpcy5fcGFyZW50P3RoaXMuX3BhcmVudC5nZXREYXRhU291cmNlRmVhdHVyZVNldCgpOnRoaXN9Y2FzdEFzSnNvbihlPW51bGwpe3JldHVyblwia2VlcHR5cGVcIj09PWU/LmZlYXR1cmVzZXQ/dGhpczpcIm5vbmVcIj09PWU/LmZlYXR1cmVzZXQ/bnVsbDp7dHlwZTpcIkZlYXR1cmVTZXRcIn19YXN5bmMgY2FzdEFzSnNvbkFzeW5jKGU9bnVsbCx0PW51bGwpe2lmKFwia2VlcHR5cGVcIj09PXQ/LmZlYXR1cmVzZXQpcmV0dXJuIHRoaXM7aWYoXCJzY2hlbWFcIj09PXQ/LmZlYXR1cmVzZXQpcmV0dXJuIGF3YWl0IHRoaXMuX2Vuc3VyZUxvYWRlZCgpLEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zY2hlbWEoKSkpO2lmKFwibm9uZVwiPT09dD8uZmVhdHVyZXNldClyZXR1cm4gbnVsbDthd2FpdCB0aGlzLl9lbnN1cmVMb2FkZWQoKTtjb25zdCBzPVtdO2F3YWl0IHRoaXMucmVkdWNlKCgoZSxyKT0+e2NvbnN0IG49e2dlb21ldHJ5OnIuZ2VvbWV0cnk/ITA9PT10Py5rZWVwR2VvbWV0cnlUeXBlP3IuZ2VvbWV0cnk6ci5nZW9tZXRyeS50b0pTT04oKTpudWxsLGF0dHJpYnV0ZXM6ci5hdHRyaWJ1dGVzfTtyZXR1cm4gbnVsbCE9PW4uZ2VvbWV0cnkmJm4uZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZSYmITAhPT10Py5rZWVwR2VvbWV0cnlUeXBlJiZkZWxldGUgbi5nZW9tZXRyeS5zcGF0aWFsUmVmZXJlbmNlLHMucHVzaChuKSwxfSksMCxlKTtjb25zdCByPXRoaXMuc2NoZW1hKCk7cmV0dXJuIHIuZmVhdHVyZXM9cyxyLnNwYXRpYWxSZWZlcmVuY2U9ITA9PT10Py5rZWVwR2VvbWV0cnlUeXBlP3RoaXMuc3BhdGlhbFJlZmVyZW5jZTp0aGlzLnNwYXRpYWxSZWZlcmVuY2U/LnRvSlNPTigpLHJ9Z2V0IGRhdGVUaW1lUmVmZXJlbmNlRmllbGRJbmRleCgpe3JldHVybiBudWxsPT09dGhpcy5fZGF0ZUZpZWxkSW5kZXgmJih0aGlzLl9kYXRlRmllbGRJbmRleD1lLmNyZWF0ZSh0aGlzLmdldEZpZWxkc0luZGV4KCksdGhpcykpLHRoaXMuX2RhdGVGaWVsZEluZGV4fWZpZWxkVGltZVpvbmUoZSl7cmV0dXJuIHRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VGaWVsZEluZGV4LmZpZWxkVGltZVpvbmUoZSl9Z2V0IHByZWZlcnJlZFRpbWVSZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy5fcGFyZW50Py5wcmVmZXJyZWRUaW1lUmVmZXJlbmNlPz9udWxsfWdldCBkYXRlRmllbGRzVGltZVJlZmVyZW5jZSgpe3JldHVybiB0aGlzLl9wYXJlbnQ/LmRhdGVGaWVsZHNUaW1lUmVmZXJlbmNlPz9udWxsfWdldCBkYXRlc0luVW5rbm93blRpbWV6b25lKCl7cmV0dXJuIHRoaXMuX3BhcmVudC5kYXRlc0luVW5rbm93blRpbWV6b25lfWdldCBlZGl0RmllbGRzSW5mbygpe3JldHVybiB0aGlzLl9wYXJlbnQ/LmVkaXRGaWVsZHNJbmZvPz9udWxsfWdldCB0aW1lSW5mbygpe3JldHVybiB0aGlzLl9wYXJlbnQ/LnRpbWVJbmZvPz9udWxsfX12Ll9mZWF0dXJlc2V0RnVuY3Rpb25zPXt9O2V4cG9ydHt2IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHt1bndyYXBPclRocm93IGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2NsYXNzIGV7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9sYXN0SWQ9LTEsdGhpcy5fcHJvZ3Jlc3M9ZSx0aGlzLl9wYXJlbnQ9dH1yZXNldCgpe3RoaXMuX2xhc3RJZD0tMX1uZXh0QmF0Y2goZSl7aWYobnVsbCE9PXRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlKXJldHVybiB0aGlzLl9wYXJlbnQuX21haW5TZXRJblVzZS50aGVuKCh0PT50aGlzLm5leHRCYXRjaChlKSksKHQ9PnRoaXMubmV4dEJhdGNoKGUpKSk7Y29uc3Qgbj17cmV0dXJucHJvbWlzZTpudWxsLGhhc3NldDohMX0scz1bXTtyZXR1cm4gbi5yZXR1cm5wcm9taXNlPW5ldyBQcm9taXNlKCgoYSxpKT0+e3RoaXMuX3BhcmVudC5fZ2V0U2V0KHRoaXMuX3Byb2dyZXNzKS50aGVuKChyPT57Y29uc3QgaD10KHIuX2tub3duLFwia25vd25cIik7bGV0IF89aC5sZW5ndGgtMTtpZihcIkdFVFBBR0VTXCI9PT1oW2gubGVuZ3RoLTFdJiYoXy09MSksdGhpcy5fbGFzdElkK2U+XyYmaC5sZW5ndGg+MCYmXCJHRVRQQUdFU1wiPT09aFtoLmxlbmd0aC0xXSlyZXR1cm4gdm9pZCB0aGlzLl9wYXJlbnQuX2V4cGFuZFBhZ2VkU2V0KHIsdGhpcy5fcGFyZW50Ll9tYXhRdWVyeVJhdGUoKSwwLDAsdGhpcy5fcHJvZ3Jlc3MpLnRoZW4oKHQ9PntuLmhhc3NldD0hMCx0aGlzLl9wYXJlbnQuX21haW5TZXRJblVzZT1udWxsLHRoaXMubmV4dEJhdGNoKGUpLnRoZW4oYSxpKX0pLCh0PT57bi5oYXNzZXQ9ITAsdGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2U9bnVsbCxpKHQpfSkpO2NvbnN0IGw9dChyLl9jYW5kaWRhdGVzLFwiY2FuZGlkYXRlc1wiKTtpZihfPj10aGlzLl9sYXN0SWQrZXx8MD09PWwubGVuZ3RoKXtmb3IobGV0IHQ9MDt0PGU7dCsrKXtjb25zdCBlPXQrdGhpcy5fbGFzdElkKzE7aWYoZT49aC5sZW5ndGgpYnJlYWs7c1t0XT1oW2VdfXJldHVybiB0aGlzLl9sYXN0SWQrPXMubGVuZ3RoLDA9PT1zLmxlbmd0aCYmKG4uaGFzc2V0PSEwLHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW51bGwsYShbXSkpLHZvaWQgdGhpcy5fcGFyZW50Ll9nZXRGZWF0dXJlQmF0Y2gocyx0aGlzLl9wcm9ncmVzcykudGhlbigodD0+e24uaGFzc2V0PSEwLHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW51bGwsYSh0KX0pLCh0PT57bi5oYXNzZXQ9ITAsdGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2U9bnVsbCxpKHQpfSkpfXRoaXMuX3BhcmVudC5fcmVmaW5lU2V0QmxvY2socix0aGlzLl9wYXJlbnQuX21heFByb2Nlc3NpbmdSYXRlKCksdGhpcy5fcHJvZ3Jlc3MpLnRoZW4oKCgpPT57bi5oYXNzZXQ9ITAsdGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2U9bnVsbCx0aGlzLm5leHRCYXRjaChlKS50aGVuKGEsaSl9KSwodD0+e24uaGFzc2V0PSEwLHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW51bGwsaSh0KX0pKX0pLCh0PT57bi5oYXNzZXQ9ITAsdGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2U9bnVsbCxpKHQpfSkpfSkpLCExPT09bi5oYXNzZXQmJih0aGlzLl9wYXJlbnQuX21haW5TZXRJblVzZT1uLnJldHVybnByb21pc2Usbi5oYXNzZXQ9ITApLG4ucmV0dXJucHJvbWlzZX1uZXh0KCl7aWYobnVsbCE9PXRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlKXJldHVybiB0aGlzLl9wYXJlbnQuX21haW5TZXRJblVzZS50aGVuKCh0PT50aGlzLm5leHQoKSksKHQ9PnRoaXMubmV4dCgpKSk7Y29uc3QgZT17cmV0dXJucHJvbWlzZTpudWxsLGhhc3NldDohMX07cmV0dXJuIGUucmV0dXJucHJvbWlzZT1uZXcgUHJvbWlzZSgoKG4scyk9Pnt0aGlzLl9wYXJlbnQuX2dldFNldCh0aGlzLl9wcm9ncmVzcykudGhlbigoYT0+e2NvbnN0IGk9dChhLl9rbm93bixcImtub3duXCIpO2lmKHRoaXMuX2xhc3RJZDxpLmxlbmd0aC0xKVwiR0VUUEFHRVNcIj09PWlbdGhpcy5fbGFzdElkKzFdP3RoaXMuX3BhcmVudC5fZXhwYW5kUGFnZWRTZXQoYSx0aGlzLl9wYXJlbnQuX21heFF1ZXJ5UmF0ZSgpLDAsMCx0aGlzLl9wcm9ncmVzcykudGhlbigodD0+KGUuaGFzc2V0PSEwLHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW51bGwsdGhpcy5uZXh0KCkpKSkudGhlbihuLHMpOih0aGlzLl9sYXN0SWQrPTEsdGhpcy5fcGFyZW50Ll9nZXRGZWF0dXJlKGEsaVt0aGlzLl9sYXN0SWRdLHRoaXMuX3Byb2dyZXNzKS50aGVuKCh0PT57ZS5oYXNzZXQ9ITAsdGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2U9bnVsbCxuKHQpfSksKHQ9PntlLmhhc3NldD0hMCx0aGlzLl9wYXJlbnQuX21haW5TZXRJblVzZT1udWxsLHModCl9KSkpO2Vsc2V7dChhLl9jYW5kaWRhdGVzLFwiY2FuZGlkYXRlc1wiKS5sZW5ndGg+MD90aGlzLl9wYXJlbnQuX3JlZmluZVNldEJsb2NrKGEsdGhpcy5fcGFyZW50Ll9tYXhQcm9jZXNzaW5nUmF0ZSgpLHRoaXMuX3Byb2dyZXNzKS50aGVuKCgoKT0+e2UuaGFzc2V0PSEwLHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW51bGwsdGhpcy5uZXh0KCkudGhlbihuLHMpfSksKHQ9PntlLmhhc3NldD0hMCx0aGlzLl9wYXJlbnQuX21haW5TZXRJblVzZT1udWxsLHModCl9KSk6KGUuaGFzc2V0PSEwLHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW51bGwsbihudWxsKSl9fSksKHQ9PntlLmhhc3NldD0hMCx0aGlzLl9wYXJlbnQuX21haW5TZXRJblVzZT1udWxsLHModCl9KSl9KSksITE9PT1lLmhhc3NldCYmKHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPWUucmV0dXJucHJvbWlzZSxlLmhhc3NldD0hMCksZS5yZXR1cm5wcm9taXNlfWFzeW5jIGNvdW50KCl7aWYoLTEhPT10aGlzLl9wYXJlbnQuX3RvdGFsQ291bnQpcmV0dXJuIHRoaXMuX3BhcmVudC5fdG90YWxDb3VudDtjb25zdCB0PWF3YWl0IHRoaXMuX3BhcmVudC5fZ2V0U2V0KHRoaXMuX3Byb2dyZXNzKSxlPWF3YWl0IHRoaXMuX3JlZmluZUFsbFNldHModCk7cmV0dXJuIHRoaXMuX3BhcmVudC5fdG90YWxDb3VudD1lLl9rbm93bi5sZW5ndGgsdGhpcy5fcGFyZW50Ll90b3RhbENvdW50fWFzeW5jIF9yZWZpbmVBbGxTZXRzKHQpe2lmKHQuX2tub3duLmxlbmd0aD4wJiZcIkdFVFBBR0VTXCI9PT10Ll9rbm93blt0Ll9rbm93bi5sZW5ndGgtMV0pcmV0dXJuIGF3YWl0IHRoaXMuX3BhcmVudC5fZXhwYW5kUGFnZWRTZXQodCx0aGlzLl9wYXJlbnQuX21heFF1ZXJ5UmF0ZSgpLDAsMSx0aGlzLl9wcm9ncmVzcyksdGhpcy5fcmVmaW5lQWxsU2V0cyh0KTtpZih0Ll9jYW5kaWRhdGVzLmxlbmd0aD4wKXtpZihcIkdFVFBBR0VTXCI9PT10Ll9rbm93blt0Ll9jYW5kaWRhdGVzLmxlbmd0aC0xXSlyZXR1cm4gYXdhaXQgdGhpcy5fcGFyZW50Ll9leHBhbmRQYWdlZFNldCh0LHRoaXMuX3BhcmVudC5fbWF4UXVlcnlSYXRlKCksMCwyLHRoaXMuX3Byb2dyZXNzKSx0aGlzLl9yZWZpbmVBbGxTZXRzKHQpO2NvbnN0IGU9YXdhaXQgdGhpcy5fcGFyZW50Ll9yZWZpbmVTZXRCbG9jayh0LHRoaXMuX3BhcmVudC5fbWF4UHJvY2Vzc2luZ1JhdGUoKSx0aGlzLl9wcm9ncmVzcyk7cmV0dXJuIGUuX2NhbmRpZGF0ZXMubGVuZ3RoPjA/dGhpcy5fcmVmaW5lQWxsU2V0cyhlKTplfXJldHVybiB0fX1leHBvcnR7ZSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKHQscyxlLGkpe3RoaXMuX2xhc3RGZXRjaGVkSW5kZXg9MCx0aGlzLl9vcmRlcmVkPSExLHRoaXMucGFnZXNEZWZpbml0aW9uPW51bGwsdGhpcy5fY2FuZGlkYXRlcz10LHRoaXMuX2tub3duPXMsdGhpcy5fb3JkZXJlZD1lLHRoaXMucGFnZXNEZWZpbml0aW9uPWl9fWV4cG9ydHt0IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIGF7Y29uc3RydWN0b3IoKXt0aGlzLl9kYXRhYmFzZVR5cGVNZXRhRGF0YT17fSx0aGlzLl9sYXllckluZm89e319Y2xlYXJEYXRhYmFzZVR5cGUoYSl7dm9pZCAwPT09dGhpcy5fZGF0YWJhc2VUeXBlTWV0YURhdGFbYV0mJmRlbGV0ZSB0aGlzLl9kYXRhYmFzZVR5cGVNZXRhRGF0YVthXX1nZXREYXRhYmFzZVR5cGUoYSl7cmV0dXJuXCJNVVNUQkVTRVRcIj09PWF8fHZvaWQgMD09PXRoaXMuX2RhdGFiYXNlVHlwZU1ldGFEYXRhW2FdP251bGw6dGhpcy5fZGF0YWJhc2VUeXBlTWV0YURhdGFbYV19c2V0RGF0YWJhc2VUeXBlKGEsZSl7dGhpcy5fZGF0YWJhc2VUeXBlTWV0YURhdGFbYV09ZX1nZXRMYXllckluZm8oYSl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2xheWVySW5mb1thXT9udWxsOnRoaXMuX2xheWVySW5mb1thXX1zZXRMYXllckluZm8oYSxlKXt0aGlzLl9sYXllckluZm9bYV09ZX1jbGVhckxheWVySW5mbyhhKXt2b2lkIDAhPT10aGlzLl9sYXllckluZm9bYV0mJmRlbGV0ZSB0aGlzLl9sYXllckluZm9bYV19fWEuYXBwbGljYXRpb25DYWNoZT1udWxsO2V4cG9ydHthIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtBcmNhZGVEYXRlIGFzIGV9ZnJvbVwiLi4vLi4vQXJjYWRlRGF0ZS5qc1wiO2ltcG9ydHtGZWF0dXJlU2VydmljZURhdGFiYXNlVHlwZSBhcyByLGlzRGF0ZSBhcyB0LGlzQXJjYWRlRGF0ZSBhcyBhfWZyb21cIi4vc2hhcmVkLmpzXCI7aW1wb3J0e1doZXJlQ2xhdXNlIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9zcWwvV2hlcmVDbGF1c2UuanNcIjtpbXBvcnR7U3FsRXJyb3IgYXMgcyxTcWxFcnJvckNvZGVzIGFzIGN9ZnJvbVwiLi9lcnJvcnN1cHBvcnQuanNcIjtpbXBvcnR7Y29udmVydFRpbWVSZWZlcmVuY2UgYXMgb31mcm9tXCIuLi8uLi9hcmNhZGVUaW1lVXRpbHMuanNcIjtpbXBvcnR7RGF0ZVRpbWUgYXMgaX1mcm9tXCJsdXhvblwiO2Z1bmN0aW9uIHUoZSxyKXtyZXR1cm4geShlPy5wYXJzZVRyZWUscixlPy5wYXJhbWV0ZXJzKX1mdW5jdGlvbiBsKGUscix0LGEpe3JldHVybiBkKG4uY3JlYXRlKGUsci5maWVsZHNJbmRleCksdCxhKX1mdW5jdGlvbiBkKGUsdCxhKXtjb25zdCBuPW8odCkscz1vKGEpO3JldHVybiB5KGUucGFyc2VUcmVlLHIuU3RhbmRhcmRpc2VkLG51bGwsbnVsbCxudWxsLHtpbnB1dFRpbWVSZWZlcmVuY2U6bixvdXRwdXRUaW1lUmVmZXJlbmNlOnN9KX1mdW5jdGlvbiBmKGUscix0KXtyZXR1cm4geShlLHIsdCl9ZnVuY3Rpb24gcChlLHQsYSxzKXtyZXR1cm4gbi5jcmVhdGUoeShlLnBhcnNlVHJlZSxyLlN0YW5kYXJkaXNlZCxlLnBhcmFtZXRlcnMsdCxhKSxzKX1mdW5jdGlvbiBtKGUsdCxhPVwiQU5EXCIpe3JldHVybiBuLmNyZWF0ZShcIigoXCIrdShlLHIuU3RhbmRhcmRpc2VkKStcIilcIithK1wiKFwiK3UodCxyLlN0YW5kYXJkaXNlZCkrXCIpKVwiLGUuZmllbGRzSW5kZXgpfWZ1bmN0aW9uIHkoZSxuLG8saT1udWxsLHU9bnVsbCxsPW51bGwpe2xldCBkLGYscCxtO3N3aXRjaChlLnR5cGUpe2Nhc2VcImludGVydmFsXCI6cmV0dXJuIFIoeShlLnZhbHVlLG4sbyxpLHUsbCksZS5xdWFsaWZpZXIsZS5vcCk7Y2FzZVwiY2FzZS1leHByZXNzaW9uXCI6e2xldCByPVwiIENBU0UgXCI7XCJzaW1wbGVcIj09PWUuZm9ybWF0JiYocis9eShlLm9wZXJhbmQsbixvLGksdSxsKSk7Zm9yKGxldCB0PTA7dDxlLmNsYXVzZXMubGVuZ3RoO3QrKylyKz1cIiBXSEVOIFwiK3koZS5jbGF1c2VzW3RdLm9wZXJhbmQsbixvLGksdSxsKStcIiBUSEVOIFwiK3koZS5jbGF1c2VzW3RdLnZhbHVlLG4sbyxpLHUsbCk7cmV0dXJuIG51bGwhPT1lLmVsc2UmJihyKz1cIiBFTFNFIFwiK3koZS5lbHNlLG4sbyxpLHUsbCkpLHIrPVwiIEVORCBcIixyfWNhc2VcInBhcmFtZXRlclwiOntjb25zdCByPW9bZS52YWx1ZS50b0xvd2VyQ2FzZSgpXTtpZihcInN0cmluZ1wiPT10eXBlb2Ygcil7cmV0dXJuXCInXCIrb1tlLnZhbHVlLnRvTG93ZXJDYXNlKCldLnRvU3RyaW5nKCkucmVwbGFjZUFsbChcIidcIixcIicnXCIpK1wiJ1wifWlmKHQocikpcmV0dXJuIFQocixuLGwpO2lmKGEocikpcmV0dXJuIGgocixuLGwpO2lmKHIgaW5zdGFuY2VvZiBBcnJheSl7Y29uc3QgZT1bXTtmb3IobGV0IHM9MDtzPHIubGVuZ3RoO3MrKylcInN0cmluZ1wiPT10eXBlb2YgcltzXT9lLnB1c2goXCInXCIrcltzXS50b1N0cmluZygpLnJlcGxhY2VBbGwoXCInXCIsXCInJ1wiKStcIidcIik6dChyW3NdKT9lLnB1c2goVChyW3NdLG4sbCkpOmEocltzXSk/ZS5wdXNoKGgocltzXSxuLGwpKTplLnB1c2gocltzXS50b1N0cmluZygpKTtyZXR1cm4gZX1yZXR1cm4gci50b1N0cmluZygpfWNhc2VcImV4cHJlc3Npb24tbGlzdFwiOmY9W107Zm9yKGNvbnN0IHIgb2YgZS52YWx1ZSlmLnB1c2goeShyLG4sbyxpLHUsbCkpO3JldHVybiBmO2Nhc2VcInVuYXJ5LWV4cHJlc3Npb25cIjpyZXR1cm5cIiAoIE5PVCBcIit5KGUuZXhwcixuLG8saSx1LGwpK1wiICkgXCI7Y2FzZVwiYmluYXJ5LWV4cHJlc3Npb25cIjpzd2l0Y2goZS5vcGVyYXRvcil7Y2FzZVwiQU5EXCI6cmV0dXJuXCIgKFwiK3koZS5sZWZ0LG4sbyxpLHUsbCkrXCIgQU5EIFwiK3koZS5yaWdodCxuLG8saSx1LGwpK1wiKSBcIjtjYXNlXCJPUlwiOnJldHVyblwiIChcIit5KGUubGVmdCxuLG8saSx1LGwpK1wiIE9SIFwiK3koZS5yaWdodCxuLG8saSx1LGwpK1wiKSBcIjtjYXNlXCJJU1wiOmlmKFwibnVsbFwiIT09ZS5yaWdodC50eXBlKXRocm93IG5ldyBzKGMuVW5zdXBwb3J0ZWRJc1Jocyk7cmV0dXJuXCIgKFwiK3koZS5sZWZ0LG4sbyxpLHUsbCkrXCIgSVMgTlVMTCApXCI7Y2FzZVwiSVNOT1RcIjppZihcIm51bGxcIiE9PWUucmlnaHQudHlwZSl0aHJvdyBuZXcgcyhjLlVuc3VwcG9ydGVkSXNSaHMpO3JldHVyblwiIChcIit5KGUubGVmdCxuLG8saSx1LGwpK1wiIElTIE5PVCBOVUxMIClcIjtjYXNlXCJJTlwiOnJldHVybiBkPVtdLFwiZXhwcmVzc2lvbi1saXN0XCI9PT1lLnJpZ2h0LnR5cGU/KGQ9eShlLnJpZ2h0LG4sbyxpLHUpLFwiIChcIit5KGUubGVmdCxuLG8saSx1LGwpK1wiIElOIChcIitkLmpvaW4oXCIsXCIpK1wiKSkgXCIpOihtPXkoZS5yaWdodCxuLG8saSx1LGwpLG0gaW5zdGFuY2VvZiBBcnJheT9cIiAoXCIreShlLmxlZnQsbixvLGksdSxsKStcIiBJTiAoXCIrbS5qb2luKFwiLFwiKStcIikpIFwiOlwiIChcIit5KGUubGVmdCxuLG8saSx1LGwpK1wiIElOIChcIittK1wiKSkgXCIpO2Nhc2VcIk5PVCBJTlwiOnJldHVybiBkPVtdLFwiZXhwcmVzc2lvbi1saXN0XCI9PT1lLnJpZ2h0LnR5cGU/KGQ9eShlLnJpZ2h0LG4sbyxpLHUpLFwiIChcIit5KGUubGVmdCxuLG8saSx1LGwpK1wiIE5PVCBJTiAoXCIrZC5qb2luKFwiLFwiKStcIikpIFwiKToobT15KGUucmlnaHQsbixvLGksdSxsKSxtIGluc3RhbmNlb2YgQXJyYXk/XCIgKFwiK3koZS5sZWZ0LG4sbyxpLHUsbCkrXCIgTk9UIElOIChcIittLmpvaW4oXCIsXCIpK1wiKSkgXCI6XCIgKFwiK3koZS5sZWZ0LG4sbyxpLHUsbCkrXCIgTk9UIElOIChcIittK1wiKSkgXCIpO2Nhc2VcIkJFVFdFRU5cIjpyZXR1cm4gcD15KGUucmlnaHQsbixvLGksdSxsKSxcIiAoXCIreShlLmxlZnQsbixvLGksdSxsKStcIiBCRVRXRUVOIFwiK3BbMF0rXCIgQU5EIFwiK3BbMV0rXCIgKSBcIjtjYXNlXCJOT1RCRVRXRUVOXCI6cmV0dXJuIHA9eShlLnJpZ2h0LG4sbyxpLHUsbCksXCIgKFwiK3koZS5sZWZ0LG4sbyxpLHUsbCkrXCIgTk9UIEJFVFdFRU4gXCIrcFswXStcIiBBTkQgXCIrcFsxXStcIiApIFwiO2Nhc2VcIkxJS0VcIjpyZXR1cm5cIlwiIT09ZS5lc2NhcGU/XCIgKFwiK3koZS5sZWZ0LG4sbyxpLHUsbCkrXCIgTElLRSBcIit5KGUucmlnaHQsbixvLGksdSxsKStcIiBFU0NBUEUgJ1wiK2UuZXNjYXBlK1wiJykgXCI6XCIgKFwiK3koZS5sZWZ0LG4sbyxpLHUsbCkrXCIgTElLRSBcIit5KGUucmlnaHQsbixvLGksdSxsKStcIikgXCI7Y2FzZVwiTk9UIExJS0VcIjpyZXR1cm5cIlwiIT09ZS5lc2NhcGU/XCIgKFwiK3koZS5sZWZ0LG4sbyxpLHUsbCkrXCIgTk9UIExJS0UgXCIreShlLnJpZ2h0LG4sbyxpLHUsbCkrXCIgRVNDQVBFICdcIitlLmVzY2FwZStcIicpIFwiOlwiIChcIit5KGUubGVmdCxuLG8saSx1LGwpK1wiIE5PVCBMSUtFIFwiK3koZS5yaWdodCxuLG8saSx1LGwpK1wiKSBcIjtjYXNlXCI8PlwiOmNhc2VcIjxcIjpjYXNlXCI+XCI6Y2FzZVwiPj1cIjpjYXNlXCI8PVwiOmNhc2VcIj1cIjpjYXNlXCIqXCI6Y2FzZVwiLVwiOmNhc2VcIitcIjpjYXNlXCIvXCI6cmV0dXJuXCIgKFwiK3koZS5sZWZ0LG4sbyxpLHUsbCkrXCIgXCIrZS5vcGVyYXRvcitcIiBcIit5KGUucmlnaHQsbixvLGksdSxsKStcIikgXCI7Y2FzZVwifHxcIjpyZXR1cm5cIiAoXCIreShlLmxlZnQsbixvLGksdSxsKStcIiBcIisobj09PXIuU3FsU2VydmVyP1wiK1wiOmUub3BlcmF0b3IpK1wiIFwiK3koZS5yaWdodCxuLG8saSx1LGwpK1wiKSBcIn10aHJvdyBuZXcgcyhjLlVuc3VwcG9ydGVkT3BlcmF0b3Ise29wZXJhdG9yOmUub3BlcmF0b3J9KTtjYXNlXCJudWxsXCI6cmV0dXJuXCJudWxsXCI7Y2FzZVwiYm9vbGVhblwiOnJldHVybiEwPT09ZS52YWx1ZT9cIjFcIjpcIjBcIjtjYXNlXCJzdHJpbmdcIjpyZXR1cm5cIidcIitlLnZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZUFsbChcIidcIixcIicnXCIpK1wiJ1wiO2Nhc2VcInRpbWVzdGFtcFwiOmNhc2VcImRhdGVcIjpyZXR1cm4gVChlLnZhbHVlLG4sbCk7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIGUudmFsdWUudG9TdHJpbmcoKTtjYXNlXCJjdXJyZW50LXRpbWVcIjpyZXR1cm4gTChcImRhdGVcIj09PWUubW9kZSxuKTtjYXNlXCJjb2x1bW4tcmVmZXJlbmNlXCI6cmV0dXJuIGkmJmkudG9Mb3dlckNhc2UoKT09PWUuY29sdW1uLnRvTG93ZXJDYXNlKCk/XCIoXCIrdStcIilcIjplLmNvbHVtbjtjYXNlXCJkYXRhLXR5cGVcIjpyZXR1cm4gZS52YWx1ZTtjYXNlXCJmdW5jdGlvblwiOntjb25zdCByPXkoZS5hcmdzLG4sbyxpLHUsbCk7cmV0dXJuIGcoZS5uYW1lLHIsbil9fXRocm93IG5ldyBzKGMuVW5zdXBwb3J0ZWRTeW50YXgse25vZGU6ZS50eXBlfSl9ZnVuY3Rpb24gZyhlLHQsYSl7c3dpdGNoKGUudG9Mb3dlckNhc2UoKS50cmltKCkpe2Nhc2VcImNvc1wiOmNhc2VcInNpblwiOmNhc2VcInRhblwiOmNhc2VcImNvc2hcIjpjYXNlXCJ0YW5oXCI6Y2FzZVwic2luaFwiOmNhc2VcImFjb3NcIjpjYXNlXCJhc2luXCI6Y2FzZVwiYXRhblwiOmNhc2VcImZsb29yXCI6Y2FzZVwibG9nMTBcIjpjYXNlXCJsb2dcIjpjYXNlXCJhYnNcIjppZigxIT09dC5sZW5ndGgpdGhyb3cgbmV3IHMoYy5JbnZhbGlkRnVuY3Rpb25QYXJhbWV0ZXJzLHtmdW5jdGlvbjplLnRvTG93ZXJDYXNlKCkudHJpbSgpfSk7cmV0dXJuYCR7ZS50b1VwcGVyQ2FzZSgpLnRyaW0oKX0oJHt0WzBdfSlgO2Nhc2VcImNlaWxpbmdcIjpjYXNlXCJjZWlsXCI6aWYoMSE9PXQubGVuZ3RoKXRocm93IG5ldyBzKGMuSW52YWxpZEZ1bmN0aW9uUGFyYW1ldGVycyx7ZnVuY3Rpb246XCJjZWlsaW5nXCJ9KTtzd2l0Y2goYSl7Y2FzZSByLlN0YW5kYXJkaXNlZDpjYXNlIHIuU3RhbmRhcmRpc2VkTm9JbnRlcnZhbDp9cmV0dXJuXCJDRUlMSU5HKFwiK3RbMF0rXCIpXCI7Y2FzZVwibW9kXCI6Y2FzZVwicG93ZXJcIjpjYXNlXCJudWxsaWZcIjppZigyIT09dC5sZW5ndGgpdGhyb3cgbmV3IHMoYy5JbnZhbGlkRnVuY3Rpb25QYXJhbWV0ZXJzLHtmdW5jdGlvbjplLnRvTG93ZXJDYXNlKCkudHJpbSgpfSk7cmV0dXJuYCR7ZS50b1VwcGVyQ2FzZSgpLnRyaW0oKX0oJHt0WzBdfSwke3RbMV19KWA7Y2FzZVwicm91bmRcIjppZigyPT09dC5sZW5ndGgpcmV0dXJuXCJST1VORChcIit0WzBdK1wiLFwiK3RbMV0rXCIpXCI7aWYoMT09PXQubGVuZ3RoKXJldHVyblwiUk9VTkQoXCIrdFswXStcIilcIjt0aHJvdyBuZXcgcyhjLkludmFsaWRGdW5jdGlvblBhcmFtZXRlcnMse2Z1bmN0aW9uOlwicm91bmRcIn0pO2Nhc2VcInRydW5jYXRlXCI6aWYodC5sZW5ndGg8MXx8dC5sZW5ndGg+Mil0aHJvdyBuZXcgcyhjLkludmFsaWRGdW5jdGlvblBhcmFtZXRlcnMse2Z1bmN0aW9uOlwidHJ1bmNhdGVcIn0pO3JldHVybiBhPT09ci5TcWxTZXJ2ZXI/XCJST1VORChcIit0WzBdKygxPT09dC5sZW5ndGg/XCIwXCI6XCIsXCIrdFsxXSkrXCIsMSlcIjpcIlRSVU5DQVRFKFwiK3RbMF0rKDE9PT10Lmxlbmd0aD9cIilcIjpcIixcIit0WzFdK1wiKVwiKTtjYXNlXCJjaGFyX2xlbmd0aFwiOmNhc2VcImxlblwiOmlmKDEhPT10Lmxlbmd0aCl0aHJvdyBuZXcgcyhjLkludmFsaWRGdW5jdGlvblBhcmFtZXRlcnMse2Z1bmN0aW9uOlwiY2hhcl9sZW5ndGhcIn0pO3N3aXRjaChhKXtjYXNlIHIuU3FsU2VydmVyOnJldHVyblwiTEVOKFwiK3RbMF0rXCIpXCI7Y2FzZSByLk9yYWNsZTpyZXR1cm5cIkxFTkdUSChcIit0WzBdK1wiKVwiO2RlZmF1bHQ6cmV0dXJuXCJDSEFSX0xFTkdUSChcIit0WzBdK1wiKVwifWNhc2VcImNvYWxlc2NlXCI6Y2FzZVwiY29uY2F0XCI6e2lmKHQubGVuZ3RoPDEpdGhyb3cgbmV3IHMoYy5JbnZhbGlkRnVuY3Rpb25QYXJhbWV0ZXJzLHtmdW5jdGlvbjplLnRvTG93ZXJDYXNlKCl9KTtsZXQgcj1lLnRvVXBwZXJDYXNlKCkudHJpbSgpK1wiKFwiO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKTAhPT1lJiYocis9XCIsXCIpLHIrPXRbZV07cmV0dXJuIHIrPVwiKVwiLHJ9Y2FzZVwibG93ZXJcIjpjYXNlXCJsY2FzZVwiOmlmKDEhPT10Lmxlbmd0aCl0aHJvdyBuZXcgcyhjLkludmFsaWRGdW5jdGlvblBhcmFtZXRlcnMse2Z1bmN0aW9uOlwibG93ZXJcIn0pO3JldHVyblwiTE9XRVIoXCIrdFswXStcIilcIjtjYXNlXCJ1cHBlclwiOmNhc2VcInVjYXNlXCI6aWYoMSE9PXQubGVuZ3RoKXRocm93IG5ldyBzKGMuSW52YWxpZEZ1bmN0aW9uUGFyYW1ldGVycyx7ZnVuY3Rpb246XCJ1cHBlclwifSk7cmV0dXJuXCJVUFBFUihcIit0WzBdK1wiKVwiO2Nhc2VcInN1YnN0cmluZ1wiOntsZXQgZT1cIlwiO3N3aXRjaChhKXtjYXNlIHIuT3JhY2xlOnJldHVybiBlPVwiU1VCU1RSKFwiK3RbMF0rXCIsXCIrdFsxXSwzPT09dC5sZW5ndGgmJihlKz1cIixcIit0WzJdKSxlKz1cIilcIixlO2Nhc2Ugci5TcWxTZXJ2ZXI6cmV0dXJuIGU9Mz09PXQubGVuZ3RoP1wiU1VCU1RSSU5HKFwiK3RbMF0rXCIsXCIrdFsxXStcIixcIit0WzJdK1wiKVwiOlwiU1VCU1RSSU5HKFwiK3RbMF0rXCIsICBcIit0WzFdK1wiLCBMRU4oXCIrdFswXStcIikgLSBcIit0WzFdK1wiKVwiLGU7ZGVmYXVsdDpyZXR1cm4gZT1cIlNVQlNUUklORyhcIit0WzBdK1wiIEZST00gXCIrdFsxXSwzPT09dC5sZW5ndGgmJihlKz1cIiBGT1IgXCIrdFsyXSksZSs9XCIpXCIsZX19Y2FzZVwiZXh0cmFjdFwiOnJldHVyblwiRVhUUkFDVChcIit0WzBdLnJlcGxhY2VBbGwoXCInXCIsXCJcIikrXCIgRlJPTSBcIit0WzFdK1wiKVwiO2Nhc2VcImNhc3RcIjp7bGV0IGU9XCJcIjtzd2l0Y2goYSl7Y2FzZSByLk9yYWNsZTpzd2l0Y2godFsxXS50eXBlKXtjYXNlXCJkYXRlXCI6ZT1cIkRBVEVcIjticmVhaztjYXNlXCJmbG9hdFwiOmU9XCJET1VCTEVcIjticmVhaztjYXNlXCJpbnRlZ2VyXCI6ZT1cIklOVEVHRVJcIjticmVhaztjYXNlXCJyZWFsXCI6ZT1cIlJFQUxcIjticmVhaztjYXNlXCJzbWFsbGludFwiOmU9XCJTTUFMTElOVFwiO2JyZWFrO2Nhc2VcInRpbWVzdGFtcFwiOmU9XCJUSU1FU1RBTVBcIjticmVhaztjYXNlXCJ2YXJjaGFyXCI6ZT1cIlZBUkNIQVIoXCIrdFsxXS5zaXplLnRvU3RyaW5nKCkrXCIpXCJ9cmV0dXJuYENBU1QoJHt0WzBdfSBBUyAke2V9KWA7Y2FzZSByLlBvc3RncmVzOnN3aXRjaCh0WzFdLnR5cGUpe2Nhc2VcImRhdGVcIjplPVwiREFURVwiO2JyZWFrO2Nhc2VcImZsb2F0XCI6ZT1cIkRPVUJMRSBQUkVDSVNJT05cIjticmVhaztjYXNlXCJpbnRlZ2VyXCI6ZT1cIklOVFwiO2JyZWFrO2Nhc2VcInJlYWxcIjplPVwiUkVBTFwiO2JyZWFrO2Nhc2VcInNtYWxsaW50XCI6ZT1cIlNNQUxMSU5UXCI7YnJlYWs7Y2FzZVwidGltZXN0YW1wXCI6ZT1cIlRJTUVTVEFNUFwiO2JyZWFrO2Nhc2VcInZhcmNoYXJcIjplPVwiVkFSQ0hBUihcIit0WzFdLnNpemUudG9TdHJpbmcoKStcIilcIn1yZXR1cm5gQ0FTVCgke3RbMF19IEFTICR7ZX0pYDtjYXNlIHIuU3FsU2VydmVyOnN3aXRjaCh0WzFdLnR5cGUpe2Nhc2VcImRhdGVcIjplPVwiREFURVwiO2JyZWFrO2Nhc2VcImZsb2F0XCI6ZT1cIkZMT0FUXCI7YnJlYWs7Y2FzZVwiaW50ZWdlclwiOmU9XCJJTlRcIjticmVhaztjYXNlXCJyZWFsXCI6ZT1cIlJFQUxcIjticmVhaztjYXNlXCJzbWFsbGludFwiOmU9XCJTTUFMTElOVFwiO2JyZWFrO2Nhc2VcInRpbWVzdGFtcFwiOmU9XCJEQVRFVElNRVwiO2JyZWFrO2Nhc2VcInZhcmNoYXJcIjplPVwiVkFSQ0hBUihcIit0WzFdLnNpemUudG9TdHJpbmcoKStcIilcIn1yZXR1cm5gQ0FTVCgke3RbMF19IEFTICR7ZX0pYDtkZWZhdWx0OnN3aXRjaCh0WzFdLnR5cGUpe2Nhc2VcImRhdGVcIjplPVwiREFURVwiO2JyZWFrO2Nhc2VcImZsb2F0XCI6ZT1cIkZMT0FUXCI7YnJlYWs7Y2FzZVwiaW50ZWdlclwiOmU9XCJJTlRFR0VSXCI7YnJlYWs7Y2FzZVwicmVhbFwiOmU9XCJSRUFMXCI7YnJlYWs7Y2FzZVwic21hbGxpbnRcIjplPVwiU01BTExJTlRcIjticmVhaztjYXNlXCJ0aW1lc3RhbXBcIjplPVwiVElNRVNUQU1QXCI7YnJlYWs7Y2FzZVwidmFyY2hhclwiOmU9XCJWQVJDSEFSKFwiK3RbMV0uc2l6ZS50b1N0cmluZygpK1wiKVwifXJldHVybmBDQVNUKCR7dFswXX0gQVMgJHtlfSlgfX19dGhyb3cgbmV3IHMoYy5JbnZhbGlkRnVuY3Rpb25QYXJhbWV0ZXJzLHtmdW5jdGlvbjplfSl9ZnVuY3Rpb24gaCh0LGEsbixzKXtuPy5vdXRwdXRUaW1lUmVmZXJlbmNlJiYodD1lLmFyY2FkZURhdGVBbmRab25lVG9BcmNhZGVEYXRlKHQsbj8ub3V0cHV0VGltZVJlZmVyZW5jZSkpO2NvbnN0IGM9dC50b0RhdGVUaW1lKCksbz0wPT09Yy5ob3VyJiYwPT09Yy5taW51dGUmJjA9PT1jLnNlY29uZCYmMD09PWMubWlsbGlzZWNvbmQ7c3dpdGNoKGEpe2Nhc2Ugci5GSUxFR0RCOmNhc2Ugci5TdGFuZGFyZGlzZWQ6Y2FzZSByLlN0YW5kYXJkaXNlZE5vSW50ZXJ2YWw6cmV0dXJuIG8/YGRhdGUgJyR7Yy50b0Zvcm1hdChcInl5eXktTEwtZGRcIil9J2A6YGRhdGUgJyR7Yy50b0Zvcm1hdChcInl5eXktTEwtZGQgSEg6bW06c3NcIil9J2A7Y2FzZSByLk9yYWNsZTpyZXR1cm4gbz9gVE9fREFURSgnJHtjLnRvRm9ybWF0KFwieXl5eS1MTC1kZFwiKX0nLCdZWVlZLU1NLUREJylgOmBUT19EQVRFKCcke2MudG9Gb3JtYXQoXCJ5eXl5LUxMLWRkIEhIOm1tOnNzXCIpfScsJ1lZWVktTU0tREQgSEgyNDpNSTpTUycpYDtjYXNlIHIuU3FsU2VydmVyOnJldHVybmAnJHtjLnRvRm9ybWF0KG8/XCJ5eXl5LUxMLWRkXCI6XCJ5eXl5LUxMLWRkIEhIOm1tOnNzXCIpfSdgO2Nhc2Ugci5QR0RCOnJldHVybmAjJHtjLnRvRm9ybWF0KG8/XCJMTC1kZC15eXl5XCI6XCJMTC1kZC15eXl5IEhIOm1tOnNzXCIpfSNgO2Nhc2Ugci5Qb3N0Z3JlczpyZXR1cm5gVElNRVNUQU1QICcke2MudG9Gb3JtYXQobz9cInl5eXktTEwtZGRcIjpcInl5eXktTEwtZGQgSEg6bW06c3NcIil9J2A7ZGVmYXVsdDpyZXR1cm5gZGF0ZSAnJHtjLnRvRm9ybWF0KFwieXl5eS1MTC1kZCBISDptbTpzc1wiKX0nYH19ZnVuY3Rpb24gVChlLGEsbixzKXtsZXQgYz10KGUpP2kuZnJvbUpTRGF0ZShlKTppLmZyb21TUUwoZSk7Y29uc3Qgbz0wPT09Yy5ob3VyJiYwPT09Yy5taW51dGUmJjA9PT1jLnNlY29uZCYmMD09PWMubWlsbGlzZWNvbmQ7c3dpdGNoKG4/LmlucHV0VGltZVJlZmVyZW5jZSYmKGM9aS5mcm9tT2JqZWN0KHtkYXk6Yy5kYXkseWVhcjpjLnllYXIsbW9udGg6Yy5tb250aCxob3VyOmMuaG91cixtaW51dGU6Yy5taW51dGUsc2Vjb25kOmMuc2Vjb25kLG1pbGxpc2Vjb25kOmMubWlsbGlzZWNvbmR9LHt6b25lOm4uaW5wdXRUaW1lUmVmZXJlbmNlfSkpLG4/Lm91dHB1dFRpbWVSZWZlcmVuY2UmJihjPWMuc2V0Wm9uZShuLm91dHB1dFRpbWVSZWZlcmVuY2UpKSxhKXtjYXNlIHIuRklMRUdEQjpjYXNlIHIuU3RhbmRhcmRpc2VkOmNhc2Ugci5TdGFuZGFyZGlzZWROb0ludGVydmFsOnJldHVybiBvP2BkYXRlICcke2MudG9Gb3JtYXQoXCJ5eXl5LUxMLWRkXCIpfSdgOmBkYXRlICcke2MudG9Gb3JtYXQoXCJ5eXl5LUxMLWRkIEhIOm1tOnNzXCIpfSdgO2Nhc2Ugci5PcmFjbGU6cmV0dXJuIG8/YFRPX0RBVEUoJyR7Yy50b0Zvcm1hdChcInl5eXktTEwtZGRcIil9JywnWVlZWS1NTS1ERCcpYDpgVE9fREFURSgnJHtjLnRvRm9ybWF0KFwieXl5eS1MTC1kZCBISDptbTpzc1wiKX0nLCdZWVlZLU1NLUREIEhIMjQ6TUk6U1MnKWA7Y2FzZSByLlNxbFNlcnZlcjpyZXR1cm5gJyR7Yy50b0Zvcm1hdChvP1wieXl5eS1MTC1kZFwiOlwieXl5eS1MTC1kZCBISDptbTpzc1wiKX0nYDtjYXNlIHIuUEdEQjpyZXR1cm5gIyR7Yy50b0Zvcm1hdChvP1wiTEwtZGQteXl5eVwiOlwiTEwtZGQteXl5eSBISDptbTpzc1wiKX0jYDtjYXNlIHIuUG9zdGdyZXM6cmV0dXJuYFRJTUVTVEFNUCAnJHtjLnRvRm9ybWF0KG8/XCJ5eXl5LUxMLWRkXCI6XCJ5eXl5LUxMLWRkIEhIOm1tOnNzXCIpfSdgO2RlZmF1bHQ6cmV0dXJuYGRhdGUgJyR7Yy50b0Zvcm1hdChcInl5eXktTEwtZGQgSEg6bW06c3NcIil9J2B9fWZ1bmN0aW9uIEwoZSx0KXtzd2l0Y2godCl7Y2FzZSByLkZJTEVHREI6Y2FzZSByLlN0YW5kYXJkaXNlZDpjYXNlIHIuU3RhbmRhcmRpc2VkTm9JbnRlcnZhbDpjYXNlIHIuT3JhY2xlOnJldHVybiBlP1wiQ1VSUkVOVF9EQVRFXCI6XCJDVVJSRU5UX1RJTUVTVEFNUFwiO2Nhc2Ugci5TcWxTZXJ2ZXI6cmV0dXJuIGU/XCJDQVNUKEdFVERBVEUoKSBBUyBEQVRFKVwiOlwiR0VUREFURSgpXCI7Y2FzZSByLlBHREI6Y2FzZSByLlBvc3RncmVzOmRlZmF1bHQ6cmV0dXJuIGU/XCJDVVJSRU5UX0RBVEVcIjpcIkNVUlJFTlRfVElNRVNUQU1QXCJ9fWZ1bmN0aW9uIFMoZSxyLHQ9e30pe2NvbnN0IGE9e30sbj17fSxzPXtlc3JpRmllbGRUeXBlU21hbGxJbnRlZ2VyOlwiaW50ZWdlclwiLGVzcmlGaWVsZFR5cGVJbnRlZ2VyOlwiaW50ZWdlclwiLGVzcmlGaWVsZFR5cGVTaW5nbGU6XCJkb3VibGVcIixlc3JpRmllbGRUeXBlRG91YmxlOlwiZG91YmxlXCIsZXNyaUZpZWxkVHlwZVN0cmluZzpcInN0cmluZ1wiLGVzcmlGaWVsZFR5cGVEYXRlOlwiZGF0ZVwiLGVzcmlGaWVsZFR5cGVPSUQ6XCJpbnRlZ2VyXCIsZXNyaUZpZWxkVHlwZUdVSUQ6XCJndWlkXCIsZXNyaUZpZWxkVHlwZUdsb2JhbElEOlwiZ3VpZFwiLG9pZDpcImludGVnZXJcIixsb25nOlwiaW50ZWdlclwiLFwic21hbGwtaW50ZWdlclwiOlwiaW50ZWdlclwiLGludGVnZXI6XCJpbnRlZ2VyXCIsc2luZ2xlOlwiZG91YmxlXCIsZG91YmxlOlwiZG91YmxlXCIsZGF0ZTpcImRhdGVcIixndWlkOlwiZ3VpZFwiLGdsb2JhbGlkOlwiZ3VpZFwiLHN0cmluZzpcInN0cmluZ1wifTtmb3IoY29uc3QgYyBvZiByKXtjb25zdCBlPWMudHlwZT9zW2MudHlwZV06dm9pZCAwO2FbYy5uYW1lLnRvTG93ZXJDYXNlKCldPXZvaWQgMD09PWU/XCJcIjplfWZvcihjb25zdCBjIGluIHQpe2NvbnN0IGU9c1t0W2NdXTtuW2MudG9Mb3dlckNhc2UoKV09dm9pZCAwPT09ZT9cIlwiOmV9c3dpdGNoKEUoYSxlLnBhcnNlVHJlZSxlLnBhcmFtZXRlcnMsbikpe2Nhc2VcImRvdWJsZVwiOnJldHVyblwiZG91YmxlXCI7Y2FzZVwiaW50ZWdlclwiOnJldHVyblwiaW50ZWdlclwiO2Nhc2VcImRhdGVcIjpyZXR1cm5cImRhdGVcIjtjYXNlXCJzdHJpbmdcIjpyZXR1cm5cInN0cmluZ1wiO2Nhc2VcImdsb2JhbC1pZFwiOmNhc2VcImd1aWRcIjpyZXR1cm5cImd1aWRcIn1yZXR1cm5cIlwifWZ1bmN0aW9uIEUoZSxyLG4sbyl7bGV0IGk7c3dpdGNoKHIudHlwZSl7Y2FzZVwiaW50ZXJ2YWxcIjpyZXR1cm5cImludGVnZXJcIjtjYXNlXCJjYXNlLWV4cHJlc3Npb25cIjp7Y29uc3QgdD1bXTtpZihcInNpbXBsZVwiPT09ci5mb3JtYXQpe2ZvcihsZXQgYT0wO2E8ci5jbGF1c2VzLmxlbmd0aDthKyspdC5wdXNoKEUoZSxyLmNsYXVzZXNbYV0udmFsdWUsbixvKSk7bnVsbCE9PXIuZWxzZSYmdC5wdXNoKEUoZSxyLmVsc2UsbixvKSl9ZWxzZXtmb3IobGV0IGE9MDthPHIuY2xhdXNlcy5sZW5ndGg7YSsrKXQucHVzaChFKGUsci5lbHNlLG4sbykpO251bGwhPT1yLmVsc2UmJnQucHVzaChFKGUsci5lbHNlLG4sbykpfXJldHVybiB3KHQpfWNhc2VcInBhcmFtZXRlclwiOntjb25zdCBlPW9bci52YWx1ZS50b0xvd2VyQ2FzZSgpXTtpZih2b2lkIDA9PT1lJiZuKXtjb25zdCBlPW5bci52YWx1ZS50b0xvd2VyQ2FzZSgpXTtpZih2b2lkIDA9PT1lKXJldHVyblwiXCI7aWYobnVsbD09PWUpcmV0dXJuXCJcIjtpZihcInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFN0cmluZylyZXR1cm5cInN0cmluZ1wiO2lmKFwiYm9vbGVhblwiPT10eXBlb2YgZSlyZXR1cm5cImJvb2xlYW5cIjtpZih0KGUpKXJldHVyblwiZGF0ZVwiO2lmKGEoZSkpcmV0dXJuXCJkYXRlXCI7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIGUlMT09MD9cImludGVnZXJcIjpcImRvdWJsZVwifXJldHVybiB2b2lkIDA9PT1lP1wiXCI6ZX1jYXNlXCJleHByZXNzaW9uLWxpc3RcIjp7Y29uc3QgdD1bXTtmb3IoY29uc3QgYSBvZiByLnZhbHVlKXQucHVzaChFKGUsYSxuLG8pKTtyZXR1cm4gdH1jYXNlXCJ1bmFyeS1leHByZXNzaW9uXCI6cmV0dXJuXCJib29sZWFuXCI7Y2FzZVwiYmluYXJ5LWV4cHJlc3Npb25cIjpzd2l0Y2goci5vcGVyYXRvcil7Y2FzZVwiQU5EXCI6Y2FzZVwiT1JcIjpjYXNlXCJJTlwiOmNhc2VcIk5PVCBJTlwiOmNhc2VcIkJFVFdFRU5cIjpjYXNlXCJOT1RCRVRXRUVOXCI6Y2FzZVwiTElLRVwiOmNhc2VcIk5PVCBMSUtFXCI6Y2FzZVwiPD5cIjpjYXNlXCI8XCI6Y2FzZVwiPlwiOmNhc2VcIj49XCI6Y2FzZVwiPD1cIjpjYXNlXCI9XCI6cmV0dXJuXCJib29sZWFuXCI7Y2FzZVwiSVNcIjpjYXNlXCJJU05PVFwiOmlmKFwibnVsbFwiIT09ci5yaWdodC50eXBlKXRocm93IG5ldyBzKGMuVW5zdXBwb3J0ZWRJc1Jocyk7cmV0dXJuXCJib29sZWFuXCI7Y2FzZVwiKlwiOmNhc2VcIi1cIjpjYXNlXCIrXCI6Y2FzZVwiL1wiOnJldHVybiB3KFtFKGUsci5sZWZ0LG4sbyksRShlLHIucmlnaHQsbixvKV0pO2Nhc2VcInx8XCI6cmV0dXJuXCJzdHJpbmdcIjtkZWZhdWx0OnRocm93IG5ldyBzKGMuVW5zdXBwb3J0ZWRPcGVyYXRvcix7b3BlcmF0b3I6ci5vcGVyYXRvcn0pfWNhc2VcIm51bGxcIjpyZXR1cm5cIlwiO2Nhc2VcImJvb2xlYW5cIjpyZXR1cm5cImJvb2xlYW5cIjtjYXNlXCJzdHJpbmdcIjpyZXR1cm5cInN0cmluZ1wiO2Nhc2VcIm51bWJlclwiOnJldHVybiBudWxsPT09ci52YWx1ZT9cIlwiOnIudmFsdWUlMT09MD9cImludGVnZXJcIjpcImRvdWJsZVwiO2Nhc2VcImRhdGVcIjpjYXNlXCJ0aW1lc3RhbXBcIjpjYXNlXCJjdXJyZW50LXRpbWVcIjpyZXR1cm5cImRhdGVcIjtjYXNlXCJjb2x1bW4tcmVmZXJlbmNlXCI6e2NvbnN0IHQ9ZVtyLmNvbHVtbi50b0xvd2VyQ2FzZSgpXTtyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnR9Y2FzZVwiZnVuY3Rpb25cIjpzd2l0Y2goci5uYW1lLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImNhc3RcIjpzd2l0Y2goci5hcmdzPy52YWx1ZVsxXT8udmFsdWUudHlwZT8/XCJcIil7Y2FzZVwiaW50ZWdlclwiOmNhc2VcInNtYWxsaW50XCI6cmV0dXJuXCJpbnRlZ2VyXCI7Y2FzZVwicmVhbFwiOmNhc2VcImZsb2F0XCI6cmV0dXJuXCJkb3VibGVcIjtjYXNlXCJkYXRlXCI6Y2FzZVwidGltZXN0YW1wXCI6cmV0dXJuXCJkYXRlXCI7Y2FzZVwidmFyY2hhclwiOnJldHVyblwic3RyaW5nXCI7ZGVmYXVsdDpyZXR1cm5cIlwifWNhc2VcInBvc2l0aW9uXCI6Y2FzZVwiZXh0cmFjdFwiOmNhc2VcImNoYXJfbGVuZ3RoXCI6Y2FzZVwibW9kXCI6cmV0dXJuXCJpbnRlZ2VyXCI7Y2FzZVwicm91bmRcIjppZihpPUUoZSxyLmFyZ3MsbixvKSxpIGluc3RhbmNlb2YgQXJyYXkpe2lmKGkubGVuZ3RoPD0wKXJldHVyblwiZG91YmxlXCI7aT1pWzBdfXJldHVybiBpO2Nhc2VcInNpZ25cIjpyZXR1cm5cImludGVnZXJcIjtjYXNlXCJjZWlsaW5nXCI6Y2FzZVwiZmxvb3JcIjpjYXNlXCJhYnNcIjpyZXR1cm4gaT1FKGUsci5hcmdzLG4sbyksaSBpbnN0YW5jZW9mIEFycmF5JiYoaT13KGkpKSxcImludGVnZXJcIj09PWl8fFwiZG91YmxlXCI9PT1pP2k6XCJkb3VibGVcIjtjYXNlXCJhcmVhXCI6Y2FzZVwibGVuZ3RoXCI6Y2FzZVwibG9nXCI6Y2FzZVwibG9nMTBcIjpjYXNlXCJzaW5cIjpjYXNlXCJjb3NcIjpjYXNlXCJ0YW5cIjpjYXNlXCJhc2luXCI6Y2FzZVwiYWNvc1wiOmNhc2VcImF0YW5cIjpjYXNlXCJjb3NoXCI6Y2FzZVwic2luaFwiOmNhc2VcInRhbmhcIjpjYXNlXCJwb3dlclwiOnJldHVyblwiZG91YmxlXCI7Y2FzZVwic3Vic3RyaW5nXCI6Y2FzZVwidHJpbVwiOmNhc2VcImNvbmNhdFwiOmNhc2VcImxvd2VyXCI6Y2FzZVwidXBwZXJcIjpyZXR1cm5cInN0cmluZ1wiO2Nhc2VcInRydW5jYXRlXCI6cmV0dXJuXCJkb3VibGVcIjtjYXNlXCJudWxsaWZcIjpjYXNlXCJjb2FsZXNjZVwiOnJldHVybiBpPUUoZSxyLmFyZ3MsbixvKSxpIGluc3RhbmNlb2YgQXJyYXk/aS5sZW5ndGg+MD9pWzBdOlwiXCI6aX1yZXR1cm5cIlwifXRocm93IG5ldyBzKGMuVW5zdXBwb3J0ZWRTeW50YXgse25vZGU6ci50eXBlfSl9Y29uc3QgST17Ym9vbGVhbjoxLHN0cmluZzoyLGludGVnZXI6Myxkb3VibGU6NCxkYXRlOjV9O2Z1bmN0aW9uIHcoZSl7aWYoZSl7bGV0IHI9XCJcIjtmb3IoY29uc3QgdCBvZiBlKVwiXCIhPT10JiYocj1cIlwiPT09cnx8SVtyXTxJW3RdP3Q6cik7cmV0dXJuIHJ9cmV0dXJuXCJcIn1mdW5jdGlvbiBBKGUscil7cmV0dXJuIGIoZS5wYXJzZVRyZWUscil9ZnVuY3Rpb24gTihlKXtyZXR1cm5cImNvbHVtbi1yZWZlcmVuY2VcIj09PWU/LnBhcnNlVHJlZS50eXBlfWZ1bmN0aW9uIGIoZSxyKXtpZihudWxsPT1lKXJldHVybiExO3N3aXRjaChlLnR5cGUpe2Nhc2VcIndoZW4tY2xhdXNlXCI6cmV0dXJuIGIoZS5vcGVyYW5kLHIpfHxiKGUudmFsdWUscik7Y2FzZVwiY2FzZS1leHByZXNzaW9uXCI6Zm9yKGNvbnN0IHQgb2YgZS5jbGF1c2VzKWlmKGIodCxyKSlyZXR1cm4hMDtyZXR1cm4hKFwic2ltcGxlXCIhPT1lLmZvcm1hdHx8IWIoZS5vcGVyYW5kLHIpKXx8IShudWxsPT09ZS5lbHNlfHwhYihlLmVsc2UscikpO2Nhc2VcInBhcmFtZXRlclwiOmNhc2VcIm51bGxcIjpjYXNlXCJib29sZWFuXCI6Y2FzZVwiZGF0ZVwiOmNhc2VcInRpbWVzdGFtcFwiOmNhc2VcInN0cmluZ1wiOmNhc2VcIm51bWJlclwiOnJldHVybiExO2Nhc2VcImV4cHJlc3Npb24tbGlzdFwiOmZvcihjb25zdCB0IG9mIGUudmFsdWUpaWYoYih0LHIpKXJldHVybiEwO3JldHVybiExO2Nhc2VcInVuYXJ5LWV4cHJlc3Npb25cIjpyZXR1cm4gYihlLmV4cHIscik7Y2FzZVwiYmluYXJ5LWV4cHJlc3Npb25cIjpyZXR1cm4gYihlLmxlZnQscil8fGIoZS5yaWdodCxyKTtjYXNlXCJjb2x1bW4tcmVmZXJlbmNlXCI6cmV0dXJuIHIudG9Mb3dlckNhc2UoKT09PWUuY29sdW1uLnRvTG93ZXJDYXNlKCk7Y2FzZVwiZnVuY3Rpb25cIjpyZXR1cm4gYihlLmFyZ3Mscil9cmV0dXJuITF9ZnVuY3Rpb24gdihlKXtsZXQgcj1cIlwiO3JldHVybiByKz1lLnBlcmlvZC50b1VwcGVyQ2FzZSgpLHJ9ZnVuY3Rpb24gUihlLHIsdCl7bGV0IGE9XCJcIjtyZXR1cm4gYT1cImludGVydmFsLXBlcmlvZFwiPT09ci50eXBlP3Yocik6dihyLnN0YXJ0KStcIiBUTyBcIit2KHIuZW5kKSxcIklOVEVSVkFMIFwiK3QrXCIgXCIrZStcIiBcIithfWV4cG9ydHtoIGFzIGFyY2FkZURhdGVUb1NxbFN0cmluZyxsIGFzIGNoYW5nZVNxbFRpbWVab25lcyxkIGFzIGNoYW5nZVdoZXJlQ2xhdXNlVGltZVpvbmUsbSBhcyBjb21iaW5lLFIgYXMgY29udmVydEludGVydmFsVG9TcWwsTiBhcyBpc1NpbmdsZUZpZWxkLFQgYXMgbWFrZURhdGVTdHJpbmcsTCBhcyBtYWtlVG9kYXksUyBhcyBwcmVkaWN0VHlwZSxwIGFzIHJlZm9ybXVsYXRlV2l0aG91dEZpZWxkLEEgYXMgc2NhbkZvckZpZWxkLHUgYXMgdG9XaGVyZUNsYXVzZSxmIGFzIHRvV2hlcmVDbGF1c2VGcm9tVHJlZSxnIGFzIHRyYW5zbGF0ZUZ1bmN0aW9uVG9EYXRhYmFzZVNwZWNpZmljfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7RmVhdHVyZVNldEVycm9yIGFzIHQsRmVhdHVyZVNldEVycm9yQ29kZXMgYXMgbn1mcm9tXCIuL2Vycm9yc3VwcG9ydC5qc1wiO2ltcG9ydHtpc051bWJlciBhcyBlLGlzU3RyaW5nIGFzIHIsZXF1YWxpdHlUZXN0IGFzIGF9ZnJvbVwiLi9zaGFyZWQuanNcIjtpbXBvcnR7aXNTaW5nbGVGaWVsZCBhcyBjLHByZWRpY3RUeXBlIGFzIHV9ZnJvbVwiLi9zcWxVdGlscy5qc1wiO2Z1bmN0aW9uIHModCl7cmV0dXJuIHQ9K3QsaXNGaW5pdGUodCk/dC10JTF8fCh0PDA/LTA6MD09PXQ/dDowKTp0fWZ1bmN0aW9uIGkodCl7bGV0IG49MDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyluKz10W2VdO3JldHVybiBuL3QubGVuZ3RofWZ1bmN0aW9uIGwodCl7Y29uc3Qgbj1pKHQpO2xldCBlPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspZSs9KG4tdFtyXSkqKjI7cmV0dXJuIGUvdC5sZW5ndGh9ZnVuY3Rpb24gbyh0KXtjb25zdCBuPWkodCk7bGV0IGU9MDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyllKz0obi10W3JdKSoqMjtyZXR1cm4gZS8odC5sZW5ndGgtMSl9ZnVuY3Rpb24gaCh0KXtsZXQgbj0wO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKW4rPXRbZV07cmV0dXJuIG59ZnVuY3Rpb24gZih0LG4pe2NvbnN0IGM9W10sdT17fSxzPVtdO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtpZih2b2lkIDAhPT10W2ldJiZudWxsIT09dFtpXSl7Y29uc3Qgbj10W2ldO2lmKGUobil8fHIobikpdm9pZCAwPT09dVtuXSYmKGMucHVzaChuKSx1W25dPTEpO2Vsc2V7bGV0IHQ9ITE7Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aDtlKyspITA9PT1hKHNbZV0sbikmJih0PSEwKTshMT09PXQmJihzLnB1c2gobiksYy5wdXNoKG4pKX19aWYoYy5sZW5ndGg+PW4mJi0xIT09bilyZXR1cm4gY31yZXR1cm4gY31mdW5jdGlvbiBtKHQpe3N3aXRjaCh0LnRvTG93ZXJDYXNlKCkpe2Nhc2VcImRpc3RpbmN0XCI6cmV0dXJuXCJkaXN0aW5jdFwiO2Nhc2VcImF2Z1wiOmNhc2VcIm1lYW5cIjpyZXR1cm5cImF2Z1wiO2Nhc2VcIm1pblwiOnJldHVyblwibWluXCI7Y2FzZVwic3VtXCI6cmV0dXJuXCJzdW1cIjtjYXNlXCJtYXhcIjpyZXR1cm5cIm1heFwiO2Nhc2VcInN0ZGV2XCI6Y2FzZVwic3RkZGV2XCI6cmV0dXJuXCJzdGRkZXZcIjtjYXNlXCJ2YXJcIjpjYXNlXCJ2YXJpYW5jZVwiOnJldHVyblwidmFyXCI7Y2FzZVwiY291bnRcIjpyZXR1cm5cImNvdW50XCJ9cmV0dXJuXCJcIn1mdW5jdGlvbiBnKHQsbixlPTFlMyl7c3dpdGNoKHQudG9Mb3dlckNhc2UoKSl7Y2FzZVwiZGlzdGluY3RcIjpyZXR1cm4gZihuLGUpO2Nhc2VcImF2Z1wiOmNhc2VcIm1lYW5cIjpyZXR1cm4gaShuKTtjYXNlXCJtaW5cIjpyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxuKTtjYXNlXCJzdW1cIjpyZXR1cm4gaChuKTtjYXNlXCJtYXhcIjpyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxuKTtjYXNlXCJzdGRldlwiOmNhc2VcInN0ZGRldlwiOnJldHVybiBNYXRoLnNxcnQobChuKSk7Y2FzZVwidmFyXCI6Y2FzZVwidmFyaWFuY2VcIjpyZXR1cm4gbChuKTtjYXNlXCJjb3VudFwiOnJldHVybiBuLmxlbmd0aH1yZXR1cm4gMH1hc3luYyBmdW5jdGlvbiB3KHQsbixlKXtjb25zdCByPWF3YWl0IGsodCxuLGUsITApO3JldHVybiAwPT09ci5sZW5ndGg/bnVsbDpNYXRoLm1pbi5hcHBseShNYXRoLHIpfWFzeW5jIGZ1bmN0aW9uIGQodCxuLGUpe2NvbnN0IHI9YXdhaXQgayh0LG4sZSwhMCk7cmV0dXJuIDA9PT1yLmxlbmd0aD9udWxsOk1hdGgubWF4LmFwcGx5KE1hdGgscil9YXN5bmMgZnVuY3Rpb24gcCh0LG4sZSl7bGV0IHI9XCJcIjtuJiYhYyhuKSYmKHI9dShuLHQuZmllbGRzKSk7Y29uc3QgYT1hd2FpdCBrKHQsbixlLCEwKTtpZigwPT09YS5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgbD1pKGEpO3JldHVybiBudWxsPT09bD9sOlwiaW50ZWdlclwiPT09cj9zKGwpOmx9YXN5bmMgZnVuY3Rpb24gdih0LG4sZSl7Y29uc3Qgcj1hd2FpdCBrKHQsbixlLCEwKTtyZXR1cm4gMD09PXIubGVuZ3RoP251bGw6byhyKX1hc3luYyBmdW5jdGlvbiB5KHQsbixlKXtjb25zdCByPWF3YWl0IGsodCxuLGUsITApO3JldHVybiAwPT09ci5sZW5ndGg/bnVsbDpNYXRoLnNxcnQobyhyKSl9YXN5bmMgZnVuY3Rpb24geCh0LG4sZSl7Y29uc3Qgcj1hd2FpdCBrKHQsbixlLCEwKTtyZXR1cm4gMD09PXIubGVuZ3RoP251bGw6aChyKX1hc3luYyBmdW5jdGlvbiBNKHQsbil7cmV0dXJuIHQuaXRlcmF0b3IobikuY291bnQoKX1hc3luYyBmdW5jdGlvbiBrKGUscixhLGM9ITEpe2NvbnN0IHU9ZS5pdGVyYXRvcihhKSxzPVtdLGk9e3RpY2tlcjowfTtsZXQgbD1hd2FpdCB1Lm5leHQoKTtmb3IoO251bGwhPT1sOyl7aWYoaS50aWNrZXIrKyxhLmFib3J0ZWQpdGhyb3cgbmV3IHQobi5DYW5jZWxsZWQpO2kudGlja2VyJTEwMD09MCYmKGkudGlja2VyPTAsYXdhaXQgbmV3IFByb21pc2UoKHQ9PntzZXRUaW1lb3V0KHQsMCl9KSkpO2NvbnN0IGU9cj8uY2FsY3VsYXRlVmFsdWUobCk7bnVsbD09PWU/ITE9PT1jJiYoc1tzLmxlbmd0aF09ZSk6c1tzLmxlbmd0aF09ZSxsPWF3YWl0IHUubmV4dCgpfXJldHVybiBzfWFzeW5jIGZ1bmN0aW9uIEMoZSxyLGE9MWUzLGM9bnVsbCl7Y29uc3QgdT1lLml0ZXJhdG9yKGMpLHM9W10saT17fSxsPXt0aWNrZXI6MH07bGV0IG89YXdhaXQgdS5uZXh0KCk7Zm9yKDtudWxsIT09bzspe2lmKGwudGlja2VyKyssYyYmYy5hYm9ydGVkKXRocm93IG5ldyB0KG4uQ2FuY2VsbGVkKTtsLnRpY2tlciUxMDA9PTAmJihsLnRpY2tlcj0wLGF3YWl0IG5ldyBQcm9taXNlKCh0PT57c2V0VGltZW91dCh0LDApfSkpKTtjb25zdCBlPXI/LmNhbGN1bGF0ZVZhbHVlKG8pO2lmKG51bGwhPWUmJnZvaWQgMD09PWlbZV0mJihzLnB1c2goZSksaVtlXT0xKSxzLmxlbmd0aD49YSYmLTEhPT1hKXJldHVybiBzO289YXdhaXQgdS5uZXh0KCl9cmV0dXJuIHN9ZXhwb3J0e2cgYXMgY2FsY3VsYXRlU3RhdCxNIGFzIGNvdW50LG0gYXMgZGVjb2RlU3RhdFR5cGUsQyBhcyBkaXN0aW5jdCxkIGFzIG1heCxwIGFzIG1lYW4sdyBhcyBtaW4seSBhcyBzdGRldix4IGFzIHN1bSx2IGFzIHZhcmlhbmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgcyBmcm9tXCIuL2NvbmZpZy5qc1wiO2ltcG9ydCB0IGZyb21cIi4vcmVxdWVzdC5qc1wiO2ltcG9ydCBvIGZyb21cIi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCByIGZyb21cIi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7am9pbiBhcyBlfWZyb21cIi4vY29yZS91cmxVdGlscy5qc1wiO2NvbnN0IGk9ci5nZXRMb2dnZXIoXCJlc3JpLmFzc2V0c1wiKTtmdW5jdGlvbiBuKHMsbyl7cmV0dXJuIHQoYShzKSxvKX1mdW5jdGlvbiBhKHQpe2lmKCFzLmFzc2V0c1BhdGgpdGhyb3cgaS5lcnJvck9uY2UoXCJUaGUgQVBJIGFzc2V0cyBsb2NhdGlvbiBuZWVkcyB0byBiZSBzZXQgdXNpbmcgY29uZmlnLmFzc2V0c1BhdGguIE1vcmUgaW5mb3JtYXRpb246IGh0dHBzOi8vYXJjZy5pcy8xT3pMZTUwXCIpLG5ldyBvKFwiYXNzZXRzOnBhdGgtbm90LXNldFwiLFwiY29uZmlnLmFzc2V0c1BhdGggaXMgbm90IHNldFwiKTtyZXR1cm4gZShzLmFzc2V0c1BhdGgsdCl9ZXhwb3J0e24gYXMgZmV0Y2hBc3NldCxhIGFzIGdldEFzc2V0VXJsfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0e29wZW4gYXMgbn1mcm9tXCIuLi9jb3JlL3dvcmtlcnMvd29ya2Vycy5qc1wiO2ltcG9ydCB0IGZyb21cIi4vUG9pbnQuanNcIjtpbXBvcnR7ZnJvbUpTT04gYXMgZX1mcm9tXCIuL3N1cHBvcnQvanNvblV0aWxzLmpzXCI7ZnVuY3Rpb24gcihuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9uWzBdPy5zcGF0aWFsUmVmZXJlbmNlOm4/LnNwYXRpYWxSZWZlcmVuY2V9ZnVuY3Rpb24gYShuKXtyZXR1cm4gbj9BcnJheS5pc0FycmF5KG4pP24ubWFwKGEpOm4udG9KU09OP24udG9KU09OKCk6bjpufWZ1bmN0aW9uIGkobil7cmV0dXJuIEFycmF5LmlzQXJyYXkobik/bi5tYXAoKG49PmUobikpKTplKG4pfWZ1bmN0aW9uIG8obix0KXtsZXQgZTtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9lPW46KGU9W10sZS5wdXNoKG4pLG51bGwhPXQmJmUucHVzaCh0KSksZX1sZXQgYzthc3luYyBmdW5jdGlvbiB1KCl7cmV0dXJuIGN8fChjPW4oXCJnZW9tZXRyeUVuZ2luZVdvcmtlclwiLHtzdHJhdGVneTpcImRpc3RyaWJ1dGVkXCJ9KSksY31hc3luYyBmdW5jdGlvbiBzKG4sdCl7cmV0dXJuKGF3YWl0IHUoKSkuaW52b2tlKFwiZXhlY3V0ZUdFT3BlcmF0aW9uXCIse29wZXJhdGlvbjpuLHBhcmFtZXRlcnM6YSh0KX0pfWFzeW5jIGZ1bmN0aW9uIGYobix0KXtjb25zdCBlPWF3YWl0IHUoKTtyZXR1cm4gUHJvbWlzZS5hbGwoZS5icm9hZGNhc3QoXCJleGVjdXRlR0VPcGVyYXRpb25cIix7b3BlcmF0aW9uOm4scGFyYW1ldGVyczphKHQpfSkpfWZ1bmN0aW9uIGwobil7cmV0dXJuIHMoXCJleHRlbmRlZFNwYXRpYWxSZWZlcmVuY2VJbmZvXCIsW25dKX1hc3luYyBmdW5jdGlvbiB5KG4sdCl7cmV0dXJuIGkoYXdhaXQgcyhcImNsaXBcIixbcihuKSxuLHRdKSl9YXN5bmMgZnVuY3Rpb24gdyhuLHQpe3JldHVybiBpKGF3YWl0IHMoXCJjdXRcIixbcihuKSxuLHRdKSl9ZnVuY3Rpb24gcChuLHQpe3JldHVybiBzKFwiY29udGFpbnNcIixbcihuKSxuLHRdKX1mdW5jdGlvbiBtKG4sdCl7cmV0dXJuIHMoXCJjcm9zc2VzXCIsW3Iobiksbix0XSl9ZnVuY3Rpb24gZChuLHQsZSl7cmV0dXJuIHMoXCJkaXN0YW5jZVwiLFtyKG4pLG4sdCxlXSl9ZnVuY3Rpb24gZyhuLHQpe3JldHVybiBzKFwiZXF1YWxzXCIsW3Iobiksbix0XSl9ZnVuY3Rpb24gaChuLHQpe3JldHVybiBzKFwiaW50ZXJzZWN0c1wiLFtyKG4pLG4sdF0pfWZ1bmN0aW9uIFMobix0KXtyZXR1cm4gcyhcInRvdWNoZXNcIixbcihuKSxuLHRdKX1mdW5jdGlvbiB4KG4sdCl7cmV0dXJuIHMoXCJ3aXRoaW5cIixbcihuKSxuLHRdKX1mdW5jdGlvbiBBKG4sdCl7cmV0dXJuIHMoXCJkaXNqb2ludFwiLFtyKG4pLG4sdF0pfWZ1bmN0aW9uIE8obix0KXtyZXR1cm4gcyhcIm92ZXJsYXBzXCIsW3Iobiksbix0XSl9ZnVuY3Rpb24gUihuLHQsZSl7cmV0dXJuIHMoXCJyZWxhdGVcIixbcihuKSxuLHQsZV0pfWZ1bmN0aW9uIEoobil7cmV0dXJuIHMoXCJpc1NpbXBsZVwiLFtyKG4pLG5dKX1hc3luYyBmdW5jdGlvbiBOKG4pe3JldHVybiBpKGF3YWl0IHMoXCJzaW1wbGlmeVwiLFtyKG4pLG5dKSl9YXN5bmMgZnVuY3Rpb24gaihuLHQ9ITEpe3JldHVybiBpKGF3YWl0IHMoXCJjb252ZXhIdWxsXCIsW3Iobiksbix0XSkpfWFzeW5jIGZ1bmN0aW9uIEUobix0KXtyZXR1cm4gaShhd2FpdCBzKFwiZGlmZmVyZW5jZVwiLFtyKG4pLG4sdF0pKX1hc3luYyBmdW5jdGlvbiBrKG4sdCl7cmV0dXJuIGkoYXdhaXQgcyhcInN5bW1ldHJpY0RpZmZlcmVuY2VcIixbcihuKSxuLHRdKSl9YXN5bmMgZnVuY3Rpb24gRChuLHQpe3JldHVybiBpKGF3YWl0IHMoXCJpbnRlcnNlY3RcIixbcihuKSxuLHRdKSl9YXN5bmMgZnVuY3Rpb24gYihuLHQ9bnVsbCl7Y29uc3QgZT1vKG4sdCk7cmV0dXJuIGkoYXdhaXQgcyhcInVuaW9uXCIsW3IoZSksZV0pKX1hc3luYyBmdW5jdGlvbiB2KG4sdCxlLGEsbyxjKXtyZXR1cm4gaShhd2FpdCBzKFwib2Zmc2V0XCIsW3Iobiksbix0LGUsYSxvLGNdKSl9YXN5bmMgZnVuY3Rpb24gTChuLHQsZSxhPSExKXtjb25zdCBvPVtyKG4pLG4sdCxlLGFdO3JldHVybiBpKGF3YWl0IHMoXCJidWZmZXJcIixvKSl9YXN5bmMgZnVuY3Rpb24gUChuLHQsZSxhLG8sYyl7Y29uc3QgdT1bcihuKSxuLHQsZSxhLG8sY107cmV0dXJuIGkoYXdhaXQgcyhcImdlb2Rlc2ljQnVmZmVyXCIsdSkpfWFzeW5jIGZ1bmN0aW9uIFQobixlLGE9ITApe2NvbnN0IGk9YXdhaXQgcyhcIm5lYXJlc3RDb29yZGluYXRlXCIsW3IobiksbixlLGFdKTtyZXR1cm57Li4uaSxjb29yZGluYXRlOnQuZnJvbUpTT04oaS5jb29yZGluYXRlKX19YXN5bmMgZnVuY3Rpb24gVihuLGUpe2NvbnN0IGE9YXdhaXQgcyhcIm5lYXJlc3RWZXJ0ZXhcIixbcihuKSxuLGVdKTtyZXR1cm57Li4uYSxjb29yZGluYXRlOnQuZnJvbUpTT04oYS5jb29yZGluYXRlKX19YXN5bmMgZnVuY3Rpb24geihuLGUsYSxpKXtyZXR1cm4oYXdhaXQgcyhcIm5lYXJlc3RWZXJ0aWNlc1wiLFtyKG4pLG4sZSxhLGldKSkubWFwKChuPT4oey4uLm4sY29vcmRpbmF0ZTp0LmZyb21KU09OKG4uY29vcmRpbmF0ZSl9KSkpfWZ1bmN0aW9uIEcobil7cmV0dXJuXCJ4bWluXCJpbiBuP24uY2VudGVyOlwieFwiaW4gbj9uOm4uZXh0ZW50Py5jZW50ZXJ9YXN5bmMgZnVuY3Rpb24gSChuLHQsZSl7aWYobnVsbD09bil0aHJvdyBuZXcgWjtjb25zdCByPW4uc3BhdGlhbFJlZmVyZW5jZTtpZihudWxsPT0oZT1lPz9HKG4pKSl0aHJvdyBuZXcgWjtjb25zdCBhPW4uY29uc3RydWN0b3IuZnJvbUpTT04oYXdhaXQgcyhcInJvdGF0ZVwiLFtyLG4sdCxlXSkpO3JldHVybiBhLnNwYXRpYWxSZWZlcmVuY2U9cixhfWFzeW5jIGZ1bmN0aW9uIEkobix0KXtpZihudWxsPT1uKXRocm93IG5ldyBaO2NvbnN0IGU9bi5zcGF0aWFsUmVmZXJlbmNlO2lmKG51bGw9PSh0PXQ/P0cobikpKXRocm93IG5ldyBaO2NvbnN0IHI9bi5jb25zdHJ1Y3Rvci5mcm9tSlNPTihhd2FpdCBzKFwiZmxpcEhvcml6b250YWxcIixbZSxuLHRdKSk7cmV0dXJuIHIuc3BhdGlhbFJlZmVyZW5jZT1lLHJ9YXN5bmMgZnVuY3Rpb24gcShuLHQpe2lmKG51bGw9PW4pdGhyb3cgbmV3IFo7Y29uc3QgZT1uLnNwYXRpYWxSZWZlcmVuY2U7aWYobnVsbD09KHQ9dD8/RyhuKSkpdGhyb3cgbmV3IFo7Y29uc3Qgcj1uLmNvbnN0cnVjdG9yLmZyb21KU09OKGF3YWl0IHMoXCJmbGlwVmVydGljYWxcIixbZSxuLHRdKSk7cmV0dXJuIHIuc3BhdGlhbFJlZmVyZW5jZT1lLHJ9YXN5bmMgZnVuY3Rpb24gQihuLHQsZSxhKXtyZXR1cm4gaShhd2FpdCBzKFwiZ2VuZXJhbGl6ZVwiLFtyKG4pLG4sdCxlLGFdKSl9YXN5bmMgZnVuY3Rpb24gQyhuLHQsZSl7cmV0dXJuIGkoYXdhaXQgcyhcImRlbnNpZnlcIixbcihuKSxuLHQsZV0pKX1hc3luYyBmdW5jdGlvbiBVKG4sdCxlLGE9MCl7cmV0dXJuIGkoYXdhaXQgcyhcImdlb2Rlc2ljRGVuc2lmeVwiLFtyKG4pLG4sdCxlLGFdKSl9ZnVuY3Rpb24gVyhuLHQpe3JldHVybiBzKFwicGxhbmFyQXJlYVwiLFtyKG4pLG4sdF0pfWZ1bmN0aW9uIEYobix0KXtyZXR1cm4gcyhcInBsYW5hckxlbmd0aFwiLFtyKG4pLG4sdF0pfWZ1bmN0aW9uIEsobix0LGUpe3JldHVybiBzKFwiZ2VvZGVzaWNBcmVhXCIsW3Iobiksbix0LGVdKX1mdW5jdGlvbiBNKG4sdCxlKXtyZXR1cm4gcyhcImdlb2Rlc2ljTGVuZ3RoXCIsW3Iobiksbix0LGVdKX1hc3luYyBmdW5jdGlvbiBRKG4sdCl7cmV0dXJuIGkoYXdhaXQgcyhcImludGVyc2VjdExpbmVzVG9Qb2ludHNcIixbcihuKSxuLHRdKSl9YXN5bmMgZnVuY3Rpb24gWChuLHQpe2F3YWl0IGYoXCJjaGFuZ2VEZWZhdWx0U3BhdGlhbFJlZmVyZW5jZVRvbGVyYW5jZVwiLFtuLHRdKX1hc3luYyBmdW5jdGlvbiBZKG4pe2F3YWl0IGYoXCJjbGVhckRlZmF1bHRTcGF0aWFsUmVmZXJlbmNlVG9sZXJhbmNlXCIsW25dKX1jbGFzcyBaIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoKXtzdXBlcihcIklsbGVnYWwgQXJndW1lbnQgRXhjZXB0aW9uXCIpfX1leHBvcnR7TCBhcyBidWZmZXIsWCBhcyBjaGFuZ2VEZWZhdWx0U3BhdGlhbFJlZmVyZW5jZVRvbGVyYW5jZSxZIGFzIGNsZWFyRGVmYXVsdFNwYXRpYWxSZWZlcmVuY2VUb2xlcmFuY2UseSBhcyBjbGlwLHAgYXMgY29udGFpbnMsaiBhcyBjb252ZXhIdWxsLG0gYXMgY3Jvc3Nlcyx3IGFzIGN1dCxDIGFzIGRlbnNpZnksRSBhcyBkaWZmZXJlbmNlLEEgYXMgZGlzam9pbnQsZCBhcyBkaXN0YW5jZSxnIGFzIGVxdWFscyxsIGFzIGV4dGVuZGVkU3BhdGlhbFJlZmVyZW5jZUluZm8sSSBhcyBmbGlwSG9yaXpvbnRhbCxxIGFzIGZsaXBWZXJ0aWNhbCxCIGFzIGdlbmVyYWxpemUsSyBhcyBnZW9kZXNpY0FyZWEsUCBhcyBnZW9kZXNpY0J1ZmZlcixVIGFzIGdlb2Rlc2ljRGVuc2lmeSxNIGFzIGdlb2Rlc2ljTGVuZ3RoLEQgYXMgaW50ZXJzZWN0LFEgYXMgaW50ZXJzZWN0TGluZXNUb1BvaW50cyxoIGFzIGludGVyc2VjdHMsSiBhcyBpc1NpbXBsZSxUIGFzIG5lYXJlc3RDb29yZGluYXRlLFYgYXMgbmVhcmVzdFZlcnRleCx6IGFzIG5lYXJlc3RWZXJ0aWNlcyx2IGFzIG9mZnNldCxPIGFzIG92ZXJsYXBzLFcgYXMgcGxhbmFyQXJlYSxGIGFzIHBsYW5hckxlbmd0aCxSIGFzIHJlbGF0ZSxIIGFzIHJvdGF0ZSxOIGFzIHNpbXBsaWZ5LGsgYXMgc3ltbWV0cmljRGlmZmVyZW5jZSxTIGFzIHRvdWNoZXMsYiBhcyB1bmlvbix4IGFzIHdpdGhpbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=