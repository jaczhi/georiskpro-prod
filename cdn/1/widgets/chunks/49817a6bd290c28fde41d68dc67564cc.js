"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_geometry_support_normalizeUtils_js-node_modules_arcgis_core_-9af883"],{

/***/ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/normalizeUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getDenormalizedExtent": () => (/* binding */ P),
/* harmony export */   "normalizeCentralMeridian": () => (/* binding */ b),
/* harmony export */   "normalizeMapX": () => (/* binding */ v),
/* harmony export */   "straightLineDensify": () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _Polygon_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _Polyline_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Polyline.js */ "./node_modules/@arcgis/core/geometry/Polyline.js");
/* harmony import */ var _normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./normalizeUtilsCommon.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js");
/* harmony import */ var _spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _rest_geometryService_cut_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../rest/geometryService/cut.js */ "./node_modules/@arcgis/core/rest/geometryService/cut.js");
/* harmony import */ var _rest_geometryService_simplify_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../rest/geometryService/simplify.js */ "./node_modules/@arcgis/core/rest/geometryService/simplify.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const m=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.geometry.support.normalizeUtils");function g(e){return"polygon"===e.type}function y(e){return"polygon"===e[0].type}function x(e){return"polyline"===e[0].type}function d(e){const t=[];let n=0,o=0;for(let s=0;s<e.length;s++){const r=e[s];let i=null;for(let e=0;e<r.length;e++)i=r[e],t.push(i),0===e?(n=i[0],o=n):(n=Math.min(n,i[0]),o=Math.max(o,i[0]));i&&t.push([(n+o)/2,0])}return t}function w(e,n){if(!(e instanceof _Polyline_js__WEBPACK_IMPORTED_MODULE_4__["default"]||e instanceof _Polygon_js__WEBPACK_IMPORTED_MODULE_3__["default"])){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw m.error(e),new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](e)}const i=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.getGeometryParts)(e),l=[];for(const t of i){const e=[];l.push(e),e.push([t[0][0],t[0][1]]);for(let o=0;o<t.length-1;o++){const s=t[o][0],r=t[o][1],i=t[o+1][0],l=t[o+1][1],f=Math.sqrt((i-s)*(i-s)+(l-r)*(l-r)),c=(l-r)/f,p=(i-s)/f,u=f/n;if(u>1){for(let l=1;l<=u-1;l++){const t=l*n,o=p*t+s,i=c*t+r;e.push([o,i])}const t=(f+Math.floor(u-1)*n)/2,o=p*t+s,i=c*t+r;e.push([o,i])}e.push([i,l])}}return g(e)?new _Polygon_js__WEBPACK_IMPORTED_MODULE_3__["default"]({rings:l,spatialReference:e.spatialReference}):new _Polyline_js__WEBPACK_IMPORTED_MODULE_4__["default"]({paths:l,spatialReference:e.spatialReference})}function j(e,t,n){if(t){const t=w(e,1e6);e=(0,_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_7__.webMercatorToGeographic)(t,!0)}return n&&(e=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.updatePolyGeometry)(e,n)),e}function M(e,t,n){if(Array.isArray(e)){const o=e[0];if(o>t){const n=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(o,t);e[0]=o+n*(-2*t)}else if(o<n){const t=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(o,n);e[0]=o+t*(-2*n)}}else{const o=e.x;if(o>t){const n=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(o,t);e=e.clone().offset(n*(-2*t),0)}else if(o<n){const t=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(o,n);e=e.clone().offset(t*(-2*n),0)}}return e}function R(e,t){let n=-1;for(let o=0;o<t.cutIndexes.length;o++){const s=t.cutIndexes[o],i=t.geometries[o],f=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.getGeometryParts)(i);for(let e=0;e<f.length;e++){const t=f[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const o=t[e][0];n=o>n?o:n}n=Number(n.toFixed(9));const o=-360*(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(n,180);for(let s=0;s<t.length;s++){const t=i.getPoint(e,s);i.setPoint(e,s,t.clone().offset(o,0))}return!0}}))}if(s===n){if(y(e))for(const t of (0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.getGeometryParts)(i))e[s]=e[s].addRing(t);else if(x(e))for(const t of (0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.getGeometryParts)(i))e[s]=e[s].addPath(t)}else n=s,e[s]=i}return e}async function b(t,n,r){if(!Array.isArray(t))return b([t],n);n&&"string"!=typeof n&&m.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const u="string"==typeof n?n:n?.url??_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].geometryServiceUrl;let g,y,x,d,w,P,v,L,U=0;const z=[],A=[];for(const e of t)if(null!=e)if(g||(g=e.spatialReference,y=(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.getInfo)(g),x=g.isWebMercator,P=x?102100:4326,d=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.cutParams[P].maxX,w=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.cutParams[P].minX,v=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.cutParams[P].plus180Line,L=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.cutParams[P].minus180Line),y)if("mesh"===e.type)A.push(e);else if("point"===e.type)A.push(M(e.clone(),d,w));else if("multipoint"===e.type){const t=e.clone();t.points=t.points.map((e=>M(e,d,w))),A.push(t)}else if("extent"===e.type){const t=e.clone()._normalize(!1,!1,y);A.push(t.rings?new _Polygon_js__WEBPACK_IMPORTED_MODULE_3__["default"](t):t)}else if(e.extent){const t=e.extent,n=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(t.xmin,w)*(2*d);let o=0===n?e.clone():(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.updatePolyGeometry)(e.clone(),n);t.offset(n,0),t.intersects(v)&&t.xmax!==d?(U=t.xmax>U?t.xmax:U,o=j(o,x),z.push(o),A.push("cut")):t.intersects(L)&&t.xmin!==w?(U=t.xmax*(2*d)>U?t.xmax*(2*d):U,o=j(o,x,360),z.push(o),A.push("cut")):A.push(o)}else A.push(e.clone());else A.push(e);else A.push(e);let S=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(U,d),k=-90;const C=S,I=new _Polyline_js__WEBPACK_IMPORTED_MODULE_4__["default"];for(;S>0;){const e=360*S-180;I.addPath([[e,k],[e,-1*k]]),k*=-1,S--}if(z.length>0&&C>0){const e=R(z,await (0,_rest_geometryService_cut_js__WEBPACK_IMPORTED_MODULE_8__.cut)(u,z,I,r)),n=[],o=[];for(let r=0;r<A.length;r++){const s=A[r];if("cut"!==s)o.push(s);else{const s=e.shift(),i=t[r];null!=i&&"polygon"===i.type&&i.rings&&i.rings.length>1&&s.rings.length>=i.rings.length?(n.push(s),o.push("simplify")):o.push(x?(0,_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_7__.geographicToWebMercator)(s):s)}}if(!n.length)return o;const s=await (0,_rest_geometryService_simplify_js__WEBPACK_IMPORTED_MODULE_9__.simplify)(u,n,r),i=[];for(let t=0;t<o.length;t++){const e=o[t];"simplify"!==e?i.push(e):i.push(x?(0,_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_7__.geographicToWebMercator)(s.shift()):s.shift())}return i}const X=[];for(let e=0;e<A.length;e++){const t=A[e];if("cut"!==t)X.push(t);else{const e=z.shift();X.push(!0===x?(0,_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_7__.geographicToWebMercator)(e):e)}}return X}function P(e){if(!e)return null;const t=e.extent;if(!t)return null;const n=e.spatialReference&&(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.getInfo)(e.spatialReference);if(!n)return t;const[o,s]=n.valid,r=2*s,{width:i}=t;let l,{xmin:f,xmax:p}=t;if([f,p]=[p,f],"extent"===e.type||0===i||i<=s||i>r||f<o||p>s)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;l=d(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;l=d(e.paths);break;case"multipoint":l=e.points}const u=t.clone();for(let c=0;c<l.length;c++){let e=l[c][0];e<0?(e+=s,p=Math.max(e,p)):(e-=s,f=Math.min(e,f))}return u.xmin=f,u.xmax=p,u.width<i?(u.xmin-=s,u.xmax-=s,u):t}function v(e,t){const n=(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.getInfo)(t);if(n){const[t,o]=n.valid,s=o-t;if(e<t)for(;e<t;)e+=s;if(e>o)for(;e>o;)e-=s}return e}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "cutParams": () => (/* binding */ r),
/* harmony export */   "getGeometryParts": () => (/* binding */ o),
/* harmony export */   "offsetMagnitude": () => (/* binding */ i),
/* harmony export */   "updatePolyGeometry": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _Polyline_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Polyline.js */ "./node_modules/@arcgis/core/geometry/Polyline.js");
/* harmony import */ var _SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new _Polyline_js__WEBPACK_IMPORTED_MODULE_0__["default"]({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__["default"].WebMercator}),minus180Line:new _Polyline_js__WEBPACK_IMPORTED_MODULE_0__["default"]({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__["default"].WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new _Polyline_js__WEBPACK_IMPORTED_MODULE_0__["default"]({paths:[[[180,-180],[180,180]]],spatialReference:_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__["default"].WGS84}),minus180Line:new _Polyline_js__WEBPACK_IMPORTED_MODULE_0__["default"]({paths:[[[-180,-180],[-180,180]]],spatialReference:_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__["default"].WGS84})}};function i(e,n){return Math.ceil((e-n)/(2*n))}function s(e,n){const t=o(e);for(const r of t)for(const e of r)e[0]+=n;return e}function o(e){return (0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.isPolygon)(e)?e.rings:e.paths}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/ImageryTileLayer.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ImageryTileLayer.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ J)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PopupTemplate.js */ "./node_modules/@arcgis/core/PopupTemplate.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./mixins/ArcGISService.js */ "./node_modules/@arcgis/core/layers/mixins/ArcGISService.js");
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ "./node_modules/@arcgis/core/layers/mixins/BlendLayer.js");
/* harmony import */ var _mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./mixins/CustomParametersMixin.js */ "./node_modules/@arcgis/core/layers/mixins/CustomParametersMixin.js");
/* harmony import */ var _mixins_ImageryTileMixin_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./mixins/ImageryTileMixin.js */ "./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ "./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js");
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ "./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js");
/* harmony import */ var _mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./mixins/TemporalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_Field_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./support/Field.js */ "./node_modules/@arcgis/core/layers/support/Field.js");
/* harmony import */ var _support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./support/rasterEnums.js */ "./node_modules/@arcgis/core/layers/support/rasterEnums.js");
/* harmony import */ var _support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./support/RasterFunction.js */ "./node_modules/@arcgis/core/layers/support/RasterFunction.js");
/* harmony import */ var _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./support/rasterDatasets/FunctionRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js");
/* harmony import */ var _support_rasterDatasets_RasterFactory_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./support/rasterDatasets/RasterFactory.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js");
/* harmony import */ var _support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./support/rasterFunctions/rasterFunctionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterFunctionHelper.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../support/popupUtils.js */ "./node_modules/@arcgis/core/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let _=class extends((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_15__.BlendLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_21__.ScaleRangeLayer)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_18__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_19__.PortalLayer)((0,_mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_16__.CustomParametersMixin)((0,_mixins_ImageryTileMixin_js__WEBPACK_IMPORTED_MODULE_17__.ImageryTileMixin)((0,_mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_22__.TemporalLayer)((0,_mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_14__.ArcGISService)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_20__.RefreshableLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_4__.MultiOriginJSONMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_13__["default"]))))))))))){constructor(...e){super(...e),this._primaryRasters=[],this.bandIds=null,this.interpolation=null,this.legendEnabled=!0,this.isReference=null,this.listMode="show",this.sourceJSON=null,this.version=null,this.type="imagery-tile",this.operationalLayerType="ArcGISTiledImageServiceLayer",this.popupEnabled=!0,this.popupTemplate=null,this.fields=null}normalizeCtorArgs(e,r){return"string"==typeof e?{url:e,...r}:e}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"]},e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAbortError).then((()=>this._openRaster(r)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get rasterFields(){const e=[new _support_Field_js__WEBPACK_IMPORTED_MODULE_24__["default"]({name:"Raster.ServicePixelValue",alias:"Pixel Value",domain:null,editable:!1,length:50,type:"string"}),new _support_Field_js__WEBPACK_IMPORTED_MODULE_24__["default"]({name:"Raster.ServicePixelValue.Raw",alias:"Raw Pixel Value",domain:null,editable:!1,length:50,type:"string"})],{rasterInfo:r}=this,t=r?.attributeTable,s=null!=t?t.fields:null,i="Raster.";if(s){const r=s.filter((e=>"oid"!==e.type&&"value"!==e.name.toLowerCase())).map((e=>{const r=e.clone();return r.name=i+e.name,r}));e.push(...r)}const o=r?.dataType,a=r?.multidimensionalInfo;if(("vector-magdir"===o||"vector-uv"===o)&&null!=a){const r=a.variables[0].unit?.trim(),t="Magnitude"+(r?` (${r})`:"");e.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_24__["default"]({name:"Raster.Magnitude",alias:t,domain:null,editable:!1,type:"double"})),e.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_24__["default"]({name:"Raster.Direction",alias:"Direction (°)",domain:null,editable:!1,type:"double"}))}return e}createPopupTemplate(e){const{rasterFields:r}=this,t=new Set(r.map((({name:e})=>e)).filter((e=>"raster.servicepixelvalue.raw"!==e.toLowerCase())));return (0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_30__.createPopupTemplate)({fields:r,title:this.title},{...e,visibleFieldNames:t})}async generateRasterInfo(e,r){if(!(e=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__.ensureClass)(_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_26__["default"],e)))return this.rasterInfo;try{const t={raster:this._primaryRasters[0]};this._primaryRasters.length>1&&this._primaryRasters.forEach((e=>t[e.url]=e));const s=(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_29__.create)(e.functionDefinition?.toJSON()??e.toJSON(),t),i=new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_27__["default"]({rasterFunction:s});return await i.open(r),i.rasterInfo}catch(s){if(s instanceof _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"])throw s;throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imagery-tile-layer","the given raster function is not supported")}}write(e,r){const s=this._primaryRasters[0]??this.raster;if(this.loaded?"RasterTileServer"===s.datasetFormat&&("Raster"===s.tileType||"Map"===s.tileType):this.url&&/\/ImageServer(\/|\/?$)/i.test(this.url))return super.write(e,r);if(r&&r.messages){const e=`${r.origin}/${r.layerContainerType||"operational-layers"}`;r.messages.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}async _openRaster(e){let r=!1;if(this.raster)this.raster.rasterInfo||await this.raster.open(),"Function"===this.raster.datasetFormat?(r=!0,this._primaryRasters=this.raster.primaryRasters.rasters):this._primaryRasters=[this.raster],this.url=this.raster.url;else{const{rasterFunction:r}=this,i=[this.url];r&&(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_29__.getPrimaryRasterUrls)(r.toJSON(),i);const a=await Promise.all(i.map((r=>_support_rasterDatasets_RasterFactory_js__WEBPACK_IMPORTED_MODULE_28__["default"].open({url:r,sourceJSON:this.sourceJSON,ioConfig:{sampling:"closest",...this.ioConfig,customFetchParameters:this.customParameters},signal:e})))),n=a.findIndex((e=>null==e));if(n>-1)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imagery-tile-layer:open",`cannot open raster: ${i[n]}`);if(this._primaryRasters=a,r){const e={raster:this._primaryRasters[0]};this._primaryRasters.length>1&&this._primaryRasters.forEach((r=>e[r.url]=r));const i=(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_29__.create)(r.functionDefinition?.toJSON()??r.toJSON(),e),n=new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_27__["default"]({rasterFunction:i});try{await n.open(),this.raster=n}catch(o){const e=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this);o instanceof _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]&&e.error("imagery-tile-layer:open",o.message),e.warn("imagery-tile-layer:open","the raster function cannot be applied and is removed"),this._set("rasterFunction",null),this.raster=a[0]}}else this.raster=a[0]}const i=this.raster.rasterInfo;if(!i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imagery-tile-layer:load","cannot load resources on "+this.url);if(this._set("rasterInfo",r?i:this._primaryRasters[0].rasterInfo),this._set("spatialReference",i.spatialReference),this.sourceJSON=this.sourceJSON||this.raster.sourceJSON,null!=this.sourceJSON){const e="Map"===this.raster.tileType&&null!=this.sourceJSON.minLOD&&null!=this.sourceJSON.maxLOD?this.sourceJSON:{...this.sourceJSON,minScale:0,maxScale:0};this.read(e,{origin:"service"})}else this.read({tileInfo:this.rasterInfo.storageInfo.tileInfo.toJSON()},{origin:"service"});this.title||(this.title=this.raster.datasetName),"Map"===this.raster.tileType&&(this.popupEnabled=!1),this._configDefaultSettings(),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this.customParameters),(e=>{this.raster&&(this.raster.ioConfig.customFetchParameters=e)})))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],_.prototype,"_primaryRasters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__.Integer],json:{write:{overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType||"0,1,2"!==this.bandIds?.join(",")}}}}})],_.prototype,"bandIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({json:{write:{overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType||"bilinear"!==this.interpolation}}}}}),(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_11__.enumeration)(_support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_25__.interpolationKebab)],_.prototype,"interpolation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_23__.legendEnabled)],_.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],_.prototype,"isReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:["show","hide"]})],_.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({json:{read:!0,write:!0}})],_.prototype,"blendMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],_.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0,json:{origins:{service:{read:{source:"currentVersion"}}}}})],_.prototype,"version",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0,json:{read:!1}})],_.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:["ArcGISTiledImageServiceLayer"]})],_.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,r)=>!r.disablePopup},write:{target:"disablePopup",overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType}},writer(e,r,t){r[t]=!e}}}})],_.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:_PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__["default"],json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType}}}}})],_.prototype,"popupTemplate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],_.prototype,"defaultPopupTemplate",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0,type:[_support_Field_js__WEBPACK_IMPORTED_MODULE_24__["default"]]})],_.prototype,"fields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0,type:[_support_Field_js__WEBPACK_IMPORTED_MODULE_24__["default"]]})],_.prototype,"rasterFields",null),_=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.layers.ImageryTileLayer")],_);const J=_;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ImageryTileMixin": () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../rasterRenderers.js */ "./node_modules/@arcgis/core/rasterRenderers.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../support/DimensionalDefinition.js */ "./node_modules/@arcgis/core/layers/support/DimensionalDefinition.js");
/* harmony import */ var _support_MultidimensionalSubset_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/MultidimensionalSubset.js */ "./node_modules/@arcgis/core/layers/support/MultidimensionalSubset.js");
/* harmony import */ var _support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/RasterFunction.js */ "./node_modules/@arcgis/core/layers/support/RasterFunction.js");
/* harmony import */ var _support_RasterJobHandler_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/RasterJobHandler.js */ "./node_modules/@arcgis/core/layers/support/RasterJobHandler.js");
/* harmony import */ var _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/rasterDatasets/FunctionRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js");
/* harmony import */ var _support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../support/rasterDatasets/multidimensionalUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/multidimensionalUtils.js");
/* harmony import */ var _support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../support/rasterFunctions/clipUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js");
/* harmony import */ var _support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../support/rasterFunctions/rasterFunctionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterFunctionHelper.js");
/* harmony import */ var _support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../support/rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../support/rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../support/rasterFunctions/vectorFieldUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js");
/* harmony import */ var _renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../renderers/support/rasterRendererHelper.js */ "./node_modules/@arcgis/core/renderers/support/rasterRendererHelper.js");
/* harmony import */ var _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../renderers/support/RasterSymbolizer.js */ "./node_modules/@arcgis/core/renderers/support/RasterSymbolizer.js");
/* harmony import */ var _rest_support_ImageHistogramParameters_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../rest/support/ImageHistogramParameters.js */ "./node_modules/@arcgis/core/rest/support/ImageHistogramParameters.js");
/* harmony import */ var _views_2d_engine_flow_dataUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../views/2d/engine/flow/dataUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/flow/dataUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const B=_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger("esri.layers.mixins.ImageryTileMixin"),V=o=>{let V=class extends o{constructor(...t){super(...t),this._isConstructedFromFunctionRaster=!1,this._rasterJobHandler={instance:null,refCount:0,connectionPromise:null},this.bandIds=null,this.copyright=null,this.interpolation="nearest",this.multidimensionalSubset=null,this.raster=null,this.rasterInfo=null,this.sourceJSON=null,this.spatialReference=null,this.symbolizer=null,this._isConstructedFromFunctionRaster="Function"===t[0]?.raster?.datasetFormat}get fullExtent(){return this.rasterInfo?.extent}set multidimensionalDefinition(t){this._set("multidimensionalDefinition",t),this.updateRenderer()}set rasterFunction(t){"none"===t?.functionName?.toLowerCase()&&(t=void 0),this._set("rasterFunction",t),this.updateRasterFunction()}set url(t){this._set("url",(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_13__.sanitizeUrl)(t,B))}set renderer(t){null==t&&null==this.rasterFunction?this._configDefaultRenderer("override"):(this._set("renderer",t),this.updateRenderer())}readRenderer(t,e,r){const n=e?.layerDefinition?.drawingInfo?.renderer;return (0,_rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__.read)(n,r)||void 0}async convertVectorFieldData(t,e){if(null==t||!this.rasterInfo)return null;const r=this._rasterJobHandler.instance,i=this.rasterInfo.dataType;return r?r.convertVectorFieldData({pixelBlock:t,dataType:i},e):(0,_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__.convertVectorFieldData)(t,i)}async computeStatisticsHistograms(t,e){t=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__.ensureClass)(_rest_support_ImageHistogramParameters_js__WEBPACK_IMPORTED_MODULE_29__["default"],t).clone();const{rasterInfo:r}=this,{geometry:i}=t;if(null==i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-mixin:compute-statistics-histograms","geometry must be specified");let n=i;const{spatialReference:o}=r;i.spatialReference.equals(o)||(await (0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.load)(),n="extent"===i.type?(0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectExtent)(i,o):(0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectPolygon)(i,o));const a=t.pixelSize??new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_32__["default"]({x:r.pixelSize.x,y:r.pixelSize.y,spatialReference:o}),{extent:u,width:c,height:d}=(0,_support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_22__.snapToRaster)(r,n,a),m=await this.fetchPixels(u,c,d,{...e,interpolation:"nearest"});if(null==m.pixelBlock)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-mixin:compute-statistics-histograms","failed to fetch pixels");const h=await (0,_support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_22__.clip)(m.pixelBlock,u,n),p=this._rasterJobHandler.instance;return p?p.computeStatisticsHistograms({pixelBlock:h},e):(0,_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_25__.computeStatisticsHistograms)(h)}async createFlowMesh(t,e){const r=this._rasterJobHandler.instance;return r?r.createFlowMesh(t,e):(0,_views_2d_engine_flow_dataUtils_js__WEBPACK_IMPORTED_MODULE_30__.createFlowMesh)(t.meshType,t.simulationSettings,t.flowData,null!=e.signal?e.signal:(new AbortController).signal)}normalizeRasterFetchOptions(t){const{multidimensionalInfo:e}=this.rasterInfo??{};if(null==e)return t;let r=t.multidimensionalDefinition||this.multidimensionalDefinition;null!=r&&r.length||(r=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultMultidimensionalDefinition)(this.raster.rasterInfo,{multidimensionalSubset:this.multidimensionalSubset}));const i=t.timeExtent||this.timeExtent;if(null!=r&&null!=i&&(null!=i.start||null!=i.end)){r=r.map((t=>t.clone()));const n=e.variables.find((({name:t})=>t===r[0].variableName))?.dimensions?.find((({name:t})=>"StdTime"===t)),s=r.find((({dimensionName:t})=>"StdTime"===t));if(!n||!s)return{...t,multidimensionalDefinition:null};const{start:o,end:a}=i,l=null==o?null:o.getTime(),u=null==a?null:a.getTime(),c=l??u,d=u??l;if(null!=n.values){const t=n.values.filter((t=>{if(Array.isArray(t)){if(c===d)return t[0]<=c&&t[1]>=c;const e=t[0]<=c&&t[1]>c||t[0]<d&&t[1]>=d,r=t[0]>=c&&t[1]<=d||t[0]<c&&t[1]>d;return e||r}return c===d?t===c:t>=c&&t<=d}));if(t.length){const e=t.sort(((t,e)=>{const r=Array.isArray(t)?t[0]:t,i=Array.isArray(t)?t[1]:t,n=Array.isArray(e)?e[0]:e,s=Array.isArray(e)?e[1]:e;if(c===d)return r-n;return Math.abs(i-d)-Math.abs(s-d)}))[0];s.values=[e]}else r=null}else if(n.hasRegularIntervals&&n.extent){const[t,e]=n.extent;c>e||d<t?r=null:s.values=c===d?[c]:[Math.max(t,c),Math.min(e,d)]}}return null!=r&&(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.hasExcludedVariableOrDimension)(r,this.multidimensionalSubset)?{...t,multidimensionalDefinition:null}:{...t,multidimensionalDefinition:r}}async updateRasterFunction(){if(!this.loaded||"imagery-tile"!==this.type||!this.rasterFunction&&!this._cachedRasterFunctionJson||JSON.stringify(this.rasterFunction)===JSON.stringify(this._cachedRasterFunctionJson))return;if(this._isConstructedFromFunctionRaster&&"Function"===this.raster.datasetFormat){const t=this.raster.rasterFunction.toJSON();return!this.rasterFunction&&t&&this._set("rasterFunction",_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_17__["default"].fromJSON(t)),void(this._cachedRasterFunctionJson=this.rasterFunction?.toJSON())}let t,e=this.raster,r=!1;"Function"===e.datasetFormat?(t=e.primaryRasters.rasters,e=t[0],r=!0):t=[e];const{rasterFunction:i}=this;if(i){const r={raster:e};t.length>1&&t.forEach((t=>r[t.url]=t));const n=(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_23__.create)(i.functionDefinition?.toJSON()??i.toJSON(),r),s=new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_20__["default"]({rasterFunction:n});s.rasterJobHandler=this._rasterJobHandler.instance,await s.open(),this._cachedRasterFunctionJson=this.rasterFunction?.toJSON(),this.raster=s}else this.raster=e,this._cachedRasterFunctionJson=null,await e.when();if(this._cachedRendererJson=null,!r&&!i)return;const{bandIds:n}=this,{bandCount:s}=this.raster.rasterInfo,o=n?.length?n.some((t=>t>=s)):s>=3;n&&(o||this.renderer&&"raster-stretch"!==this.renderer.type)&&this._set("bandIds",null),this._configDefaultRenderer("auto")}async updateRenderer(){const{loaded:t,symbolizer:e}=this;if(!t||!e||!this.renderer)return;const{rasterInfo:r}=this.raster,i=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultVariablInfo)(r,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),n=i?.name,s=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.normalizeRendererJSON)({...this.renderer.toJSON(),variableName:n});if(JSON.stringify(this._cachedRendererJson)===JSON.stringify(s))return;const o=this._rasterJobHandler.instance;o&&(e.rasterInfo=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getVariableRasterInfo)(r,n),e.rendererJSON=s,e.bind(),await o.updateSymbolizer(e),this._cachedRendererJson=s)}async applyRenderer(t,e){const r=t&&t.pixelBlock;if(!(null!=r&&r.pixels&&r.pixels.length>0))return null;let i;await this.updateRenderer();const n=this._rasterJobHandler.instance,s=this.bandIds??[];return i=n?await n.symbolize({...t,simpleStretchParams:e,bandIds:s}):this.symbolizer.symbolize({...t,simpleStretchParams:e,bandIds:s}),i}getTileUrl(t,e,r){return"RasterTileServer"===this.raster.datasetFormat?`${this.url}/tile/${t}/${e}/${r}`:""}getCompatibleTileInfo(t,e,r=!1){if(!this.loaded||null==e)return null;if(r&&t.equals(this.spatialReference))return this.tileInfo;const i=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__.getInfo)(t);return _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"].create({size:256,spatialReference:t,origin:i?{x:i.origin[0],y:i.origin[1]}:{x:e.xmin,y:e.ymax}})}getCompatibleFullExtent(t){return this.loaded?(this._compatibleFullExtent&&this._compatibleFullExtent.spatialReference.equals(t)||(this._compatibleFullExtent=this.raster.computeExtent(t)),this._compatibleFullExtent):null}async fetchTile(t,e,r,i={}){if(L(this),i.requestAsImageElement){const s=this.getTileUrl(t,e,r);return (0,_request_js__WEBPACK_IMPORTED_MODULE_3__["default"])(s,{responseType:"image",query:{...this.refreshParameters,...this.raster.ioConfig.customFetchParameters},signal:i.signal}).then((t=>t.data))}const{rasterInfo:s}=this;if(null!=s.multidimensionalInfo&&null==(i=this.normalizeRasterFetchOptions(i)).multidimensionalDefinition){const n=i.tileInfo||s.storageInfo.tileInfo;return{extent:this.raster.getTileExtentFromTileInfo(t,e,r,n),pixelBlock:null}}return await this._initJobHandler(),await this.updateRasterFunction(),"raster-shaded-relief"===this.renderer?.type&&(i={...i,buffer:{cols:1,rows:1}}),this.raster.fetchTile(t,e,r,i)}async fetchPixels(t,e,r,i={}){return null!=this.rasterInfo.multidimensionalInfo&&null==(i=this.normalizeRasterFetchOptions(i)).multidimensionalDefinition?{extent:t,pixelBlock:null}:(await this._initJobHandler(),await this.updateRasterFunction(),e=Math.round(e),r=Math.round(r),this.raster.fetchPixels(t,e,r,i))}async identify(t,e={}){const{raster:r,rasterInfo:i}=this;if(null!=i.multidimensionalInfo){if(!(i.hasMultidimensionalTranspose&&!!((0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.isMultiSliceOrRangeDefinition)(e.multidimensionalDefinition)||e.transposedVariableName||e.timeExtent))&&null==(e=this.normalizeRasterFetchOptions(e)).multidimensionalDefinition)return{location:t,value:null}}const n=this.multidimensionalSubset?.areaOfInterest;if(n&&!n.contains(t))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-mixin:identify","the request cannot be fulfilled when falling outside of the multidimensional subset");return r.identify(t,e)}increaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount++}decreaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount--,this._rasterJobHandler.refCount<=0&&this._shutdownJobHandler()}hasStandardTime(){const t=this.rasterInfo?.multidimensionalInfo;if(null==t||"standard-time"!==this.rasterInfo?.dataType)return!1;const e=this.multidimensionalDefinition,r=e?.[0]?.variableName;return t.variables.some((t=>t.name===r&&(!e?.[0].dimensionName||t.dimensions.some((t=>"StdTime"===t.name)))))}getStandardTimeValue(t){return new Date(24*(t-25569)*3600*1e3).toString()}getMultidimensionalSubsetVariables(t){const e=t??this.rasterInfo?.multidimensionalInfo;return (0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getSubsetVariablesFromMdInfo)(this.multidimensionalSubset,e)}_configDefaultSettings(){this._configDefaultInterpolation(),this.multidimensionalDefinition||(this.multidimensionalDefinition=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultMultidimensionalDefinition)(this.raster.rasterInfo,{multidimensionalSubset:this.multidimensionalSubset})),this.rasterFunction&&"Function"===this.raster.datasetFormat&&(this._cachedRasterFunctionJson=this.rasterFunction.toJSON()),this._configDefaultRenderer()}_initJobHandler(){if(null!=this._rasterJobHandler.connectionPromise)return this._rasterJobHandler.connectionPromise;const t=new _support_RasterJobHandler_js__WEBPACK_IMPORTED_MODULE_18__["default"];return this._rasterJobHandler.connectionPromise=t.initialize().then((async()=>{L(this),this._rasterJobHandler.instance=t,this.raster.rasterJobHandler=t,"Function"===this.raster.datasetFormat&&this.raster.syncJobHandler(),this.rasterFunction&&await this.updateRasterFunction().catch((()=>{})),this.renderer&&this.updateRenderer()})).catch((()=>{})),this._rasterJobHandler.connectionPromise}_shutdownJobHandler(){this._rasterJobHandler.instance&&this._rasterJobHandler.instance.destroy(),this._rasterJobHandler.instance=null,this._rasterJobHandler.connectionPromise=null,this._rasterJobHandler.refCount=0,this._cachedRendererJson=null,this.raster&&(this.raster.rasterJobHandler=null)}_configDefaultInterpolation(){if(null==this.interpolation){L(this);const{raster:t}=this,e=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getDefaultInterpolation)(t.rasterInfo,t.tileType,this.sourceJSON?.defaultResamplingMethod);this._set("interpolation",e)}}_configDefaultRenderer(t="no"){L(this);const{rasterInfo:e}=this.raster;!this.bandIds&&e.bandCount>1&&(this.bandIds=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getDefaultBandCombination)(e));const r=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultVariablInfo)(e,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),i=r?.name;if(!this.renderer||"override"===t){const t=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.createDefaultRenderer)(e,{bandIds:this.bandIds,variableName:i}),r=e.statistics,n=r&&r.length>0?r[0]:null,s=n?.max??0,o=n?.min??0;"WCSServer"===this.raster.datasetFormat&&"raster-stretch"===t.type&&(s>1e24||o<-1e24)&&(t.dynamicRangeAdjustment=!0,t.statistics=null,"none"===t.stretchType&&(t.stretchType="min-max")),this.renderer=t}const n=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.normalizeRendererJSON)({...this.renderer.toJSON(),variableName:i}),s=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getVariableRasterInfo)(e,i);this.symbolizer?(this.symbolizer.rendererJSON=n,this.symbolizer.rasterInfo=s):this.symbolizer=new _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_28__["default"]({rendererJSON:n,rasterInfo:s});const o=this.symbolizer.bind();if(o.success){if("auto"===t){const{colormap:t}=this.raster.rasterInfo,e=this.renderer;if(null!=t&&"raster-colormap"===e.type){const t=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.createDefaultRenderer)(this.raster.rasterInfo);JSON.stringify(t)!==JSON.stringify(e)&&this._configDefaultRenderer("override")}else if("raster-stretch"===e.type){const t=this.bandIds?.length,r=e.statistics?.length;!e.dynamicRangeAdjustment&&r&&t&&r!==t&&this._configDefaultRenderer("override")}}}else B.warn("imagery-tile-mixin",o.error||"The given renderer is not supported by the layer."),"auto"===t&&this._configDefaultRenderer("override")}};function L(t){if(!t.raster||!t.rasterInfo)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile","no raster")}return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"_cachedRendererJson",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"_cachedRasterFunctionJson",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"_compatibleFullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"_isConstructedFromFunctionRaster",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"_rasterJobHandler",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"bandIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{origins:{service:{read:{source:"copyrightText"}}}}})],V.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{read:!1}})],V.prototype,"fullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"interpolation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"ioConfig",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:[_support_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_15__["default"]],json:{write:!0}})],V.prototype,"multidimensionalDefinition",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_support_MultidimensionalSubset_js__WEBPACK_IMPORTED_MODULE_16__["default"],json:{write:!0}})],V.prototype,"multidimensionalSubset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"raster",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_17__["default"],json:{name:"renderingRule",write:!0}})],V.prototype,"rasterFunction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"rasterInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0,type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_31__["default"],json:{read:!1}})],V.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"]})],V.prototype,"tileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_14__.url)],V.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({types:_rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__.rasterRendererTypes,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy(){const t="raster-stretch"===this.renderer?.type&&"none"===this.renderer.stretchType&&!this.renderer.useGamma;return{enabled:!this.loaded||"Raster"===this.raster.tileType||!t}}},origins:{"web-scene":{types:_rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__.websceneRasterRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:t=>({enabled:t&&"vector-field"!==t.type&&"flow"!==t.type})}}}}})],V.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__.reader)("renderer")],V.prototype,"readRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"symbolizer",void 0),V=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.layers.ImageryTileMixin")],V),V};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ $)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _commonProperties_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../DimensionalDefinition.js */ "./node_modules/@arcgis/core/layers/support/DimensionalDefinition.js");
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../LOD.js */ "./node_modules/@arcgis/core/layers/support/LOD.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./multidimensionalUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/multidimensionalUtils.js");
/* harmony import */ var _RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./RawBlockCache.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js");
/* harmony import */ var _rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../rasterFormats/pixelRangeUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/pixelRangeUtils.js");
/* harmony import */ var _rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../rasterFormats/RasterCodec.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/RasterCodec.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../rasterFunctions/vectorFieldUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const N=8,V=256;let U=class extends((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_7__.EsriPromiseMixin)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__.JSONSupport)){constructor(){super(...arguments),this.datasetName=null,this.datasetFormat=null,this.hasUniqueSourceStorageInfo=!0,this.rasterInfo=null,this.ioConfig={sampling:"closest"}}async init(){const e=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.load)();this.addResolvingPromise(e),await this.when()}normalizeCtorArgs(e){return e&&e.ioConfig&&(e={...e,ioConfig:{resolution:null,bandIds:null,sampling:"closest",tileInfo:_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"].create(),...e.ioConfig}}),e}get _isGlobalWrappableSource(){const{rasterInfo:e}=this,t=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWidth)(e.spatialReference);return null!=t&&e.extent.width>=t/2}get _hasNoneOrGCSShiftTransform(){const{transform:e}=this.rasterInfo;return null==e||"gcs-shift"===e.type}set rasterJobHandler(e){this._set("rasterJobHandler",e),"Function"===this.datasetFormat&&this.primaryRasters?.rasters?.forEach((t=>t.rasterJobHandler=e))}set url(e){this._set("url",(0,_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_14__.sanitizeUrl)(e,_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this)))}async open(e){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("BaseRaster:open-not-implemented","open() is not implemented")}async fetchTile(e,t,i,o={}){const r=o.tileInfo||this.rasterInfo.storageInfo.tileInfo,n=this.getTileExtentFromTileInfo(e,t,i,r);return this.fetchPixels(n,r.size[0],r.size[1],o)}async identify(e,t={}){e=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__.ensureClass)(_geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"],e).clone().normalize();const{multidimensionalDefinition:i,timeExtent:o}=t,{rasterInfo:r}=this,{hasMultidimensionalTranspose:n,multidimensionalInfo:s}=r;let{transposedVariableName:l}=t;const a=null!=s&&n&&(null!=o||(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__.isMultiSliceOrRangeDefinition)(i));if(a&&!l){l=null!=i&&i.length>0?i[0].variableName??void 0:s.variables[0].name,t={...t,transposedVariableName:l}}t=this._getRequestOptionsWithSliceId(t);const{spatialReference:m,extent:f}=r,{datumTransformation:u}=t;let h=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectPoint)(e,m,u);if(!f.intersects(h))return{location:h,value:null};if(null!=r.transform){const e=r.transform.inverseTransform(h);if(!r.nativeExtent.intersects(e))return{location:e,value:null};h=e}let p=0;const d=null!=l&&null!=s&&r.hasMultidimensionalTranspose;if("Function"===this.datasetFormat){const e=this.primaryRasters.rasters[0];if(d)return e.identify(h,t);const{pixelSize:i}=r,o=3,n=i.x*o/2,s=i.y*o/2,l=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({xmin:h.x-n,xmax:h.x+n,ymin:h.y-s,ymax:h.y+s,spatialReference:m}),a={interpolation:"nearest"},{pixelBlock:c}=await e.fetchPixels(l,o,o,a),{pixelBlock:f}=await this.fetchPixels(l,o,o,a);if(null==c)return{location:h,value:null};const u=Math.floor(o*o*.5),p=!c.mask||c.mask[u]?c.pixels.map((e=>e[u])):null;let x;return null!=f&&(x=!f.mask||f.mask[u]?f.pixels.map((e=>e[u])):void 0),{location:h,value:p,processedValue:x,pyramidLevel:0}}if(!d)if(t.srcResolution){p=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.snapPyramid)(t.srcResolution,r,this.ioConfig.sampling).pyramidLevel}else if(p=await this.computeBestPyramidLevelForLocation(e,t),null==p)return{location:h,value:null};const x=this.identifyPixelLocation(h,p,null,d);if(null===x)return{location:h,value:null};const{row:g,col:I,rowOffset:R,colOffset:T,blockWidth:b}=x,v=l??t.sliceId,P=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.getRasterId)(this.url,v),B=`${p}/${g}/${I}`;let M=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.getBlock)(P,null,B);null==M&&(M=this.fetchRawTile(p,g,I,t),(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.putBlock)(P,null,B,M));const _=await M;if(null==_||!_.pixels?.length)return{location:h,value:null};const W=R*b+T;return this._processIdentifyResult(_,{srcLocation:h,position:W,pyramidLevel:p,useTransposedTile:!!d,requestSomeSlices:a,identifyOptions:t})}async fetchPixels(e,t,i,o={}){e=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.snapExtent)(e),o=this._getRequestOptionsWithSliceId(o);const{_hasNoneOrGCSShiftTransform:r}=this;if(o.requestRawData&&r)return this._fetchPixels(e,t,i,o);const n=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWidth)(e.spatialReference),s=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWrapCount)(e);if(null==n||0===s||1===s&&this._isGlobalWrappableSource&&r)return this._fetchPixels(e,t,i,o);if(s>=3)return{extent:e,pixelBlock:null};const l=[],{xmin:a,xmax:c}=e,m=Math.round(n/(c-a)*t),f=m-Math.round((n/2-a)/(c-a)*t);let u=0;const h=[];for(let y=0;y<=s;y++){const r=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({xmin:0===y?a:-n/2,xmax:y===s?c-n*y:n/2,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference}),p=0===y?m-f:y===s?t-u:m;u+=p,h.push(p);const d=o.disableWrapAround&&y>0?null:this._fetchPixels(r,p,i,o);l.push(d)}const p=(await Promise.all(l)).map((e=>e?.pixelBlock));let d=null;const x={width:t,height:i};if(this.rasterJobHandler){d=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:p,srcMosaicSize:x,destDimension:null,coefs:null,sampleSpacing:null,interpolation:"nearest",alignmentInfo:null,blockWidths:h},o)).pixelBlock}else d=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.mosaic)(p,x,{blockWidths:h});return{extent:e,srcExtent:(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectExtent)(e,this.rasterInfo.spatialReference,o.datumTransformation),pixelBlock:d}}async fetchRawPixels(e,t,i,o={}){t={x:Math.floor(t.x),y:Math.floor(t.y)};const r=await this._fetchRawTiles(e,t,i,o),{nativeExtent:n,nativePixelSize:s,storageInfo:l}=this.rasterInfo,a=2**e,c=s.x*a,m=s.y*a,f=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({xmin:n.xmin+c*t.x,xmax:n.xmin+c*(t.x+i.width-1),ymin:n.ymax-m*(t.y+i.height-1),ymax:n.ymax-m*t.y,spatialReference:n.spatialReference});if(!r)return{extent:f,srcExtent:f,pixelBlock:null};const{pixelBlocks:u,mosaicSize:h}=r;if(1===u.length&&null!=u[0]&&u[0].width===i.width&&u[0].height===i.height)return{extent:f,srcExtent:f,pixelBlock:r.pixelBlocks[0]};const p=e>0?l.pyramidBlockWidth:l.blockWidth,d=e>0?l.pyramidBlockHeight:l.blockHeight,x={x:t.x%p,y:t.y%d};let y;if(this.rasterJobHandler){y=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:u,srcMosaicSize:h,destDimension:i,clipOffset:x,clipSize:i,coefs:null,sampleSpacing:null,interpolation:o.interpolation,alignmentInfo:null,blockWidths:null},o)).pixelBlock}else y=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.mosaic)(u,h,{clipOffset:x,clipSize:i});return{extent:f,srcExtent:f,pixelBlock:y}}fetchRawTile(e,t,o,r){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("BaseRaster:read-not-implemented","fetchRawTile() is not implemented")}computeExtent(e){return (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectExtent)(this.rasterInfo.extent,e)}decodePixelBlock(e,t){return!this.rasterJobHandler||t.useCanvas?(0,_rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_23__.decode)(e,t):this.rasterJobHandler.decode({data:e,options:t})}async request(e,i,o=0){const{customFetchParameters:r}=this.ioConfig,{range:n,query:s,headers:l}=i;o=o??i.retryCount??this.ioConfig.retryCount;const a=n?{Range:`bytes=${n.from}-${n.to}`}:null;try{return await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(e,{...i,query:{...s,...r},headers:{...l,...a}})}catch(c){if(o>0)return o--,this.request(e,i,o);throw c}}getSliceIndex(e){const{multidimensionalInfo:t}=this.rasterInfo;return null==t||null==e||0===e.length?null:(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__.getSliceIndex)(e,t)}getTileExtentFromTileInfo(e,t,i,o){const r=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.unwrapOrThrow)(o.lodAt(e));return this.getTileExtent({x:r.resolution,y:r.resolution},t,i,o.origin,o.spatialReference,o.size)}updateTileInfo(){const{storageInfo:e,spatialReference:t,extent:i,pixelSize:o}=this.rasterInfo;if(!e.tileInfo){const r=[],n=e.maximumPyramidLevel||0;let s=Math.max(o.x,o.y),l=1/.0254*96*s;for(let e=0;e<=n;e++)r.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_17__["default"]({level:n-e,resolution:s,scale:l})),s*=2,l*=2;const a=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({x:i.xmin,y:i.ymax,spatialReference:t});e.tileInfo=new _TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"]({origin:a,size:[e.blockWidth,e.blockHeight],spatialReference:t,lods:r}),e.isVirtualTileInfo=!0}}createRemoteDatasetStorageInfo(e,t=512,i=512,o){const{width:r,height:n,nativeExtent:s,pixelSize:l,spatialReference:a}=e,c=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({x:s.xmin,y:s.ymax,spatialReference:a});null==o&&(o=Math.max(0,Math.round(Math.log(Math.max(r,n))/Math.LN2-8)));const m=this.computeBlockBoundary(s,512,512,{x:s.xmin,y:s.ymax},[l],o);e.storageInfo=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_18__["default"]({blockWidth:t,blockHeight:i,pyramidBlockWidth:t,pyramidBlockHeight:i,origin:c,firstPyramidLevel:1,maximumPyramidLevel:o,blockBoundary:m})}async computeBestPyramidLevelForLocation(e,t={}){return 0}computeBlockBoundary(e,t,i,o,r,n=0,s=2){if(1===r.length&&n>0){r=[...r];let{x:e,y:t}=r[0];for(let i=0;i<n;i++)e*=s,t*=s,r.push({x:e,y:t})}const l=[],{x:a,y:c}=o;for(let m=0;m<r.length;m++){const{x:o,y:n}=r[m];l.push({minCol:Math.floor((e.xmin-a+.1*o)/t/o),maxCol:Math.floor((e.xmax-a-.1*o)/t/o),minRow:Math.floor((c-e.ymax+.1*n)/i/n),maxRow:Math.floor((c-e.ymin-.1*n)/i/n)})}return l}getPyramidPixelSize(e){const{nativePixelSize:t}=this.rasterInfo,{pyramidResolutions:i,pyramidScalingFactor:o}=this.rasterInfo.storageInfo;if(0===e)return t;if(null!=i&&i.length)return i[e-1];const r=o**e;return{x:t.x*r,y:t.y*r}}identifyPixelLocation(e,t,i,o){const{spatialReference:r,nativeExtent:n,storageInfo:s}=this.rasterInfo,{maximumPyramidLevel:l,origin:a,transposeInfo:c}=s,m=o&&null!=c?c.tileSize[0]:s.blockWidth,f=o&&null!=c?c.tileSize[1]:s.blockHeight,u=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectPoint)(e,r,i);if(!n.intersects(u))return null;if(t<0||t>l)return null;const h=this.getPyramidPixelSize(t),{x:p,y:d}=h,x=(a.y-u.y)/d/f,y=(u.x-a.x)/p/m,g=Math.min(f-1,Math.floor((x-Math.floor(x))*f)),I=Math.min(m-1,Math.floor((y-Math.floor(y))*m));return{pyramidLevel:t,row:Math.floor(x),col:Math.floor(y),rowOffset:g,colOffset:I,blockWidth:m,srcLocation:u}}getTileExtent(e,t,i,o,r,n){const[s,l]=n,a=o.x+i*s*e.x,c=a+s*e.x,m=o.y-t*l*e.y,f=m-l*e.y;return new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({xmin:a,xmax:c,ymin:f,ymax:m,spatialReference:r})}getBlockWidthHeight(e){return{blockWidth:e>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,blockHeight:e>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight}}isBlockOutside(e,t,i){const o=this.rasterInfo.storageInfo.blockBoundary[e];return!o||o.maxRow<t||o.maxCol<i||o.minRow>t||o.minCol>i}async _fetchPixels(e,t,i,o={}){let r=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWrapCount)(e);if(r>=2)return{extent:e,pixelBlock:null};const n=this._getSourceDataInfo(e,t,i,o),{pyramidLevel:s,srcResolution:l,srcExtent:a,srcWidth:c,srcHeight:m,ul:f}=n;if(0===c||0===m)return{extent:e,srcExtent:a,pixelBlock:null};const{rasterInfo:u}=this,h=u.transform,p="gcs-shift"===h?.type,d=null!=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWidth)(e.spatialReference);!p&&d||(r=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWrapCount)(n.srcExtent,p));const x=await this._fetchRawTiles(s,f,{width:c,height:m,wrapCount:r},o);if(!x)return{extent:e,srcExtent:a,pixelBlock:null};const y=u.storageInfo,g=s>0?y.pyramidBlockWidth:y.blockWidth,I=s>0?y.pyramidBlockHeight:y.blockHeight;let{x:R,y:w}=u.pixelSize;if(s>0){const{pyramidResolutions:e,pyramidScalingFactor:t}=y;if(null!=e&&e[s-1])({x:R,y:w}=e[s-1]);else{const e=t**s;R*=e,w*=e}}const S=u.spatialReference,k=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({x:R,y:w,spatialReference:S}),T=g===c&&I===m&&f.x%g==0&&f.y%I==0,b=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference}),v=!e.spatialReference.equals(S),P=S.isGeographic?1e-9:1e-4,{datumTransformation:j}=o;if(!v&&T&&1===x.pixelBlocks.length&&g===t&&I===i&&this._isSameResolution(l,b,P))return{extent:e,srcExtent:a,srcTilePixelSize:k,pixelBlock:x.pixelBlocks[0]};const H=d&&null!=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWidth)(a.spatialReference)&&this._hasNoneOrGCSShiftTransform,z=o.requestProjectedLocalDirections&&this.rasterInfo.dataType.startsWith("vector");z&&!this.rasterJobHandler&&await (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.load)();const E=this.rasterJobHandler?await this.rasterJobHandler.getProjectionOffsetGrid({projectedExtent:e,srcBufferExtent:x.extent,pixelSize:b.toJSON(),datumTransformation:j,rasterTransform:h,hasWrapAround:r>0||H,isAdaptive:!1!==this.ioConfig.optimizeProjectionAccuracy,includeGCSGrid:z},o):(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getProjectionOffsetGrid)({projectedExtent:e,srcBufferExtent:x.extent,pixelSize:b,datumTransformation:j,rasterTransform:h,hasWrapAround:r>0||H,isAdaptive:!1,includeGCSGrid:z});let F;const O=!o.requestRawData,G={rows:E.spacing[0],cols:E.spacing[1]},q=this._hasNoneOrGCSShiftTransform?this._getRasterTileAlignmentInfo(s,x.extent.xmin):void 0,{pixelBlocks:N,mosaicSize:V,isPartiallyFilled:U}=x;let $=null;if(this.rasterJobHandler){const e=await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:N,srcMosaicSize:V,destDimension:O?{width:t,height:i}:null,coefs:O?E.coefficients:null,sampleSpacing:O?G:null,projectDirections:z,gcsGrid:z?E.gcsGrid:null,isUV:"vector-uv"===this.rasterInfo.dataType,interpolation:o.interpolation,alignmentInfo:q,blockWidths:null},o);({pixelBlock:F,localNorthDirections:$}=e)}else{const e=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.mosaic)(N,V,{alignmentInfo:q});F=O?(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.approximateTransform)(e,{width:t,height:i},E.coefficients,G,o.interpolation):e,z&&E.gcsGrid&&($=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.getLocalArithmeticNorthRotations)({width:t,height:i},E.gcsGrid),F=(0,_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__.convertToLocalDirections)(F,this.rasterInfo.dataType,$))}return o.requestRawData||z?{extent:e,srcExtent:a,srcTilePixelSize:k,pixelBlock:F,transformGrid:E,localNorthDirections:$,isPartiallyFilled:U}:{extent:e,srcExtent:a,srcTilePixelSize:k,pixelBlock:F}}async _fetchRawTiles(e,t,i,o){const{origin:r,blockBoundary:n}=this.rasterInfo.storageInfo,{blockWidth:s,blockHeight:l}=this.getBlockWidthHeight(e);let{x:a,y:c}=t,{width:m,height:f,wrapCount:u}=i;const h=this._getRasterTileAlignmentInfo(e,0);o.buffer&&(a-=o.buffer.cols,c-=o.buffer.rows,m+=2*o.buffer.cols,f+=2*o.buffer.rows);let p=0,d=0,x=0;if(u&&null!=h){({worldColumnCountFromOrigin:d,originColumnOffset:x,rightPadding:p}=h);d*h.blockWidth-p>=a+m&&(p=0)}const y=Math.floor(a/s),g=Math.floor(c/l),I=Math.floor((a+m+p-1)/s),R=Math.floor((c+f+p-1)/l),w=n[e];if(!w)return null;const{minRow:S,minCol:k,maxCol:T,maxRow:b}=w;if(0===u&&(R<S||I<k||g>b||y>T))return null;const v=new Array;let P=!1;const B=null==this.ioConfig.allowPartialFill?o.allowPartialFill:this.ioConfig.allowPartialFill;for(let z=g;z<=R;z++)for(let t=y;t<=I;t++){let i=t;if(!o.disableWrapAround&&u&&null!=h&&d<=t&&(i=t-d-x),z>=S&&i>=k&&b>=z&&T>=i){const t=this._fetchRawTile(e,z,i,o);B?v.push(new Promise((e=>{t.then((t=>e(t))).catch((()=>{P=!0,e(null)}))}))):v.push(t)}else v.push(Promise.resolve(null))}if(0===v.length)return null;const M=await Promise.all(v),_={height:(R-g+1)*l,width:(I-y+1)*s},{spatialReference:W}=this.rasterInfo,C=this.getPyramidPixelSize(e),{x:j,y:H}=C;return{extent:new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({xmin:r.x+y*s*j,xmax:r.x+(I+1)*s*j,ymin:r.y-(R+1)*l*H,ymax:r.y-g*l*H,spatialReference:W}),pixelBlocks:M,mosaicSize:_,isPartiallyFilled:P}}_isSameResolution(e,t,i){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}_fetchRawTile(e,t,i,o){const r=this.rasterInfo.storageInfo.blockBoundary[e];if(!r)return Promise.resolve(null);const{minRow:n,minCol:s,maxCol:a,maxRow:c}=r;if(t<n||i<s||t>c||i>a)return Promise.resolve(null);const m=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.getRasterId)(this.url,o.sliceId),f=`${e}/${t}/${i}`;let u=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.getBlock)(m,o.registryId,f);if(null==u){const r=new AbortController;u=this.fetchRawTile(e,t,i,{...o,signal:r.signal}),(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.putBlock)(m,o.registryId,f,u,r),u.catch((()=>(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.deleteBlock)(m,o.registryId,f)))}return o.signal&&(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.onAbort)(o,(()=>{(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.decreaseRefCount)(m,o.registryId,f)})),u}_computeMagDirValues(e){const{bandCount:t,dataType:i}=this.rasterInfo;if(!(2===t&&"vector-magdir"===i||"vector-uv"===i)||2!==e?.length||!e[0]?.length)return null;const o=e[0].length;if("vector-magdir"===i){const t=e[1].map((e=>(e+360)%360));return[e[0],t]}const[r,n]=e,s=[],l=[];for(let a=0;a<o;a++){const[e,t]=(0,_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__.uvComponentToVector)([r[a],n[a]]);s.push(e),l.push(t)}return[s,l]}_getRasterTileAlignmentInfo(e,t){return null==this._rasterTileAlighmentInfo&&(this._rasterTileAlighmentInfo=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getRasterDatasetAlignmentInfo)(this.rasterInfo)),null==this._rasterTileAlighmentInfo.pyramidsInfo?null:{startX:t,halfWorldWidth:this._rasterTileAlighmentInfo.halfWorldWidth,hasGCSSShiftTransform:this._rasterTileAlighmentInfo.hasGCSSShiftTransform,...this._rasterTileAlighmentInfo.pyramidsInfo[e]}}_getSourceDataInfo(e,t,i,o={}){const r={datumTransformation:o.datumTransformation,pyramidLevel:0,pyramidResolution:null,srcExtent:null,srcHeight:0,srcResolution:null,srcWidth:0,ul:{x:0,y:0}};o.srcResolution&&(r.srcResolution=o.srcResolution,this._updateSourceDataInfo(e,r));const n=this.rasterInfo.storageInfo.maximumPyramidLevel||0,{srcWidth:s,srcHeight:l,pyramidLevel:a}=r,c=s/t,m=l/i,f=a<n&&c*m>=16,u=a===n&&this._requireTooManySrcTiles(s,l,t,i);if(f||u||(0===s||0===l)){const s=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference});let l=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectResolution)(s,this.rasterInfo.spatialReference,e,r.datumTransformation);const u=!l||o.srcResolution&&l.x+l.y<o.srcResolution.x+o.srcResolution.y;if(f&&o.srcResolution&&u){const e=Math.round(Math.log(Math.max(c,m))/Math.LN2)-1;if(n-a+3>=e){const t=2**e;l={x:o.srcResolution.x*t,y:o.srcResolution.y*t}}}l&&(r.srcResolution=l,this._updateSourceDataInfo(e,r))}return this._requireTooManySrcTiles(r.srcWidth,r.srcHeight,t,i)&&(r.srcWidth=0,r.srcHeight=0),r}_requireTooManySrcTiles(e,t,i,o){const{tileInfo:r}=this.rasterInfo.storageInfo;return Math.ceil(e/r.size[0])*Math.ceil(t/r.size[1])>=V||e/i>N||t/o>N}_updateSourceDataInfo(e,t){t.srcWidth=0,t.srcHeight=0;const{rasterInfo:i}=this,o=i.spatialReference,{srcResolution:r,datumTransformation:n}=t,{pyramidLevel:s,pyramidResolution:l,excessiveReading:a}=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.snapPyramid)(r,i,this.ioConfig.sampling);if(a)return;let c=t.srcExtent||(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectExtent)(e,o,n);if(null==c)return;const m=i.transform;m&&(c=m.inverseTransform(c)),t.srcExtent=c;const{x:f,y:u}=i.storageInfo.origin,h=Math.floor((c.xmin-f)/l.x+.1),p=Math.floor((u-c.ymax)/l.y+.1),d=Math.floor((c.xmax-f)/l.x-.1),x=Math.floor((u-c.ymin)/l.y-.1),y=c.width<.1*l.x?0:d-h+1,g=c.height<.1*l.y?0:x-p+1;t.pyramidLevel=s,t.pyramidResolution=l,t.srcWidth=y,t.srcHeight=g,t.ul={x:h,y:p}}_getRequestOptionsWithSliceId(e){return null!=this.rasterInfo.multidimensionalInfo&&null==e.sliceId&&(e={...e,sliceId:this.getSliceIndex(e.multidimensionalDefinition)}),e}_processIdentifyResult(e,t){const{srcLocation:i,position:o,pyramidLevel:r,useTransposedTile:n}=t,s=e.pixels[0].length/e.width/e.height;if(!(!e.mask||e.mask[o]))return{location:i,value:null};const{multidimensionalInfo:l}=this.rasterInfo;if(null==l||!n){const t=e.pixels.map((e=>e[o])),n={location:i,value:t,pyramidLevel:r},s=this._computeMagDirValues(t.map((e=>[e])));return s?.length&&(n.magdirValue=s.map((e=>e[0]))),n}let a=e.pixels.map((e=>e.slice(o*s,o*s+s))),c=this._computeMagDirValues(a);const{requestSomeSlices:m,identifyOptions:f}=t;let u=(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__.createSlices)(l,f.transposedVariableName);if(m){const e=(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__.getSliceIds)(u,f.multidimensionalDefinition,f.timeExtent);a=a.map((t=>e.map((e=>t[e])))),c=c?.map((t=>e.map((e=>t[e])))),u=e.map((e=>u[e]))}const p=e.noDataValues||this.rasterInfo.noDataValue,d={pixels:a,pixelType:e.pixelType};let x;null!=p&&((0,_rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_22__.convertNoDataToMask)(d,p),x=d.mask);return{location:i,value:null,dataSeries:u.map(((e,t)=>{const i={value:0===x?.[t]?null:a.map((e=>e[t])),multidimensionalDefinition:e.multidimensionalDefinition.map((e=>new _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_16__["default"]({...e,isSlice:!0})))};return c?.length&&(i.magdirValue=[c[0][t],c[1][t]]),i})),pyramidLevel:r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],U.prototype,"_rasterTileAlighmentInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({readOnly:!0})],U.prototype,"_isGlobalWrappableSource",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({readOnly:!0})],U.prototype,"_hasNoneOrGCSShiftTransform",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],U.prototype,"rasterJobHandler",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_15__.url)],U.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({type:String,json:{write:!0}})],U.prototype,"datasetName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({type:String,json:{write:!0}})],U.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],U.prototype,"hasUniqueSourceStorageInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],U.prototype,"rasterInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],U.prototype,"ioConfig",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],U.prototype,"sourceJSON",void 0),U=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.layers.support.rasterDatasets.BaseRaster")],U);const $=U;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../LOD.js */ "./node_modules/@arcgis/core/layers/support/LOD.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _DBFParser_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./DBFParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js");
/* harmony import */ var _rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterTransforms/utils.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/utils.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const g=new Map;g.set("int16","esriFieldTypeSmallInteger"),g.set("int32","esriFieldTypeInteger"),g.set("int64","esriFieldTypeInteger"),g.set("float32","esriFieldTypeSingle"),g.set("float64","esriFieldTypeDouble"),g.set("text","esriFieldTypeString");const y=8;let x=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_12__["default"]{constructor(){super(...arguments),this.storageInfo=null,this.datasetFormat="CRF"}async open(e){await this.init();const{data:r}=await this.request(this.url+"/conf.json",{signal:e?.signal});if(!this._validateHeader(r))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("cloudraster:open","Invalid or unsupported conf.json.");this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1);const{storageInfo:i,rasterInfo:o}=this._parseHeader(r);if("thematic"===o.dataType){const e=await this._fetchAuxiliaryInformation();o.attributeTable=e}this._set("storageInfo",i),this._set("rasterInfo",o),this.ioConfig.retryCount=this.ioConfig.retryCount||0}async fetchRawTile(e,t,r,i={}){const{transposeInfo:o}=this.rasterInfo.storageInfo,{transposedVariableName:s}=i,a=!(!o||!s),n=a?0:this.rasterInfo.storageInfo.maximumPyramidLevel-e;if(n<0)return null;const l=this._buildCacheFilePath(n,t,r,i.multidimensionalDefinition,s),f=this._getIndexRecordFromBundle(t,r,a),m=await this.request(l,{range:{from:0,to:this.storageInfo.headerSize-1},responseType:"array-buffer",signal:i.signal});if(!m)return null;const c=new Uint8Array(m.data),p=this._getTileEndAndContentType(c,f);if(0===p.recordSize)return null;const d=await this.request(l,{range:{from:p.position,to:p.position+p.recordSize},responseType:"array-buffer",signal:i.signal});if(!d)return null;const[u,h]=this._getTileSize(a);return this.decodePixelBlock(d.data,{width:u,height:h,planes:null,pixelType:null,returnInterleaved:a})}_validateHeader(e){const t=["origin","extent","geodataXform","LODInfos","blockWidth","blockHeight","bandCount","pixelType","pixelSizeX","pixelSizeY","format","packetSize"];return e&&"RasterInfo"===e.type&&!t.some((t=>!e[t]))}_parseHeader(e){const t=["u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64"][e.pixelType],{bandCount:r,histograms:i,colormap:l,blockWidth:f,blockHeight:m,firstPyramidLevel:c,maximumPyramidLevel:p}=e,g=e.statistics&&e.statistics.map((e=>({min:e.min,max:e.max,avg:e.mean,stddev:e.standardDeviation,median:e.median,mode:e.mode}))),x=e.extent.spatialReference,S=e.geodataXform?.spatialReference,I=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"](x?.wkid||x?.wkt?x:S);let w=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"]({xmin:e.extent.xmin,ymin:e.extent.ymin,xmax:e.extent.xmax,ymax:e.extent.ymax,spatialReference:I});const _=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"]({x:e.pixelSizeX,y:e.pixelSizeY,spatialReference:I}),v=Math.round((w.xmax-w.xmin)/_.x),b=Math.round((w.ymax-w.ymin)/_.y),z=this._parseTransform(e.geodataXform),T=z?w:null;z&&(w=z.forwardTransform(w),_.x=(w.xmax-w.xmin)/v,_.y=(w.ymax-w.ymin)/b);const k=e.properties??{},j=e.format.toLowerCase().replace("cache/",""),C=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"](e.origin.x,e.origin.y,I);let R,F,P,H;if(l&&l.colors)for(R=[],F=0;F<l.colors.length;F++)P=l.colors[F],H=l.values?l.values[F]:F,R.push([H,255&P,P<<16>>>24,P<<8>>>24,P>>>24]);const D=e.LODInfos,L=[];for(F=0;F<D.levels.length;F++)L.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_8__["default"]({level:D.levels[F],resolution:D.resolutions[F],scale:96/.0254*D.resolutions[F]}));const M=new _TileInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]({dpi:96,lods:L,format:j,origin:C,size:[f,m],spatialReference:I}),O={recordSize:y,packetSize:e.packetSize,headerSize:e.packetSize*e.packetSize*y+64},B=[{maxCol:Math.ceil(v/f)-1,maxRow:Math.ceil(b/m)-1,minCol:0,minRow:0}];let $=2;if(p>0)for(F=0;F<p;F++)B.push({maxCol:Math.ceil(v/$/f)-1,maxRow:Math.ceil(b/$/m)-1,minCol:0,minRow:0}),$*=2;const N=e.mdInfo;let q=null;if(N&&k._yxs){const e=k._yxs;q={packetSize:e.PacketSize,tileSize:[e.TileXSize,e.TileYSize]}}return{storageInfo:O,rasterInfo:new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:v,height:b,pixelType:t,bandCount:r,extent:w,nativeExtent:T,transform:z,spatialReference:I,pixelSize:_,keyProperties:k,statistics:g,histograms:i,multidimensionalInfo:N,colormap:R,storageInfo:new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({blockWidth:f,blockHeight:m,pyramidBlockWidth:f,pyramidBlockHeight:m,origin:C,tileInfo:M,transposeInfo:q,firstPyramidLevel:c,maximumPyramidLevel:p,blockBoundary:B})})}}_parseTransform(e){if(!(0,_rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_14__.isTransformSupported)(e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("cloudraster:open","the data contains unsupported geodata transform types");const r=(0,_rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_14__.readTransform)(e);if("identity"===r.type)return null;if("polynomial"!==r.type||!r.forwardCoefficients?.length||!r.inverseCoefficients?.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("cloudraster:open","the data contains unsupported geodata transforms - both forward and inverse coefficients are required currently");return r}async _fetchAuxiliaryInformation(e){const t=this.request(this.url+"/conf.vat.json",{signal:e}).then((e=>e.data)).catch((()=>null)),r=this.request(this.url+"/conf.vat.dbf",{responseType:"array-buffer",signal:e}).then((e=>e.data)).catch((()=>null)),i=await Promise.all([t,r]);let o;if(i[0]){let e=i[0].fields;const t=i[0].values;if(e&&t){e=e.map((e=>({type:"OID"===e.name?"esriFieldTypeOID":g.get(e.type),name:e.name,alias:e.alias||e.name})));const r=t.map((e=>({attributes:e})));e&&t&&(o={fields:e,features:r})}}if(!o&&i[1]){o=_DBFParser_js__WEBPACK_IMPORTED_MODULE_13__["default"].parse(i[1]).recordSet}return _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_15__["default"].fromJSON(o)}_buildCacheFilePath(e,t,r,i,o){const s=this._getPackageSize(!!o),a=Math.floor(t/s)*s,n=Math.floor(r/s)*s,l="R"+this._toHexString4(a)+"C"+this._toHexString4(n);let f="L";f+=e>=10?e.toString():"0"+e.toString();const{multidimensionalInfo:m}=this.rasterInfo,c=i?.[0];if(null==m||!c)return`${this.url}/_alllayers/${f}/${l}.bundle`;let p="_yxs";if(!o){p=m.variables.find((e=>e.name===c.variableName)).dimensions[0].values.indexOf(c.values[0]).toString(16);const e=4-p.length;for(let t=0;t<e;t++)p="0"+p;p="S"+p}const d=this._getVariableFolderName(o||c.variableName);return`${this.url}/_alllayers/${d}/${p}/${f}/${l}.bundle`}_getPackageSize(e=!1){const{transposeInfo:t}=this.rasterInfo.storageInfo;return e&&null!=t?t.packetSize??0:this.storageInfo.packetSize}_getTileSize(e=!1){const{storageInfo:t}=this.rasterInfo,{transposeInfo:r}=t;return e&&null!=r?r.tileSize:t.tileInfo.size}_getVariableFolderName(e){return""===(e=e.trim())?"_v":e.replaceAll(/[\{|\}\-]/g,"_").replace("\\*","_v")}_getIndexRecordFromBundle(e,t,r=!1){const i=this._getPackageSize(r),o=i*(e%i)+t%i;if(o<0)throw new Error("Invalid level / row / col");return 20+o*this.storageInfo.recordSize+44}_getTileEndAndContentType(e,t){const r=e.subarray(t,t+8);let i,o=0;for(i=0;i<5;i++)o|=(255&r[i])<<8*i;const s=0xffffffffff&o;for(o=0,i=5;i<8;i++)o|=(255&r[i])<<8*(i-5);return{position:s,recordSize:0xffffffffff&o}}_toHexString4(e){let t=e.toString(16);if(4!==t.length){let e=4-t.length;for(;e-- >0;)t="0"+t}return t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],x.prototype,"storageInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:String,json:{write:!0}})],x.prototype,"datasetFormat",void 0),x=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.rasterDatasets.CloudRaster")],x);const S=x;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./byteStreamUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/byteStreamUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t(e){const t=e.fields,r=e.records,n=t.some((e=>"oid"===e.name.toLowerCase()))?"OBJECTID":"OID",i=[{name:n,type:"esriFieldTypeOID",alias:"OID"}].concat(t.map((e=>({name:e.name,type:"esriFieldType"+e.typeName,alias:e.name})))),s=i.map((e=>e.name)),a=[];let o=0,l=0;return r.forEach((e=>{const t={};for(t[n]=o++,l=1;l<s.length;l++)t[s[l]]=e[l-1];a.push({attributes:t})})),{displayFieldName:"",fields:i,features:a}}class r{static get supportedVersions(){return[5]}static parse(r){const n=new DataView(r),i=3&n.getUint8(0);if(3!==i)return{header:{version:i},recordSet:null};const s=n.getUint32(4,!0),a=n.getUint16(8,!0),o=n.getUint16(10,!0),l={version:i,recordCount:s,headerByteCount:a,recordByteCount:o};let p=32;const g=[],u=[];let d;if(3===i){for(;13!==n.getUint8(p);)d=String.fromCharCode(n.getUint8(p+11)).trim(),g.push({name:(0,_byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUTF8)(new Uint8Array(r,p,11)),type:d,typeName:["String","Date","Double","Boolean","String","Integer"][["C","D","F","L","M","N"].indexOf(d)],length:n.getUint8(p+16)}),p+=32;if(p+=1,g.length>0)for(;u.length<s&&r.byteLength-p>o;){const t=[];32===n.getUint8(p)?(p+=1,g.forEach((n=>{if("C"===n.type)t.push((0,_byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUTF8)(new Uint8Array(r,p,n.length)).trim());else if("N"===n.type)t.push(parseInt(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim(),10));else if("F"===n.type)t.push(parseFloat(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim()));else if("D"===n.type){const e=String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim();t.push(new Date(parseInt(e.substring(0,4),10),parseInt(e.substring(4,6),10)-1,parseInt(e.substring(6,8),10)))}p+=n.length})),u.push(t)):p+=o}}return{header:l,fields:g,records:u,recordSet:t({fields:g,records:u})}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+"/"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+"/"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r){const i=this._cachedBlocks,c=t+"/"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this._trim(),this._updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+"/"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this._trim()}empty(){this._cachedBlocks.clear(),this._clearTimer()}getCurrentSize(){return this._cachedBlocks.size}_updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this._clearTimer()}),this._interval)}_trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}_clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let n=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_7__["default"]{constructor(){super(...arguments),this.datasetFormat="Function",this.tileType="Raster",this.rasterFunction=null}async open(t){await this.init();const{rasterFunction:r}=this;this.primaryRasters?.rasters?.length?r.sourceRasters=this.primaryRasters.rasters:(this.primaryRasters=r.getPrimaryRasters(),this.rasterJobHandler&&this.primaryRasters.rasters?.forEach((t=>t.rasterJobHandler=this.rasterJobHandler)));const{rasters:s,rasterIds:a}=this.primaryRasters,i=s.map((e=>e.rasterInfo?void 0:e.open(t)));await Promise.all(i);const n=s.map((({rasterInfo:t})=>t)),c=r.bind({rasterInfos:n,rasterIds:a});if(!c.success||0===n.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("raster-function:open",`cannot bind the function: ${c.error??""}`);const l="Table"===r.functionName?r:r.functionArguments?.raster;"Table"===l?.functionName&&(r.rasterInfo.attributeTable=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(l.functionArguments.attributeTableAsRecordSet)),await this.syncJobHandler();const p=n[0];this.hasUniqueSourceStorageInfo=1===n.length||n.slice(1).every((t=>this._hasSameStorageInfo(t,p))),this.set("sourceJSON",s[0].sourceJSON),this.set("rasterInfo",r.rasterInfo)}async syncJobHandler(){return this.rasterJobHandler?.updateRasterFunction(this.rasterFunction)}async fetchPixels(t,e,r,s={}){const{rasters:a,rasterIds:o}=this.primaryRasters;let n=!1;const{interpolation:c}=s,l=this.rasterFunction.flatWebGLFunctionChain?.hasSurfaceFunction;!s.requestRawData&&"bilinear"!==c&&l&&(n=1===a.length&&!s.skipRasterFunction,s={...s,interpolation:"bilinear",requestRawData:n});const p=a.map((a=>a.fetchPixels(t,e,r,s))),u=await Promise.all(p),m=u.map((t=>t.pixelBlock)),h=n||s.requestRawData?u.map((t=>t.srcTilePixelSize)):null;if(s.skipRasterFunction||m.every((t=>null==t)))return u[0];const f=u.find((t=>null!=t.pixelBlock))?.extent??t,d=this.rasterJobHandler?await this.rasterJobHandler.process({extent:f,primaryPixelBlocks:m,primaryPixelSizes:h,primaryRasterIds:o}):this.rasterFunction.process({extent:f,primaryPixelBlocks:m,primaryPixelSizes:h,primaryRasterIds:o}),{transformGrid:y}=u[0];if(!n||null==d||null==y)return{...u[0],pixelBlock:d};const x={rows:y.spacing[0],cols:y.spacing[1]};let b;if(this.rasterJobHandler){b=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:[d],srcMosaicSize:{width:d.width,height:d.height},destDimension:{width:e,height:r},coefs:y.coefficients,sampleSpacing:x,projectDirections:!1,gcsGrid:null,isUV:!1,interpolation:c,alignmentInfo:void 0,blockWidths:null},s)).pixelBlock}else b=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__.approximateTransform)(d,{width:e,height:r},y.coefficients,x,c);return{extent:t,srcExtent:u[0].srcExtent,pixelBlock:b}}_hasSameStorageInfo(t,e){const{storageInfo:r,pixelSize:s,spatialReference:a,extent:i}=t,{storageInfo:o,pixelSize:n,spatialReference:c,extent:l}=e;return s.x===n.x&&s.y===n.y&&a.equals(c)&&i.equals(l)&&r.blockHeight===o.blockHeight&&r.blockWidth===o.blockWidth&&r.maximumPyramidLevel===o.maximumPyramidLevel}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:String,json:{write:!0}})],n.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"tileType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"rasterFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"primaryRasters",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.rasterDatasets.FunctionRaster")],n);const c=n;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _InMemoryRaster_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./InMemoryRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js");
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pamParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js");
/* harmony import */ var _rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../rasterFormats/RasterCodec.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/RasterCodec.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let h=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_9__["default"]{async open(t){await this.init();const e=await this._fetchData(t);let{spatialReference:s,statistics:r,histograms:a,transform:o}=await this._fetchAuxiliaryData(t);const i=!s;i&&(s=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__["default"]({wkid:3857})),a?.length&&null==r&&(r=(0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_13__.estimateStatisticsFromHistograms)(a));const{width:l,height:m}=e;let c=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__["default"]({xmin:-.5,ymin:.5-m,xmax:l-.5,ymax:.5,spatialReference:s});const h=o?o.forwardTransform(c):c;let d=!0;if(o){const t=o.forwardCoefficients;d=t&&0===t[1]&&0===t[2],d&&(o=null,c=h)}const w=new _InMemoryRaster_js__WEBPACK_IMPORTED_MODULE_10__["default"]({data:{extent:h,nativeExtent:c,transform:o,pixelBlock:e,statistics:r,histograms:a,keyProperties:{DateType:"Processed"},isPseudoSpatialReference:i}});await w.open(),w.data=null,this._set("rasterInfo",w.rasterInfo),this._inMemoryRaster=w}fetchRawTile(t,e,s,r={}){return this._inMemoryRaster.fetchRawTile(t,e,s,r)}async _fetchData(t){const{data:s}=await this.request(this.url,{responseType:"array-buffer",signal:t?.signal}),r=(0,_rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_12__.getFormat)(s).toUpperCase();if("JPG"!==r&&"PNG"!==r&&"GIF"!==r&&"BMP"!==r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("image-aux-raster:open","the data is not a supported format");this._set("datasetFormat",r);const a=r.toLowerCase(),o="gif"===a||"bmp"===a||!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("ios"),i=await this.decodePixelBlock(s,{format:a,useCanvas:o,hasNoZlibMask:!0});if(null==i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("image-aux-raster:open","the data cannot be decoded");return i}async _fetchAuxiliaryData(t){const e=t?.signal,a=this.ioConfig.skipExtensions??[],o=a.includes("aux.xml")?null:this.request(this.url+".aux.xml",{responseType:"xml",signal:e}),i=this.datasetFormat,n="JPG"===i?"jgw":"PNG"===i?"pgw":"BMP"===i?"bpw":null,m=n&&a.includes(n)?null:this.request(this.url.slice(0,this.url.lastIndexOf("."))+"."+n,{responseType:"text",signal:e}),p=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.eachAlways)([o,m]);if(e?.aborted)throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.createAbortError)();const f=(0,_pamParser_js__WEBPACK_IMPORTED_MODULE_11__.parsePAMInfo)(p[0].value?.data);if(!f.transform){const t=p[1].value?p[1].value.data.split("\n").slice(0,6).map((t=>Number(t))):null;f.transform=6===t?.length?new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_14__["default"]({forwardCoefficients:[t[4],t[5],t[0],-t[1],t[2],-t[3]]}):null}return f}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:!0}})],h.prototype,"datasetFormat",void 0),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.rasterDatasets.ImageAuxRaster")],h);const d=h;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _TilemapCache_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../TilemapCache.js */ "./node_modules/@arcgis/core/layers/support/TilemapCache.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rasterTransforms_GCSShiftTransform_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../rasterTransforms/GCSShiftTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/GCSShiftTransform.js");
/* harmony import */ var _rest_imageService_fetchRasterInfo_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../rest/imageService/fetchRasterInfo.js */ "./node_modules/@arcgis/core/rest/imageService/fetchRasterInfo.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let x=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_14__["default"]{constructor(){super(...arguments),this._levelOffset=0,this._tilemapCache=null,this._slices=null,this.datasetFormat="RasterTileServer",this.tileType=null}async open(e){await this.init();const r=e&&e.signal,a=this.sourceJSON?{data:this.sourceJSON}:await this.request(this.url,{query:{f:"json"},signal:r});a.ssl&&(this.url=this.url.replace(/^http:/i,"https:"));const l=a.data;if(this.sourceJSON=l,!l)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imageserverraster:open","cannot initialize tiled image service, missing service info");if(!l.tileInfo)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imageserverraster:open","use ImageryLayer to open non-tiled image services");this._fixScaleInServiceInfo();const m=["jpg","jpeg","png","png8","png24","png32","mixed"];this.tileType=l.cacheType,null==this.tileType&&(m.includes(l.tileInfo.format.toLowerCase())?this.tileType="Map":"lerc"===l.tileInfo.format.toLowerCase()?this.tileType="Elevation":this.tileType="Raster"),this.datasetName=l.name?.slice(l.name.indexOf("/")+1)??"";const u=await this._fetchRasterInfo({signal:r});if(null==u)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("image-server-raster:open","cannot initialize image service");const h="Map"===this.tileType?g(l.tileInfo,l):_TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(l.tileInfo);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.assertIsSome)(h);const[f,p]=this._computeMinMaxLOD(u,h),{extent:d,pixelSize:y}=u,x=.5/u.width*y.x,v=Math.max(y.x,y.y),{lods:S}=h;("Map"!==this.tileType&&0!==l.maxScale||Math.abs(y.x-y.y)>x||!S.some((e=>Math.abs(e.resolution-v)<x)))&&(y.x=y.y=f.resolution,u.width=Math.ceil((d.xmax-d.xmin)/y.x-.1),u.height=Math.ceil((d.ymax-d.ymin)/y.y-.1));const I=f.level-p.level,[w,j]=h.size,M=[],b=[];S.forEach(((e,t)=>{e.level>=p.level&&e.level<=f.level&&M.push({x:e.resolution,y:e.resolution}),t<S.length-1&&b.push(Math.round(10*e.resolution/S[t+1].resolution)/10)})),M.sort(((e,t)=>e.x-t.x));const T=this.computeBlockBoundary(d,w,j,h.origin,M,I),_=M.length>1?M.slice(1):null;let O;l.transposeInfo&&(O={tileSize:[l.transposeInfo.rows,l.transposeInfo.cols],packetSize:u.keyProperties?._yxs.PacketSize??0});const R=b.length<=1||b.length>=3&&b.slice(0,b.length-1).every((e=>e===b[0]))?b[0]??2:Math.round(10/(p.resolution/f.resolution)**(-1/I))/10;if(u.storageInfo=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]({blockWidth:h.size[0],blockHeight:h.size[1],pyramidBlockWidth:h.size[0],pyramidBlockHeight:h.size[1],pyramidResolutions:_,pyramidScalingFactor:R,compression:h.format,origin:h.origin,firstPyramidLevel:1,maximumPyramidLevel:I,tileInfo:h,transposeInfo:O,blockBoundary:T}),this._fixGCSShift(u),this._set("rasterInfo",u),l.capabilities.toLowerCase().includes("tilemap")){const e={tileInfo:u.storageInfo.tileInfo,parsedUrl:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.urlToObject)(this.url),url:this.url,tileServers:[]};this._tilemapCache=new _TilemapCache_js__WEBPACK_IMPORTED_MODULE_13__.TilemapCache({layer:e})}}async fetchRawTile(e,t,i,s={}){const{storageInfo:r,extent:a}=this.rasterInfo,{transposeInfo:l}=r,o=null!=l&&!!s.transposedVariableName;if(this._slices&&!o&&null==s.sliceId)return null;const n=o?0:r.maximumPyramidLevel-e+this._levelOffset,c=`${this.url}/tile/${n}/${t}/${i}`,m=this._slices?o?{variable:s.transposedVariableName}:{sliceId:s.sliceId||0}:null,{data:h}=await this.request(c,{query:m,responseType:"array-buffer",signal:s.signal});if(!h)return null;const f=o?l.tileSize:r.tileInfo.size,p=await this.decodePixelBlock(h,{width:f[0],height:f[1],planes:null,pixelType:null,isPoint:"Elevation"===this.tileType,returnInterleaved:o,noDataValue:this.rasterInfo.noDataValue});if(null==p)return null;const d=r.blockBoundary[e];if("jpg"!==r.compression||i>d.minCol&&i<d.maxCol&&t>d.minRow&&t<d.maxRow)return p;const{origin:y,blockWidth:x,blockHeight:g}=r,{x:v,y:S}=this.getPyramidPixelSize(e),I=Math.round((a.xmin-y.x)/v)%x,w=Math.round((a.xmax-y.x)/v)%x||x,j=Math.round((y.y-a.ymax)/S)%g,M=Math.round((y.y-a.ymin)/S)%g||g,b=i===d.minCol?I:0,T=t===d.minRow?j:0,_=i===d.maxCol?w:x,O=t===d.maxRow?M:g;return (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_15__.setValidBoundary)(p,{x:b,y:T},{width:_-b,height:O-T}),p}getSliceIndex(e){if(!this._slices||null==e||0===e.length)return null;const t=e;for(let i=0;i<this._slices.length;i++){const e=this._slices[i].multidimensionalDefinition;if(e.length===t.length&&!e.some((e=>{const i=t.find((t=>e.variableName===t.variableName&&t.dimensionName===e.dimensionName));if(!i)return!0;return(Array.isArray(e.values[0])?`${e.values[0][0]}-${e.values[0][1]}`:e.values[0])!==(Array.isArray(i.values[0])?`${i.values[0][0]}-${i.values[0][1]}`:i.values[0])})))return i}return null}async fetchVariableStatisticsHistograms(e,t){const i=this.request(this.url+"/statistics",{query:{variable:e,f:"json"},signal:t}).then((e=>e.data?.statistics)),s=this.request(this.url+"/histograms",{query:{variable:e,f:"json"},signal:t}).then((e=>e.data?.histograms)),r=await Promise.all([i,s]);return r[0]&&r[0].forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),{statistics:r[0]||null,histograms:r[1]||null}}async computeBestPyramidLevelForLocation(e,t={}){if(!this._tilemapCache)return 0;let i=this.identifyPixelLocation(e,0,t.datumTransformation);if(null===i)return null;let s=0;const{maximumPyramidLevel:r}=this.rasterInfo.storageInfo;let a=r-s+this._levelOffset;const l=i.srcLocation;for(;a>=0;){try{if("available"===await this._tilemapCache.fetchAvailability(a,i.row,i.col,t))break}catch{}if(a--,s++,i=this.identifyPixelLocation(l,s,t.datumTransformation),null===i)return null}return-1===a||null==i?null:s}async _fetchRasterInfo(e){const t=this.sourceJSON;if("Map"===this.tileType){const e=t.fullExtent||t.extent,i=Math.ceil((e.xmax-e.xmin)/t.pixelSizeX-.1),s=Math.ceil((e.ymax-e.ymin)/t.pixelSizeY-.1),r=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_18__["default"].fromJSON(t.spatialReference||e.spatialReference),a=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__["default"]({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:r});return new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({width:i,height:s,bandCount:3,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromJSON(e),spatialReference:r,pixelSize:a,pixelType:"u8",statistics:null,keyProperties:{DataType:"processed"}})}const{signal:i}=e,s=(0,_rest_imageService_fetchRasterInfo_js__WEBPACK_IMPORTED_MODULE_17__.fetchServiceRasterInfo)(this.url,this.sourceJSON,{signal:i,query:this.ioConfig.customFetchParameters}),r=t.hasMultidimensions?this.request(`${this.url}/slices`,{query:{f:"json"},signal:i}).then((e=>e.data&&e.data.slices)).catch((()=>null)):null,a=await Promise.all([s,r]);return this._slices=a[1],a[0]}_fixScaleInServiceInfo(){const{sourceJSON:e}=this;e.minScale&&e.minScale<0&&(e.minScale=0),e.maxScale&&e.maxScale<0&&(e.maxScale=0)}_fixGCSShift(e){const{extent:t,spatialReference:i}=e;t.xmin>-1&&t.xmax>181&&i?.wkid&&i.isGeographic&&(e.nativeExtent=e.extent,e.transform=new _rasterTransforms_GCSShiftTransform_js__WEBPACK_IMPORTED_MODULE_16__["default"],e.extent=e.transform.forwardTransform(t))}_computeMinMaxLOD(e,t){const{pixelSize:i}=e,s=.5/e.width*i.x,{lods:r}=t,a=t.lodAt(Math.max.apply(null,r.map((e=>e.level)))),l=t.lodAt(Math.min.apply(null,r.map((e=>e.level)))),{tileType:o}=this;if("Map"===o)return this._levelOffset=r[0].level,[a,l];if("Raster"===o){return[r.find((e=>e.resolution===i.x))??a,l]}const{minScale:n,maxScale:c}=this.sourceJSON;let m=a;c>0&&(m=r.find((e=>Math.abs(e.scale-c)<s)),m||(m=r.filter((e=>e.scale>c)).sort(((e,t)=>e.scale>t.scale?1:-1))[0]??a));let u=l;return n>0&&(u=r.find((e=>Math.abs(e.scale-n)<s))??l,this._levelOffset=u.level-l.level),[m,u]}};function g(e,t){if(!e)return null;const{minScale:i,maxScale:s,minLOD:r,maxLOD:a}=t;if(null!=r&&null!=a)return _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON({...e,lods:e.lods.filter((({level:e})=>null!=e&&e>=r&&e<=a))});if(0!==i&&0!==s){const t=e=>Math.round(1e4*e)/1e4,r=i?t(i):1/0,a=s?t(s):-1/0;return _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON({...e,lods:e.lods.filter((e=>{const i=t(e.scale);return i<=r&&i>=a}))})}return _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(e)}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:!0}})],x.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],x.prototype,"tileType",void 0),x=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.layers.support.rasterDatasets.ImageServerRaster")],x);const v=x;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let c=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__["default"]{constructor(){super(...arguments),this.datasetFormat="MEMORY",this.data=null}async open(t){await this.init();const e=this.data,{pixelBlock:s,statistics:r,histograms:i,name:a,keyProperties:n,nativeExtent:m,transform:c}=this.data,{width:h,height:f,pixelType:u}=s,d=e.extent??new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__["default"]({xmin:-.5,ymin:.5,xmax:h-.5,ymax:f-.5,spatialReference:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"]({wkid:3857})}),y=e.isPseudoSpatialReference??!e.extent,x={x:d.width/h,y:d.height/f},g=new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:h,height:f,pixelType:u,extent:d,nativeExtent:m,transform:c,pixelSize:x,spatialReference:d.spatialReference,bandCount:s.pixels.length,keyProperties:n||{},statistics:r,isPseudoSpatialReference:y,histograms:i});this.createRemoteDatasetStorageInfo(g,512,512),this._set("rasterInfo",g),this.updateTileInfo(),await this._buildInMemoryRaster(s,{width:512,height:512},t),this.datasetName=a,this.url="/InMemory/"+a}fetchRawTile(t,e,s,r={}){const i=this._pixelBlockTiles.get(`${t}/${e}/${s}`);return Promise.resolve(i)}async _buildInMemoryRaster(t,r,i){const o=this.rasterInfo.storageInfo.maximumPyramidLevel,a=this.rasterJobHandler?this.rasterJobHandler.split({pixelBlock:t,tileSize:r,maximumPyramidLevel:o},i):Promise.resolve((0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_11__.split)(t,r,o)),l=null!=this.rasterInfo.statistics,p=null!=this.rasterInfo.histograms,c=l?Promise.resolve({statistics:null,histograms:null}):this.rasterJobHandler?this.rasterJobHandler.estimateStatisticsHistograms({pixelBlock:t},i):Promise.resolve((0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_12__.estimateStatisticsHistograms)(t)),h=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)([a,c]);if(!h[0].value&&h[1].value)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("inmemory-raster:open","failed to build in memory raster");this._pixelBlockTiles=h[0].value,l||(this.rasterInfo.statistics=h[1].value?.statistics),p||(this.rasterInfo.histograms=h[1].value?.histograms)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:!0}})],c.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"data",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.rasterDatasets.InMemoryRaster")],c);const h=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../PixelBlock.js */ "./node_modules/@arcgis/core/layers/support/PixelBlock.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pamParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js");
/* harmony import */ var _xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./xmlUtilities.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js");
/* harmony import */ var _rasterFormats_utils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterFormats/utils.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/utils.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const y=new Map;y.set("Int8","s8"),y.set("UInt8","u8"),y.set("Int16","s16"),y.set("UInt16","u16"),y.set("Int32","s32"),y.set("UInt32","u32"),y.set("Float32","f32"),y.set("Float64","f32"),y.set("Double64","f32");const x=new Map;x.set("none",{blobExtension:".til",isOneSegment:!0,decoderFormat:"bip"}),x.set("lerc",{blobExtension:".lrc",isOneSegment:!1,decoderFormat:"lerc"}),x.set("deflate",{blobExtension:".pzp",isOneSegment:!0,decoderFormat:"deflate"}),x.set("jpeg",{blobExtension:".pjg",isOneSegment:!0,decoderFormat:"jpg"});let w=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__["default"]{constructor(){super(...arguments),this._files=null,this._storageIndex=null,this.datasetFormat="MRF"}async open(t){await this.init(),this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1);const e=t?t.signal:null,r=await this.request(this.url,{responseType:"xml",signal:e}),{rasterInfo:s,files:o}=this._parseHeader(r.data);if(-1===this.ioConfig.skipExtensions?.indexOf("aux.xml")){const e=await this._fetchAuxiliaryData(t);null!=e&&(s.statistics=e.statistics??s.statistics,s.histograms=e.histograms,e.histograms&&null==s.statistics&&(s.statistics=(0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_15__.estimateStatisticsFromHistograms)(e.histograms)))}this._set("rasterInfo",s),this._files=o;const i=await this.request(o.index,{responseType:"array-buffer",signal:e});this._storageIndex=this._parseIndex(i.data);const{blockWidth:a,blockHeight:n}=this.rasterInfo.storageInfo,l=this.rasterInfo.storageInfo.pyramidScalingFactor,{width:f,height:c}=this.rasterInfo,p=[],m=this._getBandSegmentCount();let u=0,g=-1;for(;u<this._storageIndex.length;){g++;const t=Math.ceil(f/a/l**g)-1,e=Math.ceil(c/n/l**g)-1;u+=(t+1)*(e+1)*m*4,p.push({maxRow:e,maxCol:t,minCol:0,minRow:0})}this.rasterInfo.storageInfo.blockBoundary=p,g>0&&(this.rasterInfo.storageInfo.firstPyramidLevel=1,this.rasterInfo.storageInfo.maximumPyramidLevel=g),this.updateTileInfo()}async fetchRawTile(t,e,r,s={}){const{blockWidth:i,blockHeight:a,blockBoundary:n}=this.rasterInfo.storageInfo,l=n[t];if(!l||l.maxRow<e||l.maxCol<r||l.minRow>e||l.minCol>r)return null;const{bandCount:f,pixelType:c}=this.rasterInfo,{ranges:p,actualTileWidth:m,actualTileHeight:h}=this._getTileLocation(t,e,r);if(!p||0===p.length)return null;if(0===p[0].from&&0===p[0].to){const t=new Uint8Array(i*a);return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_8__["default"]({width:i,height:a,pixels:null,mask:t,validPixelCount:0})}const{bandIds:u}=this.ioConfig,g=this._getBandSegmentCount(),d=[];let y=0;for(y=0;y<g;y++)u&&!u.includes(y)||d.push(this.request(this._files.data,{range:{from:p[y].from,to:p[y].to},responseType:"array-buffer",signal:s.signal}));const w=await Promise.all(d),I=w.map((t=>t.data.byteLength)).reduce(((t,e)=>t+e)),b=new Uint8Array(I);let A=0;for(y=0;y<g;y++)b.set(new Uint8Array(w[y].data),A),A+=w[y].data.byteLength;const F=x.get(this.rasterInfo.storageInfo.compression).decoderFormat,_=await this.decodePixelBlock(b.buffer,{width:i,height:a,format:F,planes:u?.length||f,pixelType:c});if(null==_)return null;let{noDataValue:R}=this.rasterInfo;if(null!=R&&"lerc"!==F&&!_.mask&&(R=R[0],null!=R)){const t=_.width*_.height,e=new Uint8Array(t);if(Math.abs(R)>1e24)for(y=0;y<t;y++)Math.abs((_.pixels[0][y]-R)/R)>1e-6&&(e[y]=1);else for(y=0;y<t;y++)_.pixels[0][y]!==R&&(e[y]=1);_.mask=e}let S=0,j=0;if(m!==i||h!==a){let t=_.mask;if(t)for(y=0;y<a;y++)if(j=y*i,y<h)for(S=m;S<i;S++)t[j+S]=0;else for(S=0;S<i;S++)t[j+S]=0;else for(t=new Uint8Array(i*a),_.mask=t,y=0;y<h;y++)for(j=y*i,S=0;S<m;S++)t[j+S]=1}return _}_parseIndex(t){if(t.byteLength%16>0)throw new Error("invalid array buffer must be multiples of 16");let e,r,s,o,i,a;if(_rasterFormats_utils_js__WEBPACK_IMPORTED_MODULE_14__.isPlatformLittleEndian){for(r=new Uint8Array(t),o=new ArrayBuffer(t.byteLength),s=new Uint8Array(o),i=0;i<t.byteLength/4;i++)for(a=0;a<4;a++)s[4*i+a]=r[4*i+3-a];e=new Uint32Array(o)}else e=new Uint32Array(t);return e}_getBandSegmentCount(){return x.get(this.rasterInfo.storageInfo.compression).isOneSegment?1:this.rasterInfo.bandCount}_getTileLocation(t,e,r){const{blockWidth:s,blockHeight:o,pyramidScalingFactor:i}=this.rasterInfo.storageInfo,{width:a,height:n}=this.rasterInfo,l=this._getBandSegmentCount();let f,c,p,m=0,h=0;for(p=0;p<t;p++)h=i**p,f=Math.ceil(a/s/h),c=Math.ceil(n/o/h),m+=f*c;h=i**t,f=Math.ceil(a/s/h),c=Math.ceil(n/o/h),m+=e*f+r,m*=4*l;const u=this._storageIndex.subarray(m,m+4*l);let g=0,d=0;const y=[];for(let x=0;x<l;x++)g=u[4*x]*2**32+u[4*x+1],d=g+u[4*x+2]*2**32+u[4*x+3],y.push({from:g,to:d});return{ranges:y,actualTileWidth:r<f-1?s:Math.ceil(a/h)-s*(f-1),actualTileHeight:e<c-1?o:Math.ceil(n/h)-o*(c-1)}}_parseHeader(t){const r=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/Raster");if(!r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","not a valid MRF format");const s=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(r,"Size"),o=parseInt(s.getAttribute("x"),10),n=parseInt(s.getAttribute("y"),10),f=parseInt(s.getAttribute("c"),10),m=((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(r,"Compression")||"none").toLowerCase();if(!x.has(m))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","currently does not support compression "+m);const h=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(r,"DataType")||"UInt8",w=y.get(h);if(null==w)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","currently does not support pixel type "+h);const I=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(r,"PageSize"),b=parseInt(I.getAttribute("x"),10),A=parseInt(I.getAttribute("y"),10),F=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(r,"DataValues");let _,R;F&&(R=F.getAttribute("NoData"),null!=R&&(_=R.trim().split(" ").map((t=>parseFloat(t)))));if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/CachedSource"))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","currently does not support MRF referencing other data files");const S=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/GeoTags"),j=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(S,"BoundingBox");let k,M=!1;if(null!=j){const t=parseFloat(j.getAttribute("minx")),e=parseFloat(j.getAttribute("miny")),r=parseFloat(j.getAttribute("maxx")),s=parseFloat(j.getAttribute("maxy")),o=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(S,"Projection")||"";let i=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"].WGS84;if("LOCAL_CS[]"!==o)if(o.toLowerCase().startsWith("epsg:")){const t=Number(o.slice(5));isNaN(t)||0===t||(i=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]({wkid:t}))}else i=(0,_pamParser_js__WEBPACK_IMPORTED_MODULE_12__.parseSpatialReference)(o)??_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"].WGS84;else M=!0,i=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]({wkid:3857});k=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"](t,e,r,s),k.spatialReference=i}else M=!0,k=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"]({xmin:-.5,ymin:.5-n,xmax:o-.5,ymax:.5,spatialReference:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]({wkid:3857})});const T=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/Rsets"),C=parseInt(T&&T.getAttribute("scale")||"2",10),U=k.spatialReference,B=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({origin:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"]({x:k.xmin,y:k.ymax,spatialReference:U}),blockWidth:b,blockHeight:A,pyramidBlockWidth:b,pyramidBlockHeight:A,compression:m,pyramidScalingFactor:C}),E=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"]({x:k.width/o,y:k.height/n,spatialReference:U}),L=new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:o,height:n,extent:k,isPseudoSpatialReference:M,spatialReference:U,bandCount:f,pixelType:w,pixelSize:E,noDataValue:_,storageInfo:B}),P=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(t,"datafile"),W=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(t,"IndexFile");return{rasterInfo:L,files:{mrf:this.url,index:W||this.url.replace(".mrf",".idx"),data:P||this.url.replace(".mrf",x.get(m).blobExtension)}}}async _fetchAuxiliaryData(t){try{const{data:e}=await this.request(this.url+".aux.xml",{responseType:"xml",signal:t?.signal});return (0,_pamParser_js__WEBPACK_IMPORTED_MODULE_12__.parsePAMInfo)(e)}catch{return null}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],w.prototype,"_files",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],w.prototype,"_storageIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:String,json:{write:!0}})],w.prototype,"datasetFormat",void 0),w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.rasterIO.MRFRaster")],w);const I=w;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _CloudRaster_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CloudRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js");
/* harmony import */ var _ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ImageAuxRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js");
/* harmony import */ var _ImageServerRaster_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ImageServerRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js");
/* harmony import */ var _MRFRaster_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MRFRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js");
/* harmony import */ var _TIFFRaster_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TIFFRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const c=new Map;c.set("CRF",{desc:"Cloud Raster Format",constructor:_CloudRaster_js__WEBPACK_IMPORTED_MODULE_1__["default"]}),c.set("MRF",{desc:"Meta Raster Format",constructor:_MRFRaster_js__WEBPACK_IMPORTED_MODULE_4__["default"]}),c.set("TIFF",{desc:"GeoTIFF",constructor:_TIFFRaster_js__WEBPACK_IMPORTED_MODULE_5__["default"]}),c.set("RasterTileServer",{desc:"Raster Tile Server",constructor:_ImageServerRaster_js__WEBPACK_IMPORTED_MODULE_3__["default"]}),c.set("JPG",{desc:"JPG Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]}),c.set("PNG",{desc:"PNG Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]}),c.set("GIF",{desc:"GIF Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]}),c.set("BMP",{desc:"BMP Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]});class n{static get supportedFormats(){const t=new Set;return c.forEach(((e,r)=>t.add(r))),t}static async open(e){const{url:r,ioConfig:s,sourceJSON:o}=e;let a=e.datasetFormat;null==a&&r.lastIndexOf(".")&&(a=r.slice(r.lastIndexOf(".")+1).toUpperCase()),"OVR"===a||"TIF"===a?a="TIFF":"JPG"!==a&&"JPEG"!==a&&"JFIF"!==a||(a="JPG"),r.toLowerCase().includes("/imageserver")&&!r.toLowerCase().includes("/wcsserver")&&(a="RasterTileServer");const n={url:r,sourceJSON:o,datasetFormat:a,ioConfig:s??{bandIds:null,sampling:null}};let l,i;if(a&&this.supportedFormats.has(a)){if("CRF"===a&&!s?.enableCRF)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("rasterfactory:open",`cannot open raster: ${r}`);return l=c.get(a).constructor,i=new l(n),await i.open({signal:e.signal}),i}if(a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("rasterfactory:open","not a supported format "+a);const u=Array.from(c.keys());let F=0;const m=()=>(a=u[F++],a&&("CRF"!==a||s?.enableCRF)?(l=c.get(a).constructor,i=new l(n),i.open({signal:e.signal}).then((()=>i)).catch((()=>m()))):null);return m()}static register(t,e,r){c.has(t.toUpperCase())||c.set(t.toUpperCase(),{desc:e,constructor:r})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "decreaseRefCount": () => (/* binding */ s),
/* harmony export */   "deleteBlock": () => (/* binding */ h),
/* harmony export */   "deleteRaster": () => (/* binding */ f),
/* harmony export */   "getBlock": () => (/* binding */ m),
/* harmony export */   "getRasterId": () => (/* binding */ i),
/* harmony export */   "putBlock": () => (/* binding */ x),
/* harmony export */   "register": () => (/* binding */ u),
/* harmony export */   "unregister": () => (/* binding */ a),
/* harmony export */   "update": () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _EphemeralBlockCache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EphemeralBlockCache.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js");
/* harmony import */ var _rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r=new Map,c=new _EphemeralBlockCache_js__WEBPACK_IMPORTED_MODULE_1__["default"];function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function u(e,t){const n={extent:null,rasterInfo:t,cache:new Map},o=r.get(e);return o?(o.push(n),o.length-1):(r.set(e,[n]),0)}function a(e,t){const n=r.get(e);n&&(n[t]=null,n.some((e=>null!=e))||r.delete(e))}function f(e){r.delete(e)}function s(e,t,n){const o=r.get(e);if(!o)return null==t?c.decreaseRefCount(e,n):0;if(null==t||null==o[t])return c.decreaseRefCount(e,n);const l=o[t]?.cache,i=l?.get(n);if(l&&i){if(i.refCount--,0===i.refCount){l.delete(n);for(let e=0;e<o.length;e++)o[e]?.cache.delete(n);i.controller&&i.controller.abort()}return i.refCount}return 0}function m(e,t,n){const o=r.get(e);if(!o)return null==t?c.getBlock(e,n):null;if(null==t||null==o[t]){for(let e=0;e<o.length;e++){const t=o[e]?.cache.get(n);if(t)return t.refCount++,t.block}return c.getBlock(e,n)}const l=o[t]?.cache.get(n);if(l)return l.refCount++,l.block;for(let r=0;r<o.length;r++){if(r===t||!o[r])continue;const e=o[r]?.cache,l=e?.get(n);if(e&&l)return l.refCount++,e.set(n,l),l.block}return null}function x(e,t,n,o,l=null){const i=r.get(e);if(!i)return void(null==t&&c.putBlock(e,n,o,l));if(null==t||null==i[t])return void c.putBlock(e,n,o,l);const u={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:l};o.then((()=>u.isResolved=!0)).catch((()=>u.isRejected=!0)),i[t]?.cache.set(n,u)}function h(e,t,n){const o=r.get(e);o?null!=t&&null!=o[t]?o[t]?.cache.delete(n):c.deleteBlock(e,n):null==t&&c.deleteBlock(e,n)}function d(e,t){const n=r.get(e);return n?n[t]??null:null}function g(e,r,c,i,u,a,f=null){const s=d(e,r);if(!s)return;const m=s.extent,{cache:x,rasterInfo:h}=s;if(m&&m.xmin===c.xmin&&m.xmax===c.xmax&&m.ymin===c.ymin&&m.ymax===c.ymax)return;i=i??0;const g=c.clone().normalize(),{spatialReference:y,transform:p}=h,k=new Set;for(let d=0;d<g.length;d++){const e=g[d];if(e.xmax-e.xmin<=i||e.ymax-e.ymin<=i)continue;let r=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__.projectExtent)(e,y,f);null!=p&&(r=p.inverseTransform(r));const c=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_3__["default"]({x:i,y:i,spatialReference:e.spatialReference});if(null==u&&!(u=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__.projectResolution)(c,y,e,f)))return;const{pyramidLevel:s,pyramidResolution:m,excessiveReading:x}=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__.snapPyramid)(u,h,a||"closest");if(x)return;const{storageInfo:M}=h,{origin:R}=M,C={x:Math.max(0,Math.floor((r.xmin-R.x)/m.x)),y:Math.max(0,Math.floor((R.y-r.ymax)/m.y))},B=Math.ceil((r.xmax-r.xmin)/m.x-.1),j=Math.ceil((r.ymax-r.ymin)/m.y-.1),v=s>0?M.pyramidBlockWidth:M.blockWidth,b=s>0?M.pyramidBlockHeight:M.blockHeight,w=1,$=Math.max(0,Math.floor(C.x/v)-w),I=Math.max(0,Math.floor(C.y/b)-w),H=Math.floor((C.x+B-1)/v)+w,E=Math.floor((C.y+j-1)/b)+w;for(let t=I;t<=E;t++)for(let e=$;e<=H;e++)k.add(`${s}/${t}/${e}`)}x.forEach(((e,t)=>{if(!k.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),s.extent={xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _DBFParser_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./DBFParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js");
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pamParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js");
/* harmony import */ var _rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../rasterFormats/TiffDecoder.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/TiffDecoder.js");
/* harmony import */ var _rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterFormats/TiffTags.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/TiffTags.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const F=(e,t)=>e.get(t)?.values,E=(e,t)=>e.get(t)?.values?.[0];let S=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__["default"]{constructor(){super(...arguments),this._files=null,this._headerInfo=null,this._bufferSize=1048576,this.datasetFormat="TIFF"}async open(e){await this.init();const t=e?e.signal:null,{data:i}=await this.request(this.url,{range:{from:0,to:this._bufferSize},responseType:"array-buffer",signal:t});if(!i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","failed to open url "+this.url);this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1,this.url.lastIndexOf("."));const{littleEndian:s,firstIFDPos:a,isBigTiff:n}=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.parseSignature)(i),o=[];await this._readIFDs(o,i,s,a,0,n?8:4,t);const{imageInfo:f,rasterInfo:l}=this._parseIFDs(o),u=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.getPyramidIFDs)(o),m=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.getMaskIFDs)(o);if(this._headerInfo={littleEndian:s,isBigTiff:n,ifds:o,pyramidIFDs:u,maskIFDs:m,...f},this._set("rasterInfo",l),!f.isSupported)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","this tiff is not supported: "+f.message);if(!f.tileWidth)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","none-tiled tiff is not optimized for access, convert to COG and retry.");const d=o[0].get("PREDICTOR")?.values?.[0],y=o[0].get("SAMPLEFORMAT")?.values?.[0];if(3===y&&2===d)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","unsupported horizontal difference encoding. Predictor=3 is supported for floatting point data");const{skipExtensions:g=[]}=this.ioConfig;if(!g.includes("aux.xml")){const t=await this._fetchAuxiliaryMetaData(e);null!=t&&this._processPAMInfo(t,l)}g.includes("vat.dbf")||1!==l.bandCount||"u8"!==l.pixelType||(l.attributeTable=await this._fetchAuxiliaryTable(e),null!=l.attributeTable&&(l.keyProperties.DataType="thematic")),this.updateTileInfo()}async fetchRawTile(e,t,r,i={}){if(!this._headerInfo?.isSupported||this.isBlockOutside(e,t,r))return null;const s=await this._fetchRawTiffTile(e,t,r,!1,i);if(null!=s&&this._headerInfo.hasMaskBand){const a=await this._fetchRawTiffTile(e,t,r,!0,i);null!=a&&a.pixels[0]instanceof Uint8Array&&(s.mask=a.pixels[0])}return s}_parseIFDs(e){const t=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.getImageInfo)(e),{width:r,height:i,tileWidth:s,tileHeight:o,planes:f,pixelType:u,compression:c,firstPyramidLevel:p,maximumPyramidLevel:h,pyramidBlockWidth:d,pyramidBlockHeight:y,tileBoundary:g,affine:T,metadata:x}=t,w=t.extent.spatialReference?.wkt||t.extent.spatialReference?.wkid;let S=(0,_pamParser_js__WEBPACK_IMPORTED_MODULE_12__.parseSpatialReference)(w),v=!!t.isPseudoGeographic;null==S&&(v=!0,S=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_18__["default"]({wkid:3857}));const D=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__["default"]({...t.extent,spatialReference:S}),P=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__["default"](D?{x:D.xmin,y:D.ymax,spatialReference:S}:{x:0,y:0}),k=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({blockWidth:s,blockHeight:o,pyramidBlockWidth:d,pyramidBlockHeight:y,compression:c,origin:P,firstPyramidLevel:p,maximumPyramidLevel:h,blockBoundary:g}),O=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__["default"]({x:(D.xmax-D.xmin)/r,y:(D.ymax-D.ymin)/i,spatialReference:S}),j=x?{BandProperties:x.bandProperties,DataType:x.dataType}:{};let B=null;const L=E(e[0],"PHOTOMETRICINTERPRETATION"),A=F(e[0],"COLORMAP");if(L<=3&&A?.length>3&&A.length%3==0){B=[];const e=A.length/3;for(let t=0;t<e;t++)B.push([t,A[t]>>>8,A[t+e]>>>8,A[t+2*e]>>>8])}const z=new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_8__["default"]({width:r,height:i,bandCount:f,pixelType:u,pixelSize:O,storageInfo:k,spatialReference:S,isPseudoSpatialReference:v,keyProperties:j,extent:D,colormap:B,statistics:x?x.statistics:null});return T?.length&&(z.nativeExtent=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__["default"]({xmin:-.5,ymin:.5-i,xmax:r-.5,ymax:.5,spatialReference:S}),z.transform=new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_16__["default"]({polynomialOrder:1,forwardCoefficients:[T[2]+T[0]/2,T[5]-T[3]/2,T[0],T[3],-T[1],-T[4]]}),z.extent=z.transform.forwardTransform(z.nativeExtent),z.pixelSize=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__["default"]({x:(D.xmax-D.xmin)/r,y:(D.ymax-D.ymin)/i,spatialReference:S}),k.origin.x=-.5,k.origin.y=.5),{imageInfo:t,rasterInfo:z}}_processPAMInfo(e,t){if(t.statistics=e.statistics??t.statistics,t.histograms=e.histograms,e.histograms&&null==t.statistics&&(t.statistics=(0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_15__.estimateStatisticsFromHistograms)(e.histograms)),e.transform&&null==t.transform){t.transform=e.transform,t.nativeExtent=t.extent;const r=t.transform.forwardTransform(t.nativeExtent);t.pixelSize=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__["default"]({x:(r.xmax-r.xmin)/t.width,y:(r.ymax-r.ymin)/t.height,spatialReference:t.spatialReference}),t.extent=r}t.isPseudoSpatialReference&&e.spatialReference&&(t.spatialReference=e.spatialReference,t.extent.spatialReference=t.nativeExtent.spatialReference=t.storageInfo.origin.spatialReference=t.spatialReference)}async _readIFDs(e,t,r,i,s,a=4,n){if(!i)return null;if(i>=t.byteLength||i<0){t=(await this.request(this.url,{range:{from:i+s,to:i+s+this._bufferSize},responseType:"array-buffer",signal:n})).data,s=i+s,i=0}const o=await this._readIFD(t,r,i,s,_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_14__["default"].TIFF_TAGS,a,n);if(e.push(o.ifd),!o.nextIFD)return null;await this._readIFDs(e,t,r,o.nextIFD-s,s,a,n)}async _readIFD(e,r,i,s,a=_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_14__["default"].TIFF_TAGS,n=4,o){if(!e)return null;const f=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.parseIFD)(e,r,i,s,a,n);if(f.success){const i=[];if(f.ifd?.forEach((e=>{e.values||i.push(e)})),i.length>0){const a=i.map((e=>e.offlineOffsetSize)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome),n=Math.min.apply(null,a.map((e=>e[0])));if(Math.min.apply(null,a.map((e=>e[0]+e[1])))-n<=this._bufferSize){const{data:t}=await this.request(this.url,{range:{from:n,to:n+this._bufferSize},responseType:"array-buffer",signal:o});e=t,s=n,i.forEach((t=>(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.parseFieldValues)(e,r,t,s)))}}if(f.ifd?.has("GEOKEYDIRECTORY")){const t=f.ifd.get("GEOKEYDIRECTORY"),i=t?.values;if(i&&i.length>4){const a=i[0]+"."+i[1]+"."+i[2],n=await this._readIFD(e,r,t.valueOffset+6-s,s,_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_14__["default"].GEO_KEYS,2,o);t.data=n.ifd,t.data&&t.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}return f}if(f.requiredBufferSize&&f.requiredBufferSize!==e.byteLength){const t=await this.request(this.url,{range:{from:s,to:s+f.requiredBufferSize+4},responseType:"array-buffer",signal:o});return(e=t.data).byteLength<f.requiredBufferSize?null:this._readIFD(e,r,0,s,_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_14__["default"].TIFF_TAGS,4,o)}}async _fetchRawTiffTile(e,t,r,i,s={}){const a=this._getTileLocation(e,t,r,i);if(!a)return null;const{ranges:n,actualTileWidth:o,actualTileHeight:f,ifd:l}=a,u=n.map((e=>this.request(this.url,{range:e,responseType:"array-buffer",signal:s.signal}))),c=await Promise.all(u),p=c.map((e=>e.data.byteLength)).reduce(((e,t)=>e+t)),h=1===c.length?c[0].data:new ArrayBuffer(p),m=[0],d=[0];if(c.length>1){const e=new Uint8Array(h);for(let t=0,r=0;t<c.length;t++){const i=c[t].data;e.set(new Uint8Array(i),r),m[t]=r,r+=i.byteLength,d[t]=i.byteLength}}const{blockWidth:y,blockHeight:g}=this.getBlockWidthHeight(e),T=await this.decodePixelBlock(h,{format:"tiff",customOptions:{headerInfo:this._headerInfo,ifd:l,offsets:m,sizes:d},width:y,height:g,planes:null,pixelType:null});if(null==T)return null;let x,I,w;if(o!==y||f!==g){let e=T.mask;if(e)for(x=0;x<g;x++)if(w=x*y,x<f)for(I=o;I<y;I++)e[w+I]=0;else for(I=0;I<y;I++)e[w+I]=0;else for(e=new Uint8Array(y*g),T.mask=e,x=0;x<f;x++)for(w=x*y,I=0;I<o;I++)e[w+I]=1}return T}_getTileLocation(e,t,r,i=!1){const{firstPyramidLevel:s,blockBoundary:a}=this.rasterInfo.storageInfo,n=0===e?0:e-(s-1),{_headerInfo:o}=this;if(!o)return null;const f=i?o.maskIFDs[n]:0===n?o?.ifds[0]:o?.pyramidIFDs[n-1];if(!f)return null;const l=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.isBSQConfig)(f,o),u=F(f,"TILEOFFSETS");if(void 0===u)return null;const c=F(f,"TILEBYTECOUNTS"),{minRow:p,minCol:h,maxRow:m,maxCol:d}=a[n];if(t>m||r>d||t<p||r<h)return null;const y=E(f,"IMAGEWIDTH"),T=E(f,"IMAGELENGTH"),x=E(f,"TILEWIDTH"),I=E(f,"TILELENGTH"),w=[];if(l){const{bandCount:e}=this.rasterInfo;for(let i=0;i<e;i++){const e=i*(m+1)*(d+1)+t*(d+1)+r;w[i]={from:u[e],to:u[e]+c[e]-1}}}else{const e=t*(d+1)+r;w.push({from:u[e],to:u[e]+c[e]-1})}for(let g=0;g<w.length;g++)if(null==w[g].from||!w[g].to)return null;return{ranges:w,ifd:f,actualTileWidth:r===d&&y%x||x,actualTileHeight:t===m&&T%I||I}}async _fetchAuxiliaryMetaData(e){try{const{data:t}=await this.request(this.url+".aux.xml",{responseType:"xml",signal:e?.signal});return (0,_pamParser_js__WEBPACK_IMPORTED_MODULE_12__.parsePAMInfo)(t)}catch{return null}}async _fetchAuxiliaryTable(e){try{const{data:t}=await this.request(this.url+".vat.dbf",{responseType:"array-buffer",signal:e?.signal}),r=_DBFParser_js__WEBPACK_IMPORTED_MODULE_11__["default"].parse(t);return r?.recordSet?_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_17__["default"].fromJSON(r.recordSet):null}catch{return null}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],S.prototype,"_files",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],S.prototype,"_headerInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],S.prototype,"_bufferSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:!0}})],S.prototype,"datasetFormat",void 0),S=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.rasterDatasets.TIFFRaster")],S);const v=S;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "parsePAMInfo": () => (/* binding */ p),
/* harmony export */   "parseSpatialReference": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./xmlUtilities.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js");
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function f(e,t){if(!e||!t)return null;const n=[];for(let r=0;r<e.length;r++)n.push(e[r]),n.push(t[r]);return n}function u(e){const t=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElement)(e,"GeodataXform"),r=m((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(t,"SpatialReference/WKID")||(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementValue)(t,"SpatialReference/WKT"));if("typens:PolynomialXform"!==t.getAttribute("xsi:type"))return{spatialReference:r,transform:null};const o=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(t,"PolynomialOrder")??1,u=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValues)(t,"CoeffX/Double"),c=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValues)(t,"CoeffY/Double"),d=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValues)(t,"InverseCoeffX/Double"),p=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValues)(t,"InverseCoeffY/Double"),S=f(u,c),C=f(d,p);return{spatialReference:r,transform:S&&C&&S.length&&C.length?new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_3__["default"]({spatialReference:r,polynomialOrder:o,forwardCoefficients:S,inverseCoefficients:C}):null}}function c(e){const t=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(e,"NoDataValue"),i=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElement)(e,"Histograms/HistItem"),l=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(i,"HistMin"),o=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(i,"HistMax"),f=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(i,"BucketCount"),u=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementValue)(i,"HistCounts")?.split("|").map((e=>Number(e)));let c,m,d,p;(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElements)(e,"Metadata/MDI").forEach((e=>{const t=Number(e.textContent??e.nodeValue);switch(e.getAttribute("key").toUpperCase()){case"STATISTICS_MINIMUM":c=t;break;case"STATISTICS_MAXIMUM":m=t;break;case"STATISTICS_MEAN":d=t;break;case"STATISTICS_STDDEV":p=t}}));const S=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(e,"Metadata/SourceBandIndex");return{noDataValue:t,histogram:u?.length&&null!=l&&null!=o?{min:l,max:o,size:f||u.length,counts:u}:null,sourceBandIndex:S,statistics:null!=c&&null!=m?{min:c,max:m,avg:d,stddev:p}:null}}function m(e){if(!e)return null;let t=Number(e);if(!isNaN(t)&&0!==t)return new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"]({wkid:t});if((e=String(e)).startsWith("COMPD_CS")){if(!e.includes("VERTCS")||!e.includes("GEOGCS")&&!e.startsWith("PROJCS"))return null;const n=e.indexOf("VERTCS"),r=e.indexOf("PROJCS"),s=r>-1?r:e.indexOf("GEOGCS");if(-1===s)return null;const a=e.slice(s,e.lastIndexOf("]",n)+1).trim(),i=e.slice(n,e.lastIndexOf("]")).trim();t=d(a);const l=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"](t?{wkid:t}:{wkt:a}),f=d(i);return f&&(l.vcsWkid=f),l}return e.startsWith("GEOGCS")||e.startsWith("PROJCS")?(t=d(e),new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"](0!==t?{wkid:t}:{wkt:e})):null}function d(e){const t=e.replaceAll("]","[").replaceAll('"',"").split("[").map((e=>e.trim())).filter((e=>""!==e)),n=t[t.length-1].split(","),r=n[0]?.toLowerCase();if(("epsg"===r||"esri"===r)&&e.endsWith('"]]')){const e=Number(n[1]);if(!isNaN(e)&&0!==e)return e}return 0}function p(s){if("pamdataset"!==s?.documentElement.tagName?.toLowerCase())return{};const a={spatialReference:null,transform:null,metadata:{},rasterBands:[],statistics:null,histograms:null};s.documentElement.childNodes.forEach((e=>{if(1===e.nodeType)if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.isSameTagIgnoreNS)(e,"SRS")){if(!a.spatialReference){const t=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementValue)(e);a.spatialReference=m(t)}}else if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.isSameTagIgnoreNS)(e,"Metadata"))if("xml:ESRI"===e.getAttribute("domain")){const{spatialReference:t,transform:n}=u(e);a.transform=n,a.spatialReference||(a.spatialReference=t)}else{(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElements)(e,"MDI").forEach((e=>a.metadata[e.getAttribute("key")]=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementValue)(e)))}else if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.isSameTagIgnoreNS)(e,"PAMRasterBand")){const t=c(e);null!=t.sourceBandIndex&&null==a.rasterBands[t.sourceBandIndex]?a.rasterBands[t.sourceBandIndex]=t:a.rasterBands.push(t)}}));const i=a.rasterBands;if(i.length){const t=!!i[0].statistics;a.statistics=t?i.map((e=>e.statistics)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome):null;const n=!!i[0].histogram;a.histograms=n?i.map((e=>e.histogram)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome):null}return a}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getElement": () => (/* binding */ e),
/* harmony export */   "getElementNumericValue": () => (/* binding */ o),
/* harmony export */   "getElementNumericValues": () => (/* binding */ u),
/* harmony export */   "getElementValue": () => (/* binding */ t),
/* harmony export */   "getElementValues": () => (/* binding */ l),
/* harmony export */   "getElements": () => (/* binding */ n),
/* harmony export */   "getNodeNameIgnoreNS": () => (/* binding */ c),
/* harmony export */   "getSpaceDelimitedNumericValues": () => (/* binding */ r),
/* harmony export */   "isSameTagIgnoreNS": () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(e,t){if(!e||!t)return[];let l=t;t.includes("/")?(l=t.slice(0,t.indexOf("/")),t=t.slice(t.indexOf("/")+1)):t="";const r=[];if(t){const u=n(e,l);for(let e=0;e<u.length;e++){n(u[e],t).forEach((n=>r.push(n)))}return r}const u=e.getElementsByTagNameNS("*",l);if(!u||0===u.length)return[];for(let n=0;n<u.length;n++)r.push(u[n]||u.item(n));return r}function e(t,l){if(!t||!l)return null;let r=l;l.includes("/")?(r=l.slice(0,l.indexOf("/")),l=l.slice(l.indexOf("/")+1)):l="";const u=n(t,r);return u.length>0?l?e(u[0],l):u[0]:null}function t(n,t=null){const l=t?e(n,t):n;let r;return l?(r=l.textContent||l.nodeValue,r?r.trim():null):null}function l(e,t){const l=n(e,t),r=[];let u;for(let n=0;n<l.length;n++)u=l[n].textContent||l[n].nodeValue,u&&(u=u.trim(),""!==u&&r.push(u));return r}function r(n,e=null){const l=t(n,e);return l?.split(" ").map((n=>Number(n)))??[]}function u(n,e){return l(n,e).map((n=>Number(n)))}function o(n,e){const l=t(n,e);return Number(l)}function i(n,e){const t=n?.nodeName?.toLowerCase(),l=e.toLowerCase();return t.slice(t.lastIndexOf(":")+1)===l}function c(n){return n.nodeName.slice(n.nodeName.lastIndexOf(":")+1)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "clip": () => (/* binding */ a),
/* harmony export */   "snapToRaster": () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../PixelBlock.js */ "./node_modules/@arcgis/core/layers/support/PixelBlock.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(e,i){if(e.spatialReference.equals(i))return e;const n=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(e.spatialReference),a=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(i);if(n===a)return e;const h=n/a;return{x:e.x*h,y:e.y*h}}async function a(t,e,n){if("extent"===n.type)return o(t,e,n);const{width:a,height:x}=t,l=new Uint8Array(a*x),{contains:m,intersects:s}=await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_geometryEngineBase_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_geometryEngine_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/geometryEngine.js */ "./node_modules/@arcgis/core/geometry/geometryEngine.js"));return s(e,n)?"polyline"===n.type?r(t,e,n):m(n,e)?t:h(t,e,n):new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:x,mask:l,maskIsAlpha:!1,pixels:[...t.pixels]})}function h(t,e,n){if(!t)return t;const{width:a,height:h}=t,o=e.width/a,r=e.height/h,{xmin:x,ymax:l}=e;let m;if("extent"===n.type){const t=(n.xmin-x)/o,e=(n.xmax-x)/o,i=(l-n.ymax)/r,a=(l-n.ymin)/r;m=[[[t,i],[t,a],[e,a],[e,i],[t,i]]]}else m=n.rings.map((t=>t.map((([t,e])=>[(t-x)/o,(l-e)/r]))));const s=document.createElement("canvas");s.width=a,s.height=h;const p=s.getContext("2d");p.fillStyle="#f00",m.forEach((t=>{p.beginPath(),p.moveTo(t[0][0],t[0][1]);for(let e=0;e<t.length;e++)p.lineTo(t[e][0],t[e][1]);p.closePath(),p.fill()}));const f=p.getImageData(0,0,a,h).data,y=t.mask,c=a*h,M=new Uint8Array(c);for(let i=0;i<c;i++)y&&!y[i]||(M[i]=f[4*i+3]>127?255:0);return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:M,maskIsAlpha:!1,pixels:[...t.pixels]})}function o(t,e,n){const{width:a,height:h}=t,o=new Uint8Array(a*h),r=e.width/a,x=e.height/h;if(n.width/r<.5||n.height/x<.5)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]});const{xmin:l,xmax:m,ymin:s,ymax:p}=e,{xmin:f,xmax:y,ymin:c,ymax:M}=n,u=Math.max(l,f),w=Math.min(m,y),d=Math.max(s,c),g=Math.min(p,M),T=.5*r,k=.5*x;if(w-u<T||g-d<k||w<l+T||u>m-T||d>p-k||g<s+k)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]});const A=Math.max(0,(u-l)/r),R=Math.min(a,Math.max(0,(w-l)/r)),U=Math.max(0,(p-g)/x),j=Math.min(h,Math.max(0,(p-d)/x)),E=Math.round(A),I=Math.round(R)-1,P=Math.round(U),v=Math.round(j)-1;if(E===I&&A%1>.5&&R%1<.5||P===v&&U%1>.5&&j%1<.5)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]});if(0===E&&0===P&&I===a&&v===h)return t;const b=t.mask;for(let i=P;i<=v;i++)for(let t=E;t<=I;t++){const e=i*a+t;o[e]=b?b[e]:255}return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]})}function r(t,e,n){const{width:a,height:h}=t,o=new Uint8Array(a*h),r=e.width/a,x=e.height/h,{xmin:l,ymax:m}=e,{paths:s}=n,p=t.mask;for(let i=0;i<s.length;i++){const t=s[i];for(let e=0;e<t.length-1;e++){const[i,n]=t[e],[s,f]=t[e+1];let y=Math.floor((m-n)/x),c=Math.floor((m-f)/x);if(c<y){const t=y;y=c,c=t}y=Math.max(0,y),c=Math.min(h-1,c);const M=(s-i)/(f-n);for(let t=y;t<=c;t++){const e=t===y?Math.max(n,f):(h+1-t)*x,m=t===c?Math.min(n,f):e-x;let u=f===n?Math.floor((i-l)/r):Math.floor((M*(e-n)+i-l)/r),w=f===n?Math.floor((s-l)/r):Math.floor((M*(m-n)+i-l)/r);if(w<u){const t=u;u=w,w=t}const d=t*a;u=Math.max(0,u),w=Math.min(a-1,w);for(let t=d+u;t<=d+w;t++)o[t]=p?p[t]:255}}}return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]})}function x(t,i,a,h=!0){const{spatialReference:o}=t,{x:r,y:x}=n(a,o);let l,m,s;const p="extent"===i.type?i:i.extent;let{xmin:f,xmax:y,ymax:c,ymin:M}=p;const{xmin:u,ymax:w}=t.extent;return h?(f=u+(f>u?r*Math.round((f-u)/r):0),c=w-(c<w?x*Math.round((w-c)/x):0),y=u+(y>u?r*Math.round((y-u)/r):0),M=w-(M<w?x*Math.round((w-M)/x):0),l=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__["default"]({xmin:f,ymax:c,xmax:y,ymin:M,spatialReference:o}),m=Math.round(l.width/r),s=Math.round(l.height/x)):(m=Math.floor((y-f)/r+.8),s=Math.floor((c-M)/x+.8),f=u+(f>u?r*Math.floor((f-u)/r+.1):0),c=w-(c<w?x*Math.floor((w-c)/x+.1):0),y=f+m*r,M=c-s*x,l=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__["default"]({xmin:f,ymax:c,xmax:y,ymin:M,spatialReference:o})),{extent:l,width:m,height:s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/geometryService/cut.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/geometryService/cut.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "cut": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/rest/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function o(o,i,n,m){const a=(0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.parseUrl)(o),p=i[0].spatialReference,u={...m,query:{...a.query,f:"json",sr:JSON.stringify(p),target:JSON.stringify({geometryType:(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.getJsonType)(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(a.path+"/cut",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.fromJSON)(e);return t.spatialReference=p,t}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/geometryService/simplify.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/geometryService/simplify.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "simplify": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/rest/geometryService/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function o(o,m,f){const n="string"==typeof o?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__.urlToObject)(o):o,p=m[0].spatialReference,a=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.getJsonType)(m[0]),u={...f,query:{...n.query,f:"json",sr:p.wkid??JSON.stringify(p),geometries:JSON.stringify((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.encodeGeometries)(m))}},{data:y}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(n.path+"/simplify",u);return (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.decodeGeometries)(y.geometries,a,p)}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/geometryService/utils.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/geometryService/utils.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "decodeGeometries": () => (/* binding */ o),
/* harmony export */   "encodeGeometries": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r(t){return{geometryType:(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.getJsonType)(t[0]),geometries:t.map((e=>e.toJSON()))}}function o(e,r,o){const n=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.getGeometryType)(r);return e.map((e=>{const t=n.fromJSON(e);return t.spatialReference=o,t}))}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/utils.js":
/*!*************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/utils.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "asValidOptions": () => (/* binding */ i),
/* harmony export */   "encode": () => (/* binding */ s),
/* harmony export */   "getToken": () => (/* binding */ l),
/* harmony export */   "parseUrl": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _kernel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../kernel.js */ "./node_modules/@arcgis/core/kernel.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _support_apiKeyUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../support/apiKeyUtils.js */ "./node_modules/@arcgis/core/support/apiKeyUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i(r,t){return t?{...t,query:{...r??{},...t.query}}:{query:r}}function f(r){return"string"==typeof r?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.urlToObject)(r):(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(r)}function s(r,t,o){const e={};for(const n in r){if("declaredClass"===n)continue;const i=r[n];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){e[n]=[];for(let r=0;r<i.length;r++)e[n][r]=s(i[r])}else if("object"==typeof i)if(i.toJSON){const r=i.toJSON(o&&o[n]);e[n]=t?r:JSON.stringify(r)}else e[n]=t?i:JSON.stringify(i);else e[n]=i}return e}function l(o,e){return o?(0,_support_apiKeyUtils_js__WEBPACK_IMPORTED_MODULE_4__.supportsApiKey)(o)&&(e||_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].apiKey)?e||_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].apiKey:_kernel_js__WEBPACK_IMPORTED_MODULE_1__.id?.findCredential(o)?.token:null}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvNDk4MTdhNmJkMjkwYzI4ZmRlNDFkNjhkYzY3NTY0Y2MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNzaUIsUUFBUSxpRUFBVyx5Q0FBeUMsY0FBYyx5QkFBeUIsY0FBYyw0QkFBNEIsY0FBYyw2QkFBNkIsY0FBYyxXQUFXLFlBQVksWUFBWSxXQUFXLEtBQUssYUFBYSxXQUFXLFlBQVksV0FBVyxnRkFBZ0YsdUJBQXVCLFNBQVMsZ0JBQWdCLGtCQUFrQixvREFBQyxlQUFlLG1EQUFDLEdBQUcsa0ZBQWtGLHFCQUFxQixzREFBQyxJQUFJLFFBQVEsMEVBQUMsU0FBUyxrQkFBa0IsV0FBVyxvQ0FBb0MsWUFBWSxhQUFhLEtBQUssaUhBQWlILFFBQVEsWUFBWSxPQUFPLEtBQUssNEJBQTRCLGNBQWMsZ0RBQWdELGNBQWMsZUFBZSxnQkFBZ0IsbURBQUMsRUFBRSw0Q0FBNEMsTUFBTSxvREFBQyxFQUFFLDRDQUE0QyxFQUFFLGtCQUFrQixNQUFNLGlCQUFpQixFQUFFLDZFQUFDLE9BQU8sYUFBYSw0RUFBQyxTQUFTLGtCQUFrQixxQkFBcUIsYUFBYSxRQUFRLFFBQVEseUVBQUMsTUFBTSxnQkFBZ0IsYUFBYSxRQUFRLHlFQUFDLE1BQU0saUJBQWlCLEtBQUssWUFBWSxRQUFRLFFBQVEseUVBQUMsTUFBTSwrQkFBK0IsYUFBYSxRQUFRLHlFQUFDLE1BQU0sZ0NBQWdDLFNBQVMsZ0JBQWdCLFNBQVMsWUFBWSxzQkFBc0IsS0FBSyw0Q0FBNEMsMEVBQUMsSUFBSSxZQUFZLFdBQVcsS0FBSyxhQUFhLFlBQVksc0JBQXNCLFFBQVEsWUFBWSxXQUFXLEtBQUssZ0JBQWdCLFVBQVUsdUJBQXVCLGFBQWEseUVBQUMsUUFBUSxZQUFZLFdBQVcsS0FBSyx3QkFBd0Isc0NBQXNDLFVBQVUsR0FBRyxVQUFVLHVCQUF1QiwwRUFBQyx5QkFBeUIsNEJBQTRCLDBFQUFDLHlCQUF5QixnQkFB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K0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKNXdIO0FBQ0E7QUFDQTtBQUNBO0FBQ2lMLDBCQUEwQixRQUFRLG1EQUFDLCtCQUErQixZQUFZLGdFQUFnRSxhQUFhLDJFQUFDLG9CQUFvQiw0QkFBNEIsU0FBUyx1REFBQyxtQkFBbUIsNkJBQTZCLFFBQVEsT0FBTyxtQ0FBbUMsUUFBUSx3RUFBQyxJQUFJLDhCQUE4QixJQUFxQjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p6aUI7QUFDQTtBQUNBO0FBQ0E7QUFDMk4sd0JBQXdCLDJCQUEyQiw4REFBQyxnQ0FBZ0MsMkVBQUMsVUFBVSxZQUFZLDJFQUEyRSwyREFBQyxNQUFNLEVBQUUsT0FBTyxPQUFPLHVEQUFDLHVCQUF1QixPQUFPLDJEQUFDLG1CQUF5Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKamY7QUFDQTtBQUNBO0FBQ0E7QUFDdUYsY0FBYyxPQUFPLGFBQWEsMkVBQUMsMENBQTBDLGtCQUFrQixRQUFRLCtFQUFDLElBQUksa0JBQWtCLHNCQUFzQiw4QkFBOEIsR0FBdUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmhVO0FBQ0E7QUFDQTtBQUNBO0FBQ21OLGdCQUFnQixVQUFVLFlBQVksUUFBUSxhQUFhLEVBQUUsU0FBUyxjQUFjLHlCQUF5Qiw4REFBQyxJQUFJLG9EQUFDLElBQUksa0JBQWtCLFdBQVcsa0JBQWtCLGdDQUFnQyxhQUFhLHNEQUFzRCxRQUFRLFlBQVksV0FBVyxvQkFBb0Isd0NBQXdDLDBCQUEwQiwyQkFBMkIsZ0NBQWdDLFlBQVksU0FBUyxnQkFBZ0IsU0FBUyx1RUFBQyxTQUFTLHlEQUFRLEtBQUsseURBQVEsQ0FBQywwQ0FBQyxnQ0FBb0ciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L25vcm1hbGl6ZVV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvbm9ybWFsaXplVXRpbHNDb21tb24uanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL0ltYWdlcnlUaWxlTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL21peGlucy9JbWFnZXJ5VGlsZU1peGluLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL0Jhc2VSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvQ2xvdWRSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvREJGUGFyc2VyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL0VwaGVtZXJhbEJsb2NrQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvRnVuY3Rpb25SYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvSW1hZ2VBdXhSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvSW1hZ2VTZXJ2ZXJSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvSW5NZW1vcnlSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvTVJGUmFzdGVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL1Jhc3RlckZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvUmF3QmxvY2tDYWNoZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy9USUZGUmFzdGVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL3BhbVBhcnNlci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy94bWxVdGlsaXRpZXMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL2NsaXBVdGlscy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9yZXN0L2dlb21ldHJ5U2VydmljZS9jdXQuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVzdC9nZW9tZXRyeVNlcnZpY2Uvc2ltcGxpZnkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVzdC9nZW9tZXRyeVNlcnZpY2UvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVzdC91dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vY29uZmlnLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vUG9seWdvbi5qc1wiO2ltcG9ydCBzIGZyb21cIi4uL1BvbHlsaW5lLmpzXCI7aW1wb3J0e2dldEdlb21ldHJ5UGFydHMgYXMgcixjdXRQYXJhbXMgYXMgaSxvZmZzZXRNYWduaXR1ZGUgYXMgbCx1cGRhdGVQb2x5R2VvbWV0cnkgYXMgZn1mcm9tXCIuL25vcm1hbGl6ZVV0aWxzQ29tbW9uLmpzXCI7aW1wb3J0e2dldEluZm8gYXMgY31mcm9tXCIuL3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtnZW9ncmFwaGljVG9XZWJNZXJjYXRvciBhcyBwLHdlYk1lcmNhdG9yVG9HZW9ncmFwaGljIGFzIHV9ZnJvbVwiLi93ZWJNZXJjYXRvclV0aWxzLmpzXCI7aW1wb3J0e2N1dCBhcyBhfWZyb21cIi4uLy4uL3Jlc3QvZ2VvbWV0cnlTZXJ2aWNlL2N1dC5qc1wiO2ltcG9ydHtzaW1wbGlmeSBhcyBofWZyb21cIi4uLy4uL3Jlc3QvZ2VvbWV0cnlTZXJ2aWNlL3NpbXBsaWZ5LmpzXCI7Y29uc3QgbT1uLmdldExvZ2dlcihcImVzcmkuZ2VvbWV0cnkuc3VwcG9ydC5ub3JtYWxpemVVdGlsc1wiKTtmdW5jdGlvbiBnKGUpe3JldHVyblwicG9seWdvblwiPT09ZS50eXBlfWZ1bmN0aW9uIHkoZSl7cmV0dXJuXCJwb2x5Z29uXCI9PT1lWzBdLnR5cGV9ZnVuY3Rpb24geChlKXtyZXR1cm5cInBvbHlsaW5lXCI9PT1lWzBdLnR5cGV9ZnVuY3Rpb24gZChlKXtjb25zdCB0PVtdO2xldCBuPTAsbz0wO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cysrKXtjb25zdCByPWVbc107bGV0IGk9bnVsbDtmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKylpPXJbZV0sdC5wdXNoKGkpLDA9PT1lPyhuPWlbMF0sbz1uKToobj1NYXRoLm1pbihuLGlbMF0pLG89TWF0aC5tYXgobyxpWzBdKSk7aSYmdC5wdXNoKFsobitvKS8yLDBdKX1yZXR1cm4gdH1mdW5jdGlvbiB3KGUsbil7aWYoIShlIGluc3RhbmNlb2Ygc3x8ZSBpbnN0YW5jZW9mIG8pKXtjb25zdCBlPVwic3RyYWlnaHRMaW5lRGVuc2lmeTogdGhlIGlucHV0IGdlb21ldHJ5IGlzIG5laXRoZXIgcG9seWxpbmUgbm9yIHBvbHlnb25cIjt0aHJvdyBtLmVycm9yKGUpLG5ldyB0KGUpfWNvbnN0IGk9cihlKSxsPVtdO2Zvcihjb25zdCB0IG9mIGkpe2NvbnN0IGU9W107bC5wdXNoKGUpLGUucHVzaChbdFswXVswXSx0WzBdWzFdXSk7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aC0xO28rKyl7Y29uc3Qgcz10W29dWzBdLHI9dFtvXVsxXSxpPXRbbysxXVswXSxsPXRbbysxXVsxXSxmPU1hdGguc3FydCgoaS1zKSooaS1zKSsobC1yKSoobC1yKSksYz0obC1yKS9mLHA9KGktcykvZix1PWYvbjtpZih1PjEpe2ZvcihsZXQgbD0xO2w8PXUtMTtsKyspe2NvbnN0IHQ9bCpuLG89cCp0K3MsaT1jKnQrcjtlLnB1c2goW28saV0pfWNvbnN0IHQ9KGYrTWF0aC5mbG9vcih1LTEpKm4pLzIsbz1wKnQrcyxpPWMqdCtyO2UucHVzaChbbyxpXSl9ZS5wdXNoKFtpLGxdKX19cmV0dXJuIGcoZSk/bmV3IG8oe3JpbmdzOmwsc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2V9KTpuZXcgcyh7cGF0aHM6bCxzcGF0aWFsUmVmZXJlbmNlOmUuc3BhdGlhbFJlZmVyZW5jZX0pfWZ1bmN0aW9uIGooZSx0LG4pe2lmKHQpe2NvbnN0IHQ9dyhlLDFlNik7ZT11KHQsITApfXJldHVybiBuJiYoZT1mKGUsbikpLGV9ZnVuY3Rpb24gTShlLHQsbil7aWYoQXJyYXkuaXNBcnJheShlKSl7Y29uc3Qgbz1lWzBdO2lmKG8+dCl7Y29uc3Qgbj1sKG8sdCk7ZVswXT1vK24qKC0yKnQpfWVsc2UgaWYobzxuKXtjb25zdCB0PWwobyxuKTtlWzBdPW8rdCooLTIqbil9fWVsc2V7Y29uc3Qgbz1lLng7aWYobz50KXtjb25zdCBuPWwobyx0KTtlPWUuY2xvbmUoKS5vZmZzZXQobiooLTIqdCksMCl9ZWxzZSBpZihvPG4pe2NvbnN0IHQ9bChvLG4pO2U9ZS5jbG9uZSgpLm9mZnNldCh0KigtMipuKSwwKX19cmV0dXJuIGV9ZnVuY3Rpb24gUihlLHQpe2xldCBuPS0xO2ZvcihsZXQgbz0wO288dC5jdXRJbmRleGVzLmxlbmd0aDtvKyspe2NvbnN0IHM9dC5jdXRJbmRleGVzW29dLGk9dC5nZW9tZXRyaWVzW29dLGY9cihpKTtmb3IobGV0IGU9MDtlPGYubGVuZ3RoO2UrKyl7Y29uc3QgdD1mW2VdO3Quc29tZSgobj0+e2lmKG5bMF08MTgwKXJldHVybiEwO3tsZXQgbj0wO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBvPXRbZV1bMF07bj1vPm4/bzpufW49TnVtYmVyKG4udG9GaXhlZCg5KSk7Y29uc3Qgbz0tMzYwKmwobiwxODApO2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7cysrKXtjb25zdCB0PWkuZ2V0UG9pbnQoZSxzKTtpLnNldFBvaW50KGUscyx0LmNsb25lKCkub2Zmc2V0KG8sMCkpfXJldHVybiEwfX0pKX1pZihzPT09bil7aWYoeShlKSlmb3IoY29uc3QgdCBvZiByKGkpKWVbc109ZVtzXS5hZGRSaW5nKHQpO2Vsc2UgaWYoeChlKSlmb3IoY29uc3QgdCBvZiByKGkpKWVbc109ZVtzXS5hZGRQYXRoKHQpfWVsc2Ugbj1zLGVbc109aX1yZXR1cm4gZX1hc3luYyBmdW5jdGlvbiBiKHQsbixyKXtpZighQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gYihbdF0sbik7biYmXCJzdHJpbmdcIiE9dHlwZW9mIG4mJm0ud2FybihcIm5vcm1hbGl6ZUNlbnRyYWxNZXJpZGlhbigpXCIsXCJUaGUgdXJsIG9iamVjdCBpcyBkZXByZWNhdGVkLCB1c2UgdGhlIHVybCBzdHJpbmcgaW5zdGVhZFwiKTtjb25zdCB1PVwic3RyaW5nXCI9PXR5cGVvZiBuP246bj8udXJsPz9lLmdlb21ldHJ5U2VydmljZVVybDtsZXQgZyx5LHgsZCx3LFAsdixMLFU9MDtjb25zdCB6PVtdLEE9W107Zm9yKGNvbnN0IGUgb2YgdClpZihudWxsIT1lKWlmKGd8fChnPWUuc3BhdGlhbFJlZmVyZW5jZSx5PWMoZykseD1nLmlzV2ViTWVyY2F0b3IsUD14PzEwMjEwMDo0MzI2LGQ9aVtQXS5tYXhYLHc9aVtQXS5taW5YLHY9aVtQXS5wbHVzMTgwTGluZSxMPWlbUF0ubWludXMxODBMaW5lKSx5KWlmKFwibWVzaFwiPT09ZS50eXBlKUEucHVzaChlKTtlbHNlIGlmKFwicG9pbnRcIj09PWUudHlwZSlBLnB1c2goTShlLmNsb25lKCksZCx3KSk7ZWxzZSBpZihcIm11bHRpcG9pbnRcIj09PWUudHlwZSl7Y29uc3QgdD1lLmNsb25lKCk7dC5wb2ludHM9dC5wb2ludHMubWFwKChlPT5NKGUsZCx3KSkpLEEucHVzaCh0KX1lbHNlIGlmKFwiZXh0ZW50XCI9PT1lLnR5cGUpe2NvbnN0IHQ9ZS5jbG9uZSgpLl9ub3JtYWxpemUoITEsITEseSk7QS5wdXNoKHQucmluZ3M/bmV3IG8odCk6dCl9ZWxzZSBpZihlLmV4dGVudCl7Y29uc3QgdD1lLmV4dGVudCxuPWwodC54bWluLHcpKigyKmQpO2xldCBvPTA9PT1uP2UuY2xvbmUoKTpmKGUuY2xvbmUoKSxuKTt0Lm9mZnNldChuLDApLHQuaW50ZXJzZWN0cyh2KSYmdC54bWF4IT09ZD8oVT10LnhtYXg+VT90LnhtYXg6VSxvPWoobyx4KSx6LnB1c2gobyksQS5wdXNoKFwiY3V0XCIpKTp0LmludGVyc2VjdHMoTCkmJnQueG1pbiE9PXc/KFU9dC54bWF4KigyKmQpPlU/dC54bWF4KigyKmQpOlUsbz1qKG8seCwzNjApLHoucHVzaChvKSxBLnB1c2goXCJjdXRcIikpOkEucHVzaChvKX1lbHNlIEEucHVzaChlLmNsb25lKCkpO2Vsc2UgQS5wdXNoKGUpO2Vsc2UgQS5wdXNoKGUpO2xldCBTPWwoVSxkKSxrPS05MDtjb25zdCBDPVMsST1uZXcgcztmb3IoO1M+MDspe2NvbnN0IGU9MzYwKlMtMTgwO0kuYWRkUGF0aChbW2Usa10sW2UsLTEqa11dKSxrKj0tMSxTLS19aWYoei5sZW5ndGg+MCYmQz4wKXtjb25zdCBlPVIoeixhd2FpdCBhKHUseixJLHIpKSxuPVtdLG89W107Zm9yKGxldCByPTA7cjxBLmxlbmd0aDtyKyspe2NvbnN0IHM9QVtyXTtpZihcImN1dFwiIT09cylvLnB1c2gocyk7ZWxzZXtjb25zdCBzPWUuc2hpZnQoKSxpPXRbcl07bnVsbCE9aSYmXCJwb2x5Z29uXCI9PT1pLnR5cGUmJmkucmluZ3MmJmkucmluZ3MubGVuZ3RoPjEmJnMucmluZ3MubGVuZ3RoPj1pLnJpbmdzLmxlbmd0aD8obi5wdXNoKHMpLG8ucHVzaChcInNpbXBsaWZ5XCIpKTpvLnB1c2goeD9wKHMpOnMpfX1pZighbi5sZW5ndGgpcmV0dXJuIG87Y29uc3Qgcz1hd2FpdCBoKHUsbixyKSxpPVtdO2ZvcihsZXQgdD0wO3Q8by5sZW5ndGg7dCsrKXtjb25zdCBlPW9bdF07XCJzaW1wbGlmeVwiIT09ZT9pLnB1c2goZSk6aS5wdXNoKHg/cChzLnNoaWZ0KCkpOnMuc2hpZnQoKSl9cmV0dXJuIGl9Y29uc3QgWD1bXTtmb3IobGV0IGU9MDtlPEEubGVuZ3RoO2UrKyl7Y29uc3QgdD1BW2VdO2lmKFwiY3V0XCIhPT10KVgucHVzaCh0KTtlbHNle2NvbnN0IGU9ei5zaGlmdCgpO1gucHVzaCghMD09PXg/cChlKTplKX19cmV0dXJuIFh9ZnVuY3Rpb24gUChlKXtpZighZSlyZXR1cm4gbnVsbDtjb25zdCB0PWUuZXh0ZW50O2lmKCF0KXJldHVybiBudWxsO2NvbnN0IG49ZS5zcGF0aWFsUmVmZXJlbmNlJiZjKGUuc3BhdGlhbFJlZmVyZW5jZSk7aWYoIW4pcmV0dXJuIHQ7Y29uc3RbbyxzXT1uLnZhbGlkLHI9MipzLHt3aWR0aDppfT10O2xldCBsLHt4bWluOmYseG1heDpwfT10O2lmKFtmLHBdPVtwLGZdLFwiZXh0ZW50XCI9PT1lLnR5cGV8fDA9PT1pfHxpPD1zfHxpPnJ8fGY8b3x8cD5zKXJldHVybiB0O3N3aXRjaChlLnR5cGUpe2Nhc2VcInBvbHlnb25cIjppZighKGUucmluZ3MubGVuZ3RoPjEpKXJldHVybiB0O2w9ZChlLnJpbmdzKTticmVhaztjYXNlXCJwb2x5bGluZVwiOmlmKCEoZS5wYXRocy5sZW5ndGg+MSkpcmV0dXJuIHQ7bD1kKGUucGF0aHMpO2JyZWFrO2Nhc2VcIm11bHRpcG9pbnRcIjpsPWUucG9pbnRzfWNvbnN0IHU9dC5jbG9uZSgpO2ZvcihsZXQgYz0wO2M8bC5sZW5ndGg7YysrKXtsZXQgZT1sW2NdWzBdO2U8MD8oZSs9cyxwPU1hdGgubWF4KGUscCkpOihlLT1zLGY9TWF0aC5taW4oZSxmKSl9cmV0dXJuIHUueG1pbj1mLHUueG1heD1wLHUud2lkdGg8aT8odS54bWluLT1zLHUueG1heC09cyx1KTp0fWZ1bmN0aW9uIHYoZSx0KXtjb25zdCBuPWModCk7aWYobil7Y29uc3RbdCxvXT1uLnZhbGlkLHM9by10O2lmKGU8dClmb3IoO2U8dDspZSs9cztpZihlPm8pZm9yKDtlPm87KWUtPXN9cmV0dXJuIGV9ZXhwb3J0e1AgYXMgZ2V0RGVub3JtYWxpemVkRXh0ZW50LGIgYXMgbm9ybWFsaXplQ2VudHJhbE1lcmlkaWFuLHYgYXMgbm9ybWFsaXplTWFwWCx3IGFzIHN0cmFpZ2h0TGluZURlbnNpZnl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uL1BvbHlsaW5lLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydHtpc1BvbHlnb24gYXMgdH1mcm9tXCIuL2pzb25VdGlscy5qc1wiO2NvbnN0IHI9ezEwMjEwMDp7bWF4WDoyMDAzNzUwOC4zNDI3ODg5MDUsbWluWDotMjAwMzc1MDguMzQyNzg4OTA1LHBsdXMxODBMaW5lOm5ldyBlKHtwYXRoczpbW1syMDAzNzUwOC4zNDI3ODg5MDUsLTIwMDM3NTA4LjM0Mjc4ODkwNV0sWzIwMDM3NTA4LjM0Mjc4ODkwNSwyMDAzNzUwOC4zNDI3ODg5MDVdXV0sc3BhdGlhbFJlZmVyZW5jZTpuLldlYk1lcmNhdG9yfSksbWludXMxODBMaW5lOm5ldyBlKHtwYXRoczpbW1stMjAwMzc1MDguMzQyNzg4OTA1LC0yMDAzNzUwOC4zNDI3ODg5MDVdLFstMjAwMzc1MDguMzQyNzg4OTA1LDIwMDM3NTA4LjM0Mjc4ODkwNV1dXSxzcGF0aWFsUmVmZXJlbmNlOm4uV2ViTWVyY2F0b3J9KX0sNDMyNjp7bWF4WDoxODAsbWluWDotMTgwLHBsdXMxODBMaW5lOm5ldyBlKHtwYXRoczpbW1sxODAsLTE4MF0sWzE4MCwxODBdXV0sc3BhdGlhbFJlZmVyZW5jZTpuLldHUzg0fSksbWludXMxODBMaW5lOm5ldyBlKHtwYXRoczpbW1stMTgwLC0xODBdLFstMTgwLDE4MF1dXSxzcGF0aWFsUmVmZXJlbmNlOm4uV0dTODR9KX19O2Z1bmN0aW9uIGkoZSxuKXtyZXR1cm4gTWF0aC5jZWlsKChlLW4pLygyKm4pKX1mdW5jdGlvbiBzKGUsbil7Y29uc3QgdD1vKGUpO2Zvcihjb25zdCByIG9mIHQpZm9yKGNvbnN0IGUgb2YgcillWzBdKz1uO3JldHVybiBlfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIHQoZSk/ZS5yaW5nczplLnBhdGhzfWV4cG9ydHtyIGFzIGN1dFBhcmFtcyxvIGFzIGdldEdlb21ldHJ5UGFydHMsaSBhcyBvZmZzZXRNYWduaXR1ZGUscyBhcyB1cGRhdGVQb2x5R2VvbWV0cnl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uL1BvcHVwVGVtcGxhdGUuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7TXVsdGlPcmlnaW5KU09OTWl4aW4gYXMgaX1mcm9tXCIuLi9jb3JlL011bHRpT3JpZ2luSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0RXJyb3IgYXMgb31mcm9tXCIuLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBhfWZyb21cIi4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBufWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7ZW5zdXJlQ2xhc3MgYXMgbCxJbnRlZ2VyIGFzIHB9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtlbnVtZXJhdGlvbiBhcyBtfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvZW51bWVyYXRpb24uanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgdX1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi9MYXllci5qc1wiO2ltcG9ydHtBcmNHSVNTZXJ2aWNlIGFzIGR9ZnJvbVwiLi9taXhpbnMvQXJjR0lTU2VydmljZS5qc1wiO2ltcG9ydHtCbGVuZExheWVyIGFzIGh9ZnJvbVwiLi9taXhpbnMvQmxlbmRMYXllci5qc1wiO2ltcG9ydHtDdXN0b21QYXJhbWV0ZXJzTWl4aW4gYXMgeX1mcm9tXCIuL21peGlucy9DdXN0b21QYXJhbWV0ZXJzTWl4aW4uanNcIjtpbXBvcnR7SW1hZ2VyeVRpbGVNaXhpbiBhcyBmfWZyb21cIi4vbWl4aW5zL0ltYWdlcnlUaWxlTWl4aW4uanNcIjtpbXBvcnR7T3BlcmF0aW9uYWxMYXllciBhcyBnfWZyb21cIi4vbWl4aW5zL09wZXJhdGlvbmFsTGF5ZXIuanNcIjtpbXBvcnR7UG9ydGFsTGF5ZXIgYXMgdn1mcm9tXCIuL21peGlucy9Qb3J0YWxMYXllci5qc1wiO2ltcG9ydHtSZWZyZXNoYWJsZUxheWVyIGFzIGp9ZnJvbVwiLi9taXhpbnMvUmVmcmVzaGFibGVMYXllci5qc1wiO2ltcG9ydHtTY2FsZVJhbmdlTGF5ZXIgYXMgUn1mcm9tXCIuL21peGlucy9TY2FsZVJhbmdlTGF5ZXIuanNcIjtpbXBvcnR7VGVtcG9yYWxMYXllciBhcyBTfWZyb21cIi4vbWl4aW5zL1RlbXBvcmFsTGF5ZXIuanNcIjtpbXBvcnR7bGVnZW5kRW5hYmxlZCBhcyB3fWZyb21cIi4vc3VwcG9ydC9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0IGIgZnJvbVwiLi9zdXBwb3J0L0ZpZWxkLmpzXCI7aW1wb3J0e2ludGVycG9sYXRpb25LZWJhYiBhcyBJfWZyb21cIi4vc3VwcG9ydC9yYXN0ZXJFbnVtcy5qc1wiO2ltcG9ydCBPIGZyb21cIi4vc3VwcG9ydC9SYXN0ZXJGdW5jdGlvbi5qc1wiO2ltcG9ydCBQIGZyb21cIi4vc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy9GdW5jdGlvblJhc3Rlci5qc1wiO2ltcG9ydCBUIGZyb21cIi4vc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy9SYXN0ZXJGYWN0b3J5LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyB4LGdldFByaW1hcnlSYXN0ZXJVcmxzIGFzIE59ZnJvbVwiLi9zdXBwb3J0L3Jhc3RlckZ1bmN0aW9ucy9yYXN0ZXJGdW5jdGlvbkhlbHBlci5qc1wiO2ltcG9ydHtjcmVhdGVQb3B1cFRlbXBsYXRlIGFzIEZ9ZnJvbVwiLi4vc3VwcG9ydC9wb3B1cFV0aWxzLmpzXCI7bGV0IF89Y2xhc3MgZXh0ZW5kcyhoKFIoZyh2KHkoZihTKGQoaihpKGMpKSkpKSkpKSkpKXtjb25zdHJ1Y3RvciguLi5lKXtzdXBlciguLi5lKSx0aGlzLl9wcmltYXJ5UmFzdGVycz1bXSx0aGlzLmJhbmRJZHM9bnVsbCx0aGlzLmludGVycG9sYXRpb249bnVsbCx0aGlzLmxlZ2VuZEVuYWJsZWQ9ITAsdGhpcy5pc1JlZmVyZW5jZT1udWxsLHRoaXMubGlzdE1vZGU9XCJzaG93XCIsdGhpcy5zb3VyY2VKU09OPW51bGwsdGhpcy52ZXJzaW9uPW51bGwsdGhpcy50eXBlPVwiaW1hZ2VyeS10aWxlXCIsdGhpcy5vcGVyYXRpb25hbExheWVyVHlwZT1cIkFyY0dJU1RpbGVkSW1hZ2VTZXJ2aWNlTGF5ZXJcIix0aGlzLnBvcHVwRW5hYmxlZD0hMCx0aGlzLnBvcHVwVGVtcGxhdGU9bnVsbCx0aGlzLmZpZWxkcz1udWxsfW5vcm1hbGl6ZUN0b3JBcmdzKGUscil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/e3VybDplLC4uLnJ9OmV9bG9hZChlKXtjb25zdCByPW51bGwhPWU/ZS5zaWduYWw6bnVsbDtyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMubG9hZEZyb21Qb3J0YWwoe3N1cHBvcnRlZFR5cGVzOltcIkltYWdlIFNlcnZpY2VcIl19LGUpLmNhdGNoKG8pLnRoZW4oKCgpPT50aGlzLl9vcGVuUmFzdGVyKHIpKSkpLFByb21pc2UucmVzb2x2ZSh0aGlzKX1nZXQgZGVmYXVsdFBvcHVwVGVtcGxhdGUoKXtyZXR1cm4gdGhpcy5jcmVhdGVQb3B1cFRlbXBsYXRlKCl9Z2V0IHJhc3RlckZpZWxkcygpe2NvbnN0IGU9W25ldyBiKHtuYW1lOlwiUmFzdGVyLlNlcnZpY2VQaXhlbFZhbHVlXCIsYWxpYXM6XCJQaXhlbCBWYWx1ZVwiLGRvbWFpbjpudWxsLGVkaXRhYmxlOiExLGxlbmd0aDo1MCx0eXBlOlwic3RyaW5nXCJ9KSxuZXcgYih7bmFtZTpcIlJhc3Rlci5TZXJ2aWNlUGl4ZWxWYWx1ZS5SYXdcIixhbGlhczpcIlJhdyBQaXhlbCBWYWx1ZVwiLGRvbWFpbjpudWxsLGVkaXRhYmxlOiExLGxlbmd0aDo1MCx0eXBlOlwic3RyaW5nXCJ9KV0se3Jhc3RlckluZm86cn09dGhpcyx0PXI/LmF0dHJpYnV0ZVRhYmxlLHM9bnVsbCE9dD90LmZpZWxkczpudWxsLGk9XCJSYXN0ZXIuXCI7aWYocyl7Y29uc3Qgcj1zLmZpbHRlcigoZT0+XCJvaWRcIiE9PWUudHlwZSYmXCJ2YWx1ZVwiIT09ZS5uYW1lLnRvTG93ZXJDYXNlKCkpKS5tYXAoKGU9Pntjb25zdCByPWUuY2xvbmUoKTtyZXR1cm4gci5uYW1lPWkrZS5uYW1lLHJ9KSk7ZS5wdXNoKC4uLnIpfWNvbnN0IG89cj8uZGF0YVR5cGUsYT1yPy5tdWx0aWRpbWVuc2lvbmFsSW5mbztpZigoXCJ2ZWN0b3ItbWFnZGlyXCI9PT1vfHxcInZlY3Rvci11dlwiPT09bykmJm51bGwhPWEpe2NvbnN0IHI9YS52YXJpYWJsZXNbMF0udW5pdD8udHJpbSgpLHQ9XCJNYWduaXR1ZGVcIisocj9gICgke3J9KWA6XCJcIik7ZS5wdXNoKG5ldyBiKHtuYW1lOlwiUmFzdGVyLk1hZ25pdHVkZVwiLGFsaWFzOnQsZG9tYWluOm51bGwsZWRpdGFibGU6ITEsdHlwZTpcImRvdWJsZVwifSkpLGUucHVzaChuZXcgYih7bmFtZTpcIlJhc3Rlci5EaXJlY3Rpb25cIixhbGlhczpcIkRpcmVjdGlvbiAowrApXCIsZG9tYWluOm51bGwsZWRpdGFibGU6ITEsdHlwZTpcImRvdWJsZVwifSkpfXJldHVybiBlfWNyZWF0ZVBvcHVwVGVtcGxhdGUoZSl7Y29uc3R7cmFzdGVyRmllbGRzOnJ9PXRoaXMsdD1uZXcgU2V0KHIubWFwKCgoe25hbWU6ZX0pPT5lKSkuZmlsdGVyKChlPT5cInJhc3Rlci5zZXJ2aWNlcGl4ZWx2YWx1ZS5yYXdcIiE9PWUudG9Mb3dlckNhc2UoKSkpKTtyZXR1cm4gRih7ZmllbGRzOnIsdGl0bGU6dGhpcy50aXRsZX0sey4uLmUsdmlzaWJsZUZpZWxkTmFtZXM6dH0pfWFzeW5jIGdlbmVyYXRlUmFzdGVySW5mbyhlLHIpe2lmKCEoZT1sKE8sZSkpKXJldHVybiB0aGlzLnJhc3RlckluZm87dHJ5e2NvbnN0IHQ9e3Jhc3Rlcjp0aGlzLl9wcmltYXJ5UmFzdGVyc1swXX07dGhpcy5fcHJpbWFyeVJhc3RlcnMubGVuZ3RoPjEmJnRoaXMuX3ByaW1hcnlSYXN0ZXJzLmZvckVhY2goKGU9PnRbZS51cmxdPWUpKTtjb25zdCBzPXgoZS5mdW5jdGlvbkRlZmluaXRpb24/LnRvSlNPTigpPz9lLnRvSlNPTigpLHQpLGk9bmV3IFAoe3Jhc3RlckZ1bmN0aW9uOnN9KTtyZXR1cm4gYXdhaXQgaS5vcGVuKHIpLGkucmFzdGVySW5mb31jYXRjaChzKXtpZihzIGluc3RhbmNlb2YgdCl0aHJvdyBzO3Rocm93IG5ldyB0KFwiaW1hZ2VyeS10aWxlLWxheWVyXCIsXCJ0aGUgZ2l2ZW4gcmFzdGVyIGZ1bmN0aW9uIGlzIG5vdCBzdXBwb3J0ZWRcIil9fXdyaXRlKGUscil7Y29uc3Qgcz10aGlzLl9wcmltYXJ5UmFzdGVyc1swXT8/dGhpcy5yYXN0ZXI7aWYodGhpcy5sb2FkZWQ/XCJSYXN0ZXJUaWxlU2VydmVyXCI9PT1zLmRhdGFzZXRGb3JtYXQmJihcIlJhc3RlclwiPT09cy50aWxlVHlwZXx8XCJNYXBcIj09PXMudGlsZVR5cGUpOnRoaXMudXJsJiYvXFwvSW1hZ2VTZXJ2ZXIoXFwvfFxcLz8kKS9pLnRlc3QodGhpcy51cmwpKXJldHVybiBzdXBlci53cml0ZShlLHIpO2lmKHImJnIubWVzc2FnZXMpe2NvbnN0IGU9YCR7ci5vcmlnaW59LyR7ci5sYXllckNvbnRhaW5lclR5cGV8fFwib3BlcmF0aW9uYWwtbGF5ZXJzXCJ9YDtyLm1lc3NhZ2VzLnB1c2gobmV3IHQoXCJsYXllcjp1bnN1cHBvcnRlZFwiLGBMYXllcnMgKCR7dGhpcy50aXRsZX0sICR7dGhpcy5pZH0pIG9mIHR5cGUgJyR7dGhpcy5kZWNsYXJlZENsYXNzfScgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGNvbnRleHQgb2YgJyR7ZX0nYCx7bGF5ZXI6dGhpc30pKX1yZXR1cm4gbnVsbH1hc3luYyBfb3BlblJhc3RlcihlKXtsZXQgcj0hMTtpZih0aGlzLnJhc3Rlcil0aGlzLnJhc3Rlci5yYXN0ZXJJbmZvfHxhd2FpdCB0aGlzLnJhc3Rlci5vcGVuKCksXCJGdW5jdGlvblwiPT09dGhpcy5yYXN0ZXIuZGF0YXNldEZvcm1hdD8ocj0hMCx0aGlzLl9wcmltYXJ5UmFzdGVycz10aGlzLnJhc3Rlci5wcmltYXJ5UmFzdGVycy5yYXN0ZXJzKTp0aGlzLl9wcmltYXJ5UmFzdGVycz1bdGhpcy5yYXN0ZXJdLHRoaXMudXJsPXRoaXMucmFzdGVyLnVybDtlbHNle2NvbnN0e3Jhc3RlckZ1bmN0aW9uOnJ9PXRoaXMsaT1bdGhpcy51cmxdO3ImJk4oci50b0pTT04oKSxpKTtjb25zdCBhPWF3YWl0IFByb21pc2UuYWxsKGkubWFwKChyPT5ULm9wZW4oe3VybDpyLHNvdXJjZUpTT046dGhpcy5zb3VyY2VKU09OLGlvQ29uZmlnOntzYW1wbGluZzpcImNsb3Nlc3RcIiwuLi50aGlzLmlvQ29uZmlnLGN1c3RvbUZldGNoUGFyYW1ldGVyczp0aGlzLmN1c3RvbVBhcmFtZXRlcnN9LHNpZ25hbDplfSkpKSksbj1hLmZpbmRJbmRleCgoZT0+bnVsbD09ZSkpO2lmKG4+LTEpdGhyb3cgbmV3IHQoXCJpbWFnZXJ5LXRpbGUtbGF5ZXI6b3BlblwiLGBjYW5ub3Qgb3BlbiByYXN0ZXI6ICR7aVtuXX1gKTtpZih0aGlzLl9wcmltYXJ5UmFzdGVycz1hLHIpe2NvbnN0IGU9e3Jhc3Rlcjp0aGlzLl9wcmltYXJ5UmFzdGVyc1swXX07dGhpcy5fcHJpbWFyeVJhc3RlcnMubGVuZ3RoPjEmJnRoaXMuX3ByaW1hcnlSYXN0ZXJzLmZvckVhY2goKHI9PmVbci51cmxdPXIpKTtjb25zdCBpPXgoci5mdW5jdGlvbkRlZmluaXRpb24/LnRvSlNPTigpPz9yLnRvSlNPTigpLGUpLG49bmV3IFAoe3Jhc3RlckZ1bmN0aW9uOml9KTt0cnl7YXdhaXQgbi5vcGVuKCksdGhpcy5yYXN0ZXI9bn1jYXRjaChvKXtjb25zdCBlPXMuZ2V0TG9nZ2VyKHRoaXMpO28gaW5zdGFuY2VvZiB0JiZlLmVycm9yKFwiaW1hZ2VyeS10aWxlLWxheWVyOm9wZW5cIixvLm1lc3NhZ2UpLGUud2FybihcImltYWdlcnktdGlsZS1sYXllcjpvcGVuXCIsXCJ0aGUgcmFzdGVyIGZ1bmN0aW9uIGNhbm5vdCBiZSBhcHBsaWVkIGFuZCBpcyByZW1vdmVkXCIpLHRoaXMuX3NldChcInJhc3RlckZ1bmN0aW9uXCIsbnVsbCksdGhpcy5yYXN0ZXI9YVswXX19ZWxzZSB0aGlzLnJhc3Rlcj1hWzBdfWNvbnN0IGk9dGhpcy5yYXN0ZXIucmFzdGVySW5mbztpZighaSl0aHJvdyBuZXcgdChcImltYWdlcnktdGlsZS1sYXllcjpsb2FkXCIsXCJjYW5ub3QgbG9hZCByZXNvdXJjZXMgb24gXCIrdGhpcy51cmwpO2lmKHRoaXMuX3NldChcInJhc3RlckluZm9cIixyP2k6dGhpcy5fcHJpbWFyeVJhc3RlcnNbMF0ucmFzdGVySW5mbyksdGhpcy5fc2V0KFwic3BhdGlhbFJlZmVyZW5jZVwiLGkuc3BhdGlhbFJlZmVyZW5jZSksdGhpcy5zb3VyY2VKU09OPXRoaXMuc291cmNlSlNPTnx8dGhpcy5yYXN0ZXIuc291cmNlSlNPTixudWxsIT10aGlzLnNvdXJjZUpTT04pe2NvbnN0IGU9XCJNYXBcIj09PXRoaXMucmFzdGVyLnRpbGVUeXBlJiZudWxsIT10aGlzLnNvdXJjZUpTT04ubWluTE9EJiZudWxsIT10aGlzLnNvdXJjZUpTT04ubWF4TE9EP3RoaXMuc291cmNlSlNPTjp7Li4udGhpcy5zb3VyY2VKU09OLG1pblNjYWxlOjAsbWF4U2NhbGU6MH07dGhpcy5yZWFkKGUse29yaWdpbjpcInNlcnZpY2VcIn0pfWVsc2UgdGhpcy5yZWFkKHt0aWxlSW5mbzp0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8udGlsZUluZm8udG9KU09OKCl9LHtvcmlnaW46XCJzZXJ2aWNlXCJ9KTt0aGlzLnRpdGxlfHwodGhpcy50aXRsZT10aGlzLnJhc3Rlci5kYXRhc2V0TmFtZSksXCJNYXBcIj09PXRoaXMucmFzdGVyLnRpbGVUeXBlJiYodGhpcy5wb3B1cEVuYWJsZWQ9ITEpLHRoaXMuX2NvbmZpZ0RlZmF1bHRTZXR0aW5ncygpLHRoaXMuYWRkSGFuZGxlcyhhKCgoKT0+dGhpcy5jdXN0b21QYXJhbWV0ZXJzKSwoZT0+e3RoaXMucmFzdGVyJiYodGhpcy5yYXN0ZXIuaW9Db25maWcuY3VzdG9tRmV0Y2hQYXJhbWV0ZXJzPWUpfSkpKX19O2UoW24oKV0sXy5wcm90b3R5cGUsXCJfcHJpbWFyeVJhc3RlcnNcIix2b2lkIDApLGUoW24oe3R5cGU6W3BdLGpzb246e3dyaXRlOntvdmVycmlkZVBvbGljeSgpe3JldHVybntlbmFibGVkOiF0aGlzLmxvYWRlZHx8XCJSYXN0ZXJcIj09PXRoaXMucmFzdGVyLnRpbGVUeXBlfHxcIjAsMSwyXCIhPT10aGlzLmJhbmRJZHM/LmpvaW4oXCIsXCIpfX19fX0pXSxfLnByb3RvdHlwZSxcImJhbmRJZHNcIix2b2lkIDApLGUoW24oe2pzb246e3dyaXRlOntvdmVycmlkZVBvbGljeSgpe3JldHVybntlbmFibGVkOiF0aGlzLmxvYWRlZHx8XCJSYXN0ZXJcIj09PXRoaXMucmFzdGVyLnRpbGVUeXBlfHxcImJpbGluZWFyXCIhPT10aGlzLmludGVycG9sYXRpb259fX19fSksbShJKV0sXy5wcm90b3R5cGUsXCJpbnRlcnBvbGF0aW9uXCIsdm9pZCAwKSxlKFtuKHcpXSxfLnByb3RvdHlwZSxcImxlZ2VuZEVuYWJsZWRcIix2b2lkIDApLGUoW24oe3R5cGU6Qm9vbGVhbixqc29uOntyZWFkOiExLHdyaXRlOntlbmFibGVkOiEwLG92ZXJyaWRlUG9saWN5OigpPT4oe2VuYWJsZWQ6ITF9KX19fSldLF8ucHJvdG90eXBlLFwiaXNSZWZlcmVuY2VcIix2b2lkIDApLGUoW24oe3R5cGU6W1wic2hvd1wiLFwiaGlkZVwiXX0pXSxfLnByb3RvdHlwZSxcImxpc3RNb2RlXCIsdm9pZCAwKSxlKFtuKHtqc29uOntyZWFkOiEwLHdyaXRlOiEwfX0pXSxfLnByb3RvdHlwZSxcImJsZW5kTW9kZVwiLHZvaWQgMCksZShbbigpXSxfLnByb3RvdHlwZSxcInNvdXJjZUpTT05cIix2b2lkIDApLGUoW24oe3JlYWRPbmx5OiEwLGpzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e3NvdXJjZTpcImN1cnJlbnRWZXJzaW9uXCJ9fX19fSldLF8ucHJvdG90eXBlLFwidmVyc2lvblwiLHZvaWQgMCksZShbbih7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sXy5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxlKFtuKHt0eXBlOltcIkFyY0dJU1RpbGVkSW1hZ2VTZXJ2aWNlTGF5ZXJcIl19KV0sXy5wcm90b3R5cGUsXCJvcGVyYXRpb25hbExheWVyVHlwZVwiLHZvaWQgMCksZShbbih7dHlwZTpCb29sZWFuLHZhbHVlOiEwLGpzb246e3JlYWQ6e3NvdXJjZTpcImRpc2FibGVQb3B1cFwiLHJlYWRlcjooZSxyKT0+IXIuZGlzYWJsZVBvcHVwfSx3cml0ZTp7dGFyZ2V0OlwiZGlzYWJsZVBvcHVwXCIsb3ZlcnJpZGVQb2xpY3koKXtyZXR1cm57ZW5hYmxlZDohdGhpcy5sb2FkZWR8fFwiUmFzdGVyXCI9PT10aGlzLnJhc3Rlci50aWxlVHlwZX19LHdyaXRlcihlLHIsdCl7clt0XT0hZX19fX0pXSxfLnByb3RvdHlwZSxcInBvcHVwRW5hYmxlZFwiLHZvaWQgMCksZShbbih7dHlwZTpyLGpzb246e3JlYWQ6e3NvdXJjZTpcInBvcHVwSW5mb1wifSx3cml0ZTp7dGFyZ2V0OlwicG9wdXBJbmZvXCIsb3ZlcnJpZGVQb2xpY3koKXtyZXR1cm57ZW5hYmxlZDohdGhpcy5sb2FkZWR8fFwiUmFzdGVyXCI9PT10aGlzLnJhc3Rlci50aWxlVHlwZX19fX19KV0sXy5wcm90b3R5cGUsXCJwb3B1cFRlbXBsYXRlXCIsdm9pZCAwKSxlKFtuKHtyZWFkT25seTohMH0pXSxfLnByb3RvdHlwZSxcImRlZmF1bHRQb3B1cFRlbXBsYXRlXCIsbnVsbCksZShbbih7cmVhZE9ubHk6ITAsdHlwZTpbYl19KV0sXy5wcm90b3R5cGUsXCJmaWVsZHNcIix2b2lkIDApLGUoW24oe3JlYWRPbmx5OiEwLHR5cGU6W2JdfSldLF8ucHJvdG90eXBlLFwicmFzdGVyRmllbGRzXCIsbnVsbCksXz1lKFt1KFwiZXNyaS5sYXllcnMuSW1hZ2VyeVRpbGVMYXllclwiKV0sXyk7Y29uc3QgSj1fO2V4cG9ydHtKIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnR7cmFzdGVyUmVuZGVyZXJUeXBlcyBhcyBlLHdlYnNjZW5lUmFzdGVyUmVuZGVyZXJUeXBlcyBhcyByLHJlYWQgYXMgaX1mcm9tXCIuLi8uLi9yYXN0ZXJSZW5kZXJlcnMuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtlbnN1cmVDbGFzcyBhcyBsfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7cmVhZGVyIGFzIHV9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9yZWFkZXIuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgY31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2dldEluZm8gYXMgZH1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtzYW5pdGl6ZVVybCBhcyBtfWZyb21cIi4uL3N1cHBvcnQvYXJjZ2lzTGF5ZXJVcmwuanNcIjtpbXBvcnR7dXJsIGFzIGh9ZnJvbVwiLi4vc3VwcG9ydC9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vc3VwcG9ydC9EaW1lbnNpb25hbERlZmluaXRpb24uanNcIjtpbXBvcnQgZiBmcm9tXCIuLi9zdXBwb3J0L011bHRpZGltZW5zaW9uYWxTdWJzZXQuanNcIjtpbXBvcnQgeSBmcm9tXCIuLi9zdXBwb3J0L1Jhc3RlckZ1bmN0aW9uLmpzXCI7aW1wb3J0IGIgZnJvbVwiLi4vc3VwcG9ydC9SYXN0ZXJKb2JIYW5kbGVyLmpzXCI7aW1wb3J0IGcgZnJvbVwiLi4vc3VwcG9ydC9UaWxlSW5mby5qc1wiO2ltcG9ydCBGIGZyb21cIi4uL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvRnVuY3Rpb25SYXN0ZXIuanNcIjtpbXBvcnR7Z2V0RGVmYXVsdE11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uIGFzIEosaGFzRXhjbHVkZWRWYXJpYWJsZU9yRGltZW5zaW9uIGFzIFIsZ2V0RGVmYXVsdFZhcmlhYmxJbmZvIGFzIF8saXNNdWx0aVNsaWNlT3JSYW5nZURlZmluaXRpb24gYXMgSSxnZXRTdWJzZXRWYXJpYWJsZXNGcm9tTWRJbmZvIGFzIFN9ZnJvbVwiLi4vc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy9tdWx0aWRpbWVuc2lvbmFsVXRpbHMuanNcIjtpbXBvcnR7c25hcFRvUmFzdGVyIGFzIHgsY2xpcCBhcyB3fWZyb21cIi4uL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL2NsaXBVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgdn1mcm9tXCIuLi9zdXBwb3J0L3Jhc3RlckZ1bmN0aW9ucy9yYXN0ZXJGdW5jdGlvbkhlbHBlci5qc1wiO2ltcG9ydHtsb2FkIGFzIGoscHJvamVjdEV4dGVudCBhcyBELHByb2plY3RQb2x5Z29uIGFzIEh9ZnJvbVwiLi4vc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvcmFzdGVyUHJvamVjdGlvbkhlbHBlci5qc1wiO2ltcG9ydHtjb21wdXRlU3RhdGlzdGljc0hpc3RvZ3JhbXMgYXMgVH1mcm9tXCIuLi9zdXBwb3J0L3Jhc3RlckZ1bmN0aW9ucy9zdHJldGNoVXRpbHMuanNcIjtpbXBvcnR7Y29udmVydFZlY3RvckZpZWxkRGF0YSBhcyBOfWZyb21cIi4uL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL3ZlY3RvckZpZWxkVXRpbHMuanNcIjtpbXBvcnR7bm9ybWFsaXplUmVuZGVyZXJKU09OIGFzIE8sZ2V0VmFyaWFibGVSYXN0ZXJJbmZvIGFzIHosZ2V0RGVmYXVsdEludGVycG9sYXRpb24gYXMgUCxnZXREZWZhdWx0QmFuZENvbWJpbmF0aW9uIGFzIEMsY3JlYXRlRGVmYXVsdFJlbmRlcmVyIGFzIEV9ZnJvbVwiLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvcmFzdGVyUmVuZGVyZXJIZWxwZXIuanNcIjtpbXBvcnQgQSBmcm9tXCIuLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9SYXN0ZXJTeW1ib2xpemVyLmpzXCI7aW1wb3J0IE0gZnJvbVwiLi4vLi4vcmVzdC9zdXBwb3J0L0ltYWdlSGlzdG9ncmFtUGFyYW1ldGVycy5qc1wiO2ltcG9ydHtjcmVhdGVGbG93TWVzaCBhcyBVfWZyb21cIi4uLy4uL3ZpZXdzLzJkL2VuZ2luZS9mbG93L2RhdGFVdGlscy5qc1wiO2ltcG9ydCBrIGZyb21cIi4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnQgcSBmcm9tXCIuLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2NvbnN0IEI9by5nZXRMb2dnZXIoXCJlc3JpLmxheWVycy5taXhpbnMuSW1hZ2VyeVRpbGVNaXhpblwiKSxWPW89PntsZXQgVj1jbGFzcyBleHRlbmRzIG97Y29uc3RydWN0b3IoLi4udCl7c3VwZXIoLi4udCksdGhpcy5faXNDb25zdHJ1Y3RlZEZyb21GdW5jdGlvblJhc3Rlcj0hMSx0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyPXtpbnN0YW5jZTpudWxsLHJlZkNvdW50OjAsY29ubmVjdGlvblByb21pc2U6bnVsbH0sdGhpcy5iYW5kSWRzPW51bGwsdGhpcy5jb3B5cmlnaHQ9bnVsbCx0aGlzLmludGVycG9sYXRpb249XCJuZWFyZXN0XCIsdGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0PW51bGwsdGhpcy5yYXN0ZXI9bnVsbCx0aGlzLnJhc3RlckluZm89bnVsbCx0aGlzLnNvdXJjZUpTT049bnVsbCx0aGlzLnNwYXRpYWxSZWZlcmVuY2U9bnVsbCx0aGlzLnN5bWJvbGl6ZXI9bnVsbCx0aGlzLl9pc0NvbnN0cnVjdGVkRnJvbUZ1bmN0aW9uUmFzdGVyPVwiRnVuY3Rpb25cIj09PXRbMF0/LnJhc3Rlcj8uZGF0YXNldEZvcm1hdH1nZXQgZnVsbEV4dGVudCgpe3JldHVybiB0aGlzLnJhc3RlckluZm8/LmV4dGVudH1zZXQgbXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24odCl7dGhpcy5fc2V0KFwibXVsdGlkaW1lbnNpb25hbERlZmluaXRpb25cIix0KSx0aGlzLnVwZGF0ZVJlbmRlcmVyKCl9c2V0IHJhc3RlckZ1bmN0aW9uKHQpe1wibm9uZVwiPT09dD8uZnVuY3Rpb25OYW1lPy50b0xvd2VyQ2FzZSgpJiYodD12b2lkIDApLHRoaXMuX3NldChcInJhc3RlckZ1bmN0aW9uXCIsdCksdGhpcy51cGRhdGVSYXN0ZXJGdW5jdGlvbigpfXNldCB1cmwodCl7dGhpcy5fc2V0KFwidXJsXCIsbSh0LEIpKX1zZXQgcmVuZGVyZXIodCl7bnVsbD09dCYmbnVsbD09dGhpcy5yYXN0ZXJGdW5jdGlvbj90aGlzLl9jb25maWdEZWZhdWx0UmVuZGVyZXIoXCJvdmVycmlkZVwiKToodGhpcy5fc2V0KFwicmVuZGVyZXJcIix0KSx0aGlzLnVwZGF0ZVJlbmRlcmVyKCkpfXJlYWRSZW5kZXJlcih0LGUscil7Y29uc3Qgbj1lPy5sYXllckRlZmluaXRpb24/LmRyYXdpbmdJbmZvPy5yZW5kZXJlcjtyZXR1cm4gaShuLHIpfHx2b2lkIDB9YXN5bmMgY29udmVydFZlY3RvckZpZWxkRGF0YSh0LGUpe2lmKG51bGw9PXR8fCF0aGlzLnJhc3RlckluZm8pcmV0dXJuIG51bGw7Y29uc3Qgcj10aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlLGk9dGhpcy5yYXN0ZXJJbmZvLmRhdGFUeXBlO3JldHVybiByP3IuY29udmVydFZlY3RvckZpZWxkRGF0YSh7cGl4ZWxCbG9jazp0LGRhdGFUeXBlOml9LGUpOk4odCxpKX1hc3luYyBjb21wdXRlU3RhdGlzdGljc0hpc3RvZ3JhbXModCxlKXt0PWwoTSx0KS5jbG9uZSgpO2NvbnN0e3Jhc3RlckluZm86cn09dGhpcyx7Z2VvbWV0cnk6aX09dDtpZihudWxsPT1pKXRocm93IG5ldyBzKFwiaW1hZ2VyeS10aWxlLW1peGluOmNvbXB1dGUtc3RhdGlzdGljcy1oaXN0b2dyYW1zXCIsXCJnZW9tZXRyeSBtdXN0IGJlIHNwZWNpZmllZFwiKTtsZXQgbj1pO2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6b309cjtpLnNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKG8pfHwoYXdhaXQgaigpLG49XCJleHRlbnRcIj09PWkudHlwZT9EKGksbyk6SChpLG8pKTtjb25zdCBhPXQucGl4ZWxTaXplPz9uZXcgcSh7eDpyLnBpeGVsU2l6ZS54LHk6ci5waXhlbFNpemUueSxzcGF0aWFsUmVmZXJlbmNlOm99KSx7ZXh0ZW50OnUsd2lkdGg6YyxoZWlnaHQ6ZH09eChyLG4sYSksbT1hd2FpdCB0aGlzLmZldGNoUGl4ZWxzKHUsYyxkLHsuLi5lLGludGVycG9sYXRpb246XCJuZWFyZXN0XCJ9KTtpZihudWxsPT1tLnBpeGVsQmxvY2spdGhyb3cgbmV3IHMoXCJpbWFnZXJ5LXRpbGUtbWl4aW46Y29tcHV0ZS1zdGF0aXN0aWNzLWhpc3RvZ3JhbXNcIixcImZhaWxlZCB0byBmZXRjaCBwaXhlbHNcIik7Y29uc3QgaD1hd2FpdCB3KG0ucGl4ZWxCbG9jayx1LG4pLHA9dGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZTtyZXR1cm4gcD9wLmNvbXB1dGVTdGF0aXN0aWNzSGlzdG9ncmFtcyh7cGl4ZWxCbG9jazpofSxlKTpUKGgpfWFzeW5jIGNyZWF0ZUZsb3dNZXNoKHQsZSl7Y29uc3Qgcj10aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlO3JldHVybiByP3IuY3JlYXRlRmxvd01lc2godCxlKTpVKHQubWVzaFR5cGUsdC5zaW11bGF0aW9uU2V0dGluZ3MsdC5mbG93RGF0YSxudWxsIT1lLnNpZ25hbD9lLnNpZ25hbDoobmV3IEFib3J0Q29udHJvbGxlcikuc2lnbmFsKX1ub3JtYWxpemVSYXN0ZXJGZXRjaE9wdGlvbnModCl7Y29uc3R7bXVsdGlkaW1lbnNpb25hbEluZm86ZX09dGhpcy5yYXN0ZXJJbmZvPz97fTtpZihudWxsPT1lKXJldHVybiB0O2xldCByPXQubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb258fHRoaXMubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb247bnVsbCE9ciYmci5sZW5ndGh8fChyPUoodGhpcy5yYXN0ZXIucmFzdGVySW5mbyx7bXVsdGlkaW1lbnNpb25hbFN1YnNldDp0aGlzLm11bHRpZGltZW5zaW9uYWxTdWJzZXR9KSk7Y29uc3QgaT10LnRpbWVFeHRlbnR8fHRoaXMudGltZUV4dGVudDtpZihudWxsIT1yJiZudWxsIT1pJiYobnVsbCE9aS5zdGFydHx8bnVsbCE9aS5lbmQpKXtyPXIubWFwKCh0PT50LmNsb25lKCkpKTtjb25zdCBuPWUudmFyaWFibGVzLmZpbmQoKCh7bmFtZTp0fSk9PnQ9PT1yWzBdLnZhcmlhYmxlTmFtZSkpPy5kaW1lbnNpb25zPy5maW5kKCgoe25hbWU6dH0pPT5cIlN0ZFRpbWVcIj09PXQpKSxzPXIuZmluZCgoKHtkaW1lbnNpb25OYW1lOnR9KT0+XCJTdGRUaW1lXCI9PT10KSk7aWYoIW58fCFzKXJldHVybnsuLi50LG11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uOm51bGx9O2NvbnN0e3N0YXJ0Om8sZW5kOmF9PWksbD1udWxsPT1vP251bGw6by5nZXRUaW1lKCksdT1udWxsPT1hP251bGw6YS5nZXRUaW1lKCksYz1sPz91LGQ9dT8/bDtpZihudWxsIT1uLnZhbHVlcyl7Y29uc3QgdD1uLnZhbHVlcy5maWx0ZXIoKHQ9PntpZihBcnJheS5pc0FycmF5KHQpKXtpZihjPT09ZClyZXR1cm4gdFswXTw9YyYmdFsxXT49Yztjb25zdCBlPXRbMF08PWMmJnRbMV0+Y3x8dFswXTxkJiZ0WzFdPj1kLHI9dFswXT49YyYmdFsxXTw9ZHx8dFswXTxjJiZ0WzFdPmQ7cmV0dXJuIGV8fHJ9cmV0dXJuIGM9PT1kP3Q9PT1jOnQ+PWMmJnQ8PWR9KSk7aWYodC5sZW5ndGgpe2NvbnN0IGU9dC5zb3J0KCgodCxlKT0+e2NvbnN0IHI9QXJyYXkuaXNBcnJheSh0KT90WzBdOnQsaT1BcnJheS5pc0FycmF5KHQpP3RbMV06dCxuPUFycmF5LmlzQXJyYXkoZSk/ZVswXTplLHM9QXJyYXkuaXNBcnJheShlKT9lWzFdOmU7aWYoYz09PWQpcmV0dXJuIHItbjtyZXR1cm4gTWF0aC5hYnMoaS1kKS1NYXRoLmFicyhzLWQpfSkpWzBdO3MudmFsdWVzPVtlXX1lbHNlIHI9bnVsbH1lbHNlIGlmKG4uaGFzUmVndWxhckludGVydmFscyYmbi5leHRlbnQpe2NvbnN0W3QsZV09bi5leHRlbnQ7Yz5lfHxkPHQ/cj1udWxsOnMudmFsdWVzPWM9PT1kP1tjXTpbTWF0aC5tYXgodCxjKSxNYXRoLm1pbihlLGQpXX19cmV0dXJuIG51bGwhPXImJlIocix0aGlzLm11bHRpZGltZW5zaW9uYWxTdWJzZXQpP3suLi50LG11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uOm51bGx9OnsuLi50LG11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uOnJ9fWFzeW5jIHVwZGF0ZVJhc3RlckZ1bmN0aW9uKCl7aWYoIXRoaXMubG9hZGVkfHxcImltYWdlcnktdGlsZVwiIT09dGhpcy50eXBlfHwhdGhpcy5yYXN0ZXJGdW5jdGlvbiYmIXRoaXMuX2NhY2hlZFJhc3RlckZ1bmN0aW9uSnNvbnx8SlNPTi5zdHJpbmdpZnkodGhpcy5yYXN0ZXJGdW5jdGlvbik9PT1KU09OLnN0cmluZ2lmeSh0aGlzLl9jYWNoZWRSYXN0ZXJGdW5jdGlvbkpzb24pKXJldHVybjtpZih0aGlzLl9pc0NvbnN0cnVjdGVkRnJvbUZ1bmN0aW9uUmFzdGVyJiZcIkZ1bmN0aW9uXCI9PT10aGlzLnJhc3Rlci5kYXRhc2V0Rm9ybWF0KXtjb25zdCB0PXRoaXMucmFzdGVyLnJhc3RlckZ1bmN0aW9uLnRvSlNPTigpO3JldHVybiF0aGlzLnJhc3RlckZ1bmN0aW9uJiZ0JiZ0aGlzLl9zZXQoXCJyYXN0ZXJGdW5jdGlvblwiLHkuZnJvbUpTT04odCkpLHZvaWQodGhpcy5fY2FjaGVkUmFzdGVyRnVuY3Rpb25Kc29uPXRoaXMucmFzdGVyRnVuY3Rpb24/LnRvSlNPTigpKX1sZXQgdCxlPXRoaXMucmFzdGVyLHI9ITE7XCJGdW5jdGlvblwiPT09ZS5kYXRhc2V0Rm9ybWF0Pyh0PWUucHJpbWFyeVJhc3RlcnMucmFzdGVycyxlPXRbMF0scj0hMCk6dD1bZV07Y29uc3R7cmFzdGVyRnVuY3Rpb246aX09dGhpcztpZihpKXtjb25zdCByPXtyYXN0ZXI6ZX07dC5sZW5ndGg+MSYmdC5mb3JFYWNoKCh0PT5yW3QudXJsXT10KSk7Y29uc3Qgbj12KGkuZnVuY3Rpb25EZWZpbml0aW9uPy50b0pTT04oKT8/aS50b0pTT04oKSxyKSxzPW5ldyBGKHtyYXN0ZXJGdW5jdGlvbjpufSk7cy5yYXN0ZXJKb2JIYW5kbGVyPXRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2UsYXdhaXQgcy5vcGVuKCksdGhpcy5fY2FjaGVkUmFzdGVyRnVuY3Rpb25Kc29uPXRoaXMucmFzdGVyRnVuY3Rpb24/LnRvSlNPTigpLHRoaXMucmFzdGVyPXN9ZWxzZSB0aGlzLnJhc3Rlcj1lLHRoaXMuX2NhY2hlZFJhc3RlckZ1bmN0aW9uSnNvbj1udWxsLGF3YWl0IGUud2hlbigpO2lmKHRoaXMuX2NhY2hlZFJlbmRlcmVySnNvbj1udWxsLCFyJiYhaSlyZXR1cm47Y29uc3R7YmFuZElkczpufT10aGlzLHtiYW5kQ291bnQ6c309dGhpcy5yYXN0ZXIucmFzdGVySW5mbyxvPW4/Lmxlbmd0aD9uLnNvbWUoKHQ9PnQ+PXMpKTpzPj0zO24mJihvfHx0aGlzLnJlbmRlcmVyJiZcInJhc3Rlci1zdHJldGNoXCIhPT10aGlzLnJlbmRlcmVyLnR5cGUpJiZ0aGlzLl9zZXQoXCJiYW5kSWRzXCIsbnVsbCksdGhpcy5fY29uZmlnRGVmYXVsdFJlbmRlcmVyKFwiYXV0b1wiKX1hc3luYyB1cGRhdGVSZW5kZXJlcigpe2NvbnN0e2xvYWRlZDp0LHN5bWJvbGl6ZXI6ZX09dGhpcztpZighdHx8IWV8fCF0aGlzLnJlbmRlcmVyKXJldHVybjtjb25zdHtyYXN0ZXJJbmZvOnJ9PXRoaXMucmFzdGVyLGk9XyhyLHttdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjp0aGlzLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uLG11bHRpZGltZW5zaW9uYWxTdWJzZXQ6dGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0fSksbj1pPy5uYW1lLHM9Tyh7Li4udGhpcy5yZW5kZXJlci50b0pTT04oKSx2YXJpYWJsZU5hbWU6bn0pO2lmKEpTT04uc3RyaW5naWZ5KHRoaXMuX2NhY2hlZFJlbmRlcmVySnNvbik9PT1KU09OLnN0cmluZ2lmeShzKSlyZXR1cm47Y29uc3Qgbz10aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlO28mJihlLnJhc3RlckluZm89eihyLG4pLGUucmVuZGVyZXJKU09OPXMsZS5iaW5kKCksYXdhaXQgby51cGRhdGVTeW1ib2xpemVyKGUpLHRoaXMuX2NhY2hlZFJlbmRlcmVySnNvbj1zKX1hc3luYyBhcHBseVJlbmRlcmVyKHQsZSl7Y29uc3Qgcj10JiZ0LnBpeGVsQmxvY2s7aWYoIShudWxsIT1yJiZyLnBpeGVscyYmci5waXhlbHMubGVuZ3RoPjApKXJldHVybiBudWxsO2xldCBpO2F3YWl0IHRoaXMudXBkYXRlUmVuZGVyZXIoKTtjb25zdCBuPXRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2Uscz10aGlzLmJhbmRJZHM/P1tdO3JldHVybiBpPW4/YXdhaXQgbi5zeW1ib2xpemUoey4uLnQsc2ltcGxlU3RyZXRjaFBhcmFtczplLGJhbmRJZHM6c30pOnRoaXMuc3ltYm9saXplci5zeW1ib2xpemUoey4uLnQsc2ltcGxlU3RyZXRjaFBhcmFtczplLGJhbmRJZHM6c30pLGl9Z2V0VGlsZVVybCh0LGUscil7cmV0dXJuXCJSYXN0ZXJUaWxlU2VydmVyXCI9PT10aGlzLnJhc3Rlci5kYXRhc2V0Rm9ybWF0P2Ake3RoaXMudXJsfS90aWxlLyR7dH0vJHtlfS8ke3J9YDpcIlwifWdldENvbXBhdGlibGVUaWxlSW5mbyh0LGUscj0hMSl7aWYoIXRoaXMubG9hZGVkfHxudWxsPT1lKXJldHVybiBudWxsO2lmKHImJnQuZXF1YWxzKHRoaXMuc3BhdGlhbFJlZmVyZW5jZSkpcmV0dXJuIHRoaXMudGlsZUluZm87Y29uc3QgaT1kKHQpO3JldHVybiBnLmNyZWF0ZSh7c2l6ZToyNTYsc3BhdGlhbFJlZmVyZW5jZTp0LG9yaWdpbjppP3t4Omkub3JpZ2luWzBdLHk6aS5vcmlnaW5bMV19Ont4OmUueG1pbix5OmUueW1heH19KX1nZXRDb21wYXRpYmxlRnVsbEV4dGVudCh0KXtyZXR1cm4gdGhpcy5sb2FkZWQ/KHRoaXMuX2NvbXBhdGlibGVGdWxsRXh0ZW50JiZ0aGlzLl9jb21wYXRpYmxlRnVsbEV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLmVxdWFscyh0KXx8KHRoaXMuX2NvbXBhdGlibGVGdWxsRXh0ZW50PXRoaXMucmFzdGVyLmNvbXB1dGVFeHRlbnQodCkpLHRoaXMuX2NvbXBhdGlibGVGdWxsRXh0ZW50KTpudWxsfWFzeW5jIGZldGNoVGlsZSh0LGUscixpPXt9KXtpZihMKHRoaXMpLGkucmVxdWVzdEFzSW1hZ2VFbGVtZW50KXtjb25zdCBzPXRoaXMuZ2V0VGlsZVVybCh0LGUscik7cmV0dXJuIG4ocyx7cmVzcG9uc2VUeXBlOlwiaW1hZ2VcIixxdWVyeTp7Li4udGhpcy5yZWZyZXNoUGFyYW1ldGVycywuLi50aGlzLnJhc3Rlci5pb0NvbmZpZy5jdXN0b21GZXRjaFBhcmFtZXRlcnN9LHNpZ25hbDppLnNpZ25hbH0pLnRoZW4oKHQ9PnQuZGF0YSkpfWNvbnN0e3Jhc3RlckluZm86c309dGhpcztpZihudWxsIT1zLm11bHRpZGltZW5zaW9uYWxJbmZvJiZudWxsPT0oaT10aGlzLm5vcm1hbGl6ZVJhc3RlckZldGNoT3B0aW9ucyhpKSkubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24pe2NvbnN0IG49aS50aWxlSW5mb3x8cy5zdG9yYWdlSW5mby50aWxlSW5mbztyZXR1cm57ZXh0ZW50OnRoaXMucmFzdGVyLmdldFRpbGVFeHRlbnRGcm9tVGlsZUluZm8odCxlLHIsbikscGl4ZWxCbG9jazpudWxsfX1yZXR1cm4gYXdhaXQgdGhpcy5faW5pdEpvYkhhbmRsZXIoKSxhd2FpdCB0aGlzLnVwZGF0ZVJhc3RlckZ1bmN0aW9uKCksXCJyYXN0ZXItc2hhZGVkLXJlbGllZlwiPT09dGhpcy5yZW5kZXJlcj8udHlwZSYmKGk9ey4uLmksYnVmZmVyOntjb2xzOjEscm93czoxfX0pLHRoaXMucmFzdGVyLmZldGNoVGlsZSh0LGUscixpKX1hc3luYyBmZXRjaFBpeGVscyh0LGUscixpPXt9KXtyZXR1cm4gbnVsbCE9dGhpcy5yYXN0ZXJJbmZvLm11bHRpZGltZW5zaW9uYWxJbmZvJiZudWxsPT0oaT10aGlzLm5vcm1hbGl6ZVJhc3RlckZldGNoT3B0aW9ucyhpKSkubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24/e2V4dGVudDp0LHBpeGVsQmxvY2s6bnVsbH06KGF3YWl0IHRoaXMuX2luaXRKb2JIYW5kbGVyKCksYXdhaXQgdGhpcy51cGRhdGVSYXN0ZXJGdW5jdGlvbigpLGU9TWF0aC5yb3VuZChlKSxyPU1hdGgucm91bmQociksdGhpcy5yYXN0ZXIuZmV0Y2hQaXhlbHModCxlLHIsaSkpfWFzeW5jIGlkZW50aWZ5KHQsZT17fSl7Y29uc3R7cmFzdGVyOnIscmFzdGVySW5mbzppfT10aGlzO2lmKG51bGwhPWkubXVsdGlkaW1lbnNpb25hbEluZm8pe2lmKCEoaS5oYXNNdWx0aWRpbWVuc2lvbmFsVHJhbnNwb3NlJiYhIShJKGUubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24pfHxlLnRyYW5zcG9zZWRWYXJpYWJsZU5hbWV8fGUudGltZUV4dGVudCkpJiZudWxsPT0oZT10aGlzLm5vcm1hbGl6ZVJhc3RlckZldGNoT3B0aW9ucyhlKSkubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24pcmV0dXJue2xvY2F0aW9uOnQsdmFsdWU6bnVsbH19Y29uc3Qgbj10aGlzLm11bHRpZGltZW5zaW9uYWxTdWJzZXQ/LmFyZWFPZkludGVyZXN0O2lmKG4mJiFuLmNvbnRhaW5zKHQpKXRocm93IG5ldyBzKFwiaW1hZ2VyeS10aWxlLW1peGluOmlkZW50aWZ5XCIsXCJ0aGUgcmVxdWVzdCBjYW5ub3QgYmUgZnVsZmlsbGVkIHdoZW4gZmFsbGluZyBvdXRzaWRlIG9mIHRoZSBtdWx0aWRpbWVuc2lvbmFsIHN1YnNldFwiKTtyZXR1cm4gci5pZGVudGlmeSh0LGUpfWluY3JlYXNlUmFzdGVySm9iSGFuZGxlclVzYWdlKCl7dGhpcy5fcmFzdGVySm9iSGFuZGxlci5yZWZDb3VudCsrfWRlY3JlYXNlUmFzdGVySm9iSGFuZGxlclVzYWdlKCl7dGhpcy5fcmFzdGVySm9iSGFuZGxlci5yZWZDb3VudC0tLHRoaXMuX3Jhc3RlckpvYkhhbmRsZXIucmVmQ291bnQ8PTAmJnRoaXMuX3NodXRkb3duSm9iSGFuZGxlcigpfWhhc1N0YW5kYXJkVGltZSgpe2NvbnN0IHQ9dGhpcy5yYXN0ZXJJbmZvPy5tdWx0aWRpbWVuc2lvbmFsSW5mbztpZihudWxsPT10fHxcInN0YW5kYXJkLXRpbWVcIiE9PXRoaXMucmFzdGVySW5mbz8uZGF0YVR5cGUpcmV0dXJuITE7Y29uc3QgZT10aGlzLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uLHI9ZT8uWzBdPy52YXJpYWJsZU5hbWU7cmV0dXJuIHQudmFyaWFibGVzLnNvbWUoKHQ9PnQubmFtZT09PXImJighZT8uWzBdLmRpbWVuc2lvbk5hbWV8fHQuZGltZW5zaW9ucy5zb21lKCh0PT5cIlN0ZFRpbWVcIj09PXQubmFtZSkpKSkpfWdldFN0YW5kYXJkVGltZVZhbHVlKHQpe3JldHVybiBuZXcgRGF0ZSgyNCoodC0yNTU2OSkqMzYwMCoxZTMpLnRvU3RyaW5nKCl9Z2V0TXVsdGlkaW1lbnNpb25hbFN1YnNldFZhcmlhYmxlcyh0KXtjb25zdCBlPXQ/P3RoaXMucmFzdGVySW5mbz8ubXVsdGlkaW1lbnNpb25hbEluZm87cmV0dXJuIFModGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0LGUpfV9jb25maWdEZWZhdWx0U2V0dGluZ3MoKXt0aGlzLl9jb25maWdEZWZhdWx0SW50ZXJwb2xhdGlvbigpLHRoaXMubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb258fCh0aGlzLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uPUoodGhpcy5yYXN0ZXIucmFzdGVySW5mbyx7bXVsdGlkaW1lbnNpb25hbFN1YnNldDp0aGlzLm11bHRpZGltZW5zaW9uYWxTdWJzZXR9KSksdGhpcy5yYXN0ZXJGdW5jdGlvbiYmXCJGdW5jdGlvblwiPT09dGhpcy5yYXN0ZXIuZGF0YXNldEZvcm1hdCYmKHRoaXMuX2NhY2hlZFJhc3RlckZ1bmN0aW9uSnNvbj10aGlzLnJhc3RlckZ1bmN0aW9uLnRvSlNPTigpKSx0aGlzLl9jb25maWdEZWZhdWx0UmVuZGVyZXIoKX1faW5pdEpvYkhhbmRsZXIoKXtpZihudWxsIT10aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmNvbm5lY3Rpb25Qcm9taXNlKXJldHVybiB0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmNvbm5lY3Rpb25Qcm9taXNlO2NvbnN0IHQ9bmV3IGI7cmV0dXJuIHRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuY29ubmVjdGlvblByb21pc2U9dC5pbml0aWFsaXplKCkudGhlbigoYXN5bmMoKT0+e0wodGhpcyksdGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZT10LHRoaXMucmFzdGVyLnJhc3RlckpvYkhhbmRsZXI9dCxcIkZ1bmN0aW9uXCI9PT10aGlzLnJhc3Rlci5kYXRhc2V0Rm9ybWF0JiZ0aGlzLnJhc3Rlci5zeW5jSm9iSGFuZGxlcigpLHRoaXMucmFzdGVyRnVuY3Rpb24mJmF3YWl0IHRoaXMudXBkYXRlUmFzdGVyRnVuY3Rpb24oKS5jYXRjaCgoKCk9Pnt9KSksdGhpcy5yZW5kZXJlciYmdGhpcy51cGRhdGVSZW5kZXJlcigpfSkpLmNhdGNoKCgoKT0+e30pKSx0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmNvbm5lY3Rpb25Qcm9taXNlfV9zaHV0ZG93bkpvYkhhbmRsZXIoKXt0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlJiZ0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlLmRlc3Ryb3koKSx0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlPW51bGwsdGhpcy5fcmFzdGVySm9iSGFuZGxlci5jb25uZWN0aW9uUHJvbWlzZT1udWxsLHRoaXMuX3Jhc3RlckpvYkhhbmRsZXIucmVmQ291bnQ9MCx0aGlzLl9jYWNoZWRSZW5kZXJlckpzb249bnVsbCx0aGlzLnJhc3RlciYmKHRoaXMucmFzdGVyLnJhc3RlckpvYkhhbmRsZXI9bnVsbCl9X2NvbmZpZ0RlZmF1bHRJbnRlcnBvbGF0aW9uKCl7aWYobnVsbD09dGhpcy5pbnRlcnBvbGF0aW9uKXtMKHRoaXMpO2NvbnN0e3Jhc3Rlcjp0fT10aGlzLGU9UCh0LnJhc3RlckluZm8sdC50aWxlVHlwZSx0aGlzLnNvdXJjZUpTT04/LmRlZmF1bHRSZXNhbXBsaW5nTWV0aG9kKTt0aGlzLl9zZXQoXCJpbnRlcnBvbGF0aW9uXCIsZSl9fV9jb25maWdEZWZhdWx0UmVuZGVyZXIodD1cIm5vXCIpe0wodGhpcyk7Y29uc3R7cmFzdGVySW5mbzplfT10aGlzLnJhc3RlcjshdGhpcy5iYW5kSWRzJiZlLmJhbmRDb3VudD4xJiYodGhpcy5iYW5kSWRzPUMoZSkpO2NvbnN0IHI9XyhlLHttdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjp0aGlzLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uLG11bHRpZGltZW5zaW9uYWxTdWJzZXQ6dGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0fSksaT1yPy5uYW1lO2lmKCF0aGlzLnJlbmRlcmVyfHxcIm92ZXJyaWRlXCI9PT10KXtjb25zdCB0PUUoZSx7YmFuZElkczp0aGlzLmJhbmRJZHMsdmFyaWFibGVOYW1lOml9KSxyPWUuc3RhdGlzdGljcyxuPXImJnIubGVuZ3RoPjA/clswXTpudWxsLHM9bj8ubWF4Pz8wLG89bj8ubWluPz8wO1wiV0NTU2VydmVyXCI9PT10aGlzLnJhc3Rlci5kYXRhc2V0Rm9ybWF0JiZcInJhc3Rlci1zdHJldGNoXCI9PT10LnR5cGUmJihzPjFlMjR8fG88LTFlMjQpJiYodC5keW5hbWljUmFuZ2VBZGp1c3RtZW50PSEwLHQuc3RhdGlzdGljcz1udWxsLFwibm9uZVwiPT09dC5zdHJldGNoVHlwZSYmKHQuc3RyZXRjaFR5cGU9XCJtaW4tbWF4XCIpKSx0aGlzLnJlbmRlcmVyPXR9Y29uc3Qgbj1PKHsuLi50aGlzLnJlbmRlcmVyLnRvSlNPTigpLHZhcmlhYmxlTmFtZTppfSkscz16KGUsaSk7dGhpcy5zeW1ib2xpemVyPyh0aGlzLnN5bWJvbGl6ZXIucmVuZGVyZXJKU09OPW4sdGhpcy5zeW1ib2xpemVyLnJhc3RlckluZm89cyk6dGhpcy5zeW1ib2xpemVyPW5ldyBBKHtyZW5kZXJlckpTT046bixyYXN0ZXJJbmZvOnN9KTtjb25zdCBvPXRoaXMuc3ltYm9saXplci5iaW5kKCk7aWYoby5zdWNjZXNzKXtpZihcImF1dG9cIj09PXQpe2NvbnN0e2NvbG9ybWFwOnR9PXRoaXMucmFzdGVyLnJhc3RlckluZm8sZT10aGlzLnJlbmRlcmVyO2lmKG51bGwhPXQmJlwicmFzdGVyLWNvbG9ybWFwXCI9PT1lLnR5cGUpe2NvbnN0IHQ9RSh0aGlzLnJhc3Rlci5yYXN0ZXJJbmZvKTtKU09OLnN0cmluZ2lmeSh0KSE9PUpTT04uc3RyaW5naWZ5KGUpJiZ0aGlzLl9jb25maWdEZWZhdWx0UmVuZGVyZXIoXCJvdmVycmlkZVwiKX1lbHNlIGlmKFwicmFzdGVyLXN0cmV0Y2hcIj09PWUudHlwZSl7Y29uc3QgdD10aGlzLmJhbmRJZHM/Lmxlbmd0aCxyPWUuc3RhdGlzdGljcz8ubGVuZ3RoOyFlLmR5bmFtaWNSYW5nZUFkanVzdG1lbnQmJnImJnQmJnIhPT10JiZ0aGlzLl9jb25maWdEZWZhdWx0UmVuZGVyZXIoXCJvdmVycmlkZVwiKX19fWVsc2UgQi53YXJuKFwiaW1hZ2VyeS10aWxlLW1peGluXCIsby5lcnJvcnx8XCJUaGUgZ2l2ZW4gcmVuZGVyZXIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgbGF5ZXIuXCIpLFwiYXV0b1wiPT09dCYmdGhpcy5fY29uZmlnRGVmYXVsdFJlbmRlcmVyKFwib3ZlcnJpZGVcIil9fTtmdW5jdGlvbiBMKHQpe2lmKCF0LnJhc3Rlcnx8IXQucmFzdGVySW5mbyl0aHJvdyBuZXcgcyhcImltYWdlcnktdGlsZVwiLFwibm8gcmFzdGVyXCIpfXJldHVybiB0KFthKCldLFYucHJvdG90eXBlLFwiX2NhY2hlZFJlbmRlcmVySnNvblwiLHZvaWQgMCksdChbYSgpXSxWLnByb3RvdHlwZSxcIl9jYWNoZWRSYXN0ZXJGdW5jdGlvbkpzb25cIix2b2lkIDApLHQoW2EoKV0sVi5wcm90b3R5cGUsXCJfY29tcGF0aWJsZUZ1bGxFeHRlbnRcIix2b2lkIDApLHQoW2EoKV0sVi5wcm90b3R5cGUsXCJfaXNDb25zdHJ1Y3RlZEZyb21GdW5jdGlvblJhc3RlclwiLHZvaWQgMCksdChbYSgpXSxWLnByb3RvdHlwZSxcIl9yYXN0ZXJKb2JIYW5kbGVyXCIsdm9pZCAwKSx0KFthKCldLFYucHJvdG90eXBlLFwiYmFuZElkc1wiLHZvaWQgMCksdChbYSh7anNvbjp7b3JpZ2luczp7c2VydmljZTp7cmVhZDp7c291cmNlOlwiY29weXJpZ2h0VGV4dFwifX19fX0pXSxWLnByb3RvdHlwZSxcImNvcHlyaWdodFwiLHZvaWQgMCksdChbYSh7anNvbjp7cmVhZDohMX19KV0sVi5wcm90b3R5cGUsXCJmdWxsRXh0ZW50XCIsbnVsbCksdChbYSgpXSxWLnByb3RvdHlwZSxcImludGVycG9sYXRpb25cIix2b2lkIDApLHQoW2EoKV0sVi5wcm90b3R5cGUsXCJpb0NvbmZpZ1wiLHZvaWQgMCksdChbYSh7dHlwZTpbcF0sanNvbjp7d3JpdGU6ITB9fSldLFYucHJvdG90eXBlLFwibXVsdGlkaW1lbnNpb25hbERlZmluaXRpb25cIixudWxsKSx0KFthKHt0eXBlOmYsanNvbjp7d3JpdGU6ITB9fSldLFYucHJvdG90eXBlLFwibXVsdGlkaW1lbnNpb25hbFN1YnNldFwiLHZvaWQgMCksdChbYSgpXSxWLnByb3RvdHlwZSxcInJhc3RlclwiLHZvaWQgMCksdChbYSh7dHlwZTp5LGpzb246e25hbWU6XCJyZW5kZXJpbmdSdWxlXCIsd3JpdGU6ITB9fSldLFYucHJvdG90eXBlLFwicmFzdGVyRnVuY3Rpb25cIixudWxsKSx0KFthKCldLFYucHJvdG90eXBlLFwicmFzdGVySW5mb1wiLHZvaWQgMCksdChbYSgpXSxWLnByb3RvdHlwZSxcInNvdXJjZUpTT05cIix2b2lkIDApLHQoW2Eoe3JlYWRPbmx5OiEwLHR5cGU6ayxqc29uOntyZWFkOiExfX0pXSxWLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLHQoW2Eoe3R5cGU6Z30pXSxWLnByb3RvdHlwZSxcInRpbGVJbmZvXCIsdm9pZCAwKSx0KFthKGgpXSxWLnByb3RvdHlwZSxcInVybFwiLG51bGwpLHQoW2Eoe3R5cGVzOmUsanNvbjp7bmFtZTpcImxheWVyRGVmaW5pdGlvbi5kcmF3aW5nSW5mby5yZW5kZXJlclwiLHdyaXRlOntvdmVycmlkZVBvbGljeSgpe2NvbnN0IHQ9XCJyYXN0ZXItc3RyZXRjaFwiPT09dGhpcy5yZW5kZXJlcj8udHlwZSYmXCJub25lXCI9PT10aGlzLnJlbmRlcmVyLnN0cmV0Y2hUeXBlJiYhdGhpcy5yZW5kZXJlci51c2VHYW1tYTtyZXR1cm57ZW5hYmxlZDohdGhpcy5sb2FkZWR8fFwiUmFzdGVyXCI9PT10aGlzLnJhc3Rlci50aWxlVHlwZXx8IXR9fX0sb3JpZ2luczp7XCJ3ZWItc2NlbmVcIjp7dHlwZXM6cixuYW1lOlwibGF5ZXJEZWZpbml0aW9uLmRyYXdpbmdJbmZvLnJlbmRlcmVyXCIsd3JpdGU6e292ZXJyaWRlUG9saWN5OnQ9Pih7ZW5hYmxlZDp0JiZcInZlY3Rvci1maWVsZFwiIT09dC50eXBlJiZcImZsb3dcIiE9PXQudHlwZX0pfX19fX0pXSxWLnByb3RvdHlwZSxcInJlbmRlcmVyXCIsbnVsbCksdChbdShcInJlbmRlcmVyXCIpXSxWLnByb3RvdHlwZSxcInJlYWRSZW5kZXJlclwiLG51bGwpLHQoW2EoKV0sVi5wcm90b3R5cGUsXCJzeW1ib2xpemVyXCIsdm9pZCAwKSxWPXQoW2MoXCJlc3JpLmxheWVycy5JbWFnZXJ5VGlsZU1peGluXCIpXSxWKSxWfTtleHBvcnR7ViBhcyBJbWFnZXJ5VGlsZU1peGlufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7SlNPTlN1cHBvcnQgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7dW53cmFwT3JUaHJvdyBhcyBufWZyb21cIi4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7RXNyaVByb21pc2VNaXhpbiBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvUHJvbWlzZS5qc1wiO2ltcG9ydHtvbkFib3J0IGFzIGx9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e2Vuc3VyZUNsYXNzIGFzIGN9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBtfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7c2FuaXRpemVVcmwgYXMgZn1mcm9tXCIuLi9hcmNnaXNMYXllclVybC5qc1wiO2ltcG9ydHt1cmwgYXMgdX1mcm9tXCIuLi9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0IGggZnJvbVwiLi4vRGltZW5zaW9uYWxEZWZpbml0aW9uLmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vTE9ELmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vUmFzdGVyU3RvcmFnZUluZm8uanNcIjtpbXBvcnQgeCBmcm9tXCIuLi9UaWxlSW5mby5qc1wiO2ltcG9ydHtpc011bHRpU2xpY2VPclJhbmdlRGVmaW5pdGlvbiBhcyB5LGdldFNsaWNlSW5kZXggYXMgZyxjcmVhdGVTbGljZXMgYXMgSSxnZXRTbGljZUlkcyBhcyBSfWZyb21cIi4vbXVsdGlkaW1lbnNpb25hbFV0aWxzLmpzXCI7aW1wb3J0e2dldFJhc3RlcklkIGFzIHcsZ2V0QmxvY2sgYXMgUyxwdXRCbG9jayBhcyBrLGRlbGV0ZUJsb2NrIGFzIFQsZGVjcmVhc2VSZWZDb3VudCBhcyBifWZyb21cIi4vUmF3QmxvY2tDYWNoZS5qc1wiO2ltcG9ydHtjb252ZXJ0Tm9EYXRhVG9NYXNrIGFzIHZ9ZnJvbVwiLi4vcmFzdGVyRm9ybWF0cy9waXhlbFJhbmdlVXRpbHMuanNcIjtpbXBvcnR7ZGVjb2RlIGFzIFB9ZnJvbVwiLi4vcmFzdGVyRm9ybWF0cy9SYXN0ZXJDb2RlYy5qc1wiO2ltcG9ydHttb3NhaWMgYXMgQixhcHByb3hpbWF0ZVRyYW5zZm9ybSBhcyBNLGdldExvY2FsQXJpdGhtZXRpY05vcnRoUm90YXRpb25zIGFzIF99ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3BpeGVsVXRpbHMuanNcIjtpbXBvcnR7bG9hZCBhcyBXLGdldFdvcmxkV2lkdGggYXMgQyxwcm9qZWN0UG9pbnQgYXMgaixzbmFwUHlyYW1pZCBhcyBILHNuYXBFeHRlbnQgYXMgeixnZXRXb3JsZFdyYXBDb3VudCBhcyBMLHByb2plY3RFeHRlbnQgYXMgRSxnZXRQcm9qZWN0aW9uT2Zmc2V0R3JpZCBhcyBELGdldFJhc3RlckRhdGFzZXRBbGlnbm1lbnRJbmZvIGFzIEYscHJvamVjdFJlc29sdXRpb24gYXMgT31mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvcmFzdGVyUHJvamVjdGlvbkhlbHBlci5qc1wiO2ltcG9ydHtjb252ZXJ0VG9Mb2NhbERpcmVjdGlvbnMgYXMgQSx1dkNvbXBvbmVudFRvVmVjdG9yIGFzIEd9ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3ZlY3RvckZpZWxkVXRpbHMuanNcIjtpbXBvcnQgcSBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnQgSiBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2NvbnN0IE49OCxWPTI1NjtsZXQgVT1jbGFzcyBleHRlbmRzKHMobykpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmRhdGFzZXROYW1lPW51bGwsdGhpcy5kYXRhc2V0Rm9ybWF0PW51bGwsdGhpcy5oYXNVbmlxdWVTb3VyY2VTdG9yYWdlSW5mbz0hMCx0aGlzLnJhc3RlckluZm89bnVsbCx0aGlzLmlvQ29uZmlnPXtzYW1wbGluZzpcImNsb3Nlc3RcIn19YXN5bmMgaW5pdCgpe2NvbnN0IGU9VygpO3RoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShlKSxhd2FpdCB0aGlzLndoZW4oKX1ub3JtYWxpemVDdG9yQXJncyhlKXtyZXR1cm4gZSYmZS5pb0NvbmZpZyYmKGU9ey4uLmUsaW9Db25maWc6e3Jlc29sdXRpb246bnVsbCxiYW5kSWRzOm51bGwsc2FtcGxpbmc6XCJjbG9zZXN0XCIsdGlsZUluZm86eC5jcmVhdGUoKSwuLi5lLmlvQ29uZmlnfX0pLGV9Z2V0IF9pc0dsb2JhbFdyYXBwYWJsZVNvdXJjZSgpe2NvbnN0e3Jhc3RlckluZm86ZX09dGhpcyx0PUMoZS5zcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm4gbnVsbCE9dCYmZS5leHRlbnQud2lkdGg+PXQvMn1nZXQgX2hhc05vbmVPckdDU1NoaWZ0VHJhbnNmb3JtKCl7Y29uc3R7dHJhbnNmb3JtOmV9PXRoaXMucmFzdGVySW5mbztyZXR1cm4gbnVsbD09ZXx8XCJnY3Mtc2hpZnRcIj09PWUudHlwZX1zZXQgcmFzdGVySm9iSGFuZGxlcihlKXt0aGlzLl9zZXQoXCJyYXN0ZXJKb2JIYW5kbGVyXCIsZSksXCJGdW5jdGlvblwiPT09dGhpcy5kYXRhc2V0Rm9ybWF0JiZ0aGlzLnByaW1hcnlSYXN0ZXJzPy5yYXN0ZXJzPy5mb3JFYWNoKCh0PT50LnJhc3RlckpvYkhhbmRsZXI9ZSkpfXNldCB1cmwoZSl7dGhpcy5fc2V0KFwidXJsXCIsZihlLHIuZ2V0TG9nZ2VyKHRoaXMpKSl9YXN5bmMgb3BlbihlKXt0aHJvdyBuZXcgaShcIkJhc2VSYXN0ZXI6b3Blbi1ub3QtaW1wbGVtZW50ZWRcIixcIm9wZW4oKSBpcyBub3QgaW1wbGVtZW50ZWRcIil9YXN5bmMgZmV0Y2hUaWxlKGUsdCxpLG89e30pe2NvbnN0IHI9by50aWxlSW5mb3x8dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLnRpbGVJbmZvLG49dGhpcy5nZXRUaWxlRXh0ZW50RnJvbVRpbGVJbmZvKGUsdCxpLHIpO3JldHVybiB0aGlzLmZldGNoUGl4ZWxzKG4sci5zaXplWzBdLHIuc2l6ZVsxXSxvKX1hc3luYyBpZGVudGlmeShlLHQ9e30pe2U9YyhKLGUpLmNsb25lKCkubm9ybWFsaXplKCk7Y29uc3R7bXVsdGlkaW1lbnNpb25hbERlZmluaXRpb246aSx0aW1lRXh0ZW50Om99PXQse3Jhc3RlckluZm86cn09dGhpcyx7aGFzTXVsdGlkaW1lbnNpb25hbFRyYW5zcG9zZTpuLG11bHRpZGltZW5zaW9uYWxJbmZvOnN9PXI7bGV0e3RyYW5zcG9zZWRWYXJpYWJsZU5hbWU6bH09dDtjb25zdCBhPW51bGwhPXMmJm4mJihudWxsIT1vfHx5KGkpKTtpZihhJiYhbCl7bD1udWxsIT1pJiZpLmxlbmd0aD4wP2lbMF0udmFyaWFibGVOYW1lPz92b2lkIDA6cy52YXJpYWJsZXNbMF0ubmFtZSx0PXsuLi50LHRyYW5zcG9zZWRWYXJpYWJsZU5hbWU6bH19dD10aGlzLl9nZXRSZXF1ZXN0T3B0aW9uc1dpdGhTbGljZUlkKHQpO2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6bSxleHRlbnQ6Zn09cix7ZGF0dW1UcmFuc2Zvcm1hdGlvbjp1fT10O2xldCBoPWooZSxtLHUpO2lmKCFmLmludGVyc2VjdHMoaCkpcmV0dXJue2xvY2F0aW9uOmgsdmFsdWU6bnVsbH07aWYobnVsbCE9ci50cmFuc2Zvcm0pe2NvbnN0IGU9ci50cmFuc2Zvcm0uaW52ZXJzZVRyYW5zZm9ybShoKTtpZighci5uYXRpdmVFeHRlbnQuaW50ZXJzZWN0cyhlKSlyZXR1cm57bG9jYXRpb246ZSx2YWx1ZTpudWxsfTtoPWV9bGV0IHA9MDtjb25zdCBkPW51bGwhPWwmJm51bGwhPXMmJnIuaGFzTXVsdGlkaW1lbnNpb25hbFRyYW5zcG9zZTtpZihcIkZ1bmN0aW9uXCI9PT10aGlzLmRhdGFzZXRGb3JtYXQpe2NvbnN0IGU9dGhpcy5wcmltYXJ5UmFzdGVycy5yYXN0ZXJzWzBdO2lmKGQpcmV0dXJuIGUuaWRlbnRpZnkoaCx0KTtjb25zdHtwaXhlbFNpemU6aX09cixvPTMsbj1pLngqby8yLHM9aS55Km8vMixsPW5ldyBxKHt4bWluOmgueC1uLHhtYXg6aC54K24seW1pbjpoLnktcyx5bWF4OmgueStzLHNwYXRpYWxSZWZlcmVuY2U6bX0pLGE9e2ludGVycG9sYXRpb246XCJuZWFyZXN0XCJ9LHtwaXhlbEJsb2NrOmN9PWF3YWl0IGUuZmV0Y2hQaXhlbHMobCxvLG8sYSkse3BpeGVsQmxvY2s6Zn09YXdhaXQgdGhpcy5mZXRjaFBpeGVscyhsLG8sbyxhKTtpZihudWxsPT1jKXJldHVybntsb2NhdGlvbjpoLHZhbHVlOm51bGx9O2NvbnN0IHU9TWF0aC5mbG9vcihvKm8qLjUpLHA9IWMubWFza3x8Yy5tYXNrW3VdP2MucGl4ZWxzLm1hcCgoZT0+ZVt1XSkpOm51bGw7bGV0IHg7cmV0dXJuIG51bGwhPWYmJih4PSFmLm1hc2t8fGYubWFza1t1XT9mLnBpeGVscy5tYXAoKGU9PmVbdV0pKTp2b2lkIDApLHtsb2NhdGlvbjpoLHZhbHVlOnAscHJvY2Vzc2VkVmFsdWU6eCxweXJhbWlkTGV2ZWw6MH19aWYoIWQpaWYodC5zcmNSZXNvbHV0aW9uKXtwPUgodC5zcmNSZXNvbHV0aW9uLHIsdGhpcy5pb0NvbmZpZy5zYW1wbGluZykucHlyYW1pZExldmVsfWVsc2UgaWYocD1hd2FpdCB0aGlzLmNvbXB1dGVCZXN0UHlyYW1pZExldmVsRm9yTG9jYXRpb24oZSx0KSxudWxsPT1wKXJldHVybntsb2NhdGlvbjpoLHZhbHVlOm51bGx9O2NvbnN0IHg9dGhpcy5pZGVudGlmeVBpeGVsTG9jYXRpb24oaCxwLG51bGwsZCk7aWYobnVsbD09PXgpcmV0dXJue2xvY2F0aW9uOmgsdmFsdWU6bnVsbH07Y29uc3R7cm93OmcsY29sOkkscm93T2Zmc2V0OlIsY29sT2Zmc2V0OlQsYmxvY2tXaWR0aDpifT14LHY9bD8/dC5zbGljZUlkLFA9dyh0aGlzLnVybCx2KSxCPWAke3B9LyR7Z30vJHtJfWA7bGV0IE09UyhQLG51bGwsQik7bnVsbD09TSYmKE09dGhpcy5mZXRjaFJhd1RpbGUocCxnLEksdCksayhQLG51bGwsQixNKSk7Y29uc3QgXz1hd2FpdCBNO2lmKG51bGw9PV98fCFfLnBpeGVscz8ubGVuZ3RoKXJldHVybntsb2NhdGlvbjpoLHZhbHVlOm51bGx9O2NvbnN0IFc9UipiK1Q7cmV0dXJuIHRoaXMuX3Byb2Nlc3NJZGVudGlmeVJlc3VsdChfLHtzcmNMb2NhdGlvbjpoLHBvc2l0aW9uOlcscHlyYW1pZExldmVsOnAsdXNlVHJhbnNwb3NlZFRpbGU6ISFkLHJlcXVlc3RTb21lU2xpY2VzOmEsaWRlbnRpZnlPcHRpb25zOnR9KX1hc3luYyBmZXRjaFBpeGVscyhlLHQsaSxvPXt9KXtlPXooZSksbz10aGlzLl9nZXRSZXF1ZXN0T3B0aW9uc1dpdGhTbGljZUlkKG8pO2NvbnN0e19oYXNOb25lT3JHQ1NTaGlmdFRyYW5zZm9ybTpyfT10aGlzO2lmKG8ucmVxdWVzdFJhd0RhdGEmJnIpcmV0dXJuIHRoaXMuX2ZldGNoUGl4ZWxzKGUsdCxpLG8pO2NvbnN0IG49QyhlLnNwYXRpYWxSZWZlcmVuY2UpLHM9TChlKTtpZihudWxsPT1ufHwwPT09c3x8MT09PXMmJnRoaXMuX2lzR2xvYmFsV3JhcHBhYmxlU291cmNlJiZyKXJldHVybiB0aGlzLl9mZXRjaFBpeGVscyhlLHQsaSxvKTtpZihzPj0zKXJldHVybntleHRlbnQ6ZSxwaXhlbEJsb2NrOm51bGx9O2NvbnN0IGw9W10se3htaW46YSx4bWF4OmN9PWUsbT1NYXRoLnJvdW5kKG4vKGMtYSkqdCksZj1tLU1hdGgucm91bmQoKG4vMi1hKS8oYy1hKSp0KTtsZXQgdT0wO2NvbnN0IGg9W107Zm9yKGxldCB5PTA7eTw9czt5Kyspe2NvbnN0IHI9bmV3IHEoe3htaW46MD09PXk/YTotbi8yLHhtYXg6eT09PXM/Yy1uKnk6bi8yLHltaW46ZS55bWluLHltYXg6ZS55bWF4LHNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlfSkscD0wPT09eT9tLWY6eT09PXM/dC11Om07dSs9cCxoLnB1c2gocCk7Y29uc3QgZD1vLmRpc2FibGVXcmFwQXJvdW5kJiZ5PjA/bnVsbDp0aGlzLl9mZXRjaFBpeGVscyhyLHAsaSxvKTtsLnB1c2goZCl9Y29uc3QgcD0oYXdhaXQgUHJvbWlzZS5hbGwobCkpLm1hcCgoZT0+ZT8ucGl4ZWxCbG9jaykpO2xldCBkPW51bGw7Y29uc3QgeD17d2lkdGg6dCxoZWlnaHQ6aX07aWYodGhpcy5yYXN0ZXJKb2JIYW5kbGVyKXtkPShhd2FpdCB0aGlzLnJhc3RlckpvYkhhbmRsZXIubW9zYWljQW5kVHJhbnNmb3JtKHtzcmNQaXhlbEJsb2NrczpwLHNyY01vc2FpY1NpemU6eCxkZXN0RGltZW5zaW9uOm51bGwsY29lZnM6bnVsbCxzYW1wbGVTcGFjaW5nOm51bGwsaW50ZXJwb2xhdGlvbjpcIm5lYXJlc3RcIixhbGlnbm1lbnRJbmZvOm51bGwsYmxvY2tXaWR0aHM6aH0sbykpLnBpeGVsQmxvY2t9ZWxzZSBkPUIocCx4LHtibG9ja1dpZHRoczpofSk7cmV0dXJue2V4dGVudDplLHNyY0V4dGVudDpFKGUsdGhpcy5yYXN0ZXJJbmZvLnNwYXRpYWxSZWZlcmVuY2Usby5kYXR1bVRyYW5zZm9ybWF0aW9uKSxwaXhlbEJsb2NrOmR9fWFzeW5jIGZldGNoUmF3UGl4ZWxzKGUsdCxpLG89e30pe3Q9e3g6TWF0aC5mbG9vcih0LngpLHk6TWF0aC5mbG9vcih0LnkpfTtjb25zdCByPWF3YWl0IHRoaXMuX2ZldGNoUmF3VGlsZXMoZSx0LGksbykse25hdGl2ZUV4dGVudDpuLG5hdGl2ZVBpeGVsU2l6ZTpzLHN0b3JhZ2VJbmZvOmx9PXRoaXMucmFzdGVySW5mbyxhPTIqKmUsYz1zLngqYSxtPXMueSphLGY9bmV3IHEoe3htaW46bi54bWluK2MqdC54LHhtYXg6bi54bWluK2MqKHQueCtpLndpZHRoLTEpLHltaW46bi55bWF4LW0qKHQueStpLmhlaWdodC0xKSx5bWF4Om4ueW1heC1tKnQueSxzcGF0aWFsUmVmZXJlbmNlOm4uc3BhdGlhbFJlZmVyZW5jZX0pO2lmKCFyKXJldHVybntleHRlbnQ6ZixzcmNFeHRlbnQ6ZixwaXhlbEJsb2NrOm51bGx9O2NvbnN0e3BpeGVsQmxvY2tzOnUsbW9zYWljU2l6ZTpofT1yO2lmKDE9PT11Lmxlbmd0aCYmbnVsbCE9dVswXSYmdVswXS53aWR0aD09PWkud2lkdGgmJnVbMF0uaGVpZ2h0PT09aS5oZWlnaHQpcmV0dXJue2V4dGVudDpmLHNyY0V4dGVudDpmLHBpeGVsQmxvY2s6ci5waXhlbEJsb2Nrc1swXX07Y29uc3QgcD1lPjA/bC5weXJhbWlkQmxvY2tXaWR0aDpsLmJsb2NrV2lkdGgsZD1lPjA/bC5weXJhbWlkQmxvY2tIZWlnaHQ6bC5ibG9ja0hlaWdodCx4PXt4OnQueCVwLHk6dC55JWR9O2xldCB5O2lmKHRoaXMucmFzdGVySm9iSGFuZGxlcil7eT0oYXdhaXQgdGhpcy5yYXN0ZXJKb2JIYW5kbGVyLm1vc2FpY0FuZFRyYW5zZm9ybSh7c3JjUGl4ZWxCbG9ja3M6dSxzcmNNb3NhaWNTaXplOmgsZGVzdERpbWVuc2lvbjppLGNsaXBPZmZzZXQ6eCxjbGlwU2l6ZTppLGNvZWZzOm51bGwsc2FtcGxlU3BhY2luZzpudWxsLGludGVycG9sYXRpb246by5pbnRlcnBvbGF0aW9uLGFsaWdubWVudEluZm86bnVsbCxibG9ja1dpZHRoczpudWxsfSxvKSkucGl4ZWxCbG9ja31lbHNlIHk9Qih1LGgse2NsaXBPZmZzZXQ6eCxjbGlwU2l6ZTppfSk7cmV0dXJue2V4dGVudDpmLHNyY0V4dGVudDpmLHBpeGVsQmxvY2s6eX19ZmV0Y2hSYXdUaWxlKGUsdCxvLHIpe3Rocm93IG5ldyBpKFwiQmFzZVJhc3RlcjpyZWFkLW5vdC1pbXBsZW1lbnRlZFwiLFwiZmV0Y2hSYXdUaWxlKCkgaXMgbm90IGltcGxlbWVudGVkXCIpfWNvbXB1dGVFeHRlbnQoZSl7cmV0dXJuIEUodGhpcy5yYXN0ZXJJbmZvLmV4dGVudCxlKX1kZWNvZGVQaXhlbEJsb2NrKGUsdCl7cmV0dXJuIXRoaXMucmFzdGVySm9iSGFuZGxlcnx8dC51c2VDYW52YXM/UChlLHQpOnRoaXMucmFzdGVySm9iSGFuZGxlci5kZWNvZGUoe2RhdGE6ZSxvcHRpb25zOnR9KX1hc3luYyByZXF1ZXN0KGUsaSxvPTApe2NvbnN0e2N1c3RvbUZldGNoUGFyYW1ldGVyczpyfT10aGlzLmlvQ29uZmlnLHtyYW5nZTpuLHF1ZXJ5OnMsaGVhZGVyczpsfT1pO289bz8/aS5yZXRyeUNvdW50Pz90aGlzLmlvQ29uZmlnLnJldHJ5Q291bnQ7Y29uc3QgYT1uP3tSYW5nZTpgYnl0ZXM9JHtuLmZyb219LSR7bi50b31gfTpudWxsO3RyeXtyZXR1cm4gYXdhaXQgdChlLHsuLi5pLHF1ZXJ5OnsuLi5zLC4uLnJ9LGhlYWRlcnM6ey4uLmwsLi4uYX19KX1jYXRjaChjKXtpZihvPjApcmV0dXJuIG8tLSx0aGlzLnJlcXVlc3QoZSxpLG8pO3Rocm93IGN9fWdldFNsaWNlSW5kZXgoZSl7Y29uc3R7bXVsdGlkaW1lbnNpb25hbEluZm86dH09dGhpcy5yYXN0ZXJJbmZvO3JldHVybiBudWxsPT10fHxudWxsPT1lfHwwPT09ZS5sZW5ndGg/bnVsbDpnKGUsdCl9Z2V0VGlsZUV4dGVudEZyb21UaWxlSW5mbyhlLHQsaSxvKXtjb25zdCByPW4oby5sb2RBdChlKSk7cmV0dXJuIHRoaXMuZ2V0VGlsZUV4dGVudCh7eDpyLnJlc29sdXRpb24seTpyLnJlc29sdXRpb259LHQsaSxvLm9yaWdpbixvLnNwYXRpYWxSZWZlcmVuY2Usby5zaXplKX11cGRhdGVUaWxlSW5mbygpe2NvbnN0e3N0b3JhZ2VJbmZvOmUsc3BhdGlhbFJlZmVyZW5jZTp0LGV4dGVudDppLHBpeGVsU2l6ZTpvfT10aGlzLnJhc3RlckluZm87aWYoIWUudGlsZUluZm8pe2NvbnN0IHI9W10sbj1lLm1heGltdW1QeXJhbWlkTGV2ZWx8fDA7bGV0IHM9TWF0aC5tYXgoby54LG8ueSksbD0xLy4wMjU0Kjk2KnM7Zm9yKGxldCBlPTA7ZTw9bjtlKyspci5wdXNoKG5ldyBwKHtsZXZlbDpuLWUscmVzb2x1dGlvbjpzLHNjYWxlOmx9KSkscyo9MixsKj0yO2NvbnN0IGE9bmV3IEooe3g6aS54bWluLHk6aS55bWF4LHNwYXRpYWxSZWZlcmVuY2U6dH0pO2UudGlsZUluZm89bmV3IHgoe29yaWdpbjphLHNpemU6W2UuYmxvY2tXaWR0aCxlLmJsb2NrSGVpZ2h0XSxzcGF0aWFsUmVmZXJlbmNlOnQsbG9kczpyfSksZS5pc1ZpcnR1YWxUaWxlSW5mbz0hMH19Y3JlYXRlUmVtb3RlRGF0YXNldFN0b3JhZ2VJbmZvKGUsdD01MTIsaT01MTIsbyl7Y29uc3R7d2lkdGg6cixoZWlnaHQ6bixuYXRpdmVFeHRlbnQ6cyxwaXhlbFNpemU6bCxzcGF0aWFsUmVmZXJlbmNlOmF9PWUsYz1uZXcgSih7eDpzLnhtaW4seTpzLnltYXgsc3BhdGlhbFJlZmVyZW5jZTphfSk7bnVsbD09byYmKG89TWF0aC5tYXgoMCxNYXRoLnJvdW5kKE1hdGgubG9nKE1hdGgubWF4KHIsbikpL01hdGguTE4yLTgpKSk7Y29uc3QgbT10aGlzLmNvbXB1dGVCbG9ja0JvdW5kYXJ5KHMsNTEyLDUxMix7eDpzLnhtaW4seTpzLnltYXh9LFtsXSxvKTtlLnN0b3JhZ2VJbmZvPW5ldyBkKHtibG9ja1dpZHRoOnQsYmxvY2tIZWlnaHQ6aSxweXJhbWlkQmxvY2tXaWR0aDp0LHB5cmFtaWRCbG9ja0hlaWdodDppLG9yaWdpbjpjLGZpcnN0UHlyYW1pZExldmVsOjEsbWF4aW11bVB5cmFtaWRMZXZlbDpvLGJsb2NrQm91bmRhcnk6bX0pfWFzeW5jIGNvbXB1dGVCZXN0UHlyYW1pZExldmVsRm9yTG9jYXRpb24oZSx0PXt9KXtyZXR1cm4gMH1jb21wdXRlQmxvY2tCb3VuZGFyeShlLHQsaSxvLHIsbj0wLHM9Mil7aWYoMT09PXIubGVuZ3RoJiZuPjApe3I9Wy4uLnJdO2xldHt4OmUseTp0fT1yWzBdO2ZvcihsZXQgaT0wO2k8bjtpKyspZSo9cyx0Kj1zLHIucHVzaCh7eDplLHk6dH0pfWNvbnN0IGw9W10se3g6YSx5OmN9PW87Zm9yKGxldCBtPTA7bTxyLmxlbmd0aDttKyspe2NvbnN0e3g6byx5Om59PXJbbV07bC5wdXNoKHttaW5Db2w6TWF0aC5mbG9vcigoZS54bWluLWErLjEqbykvdC9vKSxtYXhDb2w6TWF0aC5mbG9vcigoZS54bWF4LWEtLjEqbykvdC9vKSxtaW5Sb3c6TWF0aC5mbG9vcigoYy1lLnltYXgrLjEqbikvaS9uKSxtYXhSb3c6TWF0aC5mbG9vcigoYy1lLnltaW4tLjEqbikvaS9uKX0pfXJldHVybiBsfWdldFB5cmFtaWRQaXhlbFNpemUoZSl7Y29uc3R7bmF0aXZlUGl4ZWxTaXplOnR9PXRoaXMucmFzdGVySW5mbyx7cHlyYW1pZFJlc29sdXRpb25zOmkscHlyYW1pZFNjYWxpbmdGYWN0b3I6b309dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvO2lmKDA9PT1lKXJldHVybiB0O2lmKG51bGwhPWkmJmkubGVuZ3RoKXJldHVybiBpW2UtMV07Y29uc3Qgcj1vKiplO3JldHVybnt4OnQueCpyLHk6dC55KnJ9fWlkZW50aWZ5UGl4ZWxMb2NhdGlvbihlLHQsaSxvKXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOnIsbmF0aXZlRXh0ZW50Om4sc3RvcmFnZUluZm86c309dGhpcy5yYXN0ZXJJbmZvLHttYXhpbXVtUHlyYW1pZExldmVsOmwsb3JpZ2luOmEsdHJhbnNwb3NlSW5mbzpjfT1zLG09byYmbnVsbCE9Yz9jLnRpbGVTaXplWzBdOnMuYmxvY2tXaWR0aCxmPW8mJm51bGwhPWM/Yy50aWxlU2l6ZVsxXTpzLmJsb2NrSGVpZ2h0LHU9aihlLHIsaSk7aWYoIW4uaW50ZXJzZWN0cyh1KSlyZXR1cm4gbnVsbDtpZih0PDB8fHQ+bClyZXR1cm4gbnVsbDtjb25zdCBoPXRoaXMuZ2V0UHlyYW1pZFBpeGVsU2l6ZSh0KSx7eDpwLHk6ZH09aCx4PShhLnktdS55KS9kL2YseT0odS54LWEueCkvcC9tLGc9TWF0aC5taW4oZi0xLE1hdGguZmxvb3IoKHgtTWF0aC5mbG9vcih4KSkqZikpLEk9TWF0aC5taW4obS0xLE1hdGguZmxvb3IoKHktTWF0aC5mbG9vcih5KSkqbSkpO3JldHVybntweXJhbWlkTGV2ZWw6dCxyb3c6TWF0aC5mbG9vcih4KSxjb2w6TWF0aC5mbG9vcih5KSxyb3dPZmZzZXQ6Zyxjb2xPZmZzZXQ6SSxibG9ja1dpZHRoOm0sc3JjTG9jYXRpb246dX19Z2V0VGlsZUV4dGVudChlLHQsaSxvLHIsbil7Y29uc3RbcyxsXT1uLGE9by54K2kqcyplLngsYz1hK3MqZS54LG09by55LXQqbCplLnksZj1tLWwqZS55O3JldHVybiBuZXcgcSh7eG1pbjphLHhtYXg6Yyx5bWluOmYseW1heDptLHNwYXRpYWxSZWZlcmVuY2U6cn0pfWdldEJsb2NrV2lkdGhIZWlnaHQoZSl7cmV0dXJue2Jsb2NrV2lkdGg6ZT4wP3RoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5weXJhbWlkQmxvY2tXaWR0aDp0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uYmxvY2tXaWR0aCxibG9ja0hlaWdodDplPjA/dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLnB5cmFtaWRCbG9ja0hlaWdodDp0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uYmxvY2tIZWlnaHR9fWlzQmxvY2tPdXRzaWRlKGUsdCxpKXtjb25zdCBvPXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5ibG9ja0JvdW5kYXJ5W2VdO3JldHVybiFvfHxvLm1heFJvdzx0fHxvLm1heENvbDxpfHxvLm1pblJvdz50fHxvLm1pbkNvbD5pfWFzeW5jIF9mZXRjaFBpeGVscyhlLHQsaSxvPXt9KXtsZXQgcj1MKGUpO2lmKHI+PTIpcmV0dXJue2V4dGVudDplLHBpeGVsQmxvY2s6bnVsbH07Y29uc3Qgbj10aGlzLl9nZXRTb3VyY2VEYXRhSW5mbyhlLHQsaSxvKSx7cHlyYW1pZExldmVsOnMsc3JjUmVzb2x1dGlvbjpsLHNyY0V4dGVudDphLHNyY1dpZHRoOmMsc3JjSGVpZ2h0Om0sdWw6Zn09bjtpZigwPT09Y3x8MD09PW0pcmV0dXJue2V4dGVudDplLHNyY0V4dGVudDphLHBpeGVsQmxvY2s6bnVsbH07Y29uc3R7cmFzdGVySW5mbzp1fT10aGlzLGg9dS50cmFuc2Zvcm0scD1cImdjcy1zaGlmdFwiPT09aD8udHlwZSxkPW51bGwhPUMoZS5zcGF0aWFsUmVmZXJlbmNlKTshcCYmZHx8KHI9TChuLnNyY0V4dGVudCxwKSk7Y29uc3QgeD1hd2FpdCB0aGlzLl9mZXRjaFJhd1RpbGVzKHMsZix7d2lkdGg6YyxoZWlnaHQ6bSx3cmFwQ291bnQ6cn0sbyk7aWYoIXgpcmV0dXJue2V4dGVudDplLHNyY0V4dGVudDphLHBpeGVsQmxvY2s6bnVsbH07Y29uc3QgeT11LnN0b3JhZ2VJbmZvLGc9cz4wP3kucHlyYW1pZEJsb2NrV2lkdGg6eS5ibG9ja1dpZHRoLEk9cz4wP3kucHlyYW1pZEJsb2NrSGVpZ2h0OnkuYmxvY2tIZWlnaHQ7bGV0e3g6Uix5Ond9PXUucGl4ZWxTaXplO2lmKHM+MCl7Y29uc3R7cHlyYW1pZFJlc29sdXRpb25zOmUscHlyYW1pZFNjYWxpbmdGYWN0b3I6dH09eTtpZihudWxsIT1lJiZlW3MtMV0pKHt4OlIseTp3fT1lW3MtMV0pO2Vsc2V7Y29uc3QgZT10KipzO1IqPWUsdyo9ZX19Y29uc3QgUz11LnNwYXRpYWxSZWZlcmVuY2Usaz1uZXcgSih7eDpSLHk6dyxzcGF0aWFsUmVmZXJlbmNlOlN9KSxUPWc9PT1jJiZJPT09bSYmZi54JWc9PTAmJmYueSVJPT0wLGI9bmV3IEooe3g6KGUueG1heC1lLnhtaW4pL3QseTooZS55bWF4LWUueW1pbikvaSxzcGF0aWFsUmVmZXJlbmNlOmUuc3BhdGlhbFJlZmVyZW5jZX0pLHY9IWUuc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHMoUyksUD1TLmlzR2VvZ3JhcGhpYz8xZS05OjFlLTQse2RhdHVtVHJhbnNmb3JtYXRpb246an09bztpZighdiYmVCYmMT09PXgucGl4ZWxCbG9ja3MubGVuZ3RoJiZnPT09dCYmST09PWkmJnRoaXMuX2lzU2FtZVJlc29sdXRpb24obCxiLFApKXJldHVybntleHRlbnQ6ZSxzcmNFeHRlbnQ6YSxzcmNUaWxlUGl4ZWxTaXplOmsscGl4ZWxCbG9jazp4LnBpeGVsQmxvY2tzWzBdfTtjb25zdCBIPWQmJm51bGwhPUMoYS5zcGF0aWFsUmVmZXJlbmNlKSYmdGhpcy5faGFzTm9uZU9yR0NTU2hpZnRUcmFuc2Zvcm0sej1vLnJlcXVlc3RQcm9qZWN0ZWRMb2NhbERpcmVjdGlvbnMmJnRoaXMucmFzdGVySW5mby5kYXRhVHlwZS5zdGFydHNXaXRoKFwidmVjdG9yXCIpO3omJiF0aGlzLnJhc3RlckpvYkhhbmRsZXImJmF3YWl0IFcoKTtjb25zdCBFPXRoaXMucmFzdGVySm9iSGFuZGxlcj9hd2FpdCB0aGlzLnJhc3RlckpvYkhhbmRsZXIuZ2V0UHJvamVjdGlvbk9mZnNldEdyaWQoe3Byb2plY3RlZEV4dGVudDplLHNyY0J1ZmZlckV4dGVudDp4LmV4dGVudCxwaXhlbFNpemU6Yi50b0pTT04oKSxkYXR1bVRyYW5zZm9ybWF0aW9uOmoscmFzdGVyVHJhbnNmb3JtOmgsaGFzV3JhcEFyb3VuZDpyPjB8fEgsaXNBZGFwdGl2ZTohMSE9PXRoaXMuaW9Db25maWcub3B0aW1pemVQcm9qZWN0aW9uQWNjdXJhY3ksaW5jbHVkZUdDU0dyaWQ6en0sbyk6RCh7cHJvamVjdGVkRXh0ZW50OmUsc3JjQnVmZmVyRXh0ZW50OnguZXh0ZW50LHBpeGVsU2l6ZTpiLGRhdHVtVHJhbnNmb3JtYXRpb246aixyYXN0ZXJUcmFuc2Zvcm06aCxoYXNXcmFwQXJvdW5kOnI+MHx8SCxpc0FkYXB0aXZlOiExLGluY2x1ZGVHQ1NHcmlkOnp9KTtsZXQgRjtjb25zdCBPPSFvLnJlcXVlc3RSYXdEYXRhLEc9e3Jvd3M6RS5zcGFjaW5nWzBdLGNvbHM6RS5zcGFjaW5nWzFdfSxxPXRoaXMuX2hhc05vbmVPckdDU1NoaWZ0VHJhbnNmb3JtP3RoaXMuX2dldFJhc3RlclRpbGVBbGlnbm1lbnRJbmZvKHMseC5leHRlbnQueG1pbik6dm9pZCAwLHtwaXhlbEJsb2NrczpOLG1vc2FpY1NpemU6Vixpc1BhcnRpYWxseUZpbGxlZDpVfT14O2xldCAkPW51bGw7aWYodGhpcy5yYXN0ZXJKb2JIYW5kbGVyKXtjb25zdCBlPWF3YWl0IHRoaXMucmFzdGVySm9iSGFuZGxlci5tb3NhaWNBbmRUcmFuc2Zvcm0oe3NyY1BpeGVsQmxvY2tzOk4sc3JjTW9zYWljU2l6ZTpWLGRlc3REaW1lbnNpb246Tz97d2lkdGg6dCxoZWlnaHQ6aX06bnVsbCxjb2VmczpPP0UuY29lZmZpY2llbnRzOm51bGwsc2FtcGxlU3BhY2luZzpPP0c6bnVsbCxwcm9qZWN0RGlyZWN0aW9uczp6LGdjc0dyaWQ6ej9FLmdjc0dyaWQ6bnVsbCxpc1VWOlwidmVjdG9yLXV2XCI9PT10aGlzLnJhc3RlckluZm8uZGF0YVR5cGUsaW50ZXJwb2xhdGlvbjpvLmludGVycG9sYXRpb24sYWxpZ25tZW50SW5mbzpxLGJsb2NrV2lkdGhzOm51bGx9LG8pOyh7cGl4ZWxCbG9jazpGLGxvY2FsTm9ydGhEaXJlY3Rpb25zOiR9PWUpfWVsc2V7Y29uc3QgZT1CKE4sVix7YWxpZ25tZW50SW5mbzpxfSk7Rj1PP00oZSx7d2lkdGg6dCxoZWlnaHQ6aX0sRS5jb2VmZmljaWVudHMsRyxvLmludGVycG9sYXRpb24pOmUseiYmRS5nY3NHcmlkJiYoJD1fKHt3aWR0aDp0LGhlaWdodDppfSxFLmdjc0dyaWQpLEY9QShGLHRoaXMucmFzdGVySW5mby5kYXRhVHlwZSwkKSl9cmV0dXJuIG8ucmVxdWVzdFJhd0RhdGF8fHo/e2V4dGVudDplLHNyY0V4dGVudDphLHNyY1RpbGVQaXhlbFNpemU6ayxwaXhlbEJsb2NrOkYsdHJhbnNmb3JtR3JpZDpFLGxvY2FsTm9ydGhEaXJlY3Rpb25zOiQsaXNQYXJ0aWFsbHlGaWxsZWQ6VX06e2V4dGVudDplLHNyY0V4dGVudDphLHNyY1RpbGVQaXhlbFNpemU6ayxwaXhlbEJsb2NrOkZ9fWFzeW5jIF9mZXRjaFJhd1RpbGVzKGUsdCxpLG8pe2NvbnN0e29yaWdpbjpyLGJsb2NrQm91bmRhcnk6bn09dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLHtibG9ja1dpZHRoOnMsYmxvY2tIZWlnaHQ6bH09dGhpcy5nZXRCbG9ja1dpZHRoSGVpZ2h0KGUpO2xldHt4OmEseTpjfT10LHt3aWR0aDptLGhlaWdodDpmLHdyYXBDb3VudDp1fT1pO2NvbnN0IGg9dGhpcy5fZ2V0UmFzdGVyVGlsZUFsaWdubWVudEluZm8oZSwwKTtvLmJ1ZmZlciYmKGEtPW8uYnVmZmVyLmNvbHMsYy09by5idWZmZXIucm93cyxtKz0yKm8uYnVmZmVyLmNvbHMsZis9MipvLmJ1ZmZlci5yb3dzKTtsZXQgcD0wLGQ9MCx4PTA7aWYodSYmbnVsbCE9aCl7KHt3b3JsZENvbHVtbkNvdW50RnJvbU9yaWdpbjpkLG9yaWdpbkNvbHVtbk9mZnNldDp4LHJpZ2h0UGFkZGluZzpwfT1oKTtkKmguYmxvY2tXaWR0aC1wPj1hK20mJihwPTApfWNvbnN0IHk9TWF0aC5mbG9vcihhL3MpLGc9TWF0aC5mbG9vcihjL2wpLEk9TWF0aC5mbG9vcigoYSttK3AtMSkvcyksUj1NYXRoLmZsb29yKChjK2YrcC0xKS9sKSx3PW5bZV07aWYoIXcpcmV0dXJuIG51bGw7Y29uc3R7bWluUm93OlMsbWluQ29sOmssbWF4Q29sOlQsbWF4Um93OmJ9PXc7aWYoMD09PXUmJihSPFN8fEk8a3x8Zz5ifHx5PlQpKXJldHVybiBudWxsO2NvbnN0IHY9bmV3IEFycmF5O2xldCBQPSExO2NvbnN0IEI9bnVsbD09dGhpcy5pb0NvbmZpZy5hbGxvd1BhcnRpYWxGaWxsP28uYWxsb3dQYXJ0aWFsRmlsbDp0aGlzLmlvQ29uZmlnLmFsbG93UGFydGlhbEZpbGw7Zm9yKGxldCB6PWc7ejw9Ujt6KyspZm9yKGxldCB0PXk7dDw9STt0Kyspe2xldCBpPXQ7aWYoIW8uZGlzYWJsZVdyYXBBcm91bmQmJnUmJm51bGwhPWgmJmQ8PXQmJihpPXQtZC14KSx6Pj1TJiZpPj1rJiZiPj16JiZUPj1pKXtjb25zdCB0PXRoaXMuX2ZldGNoUmF3VGlsZShlLHosaSxvKTtCP3YucHVzaChuZXcgUHJvbWlzZSgoZT0+e3QudGhlbigodD0+ZSh0KSkpLmNhdGNoKCgoKT0+e1A9ITAsZShudWxsKX0pKX0pKSk6di5wdXNoKHQpfWVsc2Ugdi5wdXNoKFByb21pc2UucmVzb2x2ZShudWxsKSl9aWYoMD09PXYubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IE09YXdhaXQgUHJvbWlzZS5hbGwodiksXz17aGVpZ2h0OihSLWcrMSkqbCx3aWR0aDooSS15KzEpKnN9LHtzcGF0aWFsUmVmZXJlbmNlOld9PXRoaXMucmFzdGVySW5mbyxDPXRoaXMuZ2V0UHlyYW1pZFBpeGVsU2l6ZShlKSx7eDpqLHk6SH09QztyZXR1cm57ZXh0ZW50Om5ldyBxKHt4bWluOnIueCt5KnMqaix4bWF4OnIueCsoSSsxKSpzKmoseW1pbjpyLnktKFIrMSkqbCpILHltYXg6ci55LWcqbCpILHNwYXRpYWxSZWZlcmVuY2U6V30pLHBpeGVsQmxvY2tzOk0sbW9zYWljU2l6ZTpfLGlzUGFydGlhbGx5RmlsbGVkOlB9fV9pc1NhbWVSZXNvbHV0aW9uKGUsdCxpKXtyZXR1cm4gTWF0aC5hYnMoZS54LXQueCk8aSYmTWF0aC5hYnMoZS55LXQueSk8aX1fZmV0Y2hSYXdUaWxlKGUsdCxpLG8pe2NvbnN0IHI9dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmJsb2NrQm91bmRhcnlbZV07aWYoIXIpcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtjb25zdHttaW5Sb3c6bixtaW5Db2w6cyxtYXhDb2w6YSxtYXhSb3c6Y309cjtpZih0PG58fGk8c3x8dD5jfHxpPmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtjb25zdCBtPXcodGhpcy51cmwsby5zbGljZUlkKSxmPWAke2V9LyR7dH0vJHtpfWA7bGV0IHU9UyhtLG8ucmVnaXN0cnlJZCxmKTtpZihudWxsPT11KXtjb25zdCByPW5ldyBBYm9ydENvbnRyb2xsZXI7dT10aGlzLmZldGNoUmF3VGlsZShlLHQsaSx7Li4ubyxzaWduYWw6ci5zaWduYWx9KSxrKG0sby5yZWdpc3RyeUlkLGYsdSxyKSx1LmNhdGNoKCgoKT0+VChtLG8ucmVnaXN0cnlJZCxmKSkpfXJldHVybiBvLnNpZ25hbCYmbChvLCgoKT0+e2IobSxvLnJlZ2lzdHJ5SWQsZil9KSksdX1fY29tcHV0ZU1hZ0RpclZhbHVlcyhlKXtjb25zdHtiYW5kQ291bnQ6dCxkYXRhVHlwZTppfT10aGlzLnJhc3RlckluZm87aWYoISgyPT09dCYmXCJ2ZWN0b3ItbWFnZGlyXCI9PT1pfHxcInZlY3Rvci11dlwiPT09aSl8fDIhPT1lPy5sZW5ndGh8fCFlWzBdPy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3Qgbz1lWzBdLmxlbmd0aDtpZihcInZlY3Rvci1tYWdkaXJcIj09PWkpe2NvbnN0IHQ9ZVsxXS5tYXAoKGU9PihlKzM2MCklMzYwKSk7cmV0dXJuW2VbMF0sdF19Y29uc3RbcixuXT1lLHM9W10sbD1bXTtmb3IobGV0IGE9MDthPG87YSsrKXtjb25zdFtlLHRdPUcoW3JbYV0sblthXV0pO3MucHVzaChlKSxsLnB1c2godCl9cmV0dXJuW3MsbF19X2dldFJhc3RlclRpbGVBbGlnbm1lbnRJbmZvKGUsdCl7cmV0dXJuIG51bGw9PXRoaXMuX3Jhc3RlclRpbGVBbGlnaG1lbnRJbmZvJiYodGhpcy5fcmFzdGVyVGlsZUFsaWdobWVudEluZm89Rih0aGlzLnJhc3RlckluZm8pKSxudWxsPT10aGlzLl9yYXN0ZXJUaWxlQWxpZ2htZW50SW5mby5weXJhbWlkc0luZm8/bnVsbDp7c3RhcnRYOnQsaGFsZldvcmxkV2lkdGg6dGhpcy5fcmFzdGVyVGlsZUFsaWdobWVudEluZm8uaGFsZldvcmxkV2lkdGgsaGFzR0NTU1NoaWZ0VHJhbnNmb3JtOnRoaXMuX3Jhc3RlclRpbGVBbGlnaG1lbnRJbmZvLmhhc0dDU1NTaGlmdFRyYW5zZm9ybSwuLi50aGlzLl9yYXN0ZXJUaWxlQWxpZ2htZW50SW5mby5weXJhbWlkc0luZm9bZV19fV9nZXRTb3VyY2VEYXRhSW5mbyhlLHQsaSxvPXt9KXtjb25zdCByPXtkYXR1bVRyYW5zZm9ybWF0aW9uOm8uZGF0dW1UcmFuc2Zvcm1hdGlvbixweXJhbWlkTGV2ZWw6MCxweXJhbWlkUmVzb2x1dGlvbjpudWxsLHNyY0V4dGVudDpudWxsLHNyY0hlaWdodDowLHNyY1Jlc29sdXRpb246bnVsbCxzcmNXaWR0aDowLHVsOnt4OjAseTowfX07by5zcmNSZXNvbHV0aW9uJiYoci5zcmNSZXNvbHV0aW9uPW8uc3JjUmVzb2x1dGlvbix0aGlzLl91cGRhdGVTb3VyY2VEYXRhSW5mbyhlLHIpKTtjb25zdCBuPXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5tYXhpbXVtUHlyYW1pZExldmVsfHwwLHtzcmNXaWR0aDpzLHNyY0hlaWdodDpsLHB5cmFtaWRMZXZlbDphfT1yLGM9cy90LG09bC9pLGY9YTxuJiZjKm0+PTE2LHU9YT09PW4mJnRoaXMuX3JlcXVpcmVUb29NYW55U3JjVGlsZXMocyxsLHQsaSk7aWYoZnx8dXx8KDA9PT1zfHwwPT09bCkpe2NvbnN0IHM9bmV3IEooe3g6KGUueG1heC1lLnhtaW4pL3QseTooZS55bWF4LWUueW1pbikvaSxzcGF0aWFsUmVmZXJlbmNlOmUuc3BhdGlhbFJlZmVyZW5jZX0pO2xldCBsPU8ocyx0aGlzLnJhc3RlckluZm8uc3BhdGlhbFJlZmVyZW5jZSxlLHIuZGF0dW1UcmFuc2Zvcm1hdGlvbik7Y29uc3QgdT0hbHx8by5zcmNSZXNvbHV0aW9uJiZsLngrbC55PG8uc3JjUmVzb2x1dGlvbi54K28uc3JjUmVzb2x1dGlvbi55O2lmKGYmJm8uc3JjUmVzb2x1dGlvbiYmdSl7Y29uc3QgZT1NYXRoLnJvdW5kKE1hdGgubG9nKE1hdGgubWF4KGMsbSkpL01hdGguTE4yKS0xO2lmKG4tYSszPj1lKXtjb25zdCB0PTIqKmU7bD17eDpvLnNyY1Jlc29sdXRpb24ueCp0LHk6by5zcmNSZXNvbHV0aW9uLnkqdH19fWwmJihyLnNyY1Jlc29sdXRpb249bCx0aGlzLl91cGRhdGVTb3VyY2VEYXRhSW5mbyhlLHIpKX1yZXR1cm4gdGhpcy5fcmVxdWlyZVRvb01hbnlTcmNUaWxlcyhyLnNyY1dpZHRoLHIuc3JjSGVpZ2h0LHQsaSkmJihyLnNyY1dpZHRoPTAsci5zcmNIZWlnaHQ9MCkscn1fcmVxdWlyZVRvb01hbnlTcmNUaWxlcyhlLHQsaSxvKXtjb25zdHt0aWxlSW5mbzpyfT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm87cmV0dXJuIE1hdGguY2VpbChlL3Iuc2l6ZVswXSkqTWF0aC5jZWlsKHQvci5zaXplWzFdKT49Vnx8ZS9pPk58fHQvbz5OfV91cGRhdGVTb3VyY2VEYXRhSW5mbyhlLHQpe3Quc3JjV2lkdGg9MCx0LnNyY0hlaWdodD0wO2NvbnN0e3Jhc3RlckluZm86aX09dGhpcyxvPWkuc3BhdGlhbFJlZmVyZW5jZSx7c3JjUmVzb2x1dGlvbjpyLGRhdHVtVHJhbnNmb3JtYXRpb246bn09dCx7cHlyYW1pZExldmVsOnMscHlyYW1pZFJlc29sdXRpb246bCxleGNlc3NpdmVSZWFkaW5nOmF9PUgocixpLHRoaXMuaW9Db25maWcuc2FtcGxpbmcpO2lmKGEpcmV0dXJuO2xldCBjPXQuc3JjRXh0ZW50fHxFKGUsbyxuKTtpZihudWxsPT1jKXJldHVybjtjb25zdCBtPWkudHJhbnNmb3JtO20mJihjPW0uaW52ZXJzZVRyYW5zZm9ybShjKSksdC5zcmNFeHRlbnQ9Yztjb25zdHt4OmYseTp1fT1pLnN0b3JhZ2VJbmZvLm9yaWdpbixoPU1hdGguZmxvb3IoKGMueG1pbi1mKS9sLngrLjEpLHA9TWF0aC5mbG9vcigodS1jLnltYXgpL2wueSsuMSksZD1NYXRoLmZsb29yKChjLnhtYXgtZikvbC54LS4xKSx4PU1hdGguZmxvb3IoKHUtYy55bWluKS9sLnktLjEpLHk9Yy53aWR0aDwuMSpsLng/MDpkLWgrMSxnPWMuaGVpZ2h0PC4xKmwueT8wOngtcCsxO3QucHlyYW1pZExldmVsPXMsdC5weXJhbWlkUmVzb2x1dGlvbj1sLHQuc3JjV2lkdGg9eSx0LnNyY0hlaWdodD1nLHQudWw9e3g6aCx5OnB9fV9nZXRSZXF1ZXN0T3B0aW9uc1dpdGhTbGljZUlkKGUpe3JldHVybiBudWxsIT10aGlzLnJhc3RlckluZm8ubXVsdGlkaW1lbnNpb25hbEluZm8mJm51bGw9PWUuc2xpY2VJZCYmKGU9ey4uLmUsc2xpY2VJZDp0aGlzLmdldFNsaWNlSW5kZXgoZS5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbil9KSxlfV9wcm9jZXNzSWRlbnRpZnlSZXN1bHQoZSx0KXtjb25zdHtzcmNMb2NhdGlvbjppLHBvc2l0aW9uOm8scHlyYW1pZExldmVsOnIsdXNlVHJhbnNwb3NlZFRpbGU6bn09dCxzPWUucGl4ZWxzWzBdLmxlbmd0aC9lLndpZHRoL2UuaGVpZ2h0O2lmKCEoIWUubWFza3x8ZS5tYXNrW29dKSlyZXR1cm57bG9jYXRpb246aSx2YWx1ZTpudWxsfTtjb25zdHttdWx0aWRpbWVuc2lvbmFsSW5mbzpsfT10aGlzLnJhc3RlckluZm87aWYobnVsbD09bHx8IW4pe2NvbnN0IHQ9ZS5waXhlbHMubWFwKChlPT5lW29dKSksbj17bG9jYXRpb246aSx2YWx1ZTp0LHB5cmFtaWRMZXZlbDpyfSxzPXRoaXMuX2NvbXB1dGVNYWdEaXJWYWx1ZXModC5tYXAoKGU9PltlXSkpKTtyZXR1cm4gcz8ubGVuZ3RoJiYobi5tYWdkaXJWYWx1ZT1zLm1hcCgoZT0+ZVswXSkpKSxufWxldCBhPWUucGl4ZWxzLm1hcCgoZT0+ZS5zbGljZShvKnMsbypzK3MpKSksYz10aGlzLl9jb21wdXRlTWFnRGlyVmFsdWVzKGEpO2NvbnN0e3JlcXVlc3RTb21lU2xpY2VzOm0saWRlbnRpZnlPcHRpb25zOmZ9PXQ7bGV0IHU9SShsLGYudHJhbnNwb3NlZFZhcmlhYmxlTmFtZSk7aWYobSl7Y29uc3QgZT1SKHUsZi5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbixmLnRpbWVFeHRlbnQpO2E9YS5tYXAoKHQ9PmUubWFwKChlPT50W2VdKSkpKSxjPWM/Lm1hcCgodD0+ZS5tYXAoKGU9PnRbZV0pKSkpLHU9ZS5tYXAoKGU9PnVbZV0pKX1jb25zdCBwPWUubm9EYXRhVmFsdWVzfHx0aGlzLnJhc3RlckluZm8ubm9EYXRhVmFsdWUsZD17cGl4ZWxzOmEscGl4ZWxUeXBlOmUucGl4ZWxUeXBlfTtsZXQgeDtudWxsIT1wJiYodihkLHApLHg9ZC5tYXNrKTtyZXR1cm57bG9jYXRpb246aSx2YWx1ZTpudWxsLGRhdGFTZXJpZXM6dS5tYXAoKChlLHQpPT57Y29uc3QgaT17dmFsdWU6MD09PXg/Llt0XT9udWxsOmEubWFwKChlPT5lW3RdKSksbXVsdGlkaW1lbnNpb25hbERlZmluaXRpb246ZS5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbi5tYXAoKGU9Pm5ldyBoKHsuLi5lLGlzU2xpY2U6ITB9KSkpfTtyZXR1cm4gYz8ubGVuZ3RoJiYoaS5tYWdkaXJWYWx1ZT1bY1swXVt0XSxjWzFdW3RdXSksaX0pKSxweXJhbWlkTGV2ZWw6cn19fTtlKFthKCldLFUucHJvdG90eXBlLFwiX3Jhc3RlclRpbGVBbGlnaG1lbnRJbmZvXCIsdm9pZCAwKSxlKFthKHtyZWFkT25seTohMH0pXSxVLnByb3RvdHlwZSxcIl9pc0dsb2JhbFdyYXBwYWJsZVNvdXJjZVwiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLFUucHJvdG90eXBlLFwiX2hhc05vbmVPckdDU1NoaWZ0VHJhbnNmb3JtXCIsbnVsbCksZShbYSgpXSxVLnByb3RvdHlwZSxcInJhc3RlckpvYkhhbmRsZXJcIixudWxsKSxlKFthKHUpXSxVLnByb3RvdHlwZSxcInVybFwiLG51bGwpLGUoW2Eoe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxVLnByb3RvdHlwZSxcImRhdGFzZXROYW1lXCIsdm9pZCAwKSxlKFthKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sVS5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSxlKFthKCldLFUucHJvdG90eXBlLFwiaGFzVW5pcXVlU291cmNlU3RvcmFnZUluZm9cIix2b2lkIDApLGUoW2EoKV0sVS5wcm90b3R5cGUsXCJyYXN0ZXJJbmZvXCIsdm9pZCAwKSxlKFthKCldLFUucHJvdG90eXBlLFwiaW9Db25maWdcIix2b2lkIDApLGUoW2EoKV0sVS5wcm90b3R5cGUsXCJzb3VyY2VKU09OXCIsdm9pZCAwKSxVPWUoW20oXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlckRhdGFzZXRzLkJhc2VSYXN0ZXJcIildLFUpO2NvbnN0ICQ9VTtleHBvcnR7JCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vTE9ELmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vUmFzdGVySW5mby5qc1wiO2ltcG9ydCBhIGZyb21cIi4uL1Jhc3RlclN0b3JhZ2VJbmZvLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vVGlsZUluZm8uanNcIjtpbXBvcnQgbCBmcm9tXCIuL0Jhc2VSYXN0ZXIuanNcIjtpbXBvcnQgZiBmcm9tXCIuL0RCRlBhcnNlci5qc1wiO2ltcG9ydHtpc1RyYW5zZm9ybVN1cHBvcnRlZCBhcyBtLHJlYWRUcmFuc2Zvcm0gYXMgY31mcm9tXCIuLi9yYXN0ZXJUcmFuc2Zvcm1zL3V0aWxzLmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0ZlYXR1cmVTZXQuanNcIjtpbXBvcnQgZCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IGggZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtjb25zdCBnPW5ldyBNYXA7Zy5zZXQoXCJpbnQxNlwiLFwiZXNyaUZpZWxkVHlwZVNtYWxsSW50ZWdlclwiKSxnLnNldChcImludDMyXCIsXCJlc3JpRmllbGRUeXBlSW50ZWdlclwiKSxnLnNldChcImludDY0XCIsXCJlc3JpRmllbGRUeXBlSW50ZWdlclwiKSxnLnNldChcImZsb2F0MzJcIixcImVzcmlGaWVsZFR5cGVTaW5nbGVcIiksZy5zZXQoXCJmbG9hdDY0XCIsXCJlc3JpRmllbGRUeXBlRG91YmxlXCIpLGcuc2V0KFwidGV4dFwiLFwiZXNyaUZpZWxkVHlwZVN0cmluZ1wiKTtjb25zdCB5PTg7bGV0IHg9Y2xhc3MgZXh0ZW5kcyBse2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnN0b3JhZ2VJbmZvPW51bGwsdGhpcy5kYXRhc2V0Rm9ybWF0PVwiQ1JGXCJ9YXN5bmMgb3BlbihlKXthd2FpdCB0aGlzLmluaXQoKTtjb25zdHtkYXRhOnJ9PWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi9jb25mLmpzb25cIix7c2lnbmFsOmU/LnNpZ25hbH0pO2lmKCF0aGlzLl92YWxpZGF0ZUhlYWRlcihyKSl0aHJvdyBuZXcgdChcImNsb3VkcmFzdGVyOm9wZW5cIixcIkludmFsaWQgb3IgdW5zdXBwb3J0ZWQgY29uZi5qc29uLlwiKTt0aGlzLmRhdGFzZXROYW1lPXRoaXMudXJsLnNsaWNlKHRoaXMudXJsLmxhc3RJbmRleE9mKFwiL1wiKSsxKTtjb25zdHtzdG9yYWdlSW5mbzppLHJhc3RlckluZm86b309dGhpcy5fcGFyc2VIZWFkZXIocik7aWYoXCJ0aGVtYXRpY1wiPT09by5kYXRhVHlwZSl7Y29uc3QgZT1hd2FpdCB0aGlzLl9mZXRjaEF1eGlsaWFyeUluZm9ybWF0aW9uKCk7by5hdHRyaWJ1dGVUYWJsZT1lfXRoaXMuX3NldChcInN0b3JhZ2VJbmZvXCIsaSksdGhpcy5fc2V0KFwicmFzdGVySW5mb1wiLG8pLHRoaXMuaW9Db25maWcucmV0cnlDb3VudD10aGlzLmlvQ29uZmlnLnJldHJ5Q291bnR8fDB9YXN5bmMgZmV0Y2hSYXdUaWxlKGUsdCxyLGk9e30pe2NvbnN0e3RyYW5zcG9zZUluZm86b309dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLHt0cmFuc3Bvc2VkVmFyaWFibGVOYW1lOnN9PWksYT0hKCFvfHwhcyksbj1hPzA6dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLm1heGltdW1QeXJhbWlkTGV2ZWwtZTtpZihuPDApcmV0dXJuIG51bGw7Y29uc3QgbD10aGlzLl9idWlsZENhY2hlRmlsZVBhdGgobix0LHIsaS5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbixzKSxmPXRoaXMuX2dldEluZGV4UmVjb3JkRnJvbUJ1bmRsZSh0LHIsYSksbT1hd2FpdCB0aGlzLnJlcXVlc3QobCx7cmFuZ2U6e2Zyb206MCx0bzp0aGlzLnN0b3JhZ2VJbmZvLmhlYWRlclNpemUtMX0scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOmkuc2lnbmFsfSk7aWYoIW0pcmV0dXJuIG51bGw7Y29uc3QgYz1uZXcgVWludDhBcnJheShtLmRhdGEpLHA9dGhpcy5fZ2V0VGlsZUVuZEFuZENvbnRlbnRUeXBlKGMsZik7aWYoMD09PXAucmVjb3JkU2l6ZSlyZXR1cm4gbnVsbDtjb25zdCBkPWF3YWl0IHRoaXMucmVxdWVzdChsLHtyYW5nZTp7ZnJvbTpwLnBvc2l0aW9uLHRvOnAucG9zaXRpb24rcC5yZWNvcmRTaXplfSxyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6aS5zaWduYWx9KTtpZighZClyZXR1cm4gbnVsbDtjb25zdFt1LGhdPXRoaXMuX2dldFRpbGVTaXplKGEpO3JldHVybiB0aGlzLmRlY29kZVBpeGVsQmxvY2soZC5kYXRhLHt3aWR0aDp1LGhlaWdodDpoLHBsYW5lczpudWxsLHBpeGVsVHlwZTpudWxsLHJldHVybkludGVybGVhdmVkOmF9KX1fdmFsaWRhdGVIZWFkZXIoZSl7Y29uc3QgdD1bXCJvcmlnaW5cIixcImV4dGVudFwiLFwiZ2VvZGF0YVhmb3JtXCIsXCJMT0RJbmZvc1wiLFwiYmxvY2tXaWR0aFwiLFwiYmxvY2tIZWlnaHRcIixcImJhbmRDb3VudFwiLFwicGl4ZWxUeXBlXCIsXCJwaXhlbFNpemVYXCIsXCJwaXhlbFNpemVZXCIsXCJmb3JtYXRcIixcInBhY2tldFNpemVcIl07cmV0dXJuIGUmJlwiUmFzdGVySW5mb1wiPT09ZS50eXBlJiYhdC5zb21lKCh0PT4hZVt0XSkpfV9wYXJzZUhlYWRlcihlKXtjb25zdCB0PVtcInUxXCIsXCJ1MlwiLFwidTRcIixcInU4XCIsXCJzOFwiLFwidTE2XCIsXCJzMTZcIixcInUzMlwiLFwiczMyXCIsXCJmMzJcIixcImY2NFwiXVtlLnBpeGVsVHlwZV0se2JhbmRDb3VudDpyLGhpc3RvZ3JhbXM6aSxjb2xvcm1hcDpsLGJsb2NrV2lkdGg6ZixibG9ja0hlaWdodDptLGZpcnN0UHlyYW1pZExldmVsOmMsbWF4aW11bVB5cmFtaWRMZXZlbDpwfT1lLGc9ZS5zdGF0aXN0aWNzJiZlLnN0YXRpc3RpY3MubWFwKChlPT4oe21pbjplLm1pbixtYXg6ZS5tYXgsYXZnOmUubWVhbixzdGRkZXY6ZS5zdGFuZGFyZERldmlhdGlvbixtZWRpYW46ZS5tZWRpYW4sbW9kZTplLm1vZGV9KSkpLHg9ZS5leHRlbnQuc3BhdGlhbFJlZmVyZW5jZSxTPWUuZ2VvZGF0YVhmb3JtPy5zcGF0aWFsUmVmZXJlbmNlLEk9bmV3IGQoeD8ud2tpZHx8eD8ud2t0P3g6Uyk7bGV0IHc9bmV3IHUoe3htaW46ZS5leHRlbnQueG1pbix5bWluOmUuZXh0ZW50LnltaW4seG1heDplLmV4dGVudC54bWF4LHltYXg6ZS5leHRlbnQueW1heCxzcGF0aWFsUmVmZXJlbmNlOkl9KTtjb25zdCBfPW5ldyBoKHt4OmUucGl4ZWxTaXplWCx5OmUucGl4ZWxTaXplWSxzcGF0aWFsUmVmZXJlbmNlOkl9KSx2PU1hdGgucm91bmQoKHcueG1heC13LnhtaW4pL18ueCksYj1NYXRoLnJvdW5kKCh3LnltYXgtdy55bWluKS9fLnkpLHo9dGhpcy5fcGFyc2VUcmFuc2Zvcm0oZS5nZW9kYXRhWGZvcm0pLFQ9ej93Om51bGw7eiYmKHc9ei5mb3J3YXJkVHJhbnNmb3JtKHcpLF8ueD0ody54bWF4LXcueG1pbikvdixfLnk9KHcueW1heC13LnltaW4pL2IpO2NvbnN0IGs9ZS5wcm9wZXJ0aWVzPz97fSxqPWUuZm9ybWF0LnRvTG93ZXJDYXNlKCkucmVwbGFjZShcImNhY2hlL1wiLFwiXCIpLEM9bmV3IGgoZS5vcmlnaW4ueCxlLm9yaWdpbi55LEkpO2xldCBSLEYsUCxIO2lmKGwmJmwuY29sb3JzKWZvcihSPVtdLEY9MDtGPGwuY29sb3JzLmxlbmd0aDtGKyspUD1sLmNvbG9yc1tGXSxIPWwudmFsdWVzP2wudmFsdWVzW0ZdOkYsUi5wdXNoKFtILDI1NSZQLFA8PDE2Pj4+MjQsUDw8OD4+PjI0LFA+Pj4yNF0pO2NvbnN0IEQ9ZS5MT0RJbmZvcyxMPVtdO2ZvcihGPTA7RjxELmxldmVscy5sZW5ndGg7RisrKUwucHVzaChuZXcgbyh7bGV2ZWw6RC5sZXZlbHNbRl0scmVzb2x1dGlvbjpELnJlc29sdXRpb25zW0ZdLHNjYWxlOjk2Ly4wMjU0KkQucmVzb2x1dGlvbnNbRl19KSk7Y29uc3QgTT1uZXcgbih7ZHBpOjk2LGxvZHM6TCxmb3JtYXQ6aixvcmlnaW46QyxzaXplOltmLG1dLHNwYXRpYWxSZWZlcmVuY2U6SX0pLE89e3JlY29yZFNpemU6eSxwYWNrZXRTaXplOmUucGFja2V0U2l6ZSxoZWFkZXJTaXplOmUucGFja2V0U2l6ZSplLnBhY2tldFNpemUqeSs2NH0sQj1be21heENvbDpNYXRoLmNlaWwodi9mKS0xLG1heFJvdzpNYXRoLmNlaWwoYi9tKS0xLG1pbkNvbDowLG1pblJvdzowfV07bGV0ICQ9MjtpZihwPjApZm9yKEY9MDtGPHA7RisrKUIucHVzaCh7bWF4Q29sOk1hdGguY2VpbCh2LyQvZiktMSxtYXhSb3c6TWF0aC5jZWlsKGIvJC9tKS0xLG1pbkNvbDowLG1pblJvdzowfSksJCo9Mjtjb25zdCBOPWUubWRJbmZvO2xldCBxPW51bGw7aWYoTiYmay5feXhzKXtjb25zdCBlPWsuX3l4cztxPXtwYWNrZXRTaXplOmUuUGFja2V0U2l6ZSx0aWxlU2l6ZTpbZS5UaWxlWFNpemUsZS5UaWxlWVNpemVdfX1yZXR1cm57c3RvcmFnZUluZm86TyxyYXN0ZXJJbmZvOm5ldyBzKHt3aWR0aDp2LGhlaWdodDpiLHBpeGVsVHlwZTp0LGJhbmRDb3VudDpyLGV4dGVudDp3LG5hdGl2ZUV4dGVudDpULHRyYW5zZm9ybTp6LHNwYXRpYWxSZWZlcmVuY2U6SSxwaXhlbFNpemU6XyxrZXlQcm9wZXJ0aWVzOmssc3RhdGlzdGljczpnLGhpc3RvZ3JhbXM6aSxtdWx0aWRpbWVuc2lvbmFsSW5mbzpOLGNvbG9ybWFwOlIsc3RvcmFnZUluZm86bmV3IGEoe2Jsb2NrV2lkdGg6ZixibG9ja0hlaWdodDptLHB5cmFtaWRCbG9ja1dpZHRoOmYscHlyYW1pZEJsb2NrSGVpZ2h0Om0sb3JpZ2luOkMsdGlsZUluZm86TSx0cmFuc3Bvc2VJbmZvOnEsZmlyc3RQeXJhbWlkTGV2ZWw6YyxtYXhpbXVtUHlyYW1pZExldmVsOnAsYmxvY2tCb3VuZGFyeTpCfSl9KX19X3BhcnNlVHJhbnNmb3JtKGUpe2lmKCFtKGUpKXRocm93IG5ldyB0KFwiY2xvdWRyYXN0ZXI6b3BlblwiLFwidGhlIGRhdGEgY29udGFpbnMgdW5zdXBwb3J0ZWQgZ2VvZGF0YSB0cmFuc2Zvcm0gdHlwZXNcIik7Y29uc3Qgcj1jKGUpO2lmKFwiaWRlbnRpdHlcIj09PXIudHlwZSlyZXR1cm4gbnVsbDtpZihcInBvbHlub21pYWxcIiE9PXIudHlwZXx8IXIuZm9yd2FyZENvZWZmaWNpZW50cz8ubGVuZ3RofHwhci5pbnZlcnNlQ29lZmZpY2llbnRzPy5sZW5ndGgpdGhyb3cgbmV3IHQoXCJjbG91ZHJhc3RlcjpvcGVuXCIsXCJ0aGUgZGF0YSBjb250YWlucyB1bnN1cHBvcnRlZCBnZW9kYXRhIHRyYW5zZm9ybXMgLSBib3RoIGZvcndhcmQgYW5kIGludmVyc2UgY29lZmZpY2llbnRzIGFyZSByZXF1aXJlZCBjdXJyZW50bHlcIik7cmV0dXJuIHJ9YXN5bmMgX2ZldGNoQXV4aWxpYXJ5SW5mb3JtYXRpb24oZSl7Y29uc3QgdD10aGlzLnJlcXVlc3QodGhpcy51cmwrXCIvY29uZi52YXQuanNvblwiLHtzaWduYWw6ZX0pLnRoZW4oKGU9PmUuZGF0YSkpLmNhdGNoKCgoKT0+bnVsbCkpLHI9dGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiL2NvbmYudmF0LmRiZlwiLHtyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6ZX0pLnRoZW4oKGU9PmUuZGF0YSkpLmNhdGNoKCgoKT0+bnVsbCkpLGk9YXdhaXQgUHJvbWlzZS5hbGwoW3Qscl0pO2xldCBvO2lmKGlbMF0pe2xldCBlPWlbMF0uZmllbGRzO2NvbnN0IHQ9aVswXS52YWx1ZXM7aWYoZSYmdCl7ZT1lLm1hcCgoZT0+KHt0eXBlOlwiT0lEXCI9PT1lLm5hbWU/XCJlc3JpRmllbGRUeXBlT0lEXCI6Zy5nZXQoZS50eXBlKSxuYW1lOmUubmFtZSxhbGlhczplLmFsaWFzfHxlLm5hbWV9KSkpO2NvbnN0IHI9dC5tYXAoKGU9Pih7YXR0cmlidXRlczplfSkpKTtlJiZ0JiYobz17ZmllbGRzOmUsZmVhdHVyZXM6cn0pfX1pZighbyYmaVsxXSl7bz1mLnBhcnNlKGlbMV0pLnJlY29yZFNldH1yZXR1cm4gcC5mcm9tSlNPTihvKX1fYnVpbGRDYWNoZUZpbGVQYXRoKGUsdCxyLGksbyl7Y29uc3Qgcz10aGlzLl9nZXRQYWNrYWdlU2l6ZSghIW8pLGE9TWF0aC5mbG9vcih0L3MpKnMsbj1NYXRoLmZsb29yKHIvcykqcyxsPVwiUlwiK3RoaXMuX3RvSGV4U3RyaW5nNChhKStcIkNcIit0aGlzLl90b0hleFN0cmluZzQobik7bGV0IGY9XCJMXCI7Zis9ZT49MTA/ZS50b1N0cmluZygpOlwiMFwiK2UudG9TdHJpbmcoKTtjb25zdHttdWx0aWRpbWVuc2lvbmFsSW5mbzptfT10aGlzLnJhc3RlckluZm8sYz1pPy5bMF07aWYobnVsbD09bXx8IWMpcmV0dXJuYCR7dGhpcy51cmx9L19hbGxsYXllcnMvJHtmfS8ke2x9LmJ1bmRsZWA7bGV0IHA9XCJfeXhzXCI7aWYoIW8pe3A9bS52YXJpYWJsZXMuZmluZCgoZT0+ZS5uYW1lPT09Yy52YXJpYWJsZU5hbWUpKS5kaW1lbnNpb25zWzBdLnZhbHVlcy5pbmRleE9mKGMudmFsdWVzWzBdKS50b1N0cmluZygxNik7Y29uc3QgZT00LXAubGVuZ3RoO2ZvcihsZXQgdD0wO3Q8ZTt0KyspcD1cIjBcIitwO3A9XCJTXCIrcH1jb25zdCBkPXRoaXMuX2dldFZhcmlhYmxlRm9sZGVyTmFtZShvfHxjLnZhcmlhYmxlTmFtZSk7cmV0dXJuYCR7dGhpcy51cmx9L19hbGxsYXllcnMvJHtkfS8ke3B9LyR7Zn0vJHtsfS5idW5kbGVgfV9nZXRQYWNrYWdlU2l6ZShlPSExKXtjb25zdHt0cmFuc3Bvc2VJbmZvOnR9PXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mbztyZXR1cm4gZSYmbnVsbCE9dD90LnBhY2tldFNpemU/PzA6dGhpcy5zdG9yYWdlSW5mby5wYWNrZXRTaXplfV9nZXRUaWxlU2l6ZShlPSExKXtjb25zdHtzdG9yYWdlSW5mbzp0fT10aGlzLnJhc3RlckluZm8se3RyYW5zcG9zZUluZm86cn09dDtyZXR1cm4gZSYmbnVsbCE9cj9yLnRpbGVTaXplOnQudGlsZUluZm8uc2l6ZX1fZ2V0VmFyaWFibGVGb2xkZXJOYW1lKGUpe3JldHVyblwiXCI9PT0oZT1lLnRyaW0oKSk/XCJfdlwiOmUucmVwbGFjZUFsbCgvW1xce3xcXH1cXC1dL2csXCJfXCIpLnJlcGxhY2UoXCJcXFxcKlwiLFwiX3ZcIil9X2dldEluZGV4UmVjb3JkRnJvbUJ1bmRsZShlLHQscj0hMSl7Y29uc3QgaT10aGlzLl9nZXRQYWNrYWdlU2l6ZShyKSxvPWkqKGUlaSkrdCVpO2lmKG88MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGxldmVsIC8gcm93IC8gY29sXCIpO3JldHVybiAyMCtvKnRoaXMuc3RvcmFnZUluZm8ucmVjb3JkU2l6ZSs0NH1fZ2V0VGlsZUVuZEFuZENvbnRlbnRUeXBlKGUsdCl7Y29uc3Qgcj1lLnN1YmFycmF5KHQsdCs4KTtsZXQgaSxvPTA7Zm9yKGk9MDtpPDU7aSsrKW98PSgyNTUmcltpXSk8PDgqaTtjb25zdCBzPTB4ZmZmZmZmZmZmZiZvO2ZvcihvPTAsaT01O2k8ODtpKyspb3w9KDI1NSZyW2ldKTw8OCooaS01KTtyZXR1cm57cG9zaXRpb246cyxyZWNvcmRTaXplOjB4ZmZmZmZmZmZmZiZvfX1fdG9IZXhTdHJpbmc0KGUpe2xldCB0PWUudG9TdHJpbmcoMTYpO2lmKDQhPT10Lmxlbmd0aCl7bGV0IGU9NC10Lmxlbmd0aDtmb3IoO2UtLSA+MDspdD1cIjBcIit0fXJldHVybiB0fX07ZShbcih7cmVhZE9ubHk6ITB9KV0seC5wcm90b3R5cGUsXCJzdG9yYWdlSW5mb1wiLHZvaWQgMCksZShbcih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLHgucHJvdG90eXBlLFwiZGF0YXNldEZvcm1hdFwiLHZvaWQgMCkseD1lKFtpKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5yYXN0ZXJEYXRhc2V0cy5DbG91ZFJhc3RlclwiKV0seCk7Y29uc3QgUz14O2V4cG9ydHtTIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtieXRlc1RvVVRGOCBhcyBlfWZyb21cIi4vYnl0ZVN0cmVhbVV0aWxzLmpzXCI7ZnVuY3Rpb24gdChlKXtjb25zdCB0PWUuZmllbGRzLHI9ZS5yZWNvcmRzLG49dC5zb21lKChlPT5cIm9pZFwiPT09ZS5uYW1lLnRvTG93ZXJDYXNlKCkpKT9cIk9CSkVDVElEXCI6XCJPSURcIixpPVt7bmFtZTpuLHR5cGU6XCJlc3JpRmllbGRUeXBlT0lEXCIsYWxpYXM6XCJPSURcIn1dLmNvbmNhdCh0Lm1hcCgoZT0+KHtuYW1lOmUubmFtZSx0eXBlOlwiZXNyaUZpZWxkVHlwZVwiK2UudHlwZU5hbWUsYWxpYXM6ZS5uYW1lfSkpKSkscz1pLm1hcCgoZT0+ZS5uYW1lKSksYT1bXTtsZXQgbz0wLGw9MDtyZXR1cm4gci5mb3JFYWNoKChlPT57Y29uc3QgdD17fTtmb3IodFtuXT1vKyssbD0xO2w8cy5sZW5ndGg7bCsrKXRbc1tsXV09ZVtsLTFdO2EucHVzaCh7YXR0cmlidXRlczp0fSl9KSkse2Rpc3BsYXlGaWVsZE5hbWU6XCJcIixmaWVsZHM6aSxmZWF0dXJlczphfX1jbGFzcyBye3N0YXRpYyBnZXQgc3VwcG9ydGVkVmVyc2lvbnMoKXtyZXR1cm5bNV19c3RhdGljIHBhcnNlKHIpe2NvbnN0IG49bmV3IERhdGFWaWV3KHIpLGk9MyZuLmdldFVpbnQ4KDApO2lmKDMhPT1pKXJldHVybntoZWFkZXI6e3ZlcnNpb246aX0scmVjb3JkU2V0Om51bGx9O2NvbnN0IHM9bi5nZXRVaW50MzIoNCwhMCksYT1uLmdldFVpbnQxNig4LCEwKSxvPW4uZ2V0VWludDE2KDEwLCEwKSxsPXt2ZXJzaW9uOmkscmVjb3JkQ291bnQ6cyxoZWFkZXJCeXRlQ291bnQ6YSxyZWNvcmRCeXRlQ291bnQ6b307bGV0IHA9MzI7Y29uc3QgZz1bXSx1PVtdO2xldCBkO2lmKDM9PT1pKXtmb3IoOzEzIT09bi5nZXRVaW50OChwKTspZD1TdHJpbmcuZnJvbUNoYXJDb2RlKG4uZ2V0VWludDgocCsxMSkpLnRyaW0oKSxnLnB1c2goe25hbWU6ZShuZXcgVWludDhBcnJheShyLHAsMTEpKSx0eXBlOmQsdHlwZU5hbWU6W1wiU3RyaW5nXCIsXCJEYXRlXCIsXCJEb3VibGVcIixcIkJvb2xlYW5cIixcIlN0cmluZ1wiLFwiSW50ZWdlclwiXVtbXCJDXCIsXCJEXCIsXCJGXCIsXCJMXCIsXCJNXCIsXCJOXCJdLmluZGV4T2YoZCldLGxlbmd0aDpuLmdldFVpbnQ4KHArMTYpfSkscCs9MzI7aWYocCs9MSxnLmxlbmd0aD4wKWZvcig7dS5sZW5ndGg8cyYmci5ieXRlTGVuZ3RoLXA+bzspe2NvbnN0IHQ9W107MzI9PT1uLmdldFVpbnQ4KHApPyhwKz0xLGcuZm9yRWFjaCgobj0+e2lmKFwiQ1wiPT09bi50eXBlKXQucHVzaChlKG5ldyBVaW50OEFycmF5KHIscCxuLmxlbmd0aCkpLnRyaW0oKSk7ZWxzZSBpZihcIk5cIj09PW4udHlwZSl0LnB1c2gocGFyc2VJbnQoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KHIscCxuLmxlbmd0aCkpLnRyaW0oKSwxMCkpO2Vsc2UgaWYoXCJGXCI9PT1uLnR5cGUpdC5wdXNoKHBhcnNlRmxvYXQoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KHIscCxuLmxlbmd0aCkpLnRyaW0oKSkpO2Vsc2UgaWYoXCJEXCI9PT1uLnR5cGUpe2NvbnN0IGU9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KHIscCxuLmxlbmd0aCkpLnRyaW0oKTt0LnB1c2gobmV3IERhdGUocGFyc2VJbnQoZS5zdWJzdHJpbmcoMCw0KSwxMCkscGFyc2VJbnQoZS5zdWJzdHJpbmcoNCw2KSwxMCktMSxwYXJzZUludChlLnN1YnN0cmluZyg2LDgpLDEwKSkpfXArPW4ubGVuZ3RofSkpLHUucHVzaCh0KSk6cCs9b319cmV0dXJue2hlYWRlcjpsLGZpZWxkczpnLHJlY29yZHM6dSxyZWNvcmRTZXQ6dCh7ZmllbGRzOmcscmVjb3Jkczp1fSl9fX1leHBvcnR7ciBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKHQ9MTVlMyxlPTVlMyl7dGhpcy5fdGltZXI9bnVsbCx0aGlzLl9jYWNoZWRCbG9ja3M9bmV3IE1hcCx0aGlzLl9zaXplPS0xLHRoaXMuX2R1cmF0aW9uPXQsdGhpcy5faW50ZXJ2YWw9TWF0aC5taW4odCxlKX1kZWNyZWFzZVJlZkNvdW50KHQsZSl7Y29uc3Qgcz10K1wiL1wiK2Uscj10aGlzLl9jYWNoZWRCbG9ja3M7aWYoci5oYXMocykpe2NvbnN0IHQ9ci5nZXQocyk7cmV0dXJuIHQucmVmQ291bnQtLSx0LnJlZkNvdW50PD0wJiYoci5kZWxldGUocyksdC5jb250cm9sbGVyJiZ0LmNvbnRyb2xsZXIuYWJvcnQoKSksdC5yZWZDb3VudH1yZXR1cm4gMH1nZXRCbG9jayh0LGUpe2NvbnN0IHM9dCtcIi9cIitlLHI9dGhpcy5fY2FjaGVkQmxvY2tzO2lmKHIuaGFzKHMpKXtjb25zdCB0PXIuZ2V0KHMpO3JldHVybiB0LnRzPURhdGUubm93KCksdC5yZWZDb3VudCsrLHIuZGVsZXRlKHMpLHIuc2V0KHMsdCksdC5ibG9ja31yZXR1cm4gbnVsbH1wdXRCbG9jayh0LGUscyxyKXtjb25zdCBpPXRoaXMuX2NhY2hlZEJsb2NrcyxjPXQrXCIvXCIrZTtpZihpLmhhcyhjKSl7Y29uc3QgdD1pLmdldChjKTt0LnRzPURhdGUubm93KCksdC5yZWZDb3VudCsrfWVsc2UgaS5zZXQoYyx7YmxvY2s6cyx0czpEYXRlLm5vdygpLHJlZkNvdW50OjEsY29udHJvbGxlcjpyfSk7dGhpcy5fdHJpbSgpLHRoaXMuX3VwZGF0ZVRpbWVyKCl9ZGVsZXRlQmxvY2sodCxlKXtjb25zdCBzPXRoaXMuX2NhY2hlZEJsb2NrcyxyPXQrXCIvXCIrZTtzLmhhcyhyKSYmcy5kZWxldGUocil9dXBkYXRlTWF4U2l6ZSh0KXt0aGlzLl9zaXplPXQsdGhpcy5fdHJpbSgpfWVtcHR5KCl7dGhpcy5fY2FjaGVkQmxvY2tzLmNsZWFyKCksdGhpcy5fY2xlYXJUaW1lcigpfWdldEN1cnJlbnRTaXplKCl7cmV0dXJuIHRoaXMuX2NhY2hlZEJsb2Nrcy5zaXplfV91cGRhdGVUaW1lcigpe2lmKG51bGwhPXRoaXMuX3RpbWVyKXJldHVybjtjb25zdCB0PXRoaXMuX2NhY2hlZEJsb2Nrczt0aGlzLl90aW1lcj1zZXRJbnRlcnZhbCgoKCk9Pntjb25zdCBlPUFycmF5LmZyb20odCkscz1EYXRlLm5vdygpO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGgmJmVbcl1bMV0udHM8PXMtdGhpcy5fZHVyYXRpb247cisrKXQuZGVsZXRlKGVbcl1bMF0pOzA9PT10LnNpemUmJnRoaXMuX2NsZWFyVGltZXIoKX0pLHRoaXMuX2ludGVydmFsKX1fdHJpbSgpe2NvbnN0IHQ9dGhpcy5fY2FjaGVkQmxvY2tzO2lmKC0xPT09dGhpcy5fc2l6ZXx8dGhpcy5fc2l6ZT49dC5zaXplKXJldHVybjtjb25zdCBlPUFycmF5LmZyb20odCk7Zm9yKGxldCBzPTA7czxlLmxlbmd0aC10aGlzLl9zaXplO3MrKyl0LmRlbGV0ZShlW3NdWzBdKX1fY2xlYXJUaW1lcigpe251bGwhPXRoaXMuX3RpbWVyJiYoY2xlYXJJbnRlcnZhbCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9bnVsbCl9fWV4cG9ydHt0IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBhIGZyb21cIi4vQmFzZVJhc3Rlci5qc1wiO2ltcG9ydHthcHByb3hpbWF0ZVRyYW5zZm9ybSBhcyBpfWZyb21cIi4uL3Jhc3RlckZ1bmN0aW9ucy9waXhlbFV0aWxzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0ZlYXR1cmVTZXQuanNcIjtsZXQgbj1jbGFzcyBleHRlbmRzIGF7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuZGF0YXNldEZvcm1hdD1cIkZ1bmN0aW9uXCIsdGhpcy50aWxlVHlwZT1cIlJhc3RlclwiLHRoaXMucmFzdGVyRnVuY3Rpb249bnVsbH1hc3luYyBvcGVuKHQpe2F3YWl0IHRoaXMuaW5pdCgpO2NvbnN0e3Jhc3RlckZ1bmN0aW9uOnJ9PXRoaXM7dGhpcy5wcmltYXJ5UmFzdGVycz8ucmFzdGVycz8ubGVuZ3RoP3Iuc291cmNlUmFzdGVycz10aGlzLnByaW1hcnlSYXN0ZXJzLnJhc3RlcnM6KHRoaXMucHJpbWFyeVJhc3RlcnM9ci5nZXRQcmltYXJ5UmFzdGVycygpLHRoaXMucmFzdGVySm9iSGFuZGxlciYmdGhpcy5wcmltYXJ5UmFzdGVycy5yYXN0ZXJzPy5mb3JFYWNoKCh0PT50LnJhc3RlckpvYkhhbmRsZXI9dGhpcy5yYXN0ZXJKb2JIYW5kbGVyKSkpO2NvbnN0e3Jhc3RlcnM6cyxyYXN0ZXJJZHM6YX09dGhpcy5wcmltYXJ5UmFzdGVycyxpPXMubWFwKChlPT5lLnJhc3RlckluZm8/dm9pZCAwOmUub3Blbih0KSkpO2F3YWl0IFByb21pc2UuYWxsKGkpO2NvbnN0IG49cy5tYXAoKCh7cmFzdGVySW5mbzp0fSk9PnQpKSxjPXIuYmluZCh7cmFzdGVySW5mb3M6bixyYXN0ZXJJZHM6YX0pO2lmKCFjLnN1Y2Nlc3N8fDA9PT1uLmxlbmd0aCl0aHJvdyBuZXcgZShcInJhc3Rlci1mdW5jdGlvbjpvcGVuXCIsYGNhbm5vdCBiaW5kIHRoZSBmdW5jdGlvbjogJHtjLmVycm9yPz9cIlwifWApO2NvbnN0IGw9XCJUYWJsZVwiPT09ci5mdW5jdGlvbk5hbWU/cjpyLmZ1bmN0aW9uQXJndW1lbnRzPy5yYXN0ZXI7XCJUYWJsZVwiPT09bD8uZnVuY3Rpb25OYW1lJiYoci5yYXN0ZXJJbmZvLmF0dHJpYnV0ZVRhYmxlPW8uZnJvbUpTT04obC5mdW5jdGlvbkFyZ3VtZW50cy5hdHRyaWJ1dGVUYWJsZUFzUmVjb3JkU2V0KSksYXdhaXQgdGhpcy5zeW5jSm9iSGFuZGxlcigpO2NvbnN0IHA9blswXTt0aGlzLmhhc1VuaXF1ZVNvdXJjZVN0b3JhZ2VJbmZvPTE9PT1uLmxlbmd0aHx8bi5zbGljZSgxKS5ldmVyeSgodD0+dGhpcy5faGFzU2FtZVN0b3JhZ2VJbmZvKHQscCkpKSx0aGlzLnNldChcInNvdXJjZUpTT05cIixzWzBdLnNvdXJjZUpTT04pLHRoaXMuc2V0KFwicmFzdGVySW5mb1wiLHIucmFzdGVySW5mbyl9YXN5bmMgc3luY0pvYkhhbmRsZXIoKXtyZXR1cm4gdGhpcy5yYXN0ZXJKb2JIYW5kbGVyPy51cGRhdGVSYXN0ZXJGdW5jdGlvbih0aGlzLnJhc3RlckZ1bmN0aW9uKX1hc3luYyBmZXRjaFBpeGVscyh0LGUscixzPXt9KXtjb25zdHtyYXN0ZXJzOmEscmFzdGVySWRzOm99PXRoaXMucHJpbWFyeVJhc3RlcnM7bGV0IG49ITE7Y29uc3R7aW50ZXJwb2xhdGlvbjpjfT1zLGw9dGhpcy5yYXN0ZXJGdW5jdGlvbi5mbGF0V2ViR0xGdW5jdGlvbkNoYWluPy5oYXNTdXJmYWNlRnVuY3Rpb247IXMucmVxdWVzdFJhd0RhdGEmJlwiYmlsaW5lYXJcIiE9PWMmJmwmJihuPTE9PT1hLmxlbmd0aCYmIXMuc2tpcFJhc3RlckZ1bmN0aW9uLHM9ey4uLnMsaW50ZXJwb2xhdGlvbjpcImJpbGluZWFyXCIscmVxdWVzdFJhd0RhdGE6bn0pO2NvbnN0IHA9YS5tYXAoKGE9PmEuZmV0Y2hQaXhlbHModCxlLHIscykpKSx1PWF3YWl0IFByb21pc2UuYWxsKHApLG09dS5tYXAoKHQ9PnQucGl4ZWxCbG9jaykpLGg9bnx8cy5yZXF1ZXN0UmF3RGF0YT91Lm1hcCgodD0+dC5zcmNUaWxlUGl4ZWxTaXplKSk6bnVsbDtpZihzLnNraXBSYXN0ZXJGdW5jdGlvbnx8bS5ldmVyeSgodD0+bnVsbD09dCkpKXJldHVybiB1WzBdO2NvbnN0IGY9dS5maW5kKCh0PT5udWxsIT10LnBpeGVsQmxvY2spKT8uZXh0ZW50Pz90LGQ9dGhpcy5yYXN0ZXJKb2JIYW5kbGVyP2F3YWl0IHRoaXMucmFzdGVySm9iSGFuZGxlci5wcm9jZXNzKHtleHRlbnQ6ZixwcmltYXJ5UGl4ZWxCbG9ja3M6bSxwcmltYXJ5UGl4ZWxTaXplczpoLHByaW1hcnlSYXN0ZXJJZHM6b30pOnRoaXMucmFzdGVyRnVuY3Rpb24ucHJvY2Vzcyh7ZXh0ZW50OmYscHJpbWFyeVBpeGVsQmxvY2tzOm0scHJpbWFyeVBpeGVsU2l6ZXM6aCxwcmltYXJ5UmFzdGVySWRzOm99KSx7dHJhbnNmb3JtR3JpZDp5fT11WzBdO2lmKCFufHxudWxsPT1kfHxudWxsPT15KXJldHVybnsuLi51WzBdLHBpeGVsQmxvY2s6ZH07Y29uc3QgeD17cm93czp5LnNwYWNpbmdbMF0sY29sczp5LnNwYWNpbmdbMV19O2xldCBiO2lmKHRoaXMucmFzdGVySm9iSGFuZGxlcil7Yj0oYXdhaXQgdGhpcy5yYXN0ZXJKb2JIYW5kbGVyLm1vc2FpY0FuZFRyYW5zZm9ybSh7c3JjUGl4ZWxCbG9ja3M6W2RdLHNyY01vc2FpY1NpemU6e3dpZHRoOmQud2lkdGgsaGVpZ2h0OmQuaGVpZ2h0fSxkZXN0RGltZW5zaW9uOnt3aWR0aDplLGhlaWdodDpyfSxjb2Vmczp5LmNvZWZmaWNpZW50cyxzYW1wbGVTcGFjaW5nOngscHJvamVjdERpcmVjdGlvbnM6ITEsZ2NzR3JpZDpudWxsLGlzVVY6ITEsaW50ZXJwb2xhdGlvbjpjLGFsaWdubWVudEluZm86dm9pZCAwLGJsb2NrV2lkdGhzOm51bGx9LHMpKS5waXhlbEJsb2NrfWVsc2UgYj1pKGQse3dpZHRoOmUsaGVpZ2h0OnJ9LHkuY29lZmZpY2llbnRzLHgsYyk7cmV0dXJue2V4dGVudDp0LHNyY0V4dGVudDp1WzBdLnNyY0V4dGVudCxwaXhlbEJsb2NrOmJ9fV9oYXNTYW1lU3RvcmFnZUluZm8odCxlKXtjb25zdHtzdG9yYWdlSW5mbzpyLHBpeGVsU2l6ZTpzLHNwYXRpYWxSZWZlcmVuY2U6YSxleHRlbnQ6aX09dCx7c3RvcmFnZUluZm86byxwaXhlbFNpemU6bixzcGF0aWFsUmVmZXJlbmNlOmMsZXh0ZW50Omx9PWU7cmV0dXJuIHMueD09PW4ueCYmcy55PT09bi55JiZhLmVxdWFscyhjKSYmaS5lcXVhbHMobCkmJnIuYmxvY2tIZWlnaHQ9PT1vLmJsb2NrSGVpZ2h0JiZyLmJsb2NrV2lkdGg9PT1vLmJsb2NrV2lkdGgmJnIubWF4aW11bVB5cmFtaWRMZXZlbD09PW8ubWF4aW11bVB5cmFtaWRMZXZlbH19O3QoW3Ioe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxuLnByb3RvdHlwZSxcImRhdGFzZXRGb3JtYXRcIix2b2lkIDApLHQoW3IoKV0sbi5wcm90b3R5cGUsXCJ0aWxlVHlwZVwiLHZvaWQgMCksdChbcigpXSxuLnByb3RvdHlwZSxcInJhc3RlckZ1bmN0aW9uXCIsdm9pZCAwKSx0KFtyKCldLG4ucHJvdG90eXBlLFwicHJpbWFyeVJhc3RlcnNcIix2b2lkIDApLG49dChbcyhcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyRGF0YXNldHMuRnVuY3Rpb25SYXN0ZXJcIildLG4pO2NvbnN0IGM9bjtleHBvcnR7YyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7ZWFjaEFsd2F5cyBhcyBzLGNyZWF0ZUFib3J0RXJyb3IgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgaSBmcm9tXCIuL0Jhc2VSYXN0ZXIuanNcIjtpbXBvcnQgbiBmcm9tXCIuL0luTWVtb3J5UmFzdGVyLmpzXCI7aW1wb3J0e3BhcnNlUEFNSW5mbyBhcyBsfWZyb21cIi4vcGFtUGFyc2VyLmpzXCI7aW1wb3J0e2dldEZvcm1hdCBhcyBtfWZyb21cIi4uL3Jhc3RlckZvcm1hdHMvUmFzdGVyQ29kZWMuanNcIjtpbXBvcnR7ZXN0aW1hdGVTdGF0aXN0aWNzRnJvbUhpc3RvZ3JhbXMgYXMgcH1mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvc3RyZXRjaFV0aWxzLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vcmFzdGVyVHJhbnNmb3Jtcy9Qb2x5bm9taWFsVHJhbnNmb3JtLmpzXCI7aW1wb3J0IGYgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2xldCBoPWNsYXNzIGV4dGVuZHMgaXthc3luYyBvcGVuKHQpe2F3YWl0IHRoaXMuaW5pdCgpO2NvbnN0IGU9YXdhaXQgdGhpcy5fZmV0Y2hEYXRhKHQpO2xldHtzcGF0aWFsUmVmZXJlbmNlOnMsc3RhdGlzdGljczpyLGhpc3RvZ3JhbXM6YSx0cmFuc2Zvcm06b309YXdhaXQgdGhpcy5fZmV0Y2hBdXhpbGlhcnlEYXRhKHQpO2NvbnN0IGk9IXM7aSYmKHM9bmV3IGYoe3draWQ6Mzg1N30pKSxhPy5sZW5ndGgmJm51bGw9PXImJihyPXAoYSkpO2NvbnN0e3dpZHRoOmwsaGVpZ2h0Om19PWU7bGV0IGM9bmV3IHUoe3htaW46LS41LHltaW46LjUtbSx4bWF4OmwtLjUseW1heDouNSxzcGF0aWFsUmVmZXJlbmNlOnN9KTtjb25zdCBoPW8/by5mb3J3YXJkVHJhbnNmb3JtKGMpOmM7bGV0IGQ9ITA7aWYobyl7Y29uc3QgdD1vLmZvcndhcmRDb2VmZmljaWVudHM7ZD10JiYwPT09dFsxXSYmMD09PXRbMl0sZCYmKG89bnVsbCxjPWgpfWNvbnN0IHc9bmV3IG4oe2RhdGE6e2V4dGVudDpoLG5hdGl2ZUV4dGVudDpjLHRyYW5zZm9ybTpvLHBpeGVsQmxvY2s6ZSxzdGF0aXN0aWNzOnIsaGlzdG9ncmFtczphLGtleVByb3BlcnRpZXM6e0RhdGVUeXBlOlwiUHJvY2Vzc2VkXCJ9LGlzUHNldWRvU3BhdGlhbFJlZmVyZW5jZTppfX0pO2F3YWl0IHcub3BlbigpLHcuZGF0YT1udWxsLHRoaXMuX3NldChcInJhc3RlckluZm9cIix3LnJhc3RlckluZm8pLHRoaXMuX2luTWVtb3J5UmFzdGVyPXd9ZmV0Y2hSYXdUaWxlKHQsZSxzLHI9e30pe3JldHVybiB0aGlzLl9pbk1lbW9yeVJhc3Rlci5mZXRjaFJhd1RpbGUodCxlLHMscil9YXN5bmMgX2ZldGNoRGF0YSh0KXtjb25zdHtkYXRhOnN9PWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCx7cmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOnQ/LnNpZ25hbH0pLHI9bShzKS50b1VwcGVyQ2FzZSgpO2lmKFwiSlBHXCIhPT1yJiZcIlBOR1wiIT09ciYmXCJHSUZcIiE9PXImJlwiQk1QXCIhPT1yKXRocm93IG5ldyBlKFwiaW1hZ2UtYXV4LXJhc3RlcjpvcGVuXCIsXCJ0aGUgZGF0YSBpcyBub3QgYSBzdXBwb3J0ZWQgZm9ybWF0XCIpO3RoaXMuX3NldChcImRhdGFzZXRGb3JtYXRcIixyKTtjb25zdCBhPXIudG9Mb3dlckNhc2UoKSxvPVwiZ2lmXCI9PT1hfHxcImJtcFwiPT09YXx8IWhhcyhcImlvc1wiKSxpPWF3YWl0IHRoaXMuZGVjb2RlUGl4ZWxCbG9jayhzLHtmb3JtYXQ6YSx1c2VDYW52YXM6byxoYXNOb1psaWJNYXNrOiEwfSk7aWYobnVsbD09aSl0aHJvdyBuZXcgZShcImltYWdlLWF1eC1yYXN0ZXI6b3BlblwiLFwidGhlIGRhdGEgY2Fubm90IGJlIGRlY29kZWRcIik7cmV0dXJuIGl9YXN5bmMgX2ZldGNoQXV4aWxpYXJ5RGF0YSh0KXtjb25zdCBlPXQ/LnNpZ25hbCxhPXRoaXMuaW9Db25maWcuc2tpcEV4dGVuc2lvbnM/P1tdLG89YS5pbmNsdWRlcyhcImF1eC54bWxcIik/bnVsbDp0aGlzLnJlcXVlc3QodGhpcy51cmwrXCIuYXV4LnhtbFwiLHtyZXNwb25zZVR5cGU6XCJ4bWxcIixzaWduYWw6ZX0pLGk9dGhpcy5kYXRhc2V0Rm9ybWF0LG49XCJKUEdcIj09PWk/XCJqZ3dcIjpcIlBOR1wiPT09aT9cInBnd1wiOlwiQk1QXCI9PT1pP1wiYnB3XCI6bnVsbCxtPW4mJmEuaW5jbHVkZXMobik/bnVsbDp0aGlzLnJlcXVlc3QodGhpcy51cmwuc2xpY2UoMCx0aGlzLnVybC5sYXN0SW5kZXhPZihcIi5cIikpK1wiLlwiK24se3Jlc3BvbnNlVHlwZTpcInRleHRcIixzaWduYWw6ZX0pLHA9YXdhaXQgcyhbbyxtXSk7aWYoZT8uYWJvcnRlZCl0aHJvdyByKCk7Y29uc3QgZj1sKHBbMF0udmFsdWU/LmRhdGEpO2lmKCFmLnRyYW5zZm9ybSl7Y29uc3QgdD1wWzFdLnZhbHVlP3BbMV0udmFsdWUuZGF0YS5zcGxpdChcIlxcblwiKS5zbGljZSgwLDYpLm1hcCgodD0+TnVtYmVyKHQpKSk6bnVsbDtmLnRyYW5zZm9ybT02PT09dD8ubGVuZ3RoP25ldyBjKHtmb3J3YXJkQ29lZmZpY2llbnRzOlt0WzRdLHRbNV0sdFswXSwtdFsxXSx0WzJdLC10WzNdXX0pOm51bGx9cmV0dXJuIGZ9fTt0KFthKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0saC5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSxoPXQoW28oXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlckRhdGFzZXRzLkltYWdlQXV4UmFzdGVyXCIpXSxoKTtjb25zdCBkPWg7ZXhwb3J0e2QgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7YXNzZXJ0SXNTb21lIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt1cmxUb09iamVjdCBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBsIGZyb21cIi4uL1Jhc3RlckluZm8uanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9SYXN0ZXJTdG9yYWdlSW5mby5qc1wiO2ltcG9ydCBuIGZyb21cIi4uL1RpbGVJbmZvLmpzXCI7aW1wb3J0e1RpbGVtYXBDYWNoZSBhcyBjfWZyb21cIi4uL1RpbGVtYXBDYWNoZS5qc1wiO2ltcG9ydCBtIGZyb21cIi4vQmFzZVJhc3Rlci5qc1wiO2ltcG9ydHtzZXRWYWxpZEJvdW5kYXJ5IGFzIHV9ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3BpeGVsVXRpbHMuanNcIjtpbXBvcnQgaCBmcm9tXCIuLi9yYXN0ZXJUcmFuc2Zvcm1zL0dDU1NoaWZ0VHJhbnNmb3JtLmpzXCI7aW1wb3J0e2ZldGNoU2VydmljZVJhc3RlckluZm8gYXMgZn1mcm9tXCIuLi8uLi8uLi9yZXN0L2ltYWdlU2VydmljZS9mZXRjaFJhc3RlckluZm8uanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnQgeSBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtsZXQgeD1jbGFzcyBleHRlbmRzIG17Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2xldmVsT2Zmc2V0PTAsdGhpcy5fdGlsZW1hcENhY2hlPW51bGwsdGhpcy5fc2xpY2VzPW51bGwsdGhpcy5kYXRhc2V0Rm9ybWF0PVwiUmFzdGVyVGlsZVNlcnZlclwiLHRoaXMudGlsZVR5cGU9bnVsbH1hc3luYyBvcGVuKGUpe2F3YWl0IHRoaXMuaW5pdCgpO2NvbnN0IHI9ZSYmZS5zaWduYWwsYT10aGlzLnNvdXJjZUpTT04/e2RhdGE6dGhpcy5zb3VyY2VKU09OfTphd2FpdCB0aGlzLnJlcXVlc3QodGhpcy51cmwse3F1ZXJ5OntmOlwianNvblwifSxzaWduYWw6cn0pO2Euc3NsJiYodGhpcy51cmw9dGhpcy51cmwucmVwbGFjZSgvXmh0dHA6L2ksXCJodHRwczpcIikpO2NvbnN0IGw9YS5kYXRhO2lmKHRoaXMuc291cmNlSlNPTj1sLCFsKXRocm93IG5ldyB0KFwiaW1hZ2VzZXJ2ZXJyYXN0ZXI6b3BlblwiLFwiY2Fubm90IGluaXRpYWxpemUgdGlsZWQgaW1hZ2Ugc2VydmljZSwgbWlzc2luZyBzZXJ2aWNlIGluZm9cIik7aWYoIWwudGlsZUluZm8pdGhyb3cgbmV3IHQoXCJpbWFnZXNlcnZlcnJhc3RlcjpvcGVuXCIsXCJ1c2UgSW1hZ2VyeUxheWVyIHRvIG9wZW4gbm9uLXRpbGVkIGltYWdlIHNlcnZpY2VzXCIpO3RoaXMuX2ZpeFNjYWxlSW5TZXJ2aWNlSW5mbygpO2NvbnN0IG09W1wianBnXCIsXCJqcGVnXCIsXCJwbmdcIixcInBuZzhcIixcInBuZzI0XCIsXCJwbmczMlwiLFwibWl4ZWRcIl07dGhpcy50aWxlVHlwZT1sLmNhY2hlVHlwZSxudWxsPT10aGlzLnRpbGVUeXBlJiYobS5pbmNsdWRlcyhsLnRpbGVJbmZvLmZvcm1hdC50b0xvd2VyQ2FzZSgpKT90aGlzLnRpbGVUeXBlPVwiTWFwXCI6XCJsZXJjXCI9PT1sLnRpbGVJbmZvLmZvcm1hdC50b0xvd2VyQ2FzZSgpP3RoaXMudGlsZVR5cGU9XCJFbGV2YXRpb25cIjp0aGlzLnRpbGVUeXBlPVwiUmFzdGVyXCIpLHRoaXMuZGF0YXNldE5hbWU9bC5uYW1lPy5zbGljZShsLm5hbWUuaW5kZXhPZihcIi9cIikrMSk/P1wiXCI7Y29uc3QgdT1hd2FpdCB0aGlzLl9mZXRjaFJhc3RlckluZm8oe3NpZ25hbDpyfSk7aWYobnVsbD09dSl0aHJvdyBuZXcgdChcImltYWdlLXNlcnZlci1yYXN0ZXI6b3BlblwiLFwiY2Fubm90IGluaXRpYWxpemUgaW1hZ2Ugc2VydmljZVwiKTtjb25zdCBoPVwiTWFwXCI9PT10aGlzLnRpbGVUeXBlP2cobC50aWxlSW5mbyxsKTpuLmZyb21KU09OKGwudGlsZUluZm8pO2koaCk7Y29uc3RbZixwXT10aGlzLl9jb21wdXRlTWluTWF4TE9EKHUsaCkse2V4dGVudDpkLHBpeGVsU2l6ZTp5fT11LHg9LjUvdS53aWR0aCp5Lngsdj1NYXRoLm1heCh5LngseS55KSx7bG9kczpTfT1oOyhcIk1hcFwiIT09dGhpcy50aWxlVHlwZSYmMCE9PWwubWF4U2NhbGV8fE1hdGguYWJzKHkueC15LnkpPnh8fCFTLnNvbWUoKGU9Pk1hdGguYWJzKGUucmVzb2x1dGlvbi12KTx4KSkpJiYoeS54PXkueT1mLnJlc29sdXRpb24sdS53aWR0aD1NYXRoLmNlaWwoKGQueG1heC1kLnhtaW4pL3kueC0uMSksdS5oZWlnaHQ9TWF0aC5jZWlsKChkLnltYXgtZC55bWluKS95LnktLjEpKTtjb25zdCBJPWYubGV2ZWwtcC5sZXZlbCxbdyxqXT1oLnNpemUsTT1bXSxiPVtdO1MuZm9yRWFjaCgoKGUsdCk9PntlLmxldmVsPj1wLmxldmVsJiZlLmxldmVsPD1mLmxldmVsJiZNLnB1c2goe3g6ZS5yZXNvbHV0aW9uLHk6ZS5yZXNvbHV0aW9ufSksdDxTLmxlbmd0aC0xJiZiLnB1c2goTWF0aC5yb3VuZCgxMCplLnJlc29sdXRpb24vU1t0KzFdLnJlc29sdXRpb24pLzEwKX0pKSxNLnNvcnQoKChlLHQpPT5lLngtdC54KSk7Y29uc3QgVD10aGlzLmNvbXB1dGVCbG9ja0JvdW5kYXJ5KGQsdyxqLGgub3JpZ2luLE0sSSksXz1NLmxlbmd0aD4xP00uc2xpY2UoMSk6bnVsbDtsZXQgTztsLnRyYW5zcG9zZUluZm8mJihPPXt0aWxlU2l6ZTpbbC50cmFuc3Bvc2VJbmZvLnJvd3MsbC50cmFuc3Bvc2VJbmZvLmNvbHNdLHBhY2tldFNpemU6dS5rZXlQcm9wZXJ0aWVzPy5feXhzLlBhY2tldFNpemU/PzB9KTtjb25zdCBSPWIubGVuZ3RoPD0xfHxiLmxlbmd0aD49MyYmYi5zbGljZSgwLGIubGVuZ3RoLTEpLmV2ZXJ5KChlPT5lPT09YlswXSkpP2JbMF0/PzI6TWF0aC5yb3VuZCgxMC8ocC5yZXNvbHV0aW9uL2YucmVzb2x1dGlvbikqKigtMS9JKSkvMTA7aWYodS5zdG9yYWdlSW5mbz1uZXcgbyh7YmxvY2tXaWR0aDpoLnNpemVbMF0sYmxvY2tIZWlnaHQ6aC5zaXplWzFdLHB5cmFtaWRCbG9ja1dpZHRoOmguc2l6ZVswXSxweXJhbWlkQmxvY2tIZWlnaHQ6aC5zaXplWzFdLHB5cmFtaWRSZXNvbHV0aW9uczpfLHB5cmFtaWRTY2FsaW5nRmFjdG9yOlIsY29tcHJlc3Npb246aC5mb3JtYXQsb3JpZ2luOmgub3JpZ2luLGZpcnN0UHlyYW1pZExldmVsOjEsbWF4aW11bVB5cmFtaWRMZXZlbDpJLHRpbGVJbmZvOmgsdHJhbnNwb3NlSW5mbzpPLGJsb2NrQm91bmRhcnk6VH0pLHRoaXMuX2ZpeEdDU1NoaWZ0KHUpLHRoaXMuX3NldChcInJhc3RlckluZm9cIix1KSxsLmNhcGFiaWxpdGllcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwidGlsZW1hcFwiKSl7Y29uc3QgZT17dGlsZUluZm86dS5zdG9yYWdlSW5mby50aWxlSW5mbyxwYXJzZWRVcmw6cyh0aGlzLnVybCksdXJsOnRoaXMudXJsLHRpbGVTZXJ2ZXJzOltdfTt0aGlzLl90aWxlbWFwQ2FjaGU9bmV3IGMoe2xheWVyOmV9KX19YXN5bmMgZmV0Y2hSYXdUaWxlKGUsdCxpLHM9e30pe2NvbnN0e3N0b3JhZ2VJbmZvOnIsZXh0ZW50OmF9PXRoaXMucmFzdGVySW5mbyx7dHJhbnNwb3NlSW5mbzpsfT1yLG89bnVsbCE9bCYmISFzLnRyYW5zcG9zZWRWYXJpYWJsZU5hbWU7aWYodGhpcy5fc2xpY2VzJiYhbyYmbnVsbD09cy5zbGljZUlkKXJldHVybiBudWxsO2NvbnN0IG49bz8wOnIubWF4aW11bVB5cmFtaWRMZXZlbC1lK3RoaXMuX2xldmVsT2Zmc2V0LGM9YCR7dGhpcy51cmx9L3RpbGUvJHtufS8ke3R9LyR7aX1gLG09dGhpcy5fc2xpY2VzP28/e3ZhcmlhYmxlOnMudHJhbnNwb3NlZFZhcmlhYmxlTmFtZX06e3NsaWNlSWQ6cy5zbGljZUlkfHwwfTpudWxsLHtkYXRhOmh9PWF3YWl0IHRoaXMucmVxdWVzdChjLHtxdWVyeTptLHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpzLnNpZ25hbH0pO2lmKCFoKXJldHVybiBudWxsO2NvbnN0IGY9bz9sLnRpbGVTaXplOnIudGlsZUluZm8uc2l6ZSxwPWF3YWl0IHRoaXMuZGVjb2RlUGl4ZWxCbG9jayhoLHt3aWR0aDpmWzBdLGhlaWdodDpmWzFdLHBsYW5lczpudWxsLHBpeGVsVHlwZTpudWxsLGlzUG9pbnQ6XCJFbGV2YXRpb25cIj09PXRoaXMudGlsZVR5cGUscmV0dXJuSW50ZXJsZWF2ZWQ6byxub0RhdGFWYWx1ZTp0aGlzLnJhc3RlckluZm8ubm9EYXRhVmFsdWV9KTtpZihudWxsPT1wKXJldHVybiBudWxsO2NvbnN0IGQ9ci5ibG9ja0JvdW5kYXJ5W2VdO2lmKFwianBnXCIhPT1yLmNvbXByZXNzaW9ufHxpPmQubWluQ29sJiZpPGQubWF4Q29sJiZ0PmQubWluUm93JiZ0PGQubWF4Um93KXJldHVybiBwO2NvbnN0e29yaWdpbjp5LGJsb2NrV2lkdGg6eCxibG9ja0hlaWdodDpnfT1yLHt4OnYseTpTfT10aGlzLmdldFB5cmFtaWRQaXhlbFNpemUoZSksST1NYXRoLnJvdW5kKChhLnhtaW4teS54KS92KSV4LHc9TWF0aC5yb3VuZCgoYS54bWF4LXkueCkvdikleHx8eCxqPU1hdGgucm91bmQoKHkueS1hLnltYXgpL1MpJWcsTT1NYXRoLnJvdW5kKCh5LnktYS55bWluKS9TKSVnfHxnLGI9aT09PWQubWluQ29sP0k6MCxUPXQ9PT1kLm1pblJvdz9qOjAsXz1pPT09ZC5tYXhDb2w/dzp4LE89dD09PWQubWF4Um93P006ZztyZXR1cm4gdShwLHt4OmIseTpUfSx7d2lkdGg6Xy1iLGhlaWdodDpPLVR9KSxwfWdldFNsaWNlSW5kZXgoZSl7aWYoIXRoaXMuX3NsaWNlc3x8bnVsbD09ZXx8MD09PWUubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHQ9ZTtmb3IobGV0IGk9MDtpPHRoaXMuX3NsaWNlcy5sZW5ndGg7aSsrKXtjb25zdCBlPXRoaXMuX3NsaWNlc1tpXS5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjtpZihlLmxlbmd0aD09PXQubGVuZ3RoJiYhZS5zb21lKChlPT57Y29uc3QgaT10LmZpbmQoKHQ9PmUudmFyaWFibGVOYW1lPT09dC52YXJpYWJsZU5hbWUmJnQuZGltZW5zaW9uTmFtZT09PWUuZGltZW5zaW9uTmFtZSkpO2lmKCFpKXJldHVybiEwO3JldHVybihBcnJheS5pc0FycmF5KGUudmFsdWVzWzBdKT9gJHtlLnZhbHVlc1swXVswXX0tJHtlLnZhbHVlc1swXVsxXX1gOmUudmFsdWVzWzBdKSE9PShBcnJheS5pc0FycmF5KGkudmFsdWVzWzBdKT9gJHtpLnZhbHVlc1swXVswXX0tJHtpLnZhbHVlc1swXVsxXX1gOmkudmFsdWVzWzBdKX0pKSlyZXR1cm4gaX1yZXR1cm4gbnVsbH1hc3luYyBmZXRjaFZhcmlhYmxlU3RhdGlzdGljc0hpc3RvZ3JhbXMoZSx0KXtjb25zdCBpPXRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi9zdGF0aXN0aWNzXCIse3F1ZXJ5Ont2YXJpYWJsZTplLGY6XCJqc29uXCJ9LHNpZ25hbDp0fSkudGhlbigoZT0+ZS5kYXRhPy5zdGF0aXN0aWNzKSkscz10aGlzLnJlcXVlc3QodGhpcy51cmwrXCIvaGlzdG9ncmFtc1wiLHtxdWVyeTp7dmFyaWFibGU6ZSxmOlwianNvblwifSxzaWduYWw6dH0pLnRoZW4oKGU9PmUuZGF0YT8uaGlzdG9ncmFtcykpLHI9YXdhaXQgUHJvbWlzZS5hbGwoW2ksc10pO3JldHVybiByWzBdJiZyWzBdLmZvckVhY2goKGU9PntlLmF2Zz1lLm1lYW4sZS5zdGRkZXY9ZS5zdGFuZGFyZERldmlhdGlvbn0pKSx7c3RhdGlzdGljczpyWzBdfHxudWxsLGhpc3RvZ3JhbXM6clsxXXx8bnVsbH19YXN5bmMgY29tcHV0ZUJlc3RQeXJhbWlkTGV2ZWxGb3JMb2NhdGlvbihlLHQ9e30pe2lmKCF0aGlzLl90aWxlbWFwQ2FjaGUpcmV0dXJuIDA7bGV0IGk9dGhpcy5pZGVudGlmeVBpeGVsTG9jYXRpb24oZSwwLHQuZGF0dW1UcmFuc2Zvcm1hdGlvbik7aWYobnVsbD09PWkpcmV0dXJuIG51bGw7bGV0IHM9MDtjb25zdHttYXhpbXVtUHlyYW1pZExldmVsOnJ9PXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mbztsZXQgYT1yLXMrdGhpcy5fbGV2ZWxPZmZzZXQ7Y29uc3QgbD1pLnNyY0xvY2F0aW9uO2Zvcig7YT49MDspe3RyeXtpZihcImF2YWlsYWJsZVwiPT09YXdhaXQgdGhpcy5fdGlsZW1hcENhY2hlLmZldGNoQXZhaWxhYmlsaXR5KGEsaS5yb3csaS5jb2wsdCkpYnJlYWt9Y2F0Y2h7fWlmKGEtLSxzKyssaT10aGlzLmlkZW50aWZ5UGl4ZWxMb2NhdGlvbihsLHMsdC5kYXR1bVRyYW5zZm9ybWF0aW9uKSxudWxsPT09aSlyZXR1cm4gbnVsbH1yZXR1cm4tMT09PWF8fG51bGw9PWk/bnVsbDpzfWFzeW5jIF9mZXRjaFJhc3RlckluZm8oZSl7Y29uc3QgdD10aGlzLnNvdXJjZUpTT047aWYoXCJNYXBcIj09PXRoaXMudGlsZVR5cGUpe2NvbnN0IGU9dC5mdWxsRXh0ZW50fHx0LmV4dGVudCxpPU1hdGguY2VpbCgoZS54bWF4LWUueG1pbikvdC5waXhlbFNpemVYLS4xKSxzPU1hdGguY2VpbCgoZS55bWF4LWUueW1pbikvdC5waXhlbFNpemVZLS4xKSxyPXAuZnJvbUpTT04odC5zcGF0aWFsUmVmZXJlbmNlfHxlLnNwYXRpYWxSZWZlcmVuY2UpLGE9bmV3IGQoe3g6dC5waXhlbFNpemVYLHk6dC5waXhlbFNpemVZLHNwYXRpYWxSZWZlcmVuY2U6cn0pO3JldHVybiBuZXcgbCh7d2lkdGg6aSxoZWlnaHQ6cyxiYW5kQ291bnQ6MyxleHRlbnQ6eS5mcm9tSlNPTihlKSxzcGF0aWFsUmVmZXJlbmNlOnIscGl4ZWxTaXplOmEscGl4ZWxUeXBlOlwidThcIixzdGF0aXN0aWNzOm51bGwsa2V5UHJvcGVydGllczp7RGF0YVR5cGU6XCJwcm9jZXNzZWRcIn19KX1jb25zdHtzaWduYWw6aX09ZSxzPWYodGhpcy51cmwsdGhpcy5zb3VyY2VKU09OLHtzaWduYWw6aSxxdWVyeTp0aGlzLmlvQ29uZmlnLmN1c3RvbUZldGNoUGFyYW1ldGVyc30pLHI9dC5oYXNNdWx0aWRpbWVuc2lvbnM/dGhpcy5yZXF1ZXN0KGAke3RoaXMudXJsfS9zbGljZXNgLHtxdWVyeTp7ZjpcImpzb25cIn0sc2lnbmFsOml9KS50aGVuKChlPT5lLmRhdGEmJmUuZGF0YS5zbGljZXMpKS5jYXRjaCgoKCk9Pm51bGwpKTpudWxsLGE9YXdhaXQgUHJvbWlzZS5hbGwoW3Mscl0pO3JldHVybiB0aGlzLl9zbGljZXM9YVsxXSxhWzBdfV9maXhTY2FsZUluU2VydmljZUluZm8oKXtjb25zdHtzb3VyY2VKU09OOmV9PXRoaXM7ZS5taW5TY2FsZSYmZS5taW5TY2FsZTwwJiYoZS5taW5TY2FsZT0wKSxlLm1heFNjYWxlJiZlLm1heFNjYWxlPDAmJihlLm1heFNjYWxlPTApfV9maXhHQ1NTaGlmdChlKXtjb25zdHtleHRlbnQ6dCxzcGF0aWFsUmVmZXJlbmNlOml9PWU7dC54bWluPi0xJiZ0LnhtYXg+MTgxJiZpPy53a2lkJiZpLmlzR2VvZ3JhcGhpYyYmKGUubmF0aXZlRXh0ZW50PWUuZXh0ZW50LGUudHJhbnNmb3JtPW5ldyBoLGUuZXh0ZW50PWUudHJhbnNmb3JtLmZvcndhcmRUcmFuc2Zvcm0odCkpfV9jb21wdXRlTWluTWF4TE9EKGUsdCl7Y29uc3R7cGl4ZWxTaXplOml9PWUscz0uNS9lLndpZHRoKmkueCx7bG9kczpyfT10LGE9dC5sb2RBdChNYXRoLm1heC5hcHBseShudWxsLHIubWFwKChlPT5lLmxldmVsKSkpKSxsPXQubG9kQXQoTWF0aC5taW4uYXBwbHkobnVsbCxyLm1hcCgoZT0+ZS5sZXZlbCkpKSkse3RpbGVUeXBlOm99PXRoaXM7aWYoXCJNYXBcIj09PW8pcmV0dXJuIHRoaXMuX2xldmVsT2Zmc2V0PXJbMF0ubGV2ZWwsW2EsbF07aWYoXCJSYXN0ZXJcIj09PW8pe3JldHVybltyLmZpbmQoKGU9PmUucmVzb2x1dGlvbj09PWkueCkpPz9hLGxdfWNvbnN0e21pblNjYWxlOm4sbWF4U2NhbGU6Y309dGhpcy5zb3VyY2VKU09OO2xldCBtPWE7Yz4wJiYobT1yLmZpbmQoKGU9Pk1hdGguYWJzKGUuc2NhbGUtYyk8cykpLG18fChtPXIuZmlsdGVyKChlPT5lLnNjYWxlPmMpKS5zb3J0KCgoZSx0KT0+ZS5zY2FsZT50LnNjYWxlPzE6LTEpKVswXT8/YSkpO2xldCB1PWw7cmV0dXJuIG4+MCYmKHU9ci5maW5kKChlPT5NYXRoLmFicyhlLnNjYWxlLW4pPHMpKT8/bCx0aGlzLl9sZXZlbE9mZnNldD11LmxldmVsLWwubGV2ZWwpLFttLHVdfX07ZnVuY3Rpb24gZyhlLHQpe2lmKCFlKXJldHVybiBudWxsO2NvbnN0e21pblNjYWxlOmksbWF4U2NhbGU6cyxtaW5MT0Q6cixtYXhMT0Q6YX09dDtpZihudWxsIT1yJiZudWxsIT1hKXJldHVybiBuLmZyb21KU09OKHsuLi5lLGxvZHM6ZS5sb2RzLmZpbHRlcigoKHtsZXZlbDplfSk9Pm51bGwhPWUmJmU+PXImJmU8PWEpKX0pO2lmKDAhPT1pJiYwIT09cyl7Y29uc3QgdD1lPT5NYXRoLnJvdW5kKDFlNCplKS8xZTQscj1pP3QoaSk6MS8wLGE9cz90KHMpOi0xLzA7cmV0dXJuIG4uZnJvbUpTT04oey4uLmUsbG9kczplLmxvZHMuZmlsdGVyKChlPT57Y29uc3QgaT10KGUuc2NhbGUpO3JldHVybiBpPD1yJiZpPj1hfSkpfSl9cmV0dXJuIG4uZnJvbUpTT04oZSl9ZShbcih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLHgucHJvdG90eXBlLFwiZGF0YXNldEZvcm1hdFwiLHZvaWQgMCksZShbcigpXSx4LnByb3RvdHlwZSxcInRpbGVUeXBlXCIsdm9pZCAwKSx4PWUoW2EoXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlckRhdGFzZXRzLkltYWdlU2VydmVyUmFzdGVyXCIpXSx4KTtjb25zdCB2PXg7ZXhwb3J0e3YgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7ZWFjaEFsd2F5cyBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9SYXN0ZXJJbmZvLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi9CYXNlUmFzdGVyLmpzXCI7aW1wb3J0e3NwbGl0IGFzIG59ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3BpeGVsVXRpbHMuanNcIjtpbXBvcnR7ZXN0aW1hdGVTdGF0aXN0aWNzSGlzdG9ncmFtcyBhcyBtfWZyb21cIi4uL3Jhc3RlckZ1bmN0aW9ucy9zdHJldGNoVXRpbHMuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7bGV0IGM9Y2xhc3MgZXh0ZW5kcyBhe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmRhdGFzZXRGb3JtYXQ9XCJNRU1PUllcIix0aGlzLmRhdGE9bnVsbH1hc3luYyBvcGVuKHQpe2F3YWl0IHRoaXMuaW5pdCgpO2NvbnN0IGU9dGhpcy5kYXRhLHtwaXhlbEJsb2NrOnMsc3RhdGlzdGljczpyLGhpc3RvZ3JhbXM6aSxuYW1lOmEsa2V5UHJvcGVydGllczpuLG5hdGl2ZUV4dGVudDptLHRyYW5zZm9ybTpjfT10aGlzLmRhdGEse3dpZHRoOmgsaGVpZ2h0OmYscGl4ZWxUeXBlOnV9PXMsZD1lLmV4dGVudD8/bmV3IGwoe3htaW46LS41LHltaW46LjUseG1heDpoLS41LHltYXg6Zi0uNSxzcGF0aWFsUmVmZXJlbmNlOm5ldyBwKHt3a2lkOjM4NTd9KX0pLHk9ZS5pc1BzZXVkb1NwYXRpYWxSZWZlcmVuY2U/PyFlLmV4dGVudCx4PXt4OmQud2lkdGgvaCx5OmQuaGVpZ2h0L2Z9LGc9bmV3IG8oe3dpZHRoOmgsaGVpZ2h0OmYscGl4ZWxUeXBlOnUsZXh0ZW50OmQsbmF0aXZlRXh0ZW50Om0sdHJhbnNmb3JtOmMscGl4ZWxTaXplOngsc3BhdGlhbFJlZmVyZW5jZTpkLnNwYXRpYWxSZWZlcmVuY2UsYmFuZENvdW50OnMucGl4ZWxzLmxlbmd0aCxrZXlQcm9wZXJ0aWVzOm58fHt9LHN0YXRpc3RpY3M6cixpc1BzZXVkb1NwYXRpYWxSZWZlcmVuY2U6eSxoaXN0b2dyYW1zOml9KTt0aGlzLmNyZWF0ZVJlbW90ZURhdGFzZXRTdG9yYWdlSW5mbyhnLDUxMiw1MTIpLHRoaXMuX3NldChcInJhc3RlckluZm9cIixnKSx0aGlzLnVwZGF0ZVRpbGVJbmZvKCksYXdhaXQgdGhpcy5fYnVpbGRJbk1lbW9yeVJhc3RlcihzLHt3aWR0aDo1MTIsaGVpZ2h0OjUxMn0sdCksdGhpcy5kYXRhc2V0TmFtZT1hLHRoaXMudXJsPVwiL0luTWVtb3J5L1wiK2F9ZmV0Y2hSYXdUaWxlKHQsZSxzLHI9e30pe2NvbnN0IGk9dGhpcy5fcGl4ZWxCbG9ja1RpbGVzLmdldChgJHt0fS8ke2V9LyR7c31gKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGkpfWFzeW5jIF9idWlsZEluTWVtb3J5UmFzdGVyKHQscixpKXtjb25zdCBvPXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5tYXhpbXVtUHlyYW1pZExldmVsLGE9dGhpcy5yYXN0ZXJKb2JIYW5kbGVyP3RoaXMucmFzdGVySm9iSGFuZGxlci5zcGxpdCh7cGl4ZWxCbG9jazp0LHRpbGVTaXplOnIsbWF4aW11bVB5cmFtaWRMZXZlbDpvfSxpKTpQcm9taXNlLnJlc29sdmUobih0LHIsbykpLGw9bnVsbCE9dGhpcy5yYXN0ZXJJbmZvLnN0YXRpc3RpY3MscD1udWxsIT10aGlzLnJhc3RlckluZm8uaGlzdG9ncmFtcyxjPWw/UHJvbWlzZS5yZXNvbHZlKHtzdGF0aXN0aWNzOm51bGwsaGlzdG9ncmFtczpudWxsfSk6dGhpcy5yYXN0ZXJKb2JIYW5kbGVyP3RoaXMucmFzdGVySm9iSGFuZGxlci5lc3RpbWF0ZVN0YXRpc3RpY3NIaXN0b2dyYW1zKHtwaXhlbEJsb2NrOnR9LGkpOlByb21pc2UucmVzb2x2ZShtKHQpKSxoPWF3YWl0IHMoW2EsY10pO2lmKCFoWzBdLnZhbHVlJiZoWzFdLnZhbHVlKXRocm93IG5ldyBlKFwiaW5tZW1vcnktcmFzdGVyOm9wZW5cIixcImZhaWxlZCB0byBidWlsZCBpbiBtZW1vcnkgcmFzdGVyXCIpO3RoaXMuX3BpeGVsQmxvY2tUaWxlcz1oWzBdLnZhbHVlLGx8fCh0aGlzLnJhc3RlckluZm8uc3RhdGlzdGljcz1oWzFdLnZhbHVlPy5zdGF0aXN0aWNzKSxwfHwodGhpcy5yYXN0ZXJJbmZvLmhpc3RvZ3JhbXM9aFsxXS52YWx1ZT8uaGlzdG9ncmFtcyl9fTt0KFtyKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sYy5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSx0KFtyKCldLGMucHJvdG90eXBlLFwiZGF0YVwiLHZvaWQgMCksYz10KFtpKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5yYXN0ZXJEYXRhc2V0cy5Jbk1lbW9yeVJhc3RlclwiKV0sYyk7Y29uc3QgaD1jO2V4cG9ydHtoIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9QaXhlbEJsb2NrLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vUmFzdGVySW5mby5qc1wiO2ltcG9ydCBhIGZyb21cIi4uL1Jhc3RlclN0b3JhZ2VJbmZvLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi9CYXNlUmFzdGVyLmpzXCI7aW1wb3J0e3BhcnNlU3BhdGlhbFJlZmVyZW5jZSBhcyBsLHBhcnNlUEFNSW5mbyBhcyBmfWZyb21cIi4vcGFtUGFyc2VyLmpzXCI7aW1wb3J0e2dldEVsZW1lbnQgYXMgYyxnZXRFbGVtZW50VmFsdWUgYXMgcH1mcm9tXCIuL3htbFV0aWxpdGllcy5qc1wiO2ltcG9ydHtpc1BsYXRmb3JtTGl0dGxlRW5kaWFuIGFzIG19ZnJvbVwiLi4vcmFzdGVyRm9ybWF0cy91dGlscy5qc1wiO2ltcG9ydHtlc3RpbWF0ZVN0YXRpc3RpY3NGcm9tSGlzdG9ncmFtcyBhcyBofWZyb21cIi4uL3Jhc3RlckZ1bmN0aW9ucy9zdHJldGNoVXRpbHMuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IGcgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtjb25zdCB5PW5ldyBNYXA7eS5zZXQoXCJJbnQ4XCIsXCJzOFwiKSx5LnNldChcIlVJbnQ4XCIsXCJ1OFwiKSx5LnNldChcIkludDE2XCIsXCJzMTZcIikseS5zZXQoXCJVSW50MTZcIixcInUxNlwiKSx5LnNldChcIkludDMyXCIsXCJzMzJcIikseS5zZXQoXCJVSW50MzJcIixcInUzMlwiKSx5LnNldChcIkZsb2F0MzJcIixcImYzMlwiKSx5LnNldChcIkZsb2F0NjRcIixcImYzMlwiKSx5LnNldChcIkRvdWJsZTY0XCIsXCJmMzJcIik7Y29uc3QgeD1uZXcgTWFwO3guc2V0KFwibm9uZVwiLHtibG9iRXh0ZW5zaW9uOlwiLnRpbFwiLGlzT25lU2VnbWVudDohMCxkZWNvZGVyRm9ybWF0OlwiYmlwXCJ9KSx4LnNldChcImxlcmNcIix7YmxvYkV4dGVuc2lvbjpcIi5scmNcIixpc09uZVNlZ21lbnQ6ITEsZGVjb2RlckZvcm1hdDpcImxlcmNcIn0pLHguc2V0KFwiZGVmbGF0ZVwiLHtibG9iRXh0ZW5zaW9uOlwiLnB6cFwiLGlzT25lU2VnbWVudDohMCxkZWNvZGVyRm9ybWF0OlwiZGVmbGF0ZVwifSkseC5zZXQoXCJqcGVnXCIse2Jsb2JFeHRlbnNpb246XCIucGpnXCIsaXNPbmVTZWdtZW50OiEwLGRlY29kZXJGb3JtYXQ6XCJqcGdcIn0pO2xldCB3PWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fZmlsZXM9bnVsbCx0aGlzLl9zdG9yYWdlSW5kZXg9bnVsbCx0aGlzLmRhdGFzZXRGb3JtYXQ9XCJNUkZcIn1hc3luYyBvcGVuKHQpe2F3YWl0IHRoaXMuaW5pdCgpLHRoaXMuZGF0YXNldE5hbWU9dGhpcy51cmwuc2xpY2UodGhpcy51cmwubGFzdEluZGV4T2YoXCIvXCIpKzEpO2NvbnN0IGU9dD90LnNpZ25hbDpudWxsLHI9YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyZXNwb25zZVR5cGU6XCJ4bWxcIixzaWduYWw6ZX0pLHtyYXN0ZXJJbmZvOnMsZmlsZXM6b309dGhpcy5fcGFyc2VIZWFkZXIoci5kYXRhKTtpZigtMT09PXRoaXMuaW9Db25maWcuc2tpcEV4dGVuc2lvbnM/LmluZGV4T2YoXCJhdXgueG1sXCIpKXtjb25zdCBlPWF3YWl0IHRoaXMuX2ZldGNoQXV4aWxpYXJ5RGF0YSh0KTtudWxsIT1lJiYocy5zdGF0aXN0aWNzPWUuc3RhdGlzdGljcz8/cy5zdGF0aXN0aWNzLHMuaGlzdG9ncmFtcz1lLmhpc3RvZ3JhbXMsZS5oaXN0b2dyYW1zJiZudWxsPT1zLnN0YXRpc3RpY3MmJihzLnN0YXRpc3RpY3M9aChlLmhpc3RvZ3JhbXMpKSl9dGhpcy5fc2V0KFwicmFzdGVySW5mb1wiLHMpLHRoaXMuX2ZpbGVzPW87Y29uc3QgaT1hd2FpdCB0aGlzLnJlcXVlc3Qoby5pbmRleCx7cmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOmV9KTt0aGlzLl9zdG9yYWdlSW5kZXg9dGhpcy5fcGFyc2VJbmRleChpLmRhdGEpO2NvbnN0e2Jsb2NrV2lkdGg6YSxibG9ja0hlaWdodDpufT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8sbD10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8ucHlyYW1pZFNjYWxpbmdGYWN0b3Ise3dpZHRoOmYsaGVpZ2h0OmN9PXRoaXMucmFzdGVySW5mbyxwPVtdLG09dGhpcy5fZ2V0QmFuZFNlZ21lbnRDb3VudCgpO2xldCB1PTAsZz0tMTtmb3IoO3U8dGhpcy5fc3RvcmFnZUluZGV4Lmxlbmd0aDspe2crKztjb25zdCB0PU1hdGguY2VpbChmL2EvbCoqZyktMSxlPU1hdGguY2VpbChjL24vbCoqZyktMTt1Kz0odCsxKSooZSsxKSptKjQscC5wdXNoKHttYXhSb3c6ZSxtYXhDb2w6dCxtaW5Db2w6MCxtaW5Sb3c6MH0pfXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5ibG9ja0JvdW5kYXJ5PXAsZz4wJiYodGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmZpcnN0UHlyYW1pZExldmVsPTEsdGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLm1heGltdW1QeXJhbWlkTGV2ZWw9ZyksdGhpcy51cGRhdGVUaWxlSW5mbygpfWFzeW5jIGZldGNoUmF3VGlsZSh0LGUscixzPXt9KXtjb25zdHtibG9ja1dpZHRoOmksYmxvY2tIZWlnaHQ6YSxibG9ja0JvdW5kYXJ5Om59PXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mbyxsPW5bdF07aWYoIWx8fGwubWF4Um93PGV8fGwubWF4Q29sPHJ8fGwubWluUm93PmV8fGwubWluQ29sPnIpcmV0dXJuIG51bGw7Y29uc3R7YmFuZENvdW50OmYscGl4ZWxUeXBlOmN9PXRoaXMucmFzdGVySW5mbyx7cmFuZ2VzOnAsYWN0dWFsVGlsZVdpZHRoOm0sYWN0dWFsVGlsZUhlaWdodDpofT10aGlzLl9nZXRUaWxlTG9jYXRpb24odCxlLHIpO2lmKCFwfHwwPT09cC5sZW5ndGgpcmV0dXJuIG51bGw7aWYoMD09PXBbMF0uZnJvbSYmMD09PXBbMF0udG8pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoaSphKTtyZXR1cm4gbmV3IG8oe3dpZHRoOmksaGVpZ2h0OmEscGl4ZWxzOm51bGwsbWFzazp0LHZhbGlkUGl4ZWxDb3VudDowfSl9Y29uc3R7YmFuZElkczp1fT10aGlzLmlvQ29uZmlnLGc9dGhpcy5fZ2V0QmFuZFNlZ21lbnRDb3VudCgpLGQ9W107bGV0IHk9MDtmb3IoeT0wO3k8Zzt5KyspdSYmIXUuaW5jbHVkZXMoeSl8fGQucHVzaCh0aGlzLnJlcXVlc3QodGhpcy5fZmlsZXMuZGF0YSx7cmFuZ2U6e2Zyb206cFt5XS5mcm9tLHRvOnBbeV0udG99LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpzLnNpZ25hbH0pKTtjb25zdCB3PWF3YWl0IFByb21pc2UuYWxsKGQpLEk9dy5tYXAoKHQ9PnQuZGF0YS5ieXRlTGVuZ3RoKSkucmVkdWNlKCgodCxlKT0+dCtlKSksYj1uZXcgVWludDhBcnJheShJKTtsZXQgQT0wO2Zvcih5PTA7eTxnO3krKyliLnNldChuZXcgVWludDhBcnJheSh3W3ldLmRhdGEpLEEpLEErPXdbeV0uZGF0YS5ieXRlTGVuZ3RoO2NvbnN0IEY9eC5nZXQodGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmNvbXByZXNzaW9uKS5kZWNvZGVyRm9ybWF0LF89YXdhaXQgdGhpcy5kZWNvZGVQaXhlbEJsb2NrKGIuYnVmZmVyLHt3aWR0aDppLGhlaWdodDphLGZvcm1hdDpGLHBsYW5lczp1Py5sZW5ndGh8fGYscGl4ZWxUeXBlOmN9KTtpZihudWxsPT1fKXJldHVybiBudWxsO2xldHtub0RhdGFWYWx1ZTpSfT10aGlzLnJhc3RlckluZm87aWYobnVsbCE9UiYmXCJsZXJjXCIhPT1GJiYhXy5tYXNrJiYoUj1SWzBdLG51bGwhPVIpKXtjb25zdCB0PV8ud2lkdGgqXy5oZWlnaHQsZT1uZXcgVWludDhBcnJheSh0KTtpZihNYXRoLmFicyhSKT4xZTI0KWZvcih5PTA7eTx0O3krKylNYXRoLmFicygoXy5waXhlbHNbMF1beV0tUikvUik+MWUtNiYmKGVbeV09MSk7ZWxzZSBmb3IoeT0wO3k8dDt5KyspXy5waXhlbHNbMF1beV0hPT1SJiYoZVt5XT0xKTtfLm1hc2s9ZX1sZXQgUz0wLGo9MDtpZihtIT09aXx8aCE9PWEpe2xldCB0PV8ubWFzaztpZih0KWZvcih5PTA7eTxhO3krKylpZihqPXkqaSx5PGgpZm9yKFM9bTtTPGk7UysrKXRbaitTXT0wO2Vsc2UgZm9yKFM9MDtTPGk7UysrKXRbaitTXT0wO2Vsc2UgZm9yKHQ9bmV3IFVpbnQ4QXJyYXkoaSphKSxfLm1hc2s9dCx5PTA7eTxoO3krKylmb3Ioaj15KmksUz0wO1M8bTtTKyspdFtqK1NdPTF9cmV0dXJuIF99X3BhcnNlSW5kZXgodCl7aWYodC5ieXRlTGVuZ3RoJTE2PjApdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBhcnJheSBidWZmZXIgbXVzdCBiZSBtdWx0aXBsZXMgb2YgMTZcIik7bGV0IGUscixzLG8saSxhO2lmKG0pe2ZvcihyPW5ldyBVaW50OEFycmF5KHQpLG89bmV3IEFycmF5QnVmZmVyKHQuYnl0ZUxlbmd0aCkscz1uZXcgVWludDhBcnJheShvKSxpPTA7aTx0LmJ5dGVMZW5ndGgvNDtpKyspZm9yKGE9MDthPDQ7YSsrKXNbNCppK2FdPXJbNCppKzMtYV07ZT1uZXcgVWludDMyQXJyYXkobyl9ZWxzZSBlPW5ldyBVaW50MzJBcnJheSh0KTtyZXR1cm4gZX1fZ2V0QmFuZFNlZ21lbnRDb3VudCgpe3JldHVybiB4LmdldCh0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uY29tcHJlc3Npb24pLmlzT25lU2VnbWVudD8xOnRoaXMucmFzdGVySW5mby5iYW5kQ291bnR9X2dldFRpbGVMb2NhdGlvbih0LGUscil7Y29uc3R7YmxvY2tXaWR0aDpzLGJsb2NrSGVpZ2h0Om8scHlyYW1pZFNjYWxpbmdGYWN0b3I6aX09dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLHt3aWR0aDphLGhlaWdodDpufT10aGlzLnJhc3RlckluZm8sbD10aGlzLl9nZXRCYW5kU2VnbWVudENvdW50KCk7bGV0IGYsYyxwLG09MCxoPTA7Zm9yKHA9MDtwPHQ7cCsrKWg9aSoqcCxmPU1hdGguY2VpbChhL3MvaCksYz1NYXRoLmNlaWwobi9vL2gpLG0rPWYqYztoPWkqKnQsZj1NYXRoLmNlaWwoYS9zL2gpLGM9TWF0aC5jZWlsKG4vby9oKSxtKz1lKmYrcixtKj00Kmw7Y29uc3QgdT10aGlzLl9zdG9yYWdlSW5kZXguc3ViYXJyYXkobSxtKzQqbCk7bGV0IGc9MCxkPTA7Y29uc3QgeT1bXTtmb3IobGV0IHg9MDt4PGw7eCsrKWc9dVs0KnhdKjIqKjMyK3VbNCp4KzFdLGQ9Zyt1WzQqeCsyXSoyKiozMit1WzQqeCszXSx5LnB1c2goe2Zyb206Zyx0bzpkfSk7cmV0dXJue3Jhbmdlczp5LGFjdHVhbFRpbGVXaWR0aDpyPGYtMT9zOk1hdGguY2VpbChhL2gpLXMqKGYtMSksYWN0dWFsVGlsZUhlaWdodDplPGMtMT9vOk1hdGguY2VpbChuL2gpLW8qKGMtMSl9fV9wYXJzZUhlYWRlcih0KXtjb25zdCByPWModCxcIk1SRl9NRVRBL1Jhc3RlclwiKTtpZighcil0aHJvdyBuZXcgZShcIm1yZjpvcGVuXCIsXCJub3QgYSB2YWxpZCBNUkYgZm9ybWF0XCIpO2NvbnN0IHM9YyhyLFwiU2l6ZVwiKSxvPXBhcnNlSW50KHMuZ2V0QXR0cmlidXRlKFwieFwiKSwxMCksbj1wYXJzZUludChzLmdldEF0dHJpYnV0ZShcInlcIiksMTApLGY9cGFyc2VJbnQocy5nZXRBdHRyaWJ1dGUoXCJjXCIpLDEwKSxtPShwKHIsXCJDb21wcmVzc2lvblwiKXx8XCJub25lXCIpLnRvTG93ZXJDYXNlKCk7aWYoIXguaGFzKG0pKXRocm93IG5ldyBlKFwibXJmOm9wZW5cIixcImN1cnJlbnRseSBkb2VzIG5vdCBzdXBwb3J0IGNvbXByZXNzaW9uIFwiK20pO2NvbnN0IGg9cChyLFwiRGF0YVR5cGVcIil8fFwiVUludDhcIix3PXkuZ2V0KGgpO2lmKG51bGw9PXcpdGhyb3cgbmV3IGUoXCJtcmY6b3BlblwiLFwiY3VycmVudGx5IGRvZXMgbm90IHN1cHBvcnQgcGl4ZWwgdHlwZSBcIitoKTtjb25zdCBJPWMocixcIlBhZ2VTaXplXCIpLGI9cGFyc2VJbnQoSS5nZXRBdHRyaWJ1dGUoXCJ4XCIpLDEwKSxBPXBhcnNlSW50KEkuZ2V0QXR0cmlidXRlKFwieVwiKSwxMCksRj1jKHIsXCJEYXRhVmFsdWVzXCIpO2xldCBfLFI7RiYmKFI9Ri5nZXRBdHRyaWJ1dGUoXCJOb0RhdGFcIiksbnVsbCE9UiYmKF89Ui50cmltKCkuc3BsaXQoXCIgXCIpLm1hcCgodD0+cGFyc2VGbG9hdCh0KSkpKSk7aWYoYyh0LFwiTVJGX01FVEEvQ2FjaGVkU291cmNlXCIpKXRocm93IG5ldyBlKFwibXJmOm9wZW5cIixcImN1cnJlbnRseSBkb2VzIG5vdCBzdXBwb3J0IE1SRiByZWZlcmVuY2luZyBvdGhlciBkYXRhIGZpbGVzXCIpO2NvbnN0IFM9Yyh0LFwiTVJGX01FVEEvR2VvVGFnc1wiKSxqPWMoUyxcIkJvdW5kaW5nQm94XCIpO2xldCBrLE09ITE7aWYobnVsbCE9ail7Y29uc3QgdD1wYXJzZUZsb2F0KGouZ2V0QXR0cmlidXRlKFwibWlueFwiKSksZT1wYXJzZUZsb2F0KGouZ2V0QXR0cmlidXRlKFwibWlueVwiKSkscj1wYXJzZUZsb2F0KGouZ2V0QXR0cmlidXRlKFwibWF4eFwiKSkscz1wYXJzZUZsb2F0KGouZ2V0QXR0cmlidXRlKFwibWF4eVwiKSksbz1wKFMsXCJQcm9qZWN0aW9uXCIpfHxcIlwiO2xldCBpPXUuV0dTODQ7aWYoXCJMT0NBTF9DU1tdXCIhPT1vKWlmKG8udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwiZXBzZzpcIikpe2NvbnN0IHQ9TnVtYmVyKG8uc2xpY2UoNSkpO2lzTmFOKHQpfHwwPT09dHx8KGk9bmV3IHUoe3draWQ6dH0pKX1lbHNlIGk9bChvKT8/dS5XR1M4NDtlbHNlIE09ITAsaT1uZXcgdSh7d2tpZDozODU3fSk7az1uZXcgZyh0LGUscixzKSxrLnNwYXRpYWxSZWZlcmVuY2U9aX1lbHNlIE09ITAsaz1uZXcgZyh7eG1pbjotLjUseW1pbjouNS1uLHhtYXg6by0uNSx5bWF4Oi41LHNwYXRpYWxSZWZlcmVuY2U6bmV3IHUoe3draWQ6Mzg1N30pfSk7Y29uc3QgVD1jKHQsXCJNUkZfTUVUQS9Sc2V0c1wiKSxDPXBhcnNlSW50KFQmJlQuZ2V0QXR0cmlidXRlKFwic2NhbGVcIil8fFwiMlwiLDEwKSxVPWsuc3BhdGlhbFJlZmVyZW5jZSxCPW5ldyBhKHtvcmlnaW46bmV3IGQoe3g6ay54bWluLHk6ay55bWF4LHNwYXRpYWxSZWZlcmVuY2U6VX0pLGJsb2NrV2lkdGg6YixibG9ja0hlaWdodDpBLHB5cmFtaWRCbG9ja1dpZHRoOmIscHlyYW1pZEJsb2NrSGVpZ2h0OkEsY29tcHJlc3Npb246bSxweXJhbWlkU2NhbGluZ0ZhY3RvcjpDfSksRT1uZXcgZCh7eDprLndpZHRoL28seTprLmhlaWdodC9uLHNwYXRpYWxSZWZlcmVuY2U6VX0pLEw9bmV3IGkoe3dpZHRoOm8saGVpZ2h0Om4sZXh0ZW50OmssaXNQc2V1ZG9TcGF0aWFsUmVmZXJlbmNlOk0sc3BhdGlhbFJlZmVyZW5jZTpVLGJhbmRDb3VudDpmLHBpeGVsVHlwZTp3LHBpeGVsU2l6ZTpFLG5vRGF0YVZhbHVlOl8sc3RvcmFnZUluZm86Qn0pLFA9cCh0LFwiZGF0YWZpbGVcIiksVz1wKHQsXCJJbmRleEZpbGVcIik7cmV0dXJue3Jhc3RlckluZm86TCxmaWxlczp7bXJmOnRoaXMudXJsLGluZGV4Old8fHRoaXMudXJsLnJlcGxhY2UoXCIubXJmXCIsXCIuaWR4XCIpLGRhdGE6UHx8dGhpcy51cmwucmVwbGFjZShcIi5tcmZcIix4LmdldChtKS5ibG9iRXh0ZW5zaW9uKX19fWFzeW5jIF9mZXRjaEF1eGlsaWFyeURhdGEodCl7dHJ5e2NvbnN0e2RhdGE6ZX09YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiLmF1eC54bWxcIix7cmVzcG9uc2VUeXBlOlwieG1sXCIsc2lnbmFsOnQ/LnNpZ25hbH0pO3JldHVybiBmKGUpfWNhdGNoe3JldHVybiBudWxsfX19O3QoW3IoKV0sdy5wcm90b3R5cGUsXCJfZmlsZXNcIix2b2lkIDApLHQoW3IoKV0sdy5wcm90b3R5cGUsXCJfc3RvcmFnZUluZGV4XCIsdm9pZCAwKSx0KFtyKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sdy5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSx3PXQoW3MoXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlcklPLk1SRlJhc3RlclwiKV0sdyk7Y29uc3QgST13O2V4cG9ydHtJIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgZSBmcm9tXCIuL0Nsb3VkUmFzdGVyLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi9JbWFnZUF1eFJhc3Rlci5qc1wiO2ltcG9ydCBzIGZyb21cIi4vSW1hZ2VTZXJ2ZXJSYXN0ZXIuanNcIjtpbXBvcnQgbyBmcm9tXCIuL01SRlJhc3Rlci5qc1wiO2ltcG9ydCBhIGZyb21cIi4vVElGRlJhc3Rlci5qc1wiO2NvbnN0IGM9bmV3IE1hcDtjLnNldChcIkNSRlwiLHtkZXNjOlwiQ2xvdWQgUmFzdGVyIEZvcm1hdFwiLGNvbnN0cnVjdG9yOmV9KSxjLnNldChcIk1SRlwiLHtkZXNjOlwiTWV0YSBSYXN0ZXIgRm9ybWF0XCIsY29uc3RydWN0b3I6b30pLGMuc2V0KFwiVElGRlwiLHtkZXNjOlwiR2VvVElGRlwiLGNvbnN0cnVjdG9yOmF9KSxjLnNldChcIlJhc3RlclRpbGVTZXJ2ZXJcIix7ZGVzYzpcIlJhc3RlciBUaWxlIFNlcnZlclwiLGNvbnN0cnVjdG9yOnN9KSxjLnNldChcIkpQR1wiLHtkZXNjOlwiSlBHIFJhc3RlciBGb3JtYXRcIixjb25zdHJ1Y3RvcjpyfSksYy5zZXQoXCJQTkdcIix7ZGVzYzpcIlBORyBSYXN0ZXIgRm9ybWF0XCIsY29uc3RydWN0b3I6cn0pLGMuc2V0KFwiR0lGXCIse2Rlc2M6XCJHSUYgUmFzdGVyIEZvcm1hdFwiLGNvbnN0cnVjdG9yOnJ9KSxjLnNldChcIkJNUFwiLHtkZXNjOlwiQk1QIFJhc3RlciBGb3JtYXRcIixjb25zdHJ1Y3RvcjpyfSk7Y2xhc3MgbntzdGF0aWMgZ2V0IHN1cHBvcnRlZEZvcm1hdHMoKXtjb25zdCB0PW5ldyBTZXQ7cmV0dXJuIGMuZm9yRWFjaCgoKGUscik9PnQuYWRkKHIpKSksdH1zdGF0aWMgYXN5bmMgb3BlbihlKXtjb25zdHt1cmw6cixpb0NvbmZpZzpzLHNvdXJjZUpTT046b309ZTtsZXQgYT1lLmRhdGFzZXRGb3JtYXQ7bnVsbD09YSYmci5sYXN0SW5kZXhPZihcIi5cIikmJihhPXIuc2xpY2Uoci5sYXN0SW5kZXhPZihcIi5cIikrMSkudG9VcHBlckNhc2UoKSksXCJPVlJcIj09PWF8fFwiVElGXCI9PT1hP2E9XCJUSUZGXCI6XCJKUEdcIiE9PWEmJlwiSlBFR1wiIT09YSYmXCJKRklGXCIhPT1hfHwoYT1cIkpQR1wiKSxyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCIvaW1hZ2VzZXJ2ZXJcIikmJiFyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCIvd2Nzc2VydmVyXCIpJiYoYT1cIlJhc3RlclRpbGVTZXJ2ZXJcIik7Y29uc3Qgbj17dXJsOnIsc291cmNlSlNPTjpvLGRhdGFzZXRGb3JtYXQ6YSxpb0NvbmZpZzpzPz97YmFuZElkczpudWxsLHNhbXBsaW5nOm51bGx9fTtsZXQgbCxpO2lmKGEmJnRoaXMuc3VwcG9ydGVkRm9ybWF0cy5oYXMoYSkpe2lmKFwiQ1JGXCI9PT1hJiYhcz8uZW5hYmxlQ1JGKXRocm93IG5ldyB0KFwicmFzdGVyZmFjdG9yeTpvcGVuXCIsYGNhbm5vdCBvcGVuIHJhc3RlcjogJHtyfWApO3JldHVybiBsPWMuZ2V0KGEpLmNvbnN0cnVjdG9yLGk9bmV3IGwobiksYXdhaXQgaS5vcGVuKHtzaWduYWw6ZS5zaWduYWx9KSxpfWlmKGEpdGhyb3cgbmV3IHQoXCJyYXN0ZXJmYWN0b3J5Om9wZW5cIixcIm5vdCBhIHN1cHBvcnRlZCBmb3JtYXQgXCIrYSk7Y29uc3QgdT1BcnJheS5mcm9tKGMua2V5cygpKTtsZXQgRj0wO2NvbnN0IG09KCk9PihhPXVbRisrXSxhJiYoXCJDUkZcIiE9PWF8fHM/LmVuYWJsZUNSRik/KGw9Yy5nZXQoYSkuY29uc3RydWN0b3IsaT1uZXcgbChuKSxpLm9wZW4oe3NpZ25hbDplLnNpZ25hbH0pLnRoZW4oKCgpPT5pKSkuY2F0Y2goKCgpPT5tKCkpKSk6bnVsbCk7cmV0dXJuIG0oKX1zdGF0aWMgcmVnaXN0ZXIodCxlLHIpe2MuaGFzKHQudG9VcHBlckNhc2UoKSl8fGMuc2V0KHQudG9VcHBlckNhc2UoKSx7ZGVzYzplLGNvbnN0cnVjdG9yOnJ9KX19ZXhwb3J0e24gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCBlIGZyb21cIi4vRXBoZW1lcmFsQmxvY2tDYWNoZS5qc1wiO2ltcG9ydHtwcm9qZWN0RXh0ZW50IGFzIHQscHJvamVjdFJlc29sdXRpb24gYXMgbixzbmFwUHlyYW1pZCBhcyBvfWZyb21cIi4uL3Jhc3RlckZ1bmN0aW9ucy9yYXN0ZXJQcm9qZWN0aW9uSGVscGVyLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtjb25zdCByPW5ldyBNYXAsYz1uZXcgZTtmdW5jdGlvbiBpKGUsdCl7cmV0dXJuIG51bGw9PXQ/ZTpgJHtlfT9zbGljZUlkPSR7dH1gfWZ1bmN0aW9uIHUoZSx0KXtjb25zdCBuPXtleHRlbnQ6bnVsbCxyYXN0ZXJJbmZvOnQsY2FjaGU6bmV3IE1hcH0sbz1yLmdldChlKTtyZXR1cm4gbz8oby5wdXNoKG4pLG8ubGVuZ3RoLTEpOihyLnNldChlLFtuXSksMCl9ZnVuY3Rpb24gYShlLHQpe2NvbnN0IG49ci5nZXQoZSk7biYmKG5bdF09bnVsbCxuLnNvbWUoKGU9Pm51bGwhPWUpKXx8ci5kZWxldGUoZSkpfWZ1bmN0aW9uIGYoZSl7ci5kZWxldGUoZSl9ZnVuY3Rpb24gcyhlLHQsbil7Y29uc3Qgbz1yLmdldChlKTtpZighbylyZXR1cm4gbnVsbD09dD9jLmRlY3JlYXNlUmVmQ291bnQoZSxuKTowO2lmKG51bGw9PXR8fG51bGw9PW9bdF0pcmV0dXJuIGMuZGVjcmVhc2VSZWZDb3VudChlLG4pO2NvbnN0IGw9b1t0XT8uY2FjaGUsaT1sPy5nZXQobik7aWYobCYmaSl7aWYoaS5yZWZDb3VudC0tLDA9PT1pLnJlZkNvdW50KXtsLmRlbGV0ZShuKTtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKylvW2VdPy5jYWNoZS5kZWxldGUobik7aS5jb250cm9sbGVyJiZpLmNvbnRyb2xsZXIuYWJvcnQoKX1yZXR1cm4gaS5yZWZDb3VudH1yZXR1cm4gMH1mdW5jdGlvbiBtKGUsdCxuKXtjb25zdCBvPXIuZ2V0KGUpO2lmKCFvKXJldHVybiBudWxsPT10P2MuZ2V0QmxvY2soZSxuKTpudWxsO2lmKG51bGw9PXR8fG51bGw9PW9bdF0pe2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXtjb25zdCB0PW9bZV0/LmNhY2hlLmdldChuKTtpZih0KXJldHVybiB0LnJlZkNvdW50KyssdC5ibG9ja31yZXR1cm4gYy5nZXRCbG9jayhlLG4pfWNvbnN0IGw9b1t0XT8uY2FjaGUuZ2V0KG4pO2lmKGwpcmV0dXJuIGwucmVmQ291bnQrKyxsLmJsb2NrO2ZvcihsZXQgcj0wO3I8by5sZW5ndGg7cisrKXtpZihyPT09dHx8IW9bcl0pY29udGludWU7Y29uc3QgZT1vW3JdPy5jYWNoZSxsPWU/LmdldChuKTtpZihlJiZsKXJldHVybiBsLnJlZkNvdW50KyssZS5zZXQobixsKSxsLmJsb2NrfXJldHVybiBudWxsfWZ1bmN0aW9uIHgoZSx0LG4sbyxsPW51bGwpe2NvbnN0IGk9ci5nZXQoZSk7aWYoIWkpcmV0dXJuIHZvaWQobnVsbD09dCYmYy5wdXRCbG9jayhlLG4sbyxsKSk7aWYobnVsbD09dHx8bnVsbD09aVt0XSlyZXR1cm4gdm9pZCBjLnB1dEJsb2NrKGUsbixvLGwpO2NvbnN0IHU9e3JlZkNvdW50OjEsYmxvY2s6byxpc1Jlc29sdmVkOiExLGlzUmVqZWN0ZWQ6ITEsY29udHJvbGxlcjpsfTtvLnRoZW4oKCgpPT51LmlzUmVzb2x2ZWQ9ITApKS5jYXRjaCgoKCk9PnUuaXNSZWplY3RlZD0hMCkpLGlbdF0/LmNhY2hlLnNldChuLHUpfWZ1bmN0aW9uIGgoZSx0LG4pe2NvbnN0IG89ci5nZXQoZSk7bz9udWxsIT10JiZudWxsIT1vW3RdP29bdF0/LmNhY2hlLmRlbGV0ZShuKTpjLmRlbGV0ZUJsb2NrKGUsbik6bnVsbD09dCYmYy5kZWxldGVCbG9jayhlLG4pfWZ1bmN0aW9uIGQoZSx0KXtjb25zdCBuPXIuZ2V0KGUpO3JldHVybiBuP25bdF0/P251bGw6bnVsbH1mdW5jdGlvbiBnKGUscixjLGksdSxhLGY9bnVsbCl7Y29uc3Qgcz1kKGUscik7aWYoIXMpcmV0dXJuO2NvbnN0IG09cy5leHRlbnQse2NhY2hlOngscmFzdGVySW5mbzpofT1zO2lmKG0mJm0ueG1pbj09PWMueG1pbiYmbS54bWF4PT09Yy54bWF4JiZtLnltaW49PT1jLnltaW4mJm0ueW1heD09PWMueW1heClyZXR1cm47aT1pPz8wO2NvbnN0IGc9Yy5jbG9uZSgpLm5vcm1hbGl6ZSgpLHtzcGF0aWFsUmVmZXJlbmNlOnksdHJhbnNmb3JtOnB9PWgsaz1uZXcgU2V0O2ZvcihsZXQgZD0wO2Q8Zy5sZW5ndGg7ZCsrKXtjb25zdCBlPWdbZF07aWYoZS54bWF4LWUueG1pbjw9aXx8ZS55bWF4LWUueW1pbjw9aSljb250aW51ZTtsZXQgcj10KGUseSxmKTtudWxsIT1wJiYocj1wLmludmVyc2VUcmFuc2Zvcm0ocikpO2NvbnN0IGM9bmV3IGwoe3g6aSx5Omksc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2V9KTtpZihudWxsPT11JiYhKHU9bihjLHksZSxmKSkpcmV0dXJuO2NvbnN0e3B5cmFtaWRMZXZlbDpzLHB5cmFtaWRSZXNvbHV0aW9uOm0sZXhjZXNzaXZlUmVhZGluZzp4fT1vKHUsaCxhfHxcImNsb3Nlc3RcIik7aWYoeClyZXR1cm47Y29uc3R7c3RvcmFnZUluZm86TX09aCx7b3JpZ2luOlJ9PU0sQz17eDpNYXRoLm1heCgwLE1hdGguZmxvb3IoKHIueG1pbi1SLngpL20ueCkpLHk6TWF0aC5tYXgoMCxNYXRoLmZsb29yKChSLnktci55bWF4KS9tLnkpKX0sQj1NYXRoLmNlaWwoKHIueG1heC1yLnhtaW4pL20ueC0uMSksaj1NYXRoLmNlaWwoKHIueW1heC1yLnltaW4pL20ueS0uMSksdj1zPjA/TS5weXJhbWlkQmxvY2tXaWR0aDpNLmJsb2NrV2lkdGgsYj1zPjA/TS5weXJhbWlkQmxvY2tIZWlnaHQ6TS5ibG9ja0hlaWdodCx3PTEsJD1NYXRoLm1heCgwLE1hdGguZmxvb3IoQy54L3YpLXcpLEk9TWF0aC5tYXgoMCxNYXRoLmZsb29yKEMueS9iKS13KSxIPU1hdGguZmxvb3IoKEMueCtCLTEpL3YpK3csRT1NYXRoLmZsb29yKChDLnkrai0xKS9iKSt3O2ZvcihsZXQgdD1JO3Q8PUU7dCsrKWZvcihsZXQgZT0kO2U8PUg7ZSsrKWsuYWRkKGAke3N9LyR7dH0vJHtlfWApfXguZm9yRWFjaCgoKGUsdCk9PntpZighay5oYXModCkpe2NvbnN0IGU9eC5nZXQodCk7KG51bGw9PWV8fGUuaXNSZXNvbHZlZHx8ZS5pc1JlamVjdGVkKSYmeC5kZWxldGUodCl9fSkpLHMuZXh0ZW50PXt4bWluOmMueG1pbix5bWluOmMueW1pbix4bWF4OmMueG1heCx5bWF4OmMueW1heH19ZXhwb3J0e3MgYXMgZGVjcmVhc2VSZWZDb3VudCxoIGFzIGRlbGV0ZUJsb2NrLGYgYXMgZGVsZXRlUmFzdGVyLG0gYXMgZ2V0QmxvY2ssaSBhcyBnZXRSYXN0ZXJJZCx4IGFzIHB1dEJsb2NrLHUgYXMgcmVnaXN0ZXIsYSBhcyB1bnJlZ2lzdGVyLGcgYXMgdXBkYXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0e2lzU29tZSBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi9SYXN0ZXJJbmZvLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vUmFzdGVyU3RvcmFnZUluZm8uanNcIjtpbXBvcnQgbyBmcm9tXCIuL0Jhc2VSYXN0ZXIuanNcIjtpbXBvcnQgZiBmcm9tXCIuL0RCRlBhcnNlci5qc1wiO2ltcG9ydHtwYXJzZVNwYXRpYWxSZWZlcmVuY2UgYXMgbCxwYXJzZVBBTUluZm8gYXMgdX1mcm9tXCIuL3BhbVBhcnNlci5qc1wiO2ltcG9ydHtwYXJzZVNpZ25hdHVyZSBhcyBjLGdldFB5cmFtaWRJRkRzIGFzIHAsZ2V0TWFza0lGRHMgYXMgaCxnZXRJbWFnZUluZm8gYXMgbSxwYXJzZUlGRCBhcyBkLHBhcnNlRmllbGRWYWx1ZXMgYXMgeSxpc0JTUUNvbmZpZyBhcyBnfWZyb21cIi4uL3Jhc3RlckZvcm1hdHMvVGlmZkRlY29kZXIuanNcIjtpbXBvcnQgVCBmcm9tXCIuLi9yYXN0ZXJGb3JtYXRzL1RpZmZUYWdzLmpzXCI7aW1wb3J0e2VzdGltYXRlU3RhdGlzdGljc0Zyb21IaXN0b2dyYW1zIGFzIHh9ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3N0cmV0Y2hVdGlscy5qc1wiO2ltcG9ydCBJIGZyb21cIi4uL3Jhc3RlclRyYW5zZm9ybXMvUG9seW5vbWlhbFRyYW5zZm9ybS5qc1wiO2ltcG9ydCB3IGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9GZWF0dXJlU2V0LmpzXCI7aW1wb3J0IFIgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydCBfIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2ltcG9ydCBiIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1BvaW50LmpzXCI7Y29uc3QgRj0oZSx0KT0+ZS5nZXQodCk/LnZhbHVlcyxFPShlLHQpPT5lLmdldCh0KT8udmFsdWVzPy5bMF07bGV0IFM9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9maWxlcz1udWxsLHRoaXMuX2hlYWRlckluZm89bnVsbCx0aGlzLl9idWZmZXJTaXplPTEwNDg1NzYsdGhpcy5kYXRhc2V0Rm9ybWF0PVwiVElGRlwifWFzeW5jIG9wZW4oZSl7YXdhaXQgdGhpcy5pbml0KCk7Y29uc3QgdD1lP2Uuc2lnbmFsOm51bGwse2RhdGE6aX09YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTp7ZnJvbTowLHRvOnRoaXMuX2J1ZmZlclNpemV9LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDp0fSk7aWYoIWkpdGhyb3cgbmV3IHIoXCJ0aWZmcmFzdGVyOm9wZW5cIixcImZhaWxlZCB0byBvcGVuIHVybCBcIit0aGlzLnVybCk7dGhpcy5kYXRhc2V0TmFtZT10aGlzLnVybC5zbGljZSh0aGlzLnVybC5sYXN0SW5kZXhPZihcIi9cIikrMSx0aGlzLnVybC5sYXN0SW5kZXhPZihcIi5cIikpO2NvbnN0e2xpdHRsZUVuZGlhbjpzLGZpcnN0SUZEUG9zOmEsaXNCaWdUaWZmOm59PWMoaSksbz1bXTthd2FpdCB0aGlzLl9yZWFkSUZEcyhvLGkscyxhLDAsbj84OjQsdCk7Y29uc3R7aW1hZ2VJbmZvOmYscmFzdGVySW5mbzpsfT10aGlzLl9wYXJzZUlGRHMobyksdT1wKG8pLG09aChvKTtpZih0aGlzLl9oZWFkZXJJbmZvPXtsaXR0bGVFbmRpYW46cyxpc0JpZ1RpZmY6bixpZmRzOm8scHlyYW1pZElGRHM6dSxtYXNrSUZEczptLC4uLmZ9LHRoaXMuX3NldChcInJhc3RlckluZm9cIixsKSwhZi5pc1N1cHBvcnRlZCl0aHJvdyBuZXcgcihcInRpZmZyYXN0ZXI6b3BlblwiLFwidGhpcyB0aWZmIGlzIG5vdCBzdXBwb3J0ZWQ6IFwiK2YubWVzc2FnZSk7aWYoIWYudGlsZVdpZHRoKXRocm93IG5ldyByKFwidGlmZnJhc3RlcjpvcGVuXCIsXCJub25lLXRpbGVkIHRpZmYgaXMgbm90IG9wdGltaXplZCBmb3IgYWNjZXNzLCBjb252ZXJ0IHRvIENPRyBhbmQgcmV0cnkuXCIpO2NvbnN0IGQ9b1swXS5nZXQoXCJQUkVESUNUT1JcIik/LnZhbHVlcz8uWzBdLHk9b1swXS5nZXQoXCJTQU1QTEVGT1JNQVRcIik/LnZhbHVlcz8uWzBdO2lmKDM9PT15JiYyPT09ZCl0aHJvdyBuZXcgcihcInRpZmZyYXN0ZXI6b3BlblwiLFwidW5zdXBwb3J0ZWQgaG9yaXpvbnRhbCBkaWZmZXJlbmNlIGVuY29kaW5nLiBQcmVkaWN0b3I9MyBpcyBzdXBwb3J0ZWQgZm9yIGZsb2F0dGluZyBwb2ludCBkYXRhXCIpO2NvbnN0e3NraXBFeHRlbnNpb25zOmc9W119PXRoaXMuaW9Db25maWc7aWYoIWcuaW5jbHVkZXMoXCJhdXgueG1sXCIpKXtjb25zdCB0PWF3YWl0IHRoaXMuX2ZldGNoQXV4aWxpYXJ5TWV0YURhdGEoZSk7bnVsbCE9dCYmdGhpcy5fcHJvY2Vzc1BBTUluZm8odCxsKX1nLmluY2x1ZGVzKFwidmF0LmRiZlwiKXx8MSE9PWwuYmFuZENvdW50fHxcInU4XCIhPT1sLnBpeGVsVHlwZXx8KGwuYXR0cmlidXRlVGFibGU9YXdhaXQgdGhpcy5fZmV0Y2hBdXhpbGlhcnlUYWJsZShlKSxudWxsIT1sLmF0dHJpYnV0ZVRhYmxlJiYobC5rZXlQcm9wZXJ0aWVzLkRhdGFUeXBlPVwidGhlbWF0aWNcIikpLHRoaXMudXBkYXRlVGlsZUluZm8oKX1hc3luYyBmZXRjaFJhd1RpbGUoZSx0LHIsaT17fSl7aWYoIXRoaXMuX2hlYWRlckluZm8/LmlzU3VwcG9ydGVkfHx0aGlzLmlzQmxvY2tPdXRzaWRlKGUsdCxyKSlyZXR1cm4gbnVsbDtjb25zdCBzPWF3YWl0IHRoaXMuX2ZldGNoUmF3VGlmZlRpbGUoZSx0LHIsITEsaSk7aWYobnVsbCE9cyYmdGhpcy5faGVhZGVySW5mby5oYXNNYXNrQmFuZCl7Y29uc3QgYT1hd2FpdCB0aGlzLl9mZXRjaFJhd1RpZmZUaWxlKGUsdCxyLCEwLGkpO251bGwhPWEmJmEucGl4ZWxzWzBdaW5zdGFuY2VvZiBVaW50OEFycmF5JiYocy5tYXNrPWEucGl4ZWxzWzBdKX1yZXR1cm4gc31fcGFyc2VJRkRzKGUpe2NvbnN0IHQ9bShlKSx7d2lkdGg6cixoZWlnaHQ6aSx0aWxlV2lkdGg6cyx0aWxlSGVpZ2h0Om8scGxhbmVzOmYscGl4ZWxUeXBlOnUsY29tcHJlc3Npb246YyxmaXJzdFB5cmFtaWRMZXZlbDpwLG1heGltdW1QeXJhbWlkTGV2ZWw6aCxweXJhbWlkQmxvY2tXaWR0aDpkLHB5cmFtaWRCbG9ja0hlaWdodDp5LHRpbGVCb3VuZGFyeTpnLGFmZmluZTpULG1ldGFkYXRhOnh9PXQsdz10LmV4dGVudC5zcGF0aWFsUmVmZXJlbmNlPy53a3R8fHQuZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2U/LndraWQ7bGV0IFM9bCh3KSx2PSEhdC5pc1BzZXVkb0dlb2dyYXBoaWM7bnVsbD09UyYmKHY9ITAsUz1uZXcgUih7d2tpZDozODU3fSkpO2NvbnN0IEQ9bmV3IF8oey4uLnQuZXh0ZW50LHNwYXRpYWxSZWZlcmVuY2U6U30pLFA9bmV3IGIoRD97eDpELnhtaW4seTpELnltYXgsc3BhdGlhbFJlZmVyZW5jZTpTfTp7eDowLHk6MH0pLGs9bmV3IG4oe2Jsb2NrV2lkdGg6cyxibG9ja0hlaWdodDpvLHB5cmFtaWRCbG9ja1dpZHRoOmQscHlyYW1pZEJsb2NrSGVpZ2h0OnksY29tcHJlc3Npb246YyxvcmlnaW46UCxmaXJzdFB5cmFtaWRMZXZlbDpwLG1heGltdW1QeXJhbWlkTGV2ZWw6aCxibG9ja0JvdW5kYXJ5Omd9KSxPPW5ldyBiKHt4OihELnhtYXgtRC54bWluKS9yLHk6KEQueW1heC1ELnltaW4pL2ksc3BhdGlhbFJlZmVyZW5jZTpTfSksaj14P3tCYW5kUHJvcGVydGllczp4LmJhbmRQcm9wZXJ0aWVzLERhdGFUeXBlOnguZGF0YVR5cGV9Ont9O2xldCBCPW51bGw7Y29uc3QgTD1FKGVbMF0sXCJQSE9UT01FVFJJQ0lOVEVSUFJFVEFUSU9OXCIpLEE9RihlWzBdLFwiQ09MT1JNQVBcIik7aWYoTDw9MyYmQT8ubGVuZ3RoPjMmJkEubGVuZ3RoJTM9PTApe0I9W107Y29uc3QgZT1BLmxlbmd0aC8zO2ZvcihsZXQgdD0wO3Q8ZTt0KyspQi5wdXNoKFt0LEFbdF0+Pj44LEFbdCtlXT4+PjgsQVt0KzIqZV0+Pj44XSl9Y29uc3Qgej1uZXcgYSh7d2lkdGg6cixoZWlnaHQ6aSxiYW5kQ291bnQ6ZixwaXhlbFR5cGU6dSxwaXhlbFNpemU6TyxzdG9yYWdlSW5mbzprLHNwYXRpYWxSZWZlcmVuY2U6Uyxpc1BzZXVkb1NwYXRpYWxSZWZlcmVuY2U6dixrZXlQcm9wZXJ0aWVzOmosZXh0ZW50OkQsY29sb3JtYXA6QixzdGF0aXN0aWNzOng/eC5zdGF0aXN0aWNzOm51bGx9KTtyZXR1cm4gVD8ubGVuZ3RoJiYoei5uYXRpdmVFeHRlbnQ9bmV3IF8oe3htaW46LS41LHltaW46LjUtaSx4bWF4OnItLjUseW1heDouNSxzcGF0aWFsUmVmZXJlbmNlOlN9KSx6LnRyYW5zZm9ybT1uZXcgSSh7cG9seW5vbWlhbE9yZGVyOjEsZm9yd2FyZENvZWZmaWNpZW50czpbVFsyXStUWzBdLzIsVFs1XS1UWzNdLzIsVFswXSxUWzNdLC1UWzFdLC1UWzRdXX0pLHouZXh0ZW50PXoudHJhbnNmb3JtLmZvcndhcmRUcmFuc2Zvcm0oei5uYXRpdmVFeHRlbnQpLHoucGl4ZWxTaXplPW5ldyBiKHt4OihELnhtYXgtRC54bWluKS9yLHk6KEQueW1heC1ELnltaW4pL2ksc3BhdGlhbFJlZmVyZW5jZTpTfSksay5vcmlnaW4ueD0tLjUsay5vcmlnaW4ueT0uNSkse2ltYWdlSW5mbzp0LHJhc3RlckluZm86en19X3Byb2Nlc3NQQU1JbmZvKGUsdCl7aWYodC5zdGF0aXN0aWNzPWUuc3RhdGlzdGljcz8/dC5zdGF0aXN0aWNzLHQuaGlzdG9ncmFtcz1lLmhpc3RvZ3JhbXMsZS5oaXN0b2dyYW1zJiZudWxsPT10LnN0YXRpc3RpY3MmJih0LnN0YXRpc3RpY3M9eChlLmhpc3RvZ3JhbXMpKSxlLnRyYW5zZm9ybSYmbnVsbD09dC50cmFuc2Zvcm0pe3QudHJhbnNmb3JtPWUudHJhbnNmb3JtLHQubmF0aXZlRXh0ZW50PXQuZXh0ZW50O2NvbnN0IHI9dC50cmFuc2Zvcm0uZm9yd2FyZFRyYW5zZm9ybSh0Lm5hdGl2ZUV4dGVudCk7dC5waXhlbFNpemU9bmV3IGIoe3g6KHIueG1heC1yLnhtaW4pL3Qud2lkdGgseTooci55bWF4LXIueW1pbikvdC5oZWlnaHQsc3BhdGlhbFJlZmVyZW5jZTp0LnNwYXRpYWxSZWZlcmVuY2V9KSx0LmV4dGVudD1yfXQuaXNQc2V1ZG9TcGF0aWFsUmVmZXJlbmNlJiZlLnNwYXRpYWxSZWZlcmVuY2UmJih0LnNwYXRpYWxSZWZlcmVuY2U9ZS5zcGF0aWFsUmVmZXJlbmNlLHQuZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2U9dC5uYXRpdmVFeHRlbnQuc3BhdGlhbFJlZmVyZW5jZT10LnN0b3JhZ2VJbmZvLm9yaWdpbi5zcGF0aWFsUmVmZXJlbmNlPXQuc3BhdGlhbFJlZmVyZW5jZSl9YXN5bmMgX3JlYWRJRkRzKGUsdCxyLGkscyxhPTQsbil7aWYoIWkpcmV0dXJuIG51bGw7aWYoaT49dC5ieXRlTGVuZ3RofHxpPDApe3Q9KGF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCx7cmFuZ2U6e2Zyb206aStzLHRvOmkrcyt0aGlzLl9idWZmZXJTaXplfSxyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6bn0pKS5kYXRhLHM9aStzLGk9MH1jb25zdCBvPWF3YWl0IHRoaXMuX3JlYWRJRkQodCxyLGkscyxULlRJRkZfVEFHUyxhLG4pO2lmKGUucHVzaChvLmlmZCksIW8ubmV4dElGRClyZXR1cm4gbnVsbDthd2FpdCB0aGlzLl9yZWFkSUZEcyhlLHQscixvLm5leHRJRkQtcyxzLGEsbil9YXN5bmMgX3JlYWRJRkQoZSxyLGkscyxhPVQuVElGRl9UQUdTLG49NCxvKXtpZighZSlyZXR1cm4gbnVsbDtjb25zdCBmPWQoZSxyLGkscyxhLG4pO2lmKGYuc3VjY2Vzcyl7Y29uc3QgaT1bXTtpZihmLmlmZD8uZm9yRWFjaCgoZT0+e2UudmFsdWVzfHxpLnB1c2goZSl9KSksaS5sZW5ndGg+MCl7Y29uc3QgYT1pLm1hcCgoZT0+ZS5vZmZsaW5lT2Zmc2V0U2l6ZSkpLmZpbHRlcih0KSxuPU1hdGgubWluLmFwcGx5KG51bGwsYS5tYXAoKGU9PmVbMF0pKSk7aWYoTWF0aC5taW4uYXBwbHkobnVsbCxhLm1hcCgoZT0+ZVswXStlWzFdKSkpLW48PXRoaXMuX2J1ZmZlclNpemUpe2NvbnN0e2RhdGE6dH09YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTp7ZnJvbTpuLHRvOm4rdGhpcy5fYnVmZmVyU2l6ZX0scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOm99KTtlPXQscz1uLGkuZm9yRWFjaCgodD0+eShlLHIsdCxzKSkpfX1pZihmLmlmZD8uaGFzKFwiR0VPS0VZRElSRUNUT1JZXCIpKXtjb25zdCB0PWYuaWZkLmdldChcIkdFT0tFWURJUkVDVE9SWVwiKSxpPXQ/LnZhbHVlcztpZihpJiZpLmxlbmd0aD40KXtjb25zdCBhPWlbMF0rXCIuXCIraVsxXStcIi5cIitpWzJdLG49YXdhaXQgdGhpcy5fcmVhZElGRChlLHIsdC52YWx1ZU9mZnNldCs2LXMscyxULkdFT19LRVlTLDIsbyk7dC5kYXRhPW4uaWZkLHQuZGF0YSYmdC5kYXRhLnNldChcIkdFT1RJRkZWZXJzaW9uXCIse2lkOjAsdHlwZToyLHZhbHVlQ291bnQ6MSx2YWx1ZU9mZnNldDpudWxsLHZhbHVlczpbYV19KX19cmV0dXJuIGZ9aWYoZi5yZXF1aXJlZEJ1ZmZlclNpemUmJmYucmVxdWlyZWRCdWZmZXJTaXplIT09ZS5ieXRlTGVuZ3RoKXtjb25zdCB0PWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCx7cmFuZ2U6e2Zyb206cyx0bzpzK2YucmVxdWlyZWRCdWZmZXJTaXplKzR9LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpvfSk7cmV0dXJuKGU9dC5kYXRhKS5ieXRlTGVuZ3RoPGYucmVxdWlyZWRCdWZmZXJTaXplP251bGw6dGhpcy5fcmVhZElGRChlLHIsMCxzLFQuVElGRl9UQUdTLDQsbyl9fWFzeW5jIF9mZXRjaFJhd1RpZmZUaWxlKGUsdCxyLGkscz17fSl7Y29uc3QgYT10aGlzLl9nZXRUaWxlTG9jYXRpb24oZSx0LHIsaSk7aWYoIWEpcmV0dXJuIG51bGw7Y29uc3R7cmFuZ2VzOm4sYWN0dWFsVGlsZVdpZHRoOm8sYWN0dWFsVGlsZUhlaWdodDpmLGlmZDpsfT1hLHU9bi5tYXAoKGU9PnRoaXMucmVxdWVzdCh0aGlzLnVybCx7cmFuZ2U6ZSxyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6cy5zaWduYWx9KSkpLGM9YXdhaXQgUHJvbWlzZS5hbGwodSkscD1jLm1hcCgoZT0+ZS5kYXRhLmJ5dGVMZW5ndGgpKS5yZWR1Y2UoKChlLHQpPT5lK3QpKSxoPTE9PT1jLmxlbmd0aD9jWzBdLmRhdGE6bmV3IEFycmF5QnVmZmVyKHApLG09WzBdLGQ9WzBdO2lmKGMubGVuZ3RoPjEpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkoaCk7Zm9yKGxldCB0PTAscj0wO3Q8Yy5sZW5ndGg7dCsrKXtjb25zdCBpPWNbdF0uZGF0YTtlLnNldChuZXcgVWludDhBcnJheShpKSxyKSxtW3RdPXIscis9aS5ieXRlTGVuZ3RoLGRbdF09aS5ieXRlTGVuZ3RofX1jb25zdHtibG9ja1dpZHRoOnksYmxvY2tIZWlnaHQ6Z309dGhpcy5nZXRCbG9ja1dpZHRoSGVpZ2h0KGUpLFQ9YXdhaXQgdGhpcy5kZWNvZGVQaXhlbEJsb2NrKGgse2Zvcm1hdDpcInRpZmZcIixjdXN0b21PcHRpb25zOntoZWFkZXJJbmZvOnRoaXMuX2hlYWRlckluZm8saWZkOmwsb2Zmc2V0czptLHNpemVzOmR9LHdpZHRoOnksaGVpZ2h0OmcscGxhbmVzOm51bGwscGl4ZWxUeXBlOm51bGx9KTtpZihudWxsPT1UKXJldHVybiBudWxsO2xldCB4LEksdztpZihvIT09eXx8ZiE9PWcpe2xldCBlPVQubWFzaztpZihlKWZvcih4PTA7eDxnO3grKylpZih3PXgqeSx4PGYpZm9yKEk9bztJPHk7SSsrKWVbdytJXT0wO2Vsc2UgZm9yKEk9MDtJPHk7SSsrKWVbdytJXT0wO2Vsc2UgZm9yKGU9bmV3IFVpbnQ4QXJyYXkoeSpnKSxULm1hc2s9ZSx4PTA7eDxmO3grKylmb3Iodz14KnksST0wO0k8bztJKyspZVt3K0ldPTF9cmV0dXJuIFR9X2dldFRpbGVMb2NhdGlvbihlLHQscixpPSExKXtjb25zdHtmaXJzdFB5cmFtaWRMZXZlbDpzLGJsb2NrQm91bmRhcnk6YX09dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLG49MD09PWU/MDplLShzLTEpLHtfaGVhZGVySW5mbzpvfT10aGlzO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IGY9aT9vLm1hc2tJRkRzW25dOjA9PT1uP28/LmlmZHNbMF06bz8ucHlyYW1pZElGRHNbbi0xXTtpZighZilyZXR1cm4gbnVsbDtjb25zdCBsPWcoZixvKSx1PUYoZixcIlRJTEVPRkZTRVRTXCIpO2lmKHZvaWQgMD09PXUpcmV0dXJuIG51bGw7Y29uc3QgYz1GKGYsXCJUSUxFQllURUNPVU5UU1wiKSx7bWluUm93OnAsbWluQ29sOmgsbWF4Um93Om0sbWF4Q29sOmR9PWFbbl07aWYodD5tfHxyPmR8fHQ8cHx8cjxoKXJldHVybiBudWxsO2NvbnN0IHk9RShmLFwiSU1BR0VXSURUSFwiKSxUPUUoZixcIklNQUdFTEVOR1RIXCIpLHg9RShmLFwiVElMRVdJRFRIXCIpLEk9RShmLFwiVElMRUxFTkdUSFwiKSx3PVtdO2lmKGwpe2NvbnN0e2JhbmRDb3VudDplfT10aGlzLnJhc3RlckluZm87Zm9yKGxldCBpPTA7aTxlO2krKyl7Y29uc3QgZT1pKihtKzEpKihkKzEpK3QqKGQrMSkrcjt3W2ldPXtmcm9tOnVbZV0sdG86dVtlXStjW2VdLTF9fX1lbHNle2NvbnN0IGU9dCooZCsxKStyO3cucHVzaCh7ZnJvbTp1W2VdLHRvOnVbZV0rY1tlXS0xfSl9Zm9yKGxldCBnPTA7Zzx3Lmxlbmd0aDtnKyspaWYobnVsbD09d1tnXS5mcm9tfHwhd1tnXS50bylyZXR1cm4gbnVsbDtyZXR1cm57cmFuZ2VzOncsaWZkOmYsYWN0dWFsVGlsZVdpZHRoOnI9PT1kJiZ5JXh8fHgsYWN0dWFsVGlsZUhlaWdodDp0PT09bSYmVCVJfHxJfX1hc3luYyBfZmV0Y2hBdXhpbGlhcnlNZXRhRGF0YShlKXt0cnl7Y29uc3R7ZGF0YTp0fT1hd2FpdCB0aGlzLnJlcXVlc3QodGhpcy51cmwrXCIuYXV4LnhtbFwiLHtyZXNwb25zZVR5cGU6XCJ4bWxcIixzaWduYWw6ZT8uc2lnbmFsfSk7cmV0dXJuIHUodCl9Y2F0Y2h7cmV0dXJuIG51bGx9fWFzeW5jIF9mZXRjaEF1eGlsaWFyeVRhYmxlKGUpe3RyeXtjb25zdHtkYXRhOnR9PWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi52YXQuZGJmXCIse3Jlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDplPy5zaWduYWx9KSxyPWYucGFyc2UodCk7cmV0dXJuIHI/LnJlY29yZFNldD93LmZyb21KU09OKHIucmVjb3JkU2V0KTpudWxsfWNhdGNoe3JldHVybiBudWxsfX19O2UoW2koKV0sUy5wcm90b3R5cGUsXCJfZmlsZXNcIix2b2lkIDApLGUoW2koKV0sUy5wcm90b3R5cGUsXCJfaGVhZGVySW5mb1wiLHZvaWQgMCksZShbaSgpXSxTLnByb3RvdHlwZSxcIl9idWZmZXJTaXplXCIsdm9pZCAwKSxlKFtpKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sUy5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSxTPWUoW3MoXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlckRhdGFzZXRzLlRJRkZSYXN0ZXJcIildLFMpO2NvbnN0IHY9UztleHBvcnR7diBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0e2lzU29tZSBhcyBlfWZyb21cIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtpc1NhbWVUYWdJZ25vcmVOUyBhcyB0LGdldEVsZW1lbnRWYWx1ZSBhcyBuLGdldEVsZW1lbnRzIGFzIHIsZ2V0RWxlbWVudCBhcyBzLGdldEVsZW1lbnROdW1lcmljVmFsdWUgYXMgYSxnZXRFbGVtZW50TnVtZXJpY1ZhbHVlcyBhcyBpfWZyb21cIi4veG1sVXRpbGl0aWVzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vcmFzdGVyVHJhbnNmb3Jtcy9Qb2x5bm9taWFsVHJhbnNmb3JtLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2Z1bmN0aW9uIGYoZSx0KXtpZighZXx8IXQpcmV0dXJuIG51bGw7Y29uc3Qgbj1bXTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyluLnB1c2goZVtyXSksbi5wdXNoKHRbcl0pO3JldHVybiBufWZ1bmN0aW9uIHUoZSl7Y29uc3QgdD1zKGUsXCJHZW9kYXRhWGZvcm1cIikscj1tKGEodCxcIlNwYXRpYWxSZWZlcmVuY2UvV0tJRFwiKXx8bih0LFwiU3BhdGlhbFJlZmVyZW5jZS9XS1RcIikpO2lmKFwidHlwZW5zOlBvbHlub21pYWxYZm9ybVwiIT09dC5nZXRBdHRyaWJ1dGUoXCJ4c2k6dHlwZVwiKSlyZXR1cm57c3BhdGlhbFJlZmVyZW5jZTpyLHRyYW5zZm9ybTpudWxsfTtjb25zdCBvPWEodCxcIlBvbHlub21pYWxPcmRlclwiKT8/MSx1PWkodCxcIkNvZWZmWC9Eb3VibGVcIiksYz1pKHQsXCJDb2VmZlkvRG91YmxlXCIpLGQ9aSh0LFwiSW52ZXJzZUNvZWZmWC9Eb3VibGVcIikscD1pKHQsXCJJbnZlcnNlQ29lZmZZL0RvdWJsZVwiKSxTPWYodSxjKSxDPWYoZCxwKTtyZXR1cm57c3BhdGlhbFJlZmVyZW5jZTpyLHRyYW5zZm9ybTpTJiZDJiZTLmxlbmd0aCYmQy5sZW5ndGg/bmV3IGwoe3NwYXRpYWxSZWZlcmVuY2U6cixwb2x5bm9taWFsT3JkZXI6byxmb3J3YXJkQ29lZmZpY2llbnRzOlMsaW52ZXJzZUNvZWZmaWNpZW50czpDfSk6bnVsbH19ZnVuY3Rpb24gYyhlKXtjb25zdCB0PWEoZSxcIk5vRGF0YVZhbHVlXCIpLGk9cyhlLFwiSGlzdG9ncmFtcy9IaXN0SXRlbVwiKSxsPWEoaSxcIkhpc3RNaW5cIiksbz1hKGksXCJIaXN0TWF4XCIpLGY9YShpLFwiQnVja2V0Q291bnRcIiksdT1uKGksXCJIaXN0Q291bnRzXCIpPy5zcGxpdChcInxcIikubWFwKChlPT5OdW1iZXIoZSkpKTtsZXQgYyxtLGQscDtyKGUsXCJNZXRhZGF0YS9NRElcIikuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9TnVtYmVyKGUudGV4dENvbnRlbnQ/P2Uubm9kZVZhbHVlKTtzd2l0Y2goZS5nZXRBdHRyaWJ1dGUoXCJrZXlcIikudG9VcHBlckNhc2UoKSl7Y2FzZVwiU1RBVElTVElDU19NSU5JTVVNXCI6Yz10O2JyZWFrO2Nhc2VcIlNUQVRJU1RJQ1NfTUFYSU1VTVwiOm09dDticmVhaztjYXNlXCJTVEFUSVNUSUNTX01FQU5cIjpkPXQ7YnJlYWs7Y2FzZVwiU1RBVElTVElDU19TVERERVZcIjpwPXR9fSkpO2NvbnN0IFM9YShlLFwiTWV0YWRhdGEvU291cmNlQmFuZEluZGV4XCIpO3JldHVybntub0RhdGFWYWx1ZTp0LGhpc3RvZ3JhbTp1Py5sZW5ndGgmJm51bGwhPWwmJm51bGwhPW8/e21pbjpsLG1heDpvLHNpemU6Znx8dS5sZW5ndGgsY291bnRzOnV9Om51bGwsc291cmNlQmFuZEluZGV4OlMsc3RhdGlzdGljczpudWxsIT1jJiZudWxsIT1tP3ttaW46YyxtYXg6bSxhdmc6ZCxzdGRkZXY6cH06bnVsbH19ZnVuY3Rpb24gbShlKXtpZighZSlyZXR1cm4gbnVsbDtsZXQgdD1OdW1iZXIoZSk7aWYoIWlzTmFOKHQpJiYwIT09dClyZXR1cm4gbmV3IG8oe3draWQ6dH0pO2lmKChlPVN0cmluZyhlKSkuc3RhcnRzV2l0aChcIkNPTVBEX0NTXCIpKXtpZighZS5pbmNsdWRlcyhcIlZFUlRDU1wiKXx8IWUuaW5jbHVkZXMoXCJHRU9HQ1NcIikmJiFlLnN0YXJ0c1dpdGgoXCJQUk9KQ1NcIikpcmV0dXJuIG51bGw7Y29uc3Qgbj1lLmluZGV4T2YoXCJWRVJUQ1NcIikscj1lLmluZGV4T2YoXCJQUk9KQ1NcIikscz1yPi0xP3I6ZS5pbmRleE9mKFwiR0VPR0NTXCIpO2lmKC0xPT09cylyZXR1cm4gbnVsbDtjb25zdCBhPWUuc2xpY2UocyxlLmxhc3RJbmRleE9mKFwiXVwiLG4pKzEpLnRyaW0oKSxpPWUuc2xpY2UobixlLmxhc3RJbmRleE9mKFwiXVwiKSkudHJpbSgpO3Q9ZChhKTtjb25zdCBsPW5ldyBvKHQ/e3draWQ6dH06e3drdDphfSksZj1kKGkpO3JldHVybiBmJiYobC52Y3NXa2lkPWYpLGx9cmV0dXJuIGUuc3RhcnRzV2l0aChcIkdFT0dDU1wiKXx8ZS5zdGFydHNXaXRoKFwiUFJPSkNTXCIpPyh0PWQoZSksbmV3IG8oMCE9PXQ/e3draWQ6dH06e3drdDplfSkpOm51bGx9ZnVuY3Rpb24gZChlKXtjb25zdCB0PWUucmVwbGFjZUFsbChcIl1cIixcIltcIikucmVwbGFjZUFsbCgnXCInLFwiXCIpLnNwbGl0KFwiW1wiKS5tYXAoKGU9PmUudHJpbSgpKSkuZmlsdGVyKChlPT5cIlwiIT09ZSkpLG49dFt0Lmxlbmd0aC0xXS5zcGxpdChcIixcIikscj1uWzBdPy50b0xvd2VyQ2FzZSgpO2lmKChcImVwc2dcIj09PXJ8fFwiZXNyaVwiPT09cikmJmUuZW5kc1dpdGgoJ1wiXV0nKSl7Y29uc3QgZT1OdW1iZXIoblsxXSk7aWYoIWlzTmFOKGUpJiYwIT09ZSlyZXR1cm4gZX1yZXR1cm4gMH1mdW5jdGlvbiBwKHMpe2lmKFwicGFtZGF0YXNldFwiIT09cz8uZG9jdW1lbnRFbGVtZW50LnRhZ05hbWU/LnRvTG93ZXJDYXNlKCkpcmV0dXJue307Y29uc3QgYT17c3BhdGlhbFJlZmVyZW5jZTpudWxsLHRyYW5zZm9ybTpudWxsLG1ldGFkYXRhOnt9LHJhc3RlckJhbmRzOltdLHN0YXRpc3RpY3M6bnVsbCxoaXN0b2dyYW1zOm51bGx9O3MuZG9jdW1lbnRFbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaCgoZT0+e2lmKDE9PT1lLm5vZGVUeXBlKWlmKHQoZSxcIlNSU1wiKSl7aWYoIWEuc3BhdGlhbFJlZmVyZW5jZSl7Y29uc3QgdD1uKGUpO2Euc3BhdGlhbFJlZmVyZW5jZT1tKHQpfX1lbHNlIGlmKHQoZSxcIk1ldGFkYXRhXCIpKWlmKFwieG1sOkVTUklcIj09PWUuZ2V0QXR0cmlidXRlKFwiZG9tYWluXCIpKXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOnQsdHJhbnNmb3JtOm59PXUoZSk7YS50cmFuc2Zvcm09bixhLnNwYXRpYWxSZWZlcmVuY2V8fChhLnNwYXRpYWxSZWZlcmVuY2U9dCl9ZWxzZXtyKGUsXCJNRElcIikuZm9yRWFjaCgoZT0+YS5tZXRhZGF0YVtlLmdldEF0dHJpYnV0ZShcImtleVwiKV09bihlKSkpfWVsc2UgaWYodChlLFwiUEFNUmFzdGVyQmFuZFwiKSl7Y29uc3QgdD1jKGUpO251bGwhPXQuc291cmNlQmFuZEluZGV4JiZudWxsPT1hLnJhc3RlckJhbmRzW3Quc291cmNlQmFuZEluZGV4XT9hLnJhc3RlckJhbmRzW3Quc291cmNlQmFuZEluZGV4XT10OmEucmFzdGVyQmFuZHMucHVzaCh0KX19KSk7Y29uc3QgaT1hLnJhc3RlckJhbmRzO2lmKGkubGVuZ3RoKXtjb25zdCB0PSEhaVswXS5zdGF0aXN0aWNzO2Euc3RhdGlzdGljcz10P2kubWFwKChlPT5lLnN0YXRpc3RpY3MpKS5maWx0ZXIoZSk6bnVsbDtjb25zdCBuPSEhaVswXS5oaXN0b2dyYW07YS5oaXN0b2dyYW1zPW4/aS5tYXAoKGU9PmUuaGlzdG9ncmFtKSkuZmlsdGVyKGUpOm51bGx9cmV0dXJuIGF9ZXhwb3J0e3AgYXMgcGFyc2VQQU1JbmZvLG0gYXMgcGFyc2VTcGF0aWFsUmVmZXJlbmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBuKGUsdCl7aWYoIWV8fCF0KXJldHVybltdO2xldCBsPXQ7dC5pbmNsdWRlcyhcIi9cIik/KGw9dC5zbGljZSgwLHQuaW5kZXhPZihcIi9cIikpLHQ9dC5zbGljZSh0LmluZGV4T2YoXCIvXCIpKzEpKTp0PVwiXCI7Y29uc3Qgcj1bXTtpZih0KXtjb25zdCB1PW4oZSxsKTtmb3IobGV0IGU9MDtlPHUubGVuZ3RoO2UrKyl7bih1W2VdLHQpLmZvckVhY2goKG49PnIucHVzaChuKSkpfXJldHVybiByfWNvbnN0IHU9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKFwiKlwiLGwpO2lmKCF1fHwwPT09dS5sZW5ndGgpcmV0dXJuW107Zm9yKGxldCBuPTA7bjx1Lmxlbmd0aDtuKyspci5wdXNoKHVbbl18fHUuaXRlbShuKSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZSh0LGwpe2lmKCF0fHwhbClyZXR1cm4gbnVsbDtsZXQgcj1sO2wuaW5jbHVkZXMoXCIvXCIpPyhyPWwuc2xpY2UoMCxsLmluZGV4T2YoXCIvXCIpKSxsPWwuc2xpY2UobC5pbmRleE9mKFwiL1wiKSsxKSk6bD1cIlwiO2NvbnN0IHU9bih0LHIpO3JldHVybiB1Lmxlbmd0aD4wP2w/ZSh1WzBdLGwpOnVbMF06bnVsbH1mdW5jdGlvbiB0KG4sdD1udWxsKXtjb25zdCBsPXQ/ZShuLHQpOm47bGV0IHI7cmV0dXJuIGw/KHI9bC50ZXh0Q29udGVudHx8bC5ub2RlVmFsdWUscj9yLnRyaW0oKTpudWxsKTpudWxsfWZ1bmN0aW9uIGwoZSx0KXtjb25zdCBsPW4oZSx0KSxyPVtdO2xldCB1O2ZvcihsZXQgbj0wO248bC5sZW5ndGg7bisrKXU9bFtuXS50ZXh0Q29udGVudHx8bFtuXS5ub2RlVmFsdWUsdSYmKHU9dS50cmltKCksXCJcIiE9PXUmJnIucHVzaCh1KSk7cmV0dXJuIHJ9ZnVuY3Rpb24gcihuLGU9bnVsbCl7Y29uc3QgbD10KG4sZSk7cmV0dXJuIGw/LnNwbGl0KFwiIFwiKS5tYXAoKG49Pk51bWJlcihuKSkpPz9bXX1mdW5jdGlvbiB1KG4sZSl7cmV0dXJuIGwobixlKS5tYXAoKG49Pk51bWJlcihuKSkpfWZ1bmN0aW9uIG8obixlKXtjb25zdCBsPXQobixlKTtyZXR1cm4gTnVtYmVyKGwpfWZ1bmN0aW9uIGkobixlKXtjb25zdCB0PW4/Lm5vZGVOYW1lPy50b0xvd2VyQ2FzZSgpLGw9ZS50b0xvd2VyQ2FzZSgpO3JldHVybiB0LnNsaWNlKHQubGFzdEluZGV4T2YoXCI6XCIpKzEpPT09bH1mdW5jdGlvbiBjKG4pe3JldHVybiBuLm5vZGVOYW1lLnNsaWNlKG4ubm9kZU5hbWUubGFzdEluZGV4T2YoXCI6XCIpKzEpfWV4cG9ydHtlIGFzIGdldEVsZW1lbnQsbyBhcyBnZXRFbGVtZW50TnVtZXJpY1ZhbHVlLHUgYXMgZ2V0RWxlbWVudE51bWVyaWNWYWx1ZXMsdCBhcyBnZXRFbGVtZW50VmFsdWUsbCBhcyBnZXRFbGVtZW50VmFsdWVzLG4gYXMgZ2V0RWxlbWVudHMsYyBhcyBnZXROb2RlTmFtZUlnbm9yZU5TLHIgYXMgZ2V0U3BhY2VEZWxpbWl0ZWROdW1lcmljVmFsdWVzLGkgYXMgaXNTYW1lVGFnSWdub3JlTlN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRNZXRlcnNQZXJVbml0Rm9yU1IgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2ltcG9ydCBpIGZyb21cIi4uL1BpeGVsQmxvY2suanNcIjtmdW5jdGlvbiBuKGUsaSl7aWYoZS5zcGF0aWFsUmVmZXJlbmNlLmVxdWFscyhpKSlyZXR1cm4gZTtjb25zdCBuPXQoZS5zcGF0aWFsUmVmZXJlbmNlKSxhPXQoaSk7aWYobj09PWEpcmV0dXJuIGU7Y29uc3QgaD1uL2E7cmV0dXJue3g6ZS54KmgseTplLnkqaH19YXN5bmMgZnVuY3Rpb24gYSh0LGUsbil7aWYoXCJleHRlbnRcIj09PW4udHlwZSlyZXR1cm4gbyh0LGUsbik7Y29uc3R7d2lkdGg6YSxoZWlnaHQ6eH09dCxsPW5ldyBVaW50OEFycmF5KGEqeCkse2NvbnRhaW5zOm0saW50ZXJzZWN0czpzfT1hd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZS5qc1wiKTtyZXR1cm4gcyhlLG4pP1wicG9seWxpbmVcIj09PW4udHlwZT9yKHQsZSxuKTptKG4sZSk/dDpoKHQsZSxuKTpuZXcgaSh7cGl4ZWxUeXBlOnQucGl4ZWxUeXBlLHdpZHRoOmEsaGVpZ2h0OngsbWFzazpsLG1hc2tJc0FscGhhOiExLHBpeGVsczpbLi4udC5waXhlbHNdfSl9ZnVuY3Rpb24gaCh0LGUsbil7aWYoIXQpcmV0dXJuIHQ7Y29uc3R7d2lkdGg6YSxoZWlnaHQ6aH09dCxvPWUud2lkdGgvYSxyPWUuaGVpZ2h0L2gse3htaW46eCx5bWF4Omx9PWU7bGV0IG07aWYoXCJleHRlbnRcIj09PW4udHlwZSl7Y29uc3QgdD0obi54bWluLXgpL28sZT0obi54bWF4LXgpL28saT0obC1uLnltYXgpL3IsYT0obC1uLnltaW4pL3I7bT1bW1t0LGldLFt0LGFdLFtlLGFdLFtlLGldLFt0LGldXV19ZWxzZSBtPW4ucmluZ3MubWFwKCh0PT50Lm1hcCgoKFt0LGVdKT0+Wyh0LXgpL28sKGwtZSkvcl0pKSkpO2NvbnN0IHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtzLndpZHRoPWEscy5oZWlnaHQ9aDtjb25zdCBwPXMuZ2V0Q29udGV4dChcIjJkXCIpO3AuZmlsbFN0eWxlPVwiI2YwMFwiLG0uZm9yRWFjaCgodD0+e3AuYmVnaW5QYXRoKCkscC5tb3ZlVG8odFswXVswXSx0WzBdWzFdKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylwLmxpbmVUbyh0W2VdWzBdLHRbZV1bMV0pO3AuY2xvc2VQYXRoKCkscC5maWxsKCl9KSk7Y29uc3QgZj1wLmdldEltYWdlRGF0YSgwLDAsYSxoKS5kYXRhLHk9dC5tYXNrLGM9YSpoLE09bmV3IFVpbnQ4QXJyYXkoYyk7Zm9yKGxldCBpPTA7aTxjO2krKyl5JiYheVtpXXx8KE1baV09Zls0KmkrM10+MTI3PzI1NTowKTtyZXR1cm4gbmV3IGkoe3BpeGVsVHlwZTp0LnBpeGVsVHlwZSx3aWR0aDphLGhlaWdodDpoLG1hc2s6TSxtYXNrSXNBbHBoYTohMSxwaXhlbHM6Wy4uLnQucGl4ZWxzXX0pfWZ1bmN0aW9uIG8odCxlLG4pe2NvbnN0e3dpZHRoOmEsaGVpZ2h0Omh9PXQsbz1uZXcgVWludDhBcnJheShhKmgpLHI9ZS53aWR0aC9hLHg9ZS5oZWlnaHQvaDtpZihuLndpZHRoL3I8LjV8fG4uaGVpZ2h0L3g8LjUpcmV0dXJuIG5ldyBpKHtwaXhlbFR5cGU6dC5waXhlbFR5cGUsd2lkdGg6YSxoZWlnaHQ6aCxtYXNrOm8scGl4ZWxzOlsuLi50LnBpeGVsc119KTtjb25zdHt4bWluOmwseG1heDptLHltaW46cyx5bWF4OnB9PWUse3htaW46Zix4bWF4OnkseW1pbjpjLHltYXg6TX09bix1PU1hdGgubWF4KGwsZiksdz1NYXRoLm1pbihtLHkpLGQ9TWF0aC5tYXgocyxjKSxnPU1hdGgubWluKHAsTSksVD0uNSpyLGs9LjUqeDtpZih3LXU8VHx8Zy1kPGt8fHc8bCtUfHx1Pm0tVHx8ZD5wLWt8fGc8cytrKXJldHVybiBuZXcgaSh7cGl4ZWxUeXBlOnQucGl4ZWxUeXBlLHdpZHRoOmEsaGVpZ2h0OmgsbWFzazpvLHBpeGVsczpbLi4udC5waXhlbHNdfSk7Y29uc3QgQT1NYXRoLm1heCgwLCh1LWwpL3IpLFI9TWF0aC5taW4oYSxNYXRoLm1heCgwLCh3LWwpL3IpKSxVPU1hdGgubWF4KDAsKHAtZykveCksaj1NYXRoLm1pbihoLE1hdGgubWF4KDAsKHAtZCkveCkpLEU9TWF0aC5yb3VuZChBKSxJPU1hdGgucm91bmQoUiktMSxQPU1hdGgucm91bmQoVSksdj1NYXRoLnJvdW5kKGopLTE7aWYoRT09PUkmJkElMT4uNSYmUiUxPC41fHxQPT09diYmVSUxPi41JiZqJTE8LjUpcmV0dXJuIG5ldyBpKHtwaXhlbFR5cGU6dC5waXhlbFR5cGUsd2lkdGg6YSxoZWlnaHQ6aCxtYXNrOm8scGl4ZWxzOlsuLi50LnBpeGVsc119KTtpZigwPT09RSYmMD09PVAmJkk9PT1hJiZ2PT09aClyZXR1cm4gdDtjb25zdCBiPXQubWFzaztmb3IobGV0IGk9UDtpPD12O2krKylmb3IobGV0IHQ9RTt0PD1JO3QrKyl7Y29uc3QgZT1pKmErdDtvW2VdPWI/YltlXToyNTV9cmV0dXJuIG5ldyBpKHtwaXhlbFR5cGU6dC5waXhlbFR5cGUsd2lkdGg6YSxoZWlnaHQ6aCxtYXNrOm8scGl4ZWxzOlsuLi50LnBpeGVsc119KX1mdW5jdGlvbiByKHQsZSxuKXtjb25zdHt3aWR0aDphLGhlaWdodDpofT10LG89bmV3IFVpbnQ4QXJyYXkoYSpoKSxyPWUud2lkdGgvYSx4PWUuaGVpZ2h0L2gse3htaW46bCx5bWF4Om19PWUse3BhdGhzOnN9PW4scD10Lm1hc2s7Zm9yKGxldCBpPTA7aTxzLmxlbmd0aDtpKyspe2NvbnN0IHQ9c1tpXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKXtjb25zdFtpLG5dPXRbZV0sW3MsZl09dFtlKzFdO2xldCB5PU1hdGguZmxvb3IoKG0tbikveCksYz1NYXRoLmZsb29yKChtLWYpL3gpO2lmKGM8eSl7Y29uc3QgdD15O3k9YyxjPXR9eT1NYXRoLm1heCgwLHkpLGM9TWF0aC5taW4oaC0xLGMpO2NvbnN0IE09KHMtaSkvKGYtbik7Zm9yKGxldCB0PXk7dDw9Yzt0Kyspe2NvbnN0IGU9dD09PXk/TWF0aC5tYXgobixmKTooaCsxLXQpKngsbT10PT09Yz9NYXRoLm1pbihuLGYpOmUteDtsZXQgdT1mPT09bj9NYXRoLmZsb29yKChpLWwpL3IpOk1hdGguZmxvb3IoKE0qKGUtbikraS1sKS9yKSx3PWY9PT1uP01hdGguZmxvb3IoKHMtbCkvcik6TWF0aC5mbG9vcigoTSoobS1uKStpLWwpL3IpO2lmKHc8dSl7Y29uc3QgdD11O3U9dyx3PXR9Y29uc3QgZD10KmE7dT1NYXRoLm1heCgwLHUpLHc9TWF0aC5taW4oYS0xLHcpO2ZvcihsZXQgdD1kK3U7dDw9ZCt3O3QrKylvW3RdPXA/cFt0XToyNTV9fX1yZXR1cm4gbmV3IGkoe3BpeGVsVHlwZTp0LnBpeGVsVHlwZSx3aWR0aDphLGhlaWdodDpoLG1hc2s6byxwaXhlbHM6Wy4uLnQucGl4ZWxzXX0pfWZ1bmN0aW9uIHgodCxpLGEsaD0hMCl7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTpvfT10LHt4OnIseTp4fT1uKGEsbyk7bGV0IGwsbSxzO2NvbnN0IHA9XCJleHRlbnRcIj09PWkudHlwZT9pOmkuZXh0ZW50O2xldHt4bWluOmYseG1heDp5LHltYXg6Yyx5bWluOk19PXA7Y29uc3R7eG1pbjp1LHltYXg6d309dC5leHRlbnQ7cmV0dXJuIGg/KGY9dSsoZj51P3IqTWF0aC5yb3VuZCgoZi11KS9yKTowKSxjPXctKGM8dz94Kk1hdGgucm91bmQoKHctYykveCk6MCkseT11Kyh5PnU/cipNYXRoLnJvdW5kKCh5LXUpL3IpOjApLE09dy0oTTx3P3gqTWF0aC5yb3VuZCgody1NKS94KTowKSxsPW5ldyBlKHt4bWluOmYseW1heDpjLHhtYXg6eSx5bWluOk0sc3BhdGlhbFJlZmVyZW5jZTpvfSksbT1NYXRoLnJvdW5kKGwud2lkdGgvcikscz1NYXRoLnJvdW5kKGwuaGVpZ2h0L3gpKToobT1NYXRoLmZsb29yKCh5LWYpL3IrLjgpLHM9TWF0aC5mbG9vcigoYy1NKS94Ky44KSxmPXUrKGY+dT9yKk1hdGguZmxvb3IoKGYtdSkvcisuMSk6MCksYz13LShjPHc/eCpNYXRoLmZsb29yKCh3LWMpL3grLjEpOjApLHk9ZittKnIsTT1jLXMqeCxsPW5ldyBlKHt4bWluOmYseW1heDpjLHhtYXg6eSx5bWluOk0sc3BhdGlhbFJlZmVyZW5jZTpvfSkpLHtleHRlbnQ6bCx3aWR0aDptLGhlaWdodDpzfX1leHBvcnR7YSBhcyBjbGlwLHggYXMgc25hcFRvUmFzdGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydHtnZXRKc29uVHlwZSBhcyB0LGZyb21KU09OIGFzIHJ9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7cGFyc2VVcmwgYXMgc31mcm9tXCIuLi91dGlscy5qc1wiO2FzeW5jIGZ1bmN0aW9uIG8obyxpLG4sbSl7Y29uc3QgYT1zKG8pLHA9aVswXS5zcGF0aWFsUmVmZXJlbmNlLHU9ey4uLm0scXVlcnk6ey4uLmEucXVlcnksZjpcImpzb25cIixzcjpKU09OLnN0cmluZ2lmeShwKSx0YXJnZXQ6SlNPTi5zdHJpbmdpZnkoe2dlb21ldHJ5VHlwZTp0KGlbMF0pLGdlb21ldHJpZXM6aX0pLGN1dHRlcjpKU09OLnN0cmluZ2lmeShuKX19LGM9YXdhaXQgZShhLnBhdGgrXCIvY3V0XCIsdSkse2N1dEluZGV4ZXM6ZixnZW9tZXRyaWVzOmc9W119PWMuZGF0YTtyZXR1cm57Y3V0SW5kZXhlczpmLGdlb21ldHJpZXM6Zy5tYXAoKGU9Pntjb25zdCB0PXIoZSk7cmV0dXJuIHQuc3BhdGlhbFJlZmVyZW5jZT1wLHR9KSl9fWV4cG9ydHtvIGFzIGN1dH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHIgZnJvbVwiLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydHt1cmxUb09iamVjdCBhcyB0fWZyb21cIi4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7Z2V0SnNvblR5cGUgYXMgc31mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2pzb25VdGlscy5qc1wiO2ltcG9ydHtlbmNvZGVHZW9tZXRyaWVzIGFzIGUsZGVjb2RlR2VvbWV0cmllcyBhcyBpfWZyb21cIi4vdXRpbHMuanNcIjthc3luYyBmdW5jdGlvbiBvKG8sbSxmKXtjb25zdCBuPVwic3RyaW5nXCI9PXR5cGVvZiBvP3Qobyk6byxwPW1bMF0uc3BhdGlhbFJlZmVyZW5jZSxhPXMobVswXSksdT17Li4uZixxdWVyeTp7Li4ubi5xdWVyeSxmOlwianNvblwiLHNyOnAud2tpZD8/SlNPTi5zdHJpbmdpZnkocCksZ2VvbWV0cmllczpKU09OLnN0cmluZ2lmeShlKG0pKX19LHtkYXRhOnl9PWF3YWl0IHIobi5wYXRoK1wiL3NpbXBsaWZ5XCIsdSk7cmV0dXJuIGkoeS5nZW9tZXRyaWVzLGEscCl9ZXhwb3J0e28gYXMgc2ltcGxpZnl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRKc29uVHlwZSBhcyBlLGdldEdlb21ldHJ5VHlwZSBhcyB0fWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvanNvblV0aWxzLmpzXCI7ZnVuY3Rpb24gcih0KXtyZXR1cm57Z2VvbWV0cnlUeXBlOmUodFswXSksZ2VvbWV0cmllczp0Lm1hcCgoZT0+ZS50b0pTT04oKSkpfX1mdW5jdGlvbiBvKGUscixvKXtjb25zdCBuPXQocik7cmV0dXJuIGUubWFwKChlPT57Y29uc3QgdD1uLmZyb21KU09OKGUpO3JldHVybiB0LnNwYXRpYWxSZWZlcmVuY2U9byx0fSkpfWV4cG9ydHtvIGFzIGRlY29kZUdlb21ldHJpZXMsciBhcyBlbmNvZGVHZW9tZXRyaWVzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgciBmcm9tXCIuLi9jb25maWcuanNcIjtpbXBvcnR7aWQgYXMgdH1mcm9tXCIuLi9rZXJuZWwuanNcIjtpbXBvcnR7Y2xvbmUgYXMgb31mcm9tXCIuLi9jb3JlL2xhbmcuanNcIjtpbXBvcnR7dXJsVG9PYmplY3QgYXMgZX1mcm9tXCIuLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0e3N1cHBvcnRzQXBpS2V5IGFzIG59ZnJvbVwiLi4vc3VwcG9ydC9hcGlLZXlVdGlscy5qc1wiO2Z1bmN0aW9uIGkocix0KXtyZXR1cm4gdD97Li4udCxxdWVyeTp7Li4ucj8/e30sLi4udC5xdWVyeX19OntxdWVyeTpyfX1mdW5jdGlvbiBmKHIpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiByP2Uocik6byhyKX1mdW5jdGlvbiBzKHIsdCxvKXtjb25zdCBlPXt9O2Zvcihjb25zdCBuIGluIHIpe2lmKFwiZGVjbGFyZWRDbGFzc1wiPT09biljb250aW51ZTtjb25zdCBpPXJbbl07aWYobnVsbCE9aSYmXCJmdW5jdGlvblwiIT10eXBlb2YgaSlpZihBcnJheS5pc0FycmF5KGkpKXtlW25dPVtdO2ZvcihsZXQgcj0wO3I8aS5sZW5ndGg7cisrKWVbbl1bcl09cyhpW3JdKX1lbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBpKWlmKGkudG9KU09OKXtjb25zdCByPWkudG9KU09OKG8mJm9bbl0pO2Vbbl09dD9yOkpTT04uc3RyaW5naWZ5KHIpfWVsc2UgZVtuXT10P2k6SlNPTi5zdHJpbmdpZnkoaSk7ZWxzZSBlW25dPWl9cmV0dXJuIGV9ZnVuY3Rpb24gbChvLGUpe3JldHVybiBvP24obykmJihlfHxyLmFwaUtleSk/ZXx8ci5hcGlLZXk6dD8uZmluZENyZWRlbnRpYWwobyk/LnRva2VuOm51bGx9ZXhwb3J0e2kgYXMgYXNWYWxpZE9wdGlvbnMscyBhcyBlbmNvZGUsbCBhcyBnZXRUb2tlbixmIGFzIHBhcnNlVXJsfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==