"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[7956,9593],{74589:(e,t,i)=>{i.d(t,{Z:()=>c});var r=i(36663),s=i(41151),a=i(82064),n=i(807),o=i(81977),l=(i(7283),i(7753),i(39994),i(79438)),d=i(40266),u=i(80680);let p=class extends((0,s.J)(a.wq)){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,n.rJ)(this.value,this.unit,"milliseconds")}};(0,r._)([(0,l.J)(u.v,{nonNullable:!0})],p.prototype,"unit",void 0),(0,r._)([(0,o.Cb)({type:Number,json:{write:!0},nonNullable:!0})],p.prototype,"value",void 0),p=(0,r._)([(0,d.j)("esri.TimeInterval")],p);const c=p},53280:(e,t,i)=>{i.d(t,{p:()=>d,r:()=>u});var r=i(36663),s=i(74396),a=i(44584),n=i(81977),o=i(40266),l=i(81589);const d=e=>{let t=class extends e{constructor(){super(...arguments),this._handles=new a.Z,this._updatingHandles=new l.t}destroy(){this.destroyed||(this._handles.destroy(),this._updatingHandles.destroy())}get handles(){return this._handles}get updatingHandles(){return this._updatingHandles}};return(0,r._)([(0,n.Cb)({readOnly:!0})],t.prototype,"handles",null),(0,r._)([(0,n.Cb)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,r._)([(0,o.j)("esri.core.HandleOwner")],t),t};let u=class extends(d(s.Z)){};u=(0,r._)([(0,o.j)("esri.core.HandleOwner")],u)},15842:(e,t,i)=>{i.d(t,{R:()=>T,w:()=>v});var r=i(36663),s=i(74396),a=i(61681),n=i(20701),o=i(67134),l=i(65943);class d{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(l.kk),this._values=new Map,this.multipleOriginsSupported=!0}clone(e){const t=new d,i=this._originStores[l.s3.DEFAULTS];i&&i.forEach(((e,i)=>{t.set(i,(0,o.d9)(e),l.s3.DEFAULTS)}));for(let i=l.s3.SERVICE;i<l.kk;i++){const r=this._originStores[i];r&&r.forEach(((r,s)=>{e&&e.has(s)||t.set(s,(0,o.d9)(r),i)}))}return t}get(e,t){const i=void 0===t?this._values:this._originStores[t];return i?i.get(e):void 0}keys(e){const t=null==e?this._values:this._originStores[e];return t?[...t.keys()]:[]}set(e,t,i=l.s3.USER){let r=this._originStores[i];if(r||(r=new Map,this._originStores[i]=r),r.set(e,t),!this._values.has(e)||(0,a.j0)(this._propertyOriginMap.get(e))<=i){const r=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,i),r!==t}return!1}delete(e,t=l.s3.USER){const i=this._originStores[t];if(!i)return;const r=i.get(e);if(i.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(let i=t-1;i>=0;i--){const t=this._originStores[i];if(t&&t.has(e)){this._values.set(e,t.get(e)),this._propertyOriginMap.set(e,i);break}}}return r}has(e,t){const i=void 0===t?this._values:this._originStores[t];return!!i&&i.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t;const i=this._originStores[t],r=i&&i.get(e),s=this._values.get(e);return this._values.set(e,r),this._propertyOriginMap.set(e,t),s!==r}originOf(e){return this._propertyOriginMap.get(e)||l.s3.DEFAULTS}forEach(e){this._values.forEach(e)}}var u=i(70148),p=i(95620),c=i(40266);const y=e=>{let t=class extends e{constructor(...e){super(...e);const t=(0,a.j0)((0,p.vw)(this)),i=t.store,r=new d;t.store=r,(0,n.M)(t,i,r)}read(e,t){(0,u.i)(this,e,t)}getAtOrigin(e,t){const i=m(this),r=(0,l.M9)(t);if("string"==typeof e)return i.get(e,r);const s={};return e.forEach((e=>{s[e]=i.get(e,r)})),s}originOf(e){return(0,l.x3)(this.originIdOf(e))}originIdOf(e){return m(this).originOf(e)}revert(e,t){const i=m(this),r=(0,l.M9)(t),s=(0,p.vw)(this);let a;a="string"==typeof e?"*"===e?i.keys(r):[e]:e,a.forEach((e=>{s.invalidate(e),i.revert(e,r),s.commit(e)}))}};return t=(0,r._)([(0,c.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function m(e){return(0,p.vw)(e).store}let h=class extends(y(s.Z)){};h=(0,r._)([(0,c.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],h);var f=i(86561);const g=e=>{let t=class extends e{constructor(...e){super(...e)}clear(e,t="user"){return S(this).delete(e,(0,l.M9)(t))}write(e,t){return(0,f.c)(this,e=e||{},t),e}setAtOrigin(e,t,i){(0,p.vw)(this).setAtOrigin(e,t,(0,l.M9)(i))}removeOrigin(e){const t=S(this),i=(0,l.M9)(e),r=t.keys(i);for(const e of r)t.originOf(e)===i&&t.set(e,t.get(e,i),l.s3.USER)}updateOrigin(e,t){const i=S(this),r=(0,l.M9)(t),s=this.get(e);for(let t=r+1;t<l.kk;++t)i.delete(e,t);i.set(e,s,r)}toJSON(e){return this.write({},e)}};return t=(0,r._)([(0,c.j)("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function S(e){return(0,p.vw)(e).store}const T=e=>{let t=class extends(g(y(e))){constructor(...e){super(...e)}};return t=(0,r._)([(0,c.j)("esri.core.MultiOriginJSONSupport")],t),t};let v=class extends(T(s.Z)){};v=(0,r._)([(0,c.j)("esri.core.MultiOriginJSONSupport")],v)},27281:(e,t,i)=>{i.d(t,{Hg:()=>m,V7:()=>y,uD:()=>c});var r=i(74396),s=i(6865),a=i(95620);const n=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function o(e){return e instanceof r.Z}function l(e){return e instanceof s.Z?Object.keys(e.items):o(e)?(0,a.vw)(e).keys():e?Object.keys(e):[]}function d(e,t){return e instanceof s.Z?e.items[t]:e[t]}function u(e){return e?e.declaredClass:null}function p(e,t){const i=e.diff;if(i&&"function"==typeof i)return i(e,t);const r=l(e),s=l(t);if(0===r.length&&0===s.length)return;if(!r.length||!s.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const a=s.filter((e=>!r.includes(e))),c=r.filter((e=>!s.includes(e))),y=r.filter((i=>s.includes(i)&&d(e,i)!==d(t,i))).concat(a,c).sort(),m=u(e);if(m&&n.includes(m)&&y.length)return{type:"complete",oldValue:e,newValue:t};let h;const f=o(e)&&o(t);for(const r of y){const s=d(e,r),a=d(t,r);let n;if((f||"function"!=typeof s&&"function"!=typeof a)&&s!==a&&(null!=s||null!=a)){if(i&&i[r]&&"function"==typeof i[r])n=i[r]?.(s,a);else if(s instanceof Date&&a instanceof Date){if(s.getTime()===a.getTime())continue;n={type:"complete",oldValue:s,newValue:a}}else n="object"==typeof s&&"object"==typeof a&&u(s)===u(a)?p(s,a):{type:"complete",oldValue:s,newValue:a};null!=n&&(null!=h?h.diff[r]=n:h={type:"partial",diff:{[r]:n}})}}return h}function c(e,t){if(null==e)return!1;const i=t.split(".");let r=e;for(const e of i){if("complete"===r.type)return!0;if("partial"!==r.type)return!1;{const t=r.diff[e];if(!t)return!1;r=t}}return!0}function y(e,t){for(const i of t)if(c(e,i))return!0;return!1}function m(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&u(e)!==u(t)?{type:"complete",oldValue:e,newValue:t}:p(e,t)}},81589:(e,t,i)=>{i.d(t,{t:()=>p});var r=i(36663),s=i(74396),a=i(44584),n=i(23148),o=i(76868),l=i(17262),d=i(81977),u=i(40266);let p=class extends s.Z{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._handles=new a.Z,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll(),this._handles.destroy()}add(e,t,i={}){return this._installWatch(e,t,i,o.YP)}addWhen(e,t,i={}){return this._installWatch(e,t,i,o.gx)}addOnCollectionChange(e,t,{initial:i=!1,final:r=!1}={}){const s=++this._handleId;return this._handles.add([(0,o.on)(e,"after-changes",this._createSyncUpdatingCallback(),o.Z_),(0,o.on)(e,"change",t,{onListenerAdd:i?e=>t({added:e.toArray(),removed:[]}):void 0,onListenerRemove:r?e=>t({added:[],removed:e.toArray()}):void 0})],s),(0,n.kB)((()=>this._handles.remove(s)))}addPromise(e){if(null==e)return e;const t=++this._handleId;this._handles.add({remove:()=>{this._pendingPromises.delete(e)&&(0!==this._pendingPromises.size||this._handles.has(c)||this._set("updating",!1))}},t),this._pendingPromises.add(e),this._set("updating",!0);const i=()=>this._handles.remove(t);return e.then(i,i),e}removeAll(){this._pendingPromises.clear(),this._handles.removeAll(),this._set("updating",!1)}_installWatch(e,t,i={},r){const s=++this._handleId;i.sync||this._installSyncUpdatingWatch(e,s);const a=r(e,t,i);return this._handles.add(a,s),(0,n.kB)((()=>this._handles.remove(s)))}_installSyncUpdatingWatch(e,t){const i=this._createSyncUpdatingCallback(),r=(0,o.YP)(e,i,{sync:!0,equals:()=>!1});return this._handles.add(r,t),r}_createSyncUpdatingCallback(){return()=>{this._handles.remove(c),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this._handles.add((0,l.Os)((()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this._handles.remove(c))})),c)}}};(0,r._)([(0,d.Cb)({readOnly:!0})],p.prototype,"updating",void 0),p=(0,r._)([(0,u.j)("esri.core.support.WatchUpdatingTracking")],p);const c=-42},84420:(e,t,i)=>{i.r(t),i.d(t,{default:()=>V});var r=i(36663),s=(i(91957),i(44308)),a=(i(86004),i(45510),i(16192),i(17259),i(878),i(22836),i(50172),i(72043),i(72506),i(54021)),n=i(15842),o=i(86745),l=i(39154),d=i(81977),u=i(7283),p=(i(7753),i(39994)),c=i(40266),y=i(39835),m=i(59659),h=i(38481),f=i(70375),g=i(53280),S=i(68309),T=i(33926),v=i(47109),w=i(40400),b=i(48662),_=i(51211),C=i(91772);let A=class extends((0,g.p)(S.Z)){constructor(){super(...arguments),this._connection=null,this.capabilities=(0,w.MS)(!1,!1),this.type="wfs",this.refresh=(0,T.Ds)((async e=>{await this.load();const{extent:t}=await this._connection.invoke("refresh",e);return t&&(this.sourceJSON.extent=t),{dataChanged:!0,updates:{extent:this.sourceJSON.extent}}}))}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this._startWorker({signal:t})),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}async openPorts(){return await this.load(),this._connection.openPorts()}async queryFeatures(e,t={}){await this.load(t);const i=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return _.Z.fromJSON(i)}async queryFeaturesJSON(e,t={}){return await this.load(t),this._connection.invoke("queryFeatures",e?e.toJSON():null,t)}async queryFeatureCount(e,t={}){return await this.load(t),this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t)}async queryObjectIds(e,t={}){return await this.load(t),this._connection.invoke("queryObjectIds",e?e.toJSON():null,t)}async queryExtent(e,t={}){await this.load(t);const i=await this._connection.invoke("queryExtent",e?e.toJSON():null,t);return{count:i.count,extent:C.Z.fromJSON(i.extent)}}async querySnapping(e,t={}){return await this.load(t),this._connection.invoke("querySnapping",e,t)}async _createLoadOptions(e){const{url:t,customParameters:i,name:r,namespaceUri:s,spatialReference:a,fields:n,geometryType:o,swapXY:l}=this.layer;if(!t)throw new f.Z("wfs-layer:missing-url","WFSLayer must be created with a url");this.wfsCapabilities||(this.wfsCapabilities=await(0,b.FU)(t,{customParameters:i,...e}));const d=["fields","geometryType","name","namespaceUri","spatialReference","swapXY"].some((e=>null==this.layer[e])),u=d?await(0,b.be)(this.wfsCapabilities,r,s,{spatialReference:a,customParameters:i,signal:e?.signal}):{...(0,b.eB)(n??[]),geometryType:o,name:r,namespaceUri:s,spatialReference:a,swapXY:l},p=(0,b.ft)(this.wfsCapabilities.readFeatureTypes(),u.name,u.namespaceUri),c=m.M.toJSON(u.geometryType);return{customParameters:i,featureType:p,fields:u.fields?.map((e=>e.toJSON()))??[],geometryField:u.geometryField,geometryType:c,getFeatureUrl:this.wfsCapabilities.operations.GetFeature.url,getFeatureOutputFormat:this.wfsCapabilities.operations.GetFeature.outputFormat,objectIdField:u.objectIdField,spatialReference:u.spatialReference.toJSON(),swapXY:!!u.swapXY}}async _startWorker(e){const[t,i]=await(0,T.as)([this._createLoadOptions(e),(0,v.bA)("WFSSourceWorker",{...e,strategy:(0,p.Z)("feature-layers-workers")?"dedicated":"local"})]),r=t.error||i.error||null,s=i.value||null;if(r)throw s&&s.close(),r;const a=t.value;this._connection=i.value;const n=(await this._connection.invoke("load",a,e)).extent;this.sourceJSON={extent:n,fields:a.fields,geometryType:a.geometryType,objectIdField:a.objectIdField,geometryField:a.geometryField,drawingInfo:(0,w.bU)(a.geometryType),name:a.featureType.title,wfsInfo:{name:a.featureType.name,featureUrl:a.getFeatureUrl,maxFeatures:3e3,swapXY:a.swapXY,supportedSpatialReferences:a.featureType.supportedSpatialReferences,version:"2.0.0",wfsNamespace:a.featureType.namespaceUri}}}};(0,r._)([(0,d.Cb)()],A.prototype,"capabilities",void 0),(0,r._)([(0,d.Cb)({constructOnly:!0})],A.prototype,"layer",void 0),(0,r._)([(0,d.Cb)()],A.prototype,"sourceJSON",void 0),(0,r._)([(0,d.Cb)()],A.prototype,"type",void 0),(0,r._)([(0,d.Cb)()],A.prototype,"wfsCapabilities",void 0),A=(0,r._)([(0,c.j)("esri.layers.graphics.sources.WFSSource")],A);var I,E=i(27668),F=i(63989),x=i(45579),O=i(35134),M=i(43330),L=i(50386),P=i(18241),j=i(12478),R=i(95874),U=i(2030),G=i(51599),k=i(12512),Z=i(89076),N=i(17095),q=i(26732),D=i(49341),B=i(14626),J=i(10171),W=i(14685);const H=(0,Z.v)();let z=I=class extends((0,L.c)((0,F.N)((0,O.M)((0,x.b)((0,E.h)((0,U.n)((0,j.Q)((0,R.M)((0,M.q)((0,P.I)((0,n.R)(h.Z)))))))))))){static fromWFSLayerInfo(e){const{customParameters:t,fields:i,geometryField:r,geometryType:s,name:a,namespaceUri:n,objectIdField:o,spatialReference:l,swapXY:d,url:u,wfsCapabilities:p}=e;return new I({customParameters:t,fields:i,geometryField:r,geometryType:s,name:a,namespaceUri:n,objectIdField:o,spatialReference:l,swapXY:d,url:u,wfsCapabilities:p})}constructor(e){super(e),this.copyright=null,this.customParameters=null,this.definitionExpression=null,this.displayField=null,this.elevationInfo=null,this.featureUrl=void 0,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="WFS",this.maxFeatures=3e3,this.mode=0,this.name=null,this.namespaceUri=null,this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new A({layer:this}),this.spatialReference=W.Z.WGS84,this.spatialReferences=[4326],this.swapXY=void 0,this.title="WFS",this.type="wfs",this.url=null,this.version=void 0}destroy(){this.source?.destroy()}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WFS"]},e).then((()=>this.source.load(e))).then((()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo","spatialReference","name","namespaceUri"],"service"),(0,N.YN)(this.renderer,this.fieldsIndex),(0,N.UF)(this.timeInfo,this.fieldsIndex)}))),Promise.resolve(this)}get capabilities(){return this.source?.capabilities}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}writeFields(e,t,i){const r=e.filter((e=>e.name!==b.M8));this.geometryField&&r.unshift(new k.Z({name:this.geometryField,alias:this.geometryField,type:"geometry"})),(0,o.RB)(i,r.map((e=>e.toJSON())),t)}get parsedUrl(){return(0,l.mN)(this.url)}set renderer(e){(0,N.YN)(e,this.fieldsIndex),this._set("renderer",e)}get wfsCapabilities(){return this.source?.wfsCapabilities}set wfsCapabilities(e){this.source&&(this.source.wfsCapabilities=e)}createPopupTemplate(e){return(0,J.eZ)(this,e)}createQuery(){const e=new B.Z;e.returnGeometry=!0,e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:t,timeExtent:i}=this;return e.timeExtent=null!=t&&null!=i?i.offset(-t.value,t.unit):i||null,e}getFieldDomain(e,t){return this.getField(e)?.domain}getField(e){return this.fieldsIndex?.get(e)}queryFeatures(e,t){return this.load().then((()=>this.source.queryFeatures(B.Z.from(e)||this.createQuery(),t))).then((e=>{if(e?.features)for(const t of e.features)t.layer=t.sourceLayer=this;return e}))}queryObjectIds(e,t){return this.load().then((()=>this.source.queryObjectIds(B.Z.from(e)||this.createQuery(),t)))}queryFeatureCount(e,t){return this.load().then((()=>this.source.queryFeatureCount(B.Z.from(e)||this.createQuery(),t)))}queryExtent(e,t){return this.load().then((()=>this.source.queryExtent(B.Z.from(e)||this.createQuery(),t)))}async hasDataChanged(){try{const{dataChanged:e,updates:t}=await this.source.refresh(this.customParameters);return null!=t&&this.read(t,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}};(0,r._)([(0,d.Cb)({readOnly:!0})],z.prototype,"capabilities",null),(0,r._)([(0,d.Cb)({type:String})],z.prototype,"copyright",void 0),(0,r._)([(0,d.Cb)({readOnly:!0})],z.prototype,"createQueryVersion",null),(0,r._)([(0,d.Cb)({json:{name:"wfsInfo.customParameters",write:{overridePolicy:e=>({enabled:!!(e&&Object.keys(e).length>0),ignoreOrigin:!0})}}})],z.prototype,"customParameters",void 0),(0,r._)([(0,d.Cb)({readOnly:!0})],z.prototype,"defaultPopupTemplate",null),(0,r._)([(0,d.Cb)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],z.prototype,"definitionExpression",void 0),(0,r._)([(0,d.Cb)({type:String})],z.prototype,"displayField",void 0),(0,r._)([(0,d.Cb)(G.PV)],z.prototype,"elevationInfo",void 0),(0,r._)([(0,d.Cb)({type:String,readOnly:!0,json:{name:"wfsInfo.featureUrl",write:{ignoreOrigin:!0,isRequired:!0}}})],z.prototype,"featureUrl",void 0),(0,r._)([(0,d.Cb)({type:[k.Z],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],z.prototype,"fields",void 0),(0,r._)([(0,y.c)("fields")],z.prototype,"writeFields",null),(0,r._)([(0,d.Cb)(H.fieldsIndex)],z.prototype,"fieldsIndex",void 0),(0,r._)([(0,d.Cb)({type:C.Z,json:{name:"extent"}})],z.prototype,"fullExtent",void 0),(0,r._)([(0,d.Cb)()],z.prototype,"geometryField",void 0),(0,r._)([(0,d.Cb)({type:String,json:{read:{source:"layerDefinition.geometryType",reader:m.M.read},write:{target:"layerDefinition.geometryType",writer:m.M.write,ignoreOrigin:!0},origins:{service:{read:m.M.read}}}})],z.prototype,"geometryType",void 0),(0,r._)([(0,d.Cb)({type:String})],z.prototype,"id",void 0),(0,r._)([(0,d.Cb)(G.iR)],z.prototype,"labelsVisible",void 0),(0,r._)([(0,d.Cb)({type:[q.Z],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:D.r},write:!0}})],z.prototype,"labelingInfo",void 0),(0,r._)([(0,d.Cb)(G.rn)],z.prototype,"legendEnabled",void 0),(0,r._)([(0,d.Cb)({type:["show","hide"]})],z.prototype,"listMode",void 0),(0,r._)([(0,d.Cb)({type:String})],z.prototype,"objectIdField",void 0),(0,r._)([(0,d.Cb)({type:["WFS"]})],z.prototype,"operationalLayerType",void 0),(0,r._)([(0,d.Cb)({type:u.z8,json:{name:"wfsInfo.maxFeatures",write:{ignoreOrigin:!0,isRequired:!0}}})],z.prototype,"maxFeatures",void 0),(0,r._)([(0,d.Cb)({type:[0],readOnly:!0,json:{origins:{"web-map":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],z.prototype,"mode",void 0),(0,r._)([(0,d.Cb)({type:String,json:{name:"wfsInfo.name",write:{ignoreOrigin:!0,isRequired:!0}}})],z.prototype,"name",void 0),(0,r._)([(0,d.Cb)({type:String,json:{name:"wfsInfo.wfsNamespace",write:{ignoreOrigin:!0,isRequired:!0}}})],z.prototype,"namespaceUri",void 0),(0,r._)([(0,d.Cb)(G.bT)],z.prototype,"opacity",void 0),(0,r._)([(0,d.Cb)(H.outFields)],z.prototype,"outFields",void 0),(0,r._)([(0,d.Cb)({readOnly:!0})],z.prototype,"parsedUrl",null),(0,r._)([(0,d.Cb)(G.C_)],z.prototype,"popupEnabled",void 0),(0,r._)([(0,d.Cb)({type:s.Z,json:{name:"popupInfo",write:!0}})],z.prototype,"popupTemplate",void 0),(0,r._)([(0,d.Cb)({types:a.A,json:{origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:a.o,name:"layerDefinition.drawingInfo.renderer",write:!0}},name:"layerDefinition.drawingInfo.renderer",write:{ignoreOrigin:!0}}})],z.prototype,"renderer",null),(0,r._)([(0,d.Cb)(G.YI)],z.prototype,"screenSizePerspectiveEnabled",void 0),(0,r._)([(0,d.Cb)({readOnly:!0})],z.prototype,"source",void 0),(0,r._)([(0,d.Cb)({type:W.Z,json:{name:"layerDefinition.spatialReference",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"extent.spatialReference"}}}})],z.prototype,"spatialReference",void 0),(0,r._)([(0,d.Cb)({readOnly:!0,type:[u.z8],json:{name:"wfsInfo.supportedSpatialReferences",write:{ignoreOrigin:!0,isRequired:!0}}})],z.prototype,"spatialReferences",void 0),(0,r._)([(0,d.Cb)({type:Boolean,value:!1,json:{name:"wfsInfo.swapXY",write:{ignoreOrigin:!0,isRequired:!0}}})],z.prototype,"swapXY",void 0),(0,r._)([(0,d.Cb)({json:{write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"name"}}}})],z.prototype,"title",void 0),(0,r._)([(0,d.Cb)({json:{read:!1},readOnly:!0})],z.prototype,"type",void 0),(0,r._)([(0,d.Cb)(G.HQ)],z.prototype,"url",void 0),(0,r._)([(0,d.Cb)({type:String,readOnly:!0,json:{name:"wfsInfo.version",write:{ignoreOrigin:!0,isRequired:!0}}})],z.prototype,"version",void 0),(0,r._)([(0,d.Cb)()],z.prototype,"wfsCapabilities",null),z=I=(0,r._)([(0,c.j)("esri.layers.WFSLayer")],z);const V=z},59958:(e,t,i)=>{i.d(t,{S6:()=>s,nd:()=>a,u_:()=>r});class r{constructor(e=null,t={},i,r){this.geometry=e,this.attributes=t,this.centroid=i,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const e=new r(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}}function s(e){return!(null==e.geometry||!e.geometry.coords||!e.geometry.coords.length)}class a extends r{}},15540:(e,t,i)=>{i.d(t,{Z:()=>r});class r{constructor(e=[],t=[],i=!1){this.lengths=e??[],this.coords=t??[],this.hasIndeterminateRingOrder=i}static fromRect(e){const[t,i,s,a]=e,n=s-t,o=a-i;return new r([5],[t,i,n,0,0,o,-n,0,0,-o])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((e,t)=>e+t))}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let i=0;i<this.lengths.length;i++){const r=this.lengths[i];for(let i=0;i<r;i++)e(this.coords[2*(i+t)],this.coords[2*(i+t)+1]);t+=r}}clone(e){return e?(e.set(this.coords),new r(this.lengths.slice(),e,this.hasIndeterminateRingOrder)):new r(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},10287:(e,t,i)=>{i.d(t,{g:()=>r});const r={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},40400:(e,t,i)=>{i.d(t,{Dm:()=>u,Hq:()=>p,MS:()=>c,bU:()=>o});var r=i(39994),s=i(67134),a=i(10287),n=i(86094);function o(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?n.I4:"esriGeometryPolyline"===e?n.ET:n.lF}}}const l=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let d=1;function u(e,t){if((0,r.Z)("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let i=`this.${t} = null;`;for(const t in e)i+=`this${l.test(t)?`.${t}`:`["${t}"]`} = ${JSON.stringify(e[t])};`;const r=new Function(`\n      return class AttributesClass$${d++} {\n        constructor() {\n          ${i};\n        }\n      }\n    `)();return()=>new r}catch(i){return()=>({[t]:null,...e})}}function p(e={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,s.d9)(e)}}]}function c(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:a.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1}}}},63989:(e,t,i)=>{i.d(t,{N:()=>n});var r=i(36663),s=i(81977),a=(i(7283),i(7753),i(39994),i(40266));const n=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return(0,r._)([(0,s.Cb)({type:Object,json:{write:{overridePolicy:e=>({enabled:!!(e&&Object.keys(e).length>0)})}}})],t.prototype,"customParameters",void 0),t=(0,r._)([(0,a.j)("esri.layers.mixins.CustomParametersMixin")],t),t}},45579:(e,t,i)=>{i.d(t,{b:()=>E});var r,s=i(36663),a=i(81977),n=(i(7283),i(7753),i(39994),i(40266)),o=i(70375),l=i(82064),d=i(86745),u=i(78554),p=i(91957),c=i(37956),y=i(25709),m=i(67134),h=i(14626);const f=new y.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),g=new y.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let S=r=class extends l.wq{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:i,spatialRelationship:r,timeExtent:s,objectIds:a,units:n,distance:o}=this;return new h.Z({geometry:(0,m.d9)(i),objectIds:(0,m.d9)(a),spatialRelationship:r,timeExtent:(0,m.d9)(s),where:t,units:n,distance:o,...e})}clone(){const{where:e,geometry:t,spatialRelationship:i,timeExtent:s,objectIds:a,units:n,distance:o}=this;return new r({geometry:(0,m.d9)(t),objectIds:(0,m.d9)(a),spatialRelationship:i,timeExtent:(0,m.d9)(s),where:e,units:n,distance:o})}};(0,s._)([(0,a.Cb)({type:String,json:{write:!0}})],S.prototype,"where",void 0),(0,s._)([(0,a.Cb)({types:p.qM,json:{write:!0}})],S.prototype,"geometry",void 0),(0,s._)([(0,a.Cb)({type:f.apiValues,json:{name:"spatialRel",read:{reader:f.read},write:{allowNull:!1,writer:f.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],S.prototype,"spatialRelationship",void 0),(0,s._)([(0,a.Cb)({type:Number,json:{write:{overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],S.prototype,"distance",void 0),(0,s._)([(0,a.Cb)({type:[Number],json:{write:!0}})],S.prototype,"objectIds",void 0),(0,s._)([(0,a.Cb)({type:g.apiValues,json:{read:g.read,write:{writer:g.write,overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],S.prototype,"units",void 0),(0,s._)([(0,a.Cb)({type:c.Z,json:{write:!0}})],S.prototype,"timeExtent",void 0),S=r=(0,s._)([(0,n.j)("esri.layers.support.FeatureFilter")],S);const T=S;var v;const w={read:{reader:u.ij},write:{writer:u.cW,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},b={read:{reader:u.ij},write:{writer:u.cW,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},_={name:"showExcludedLabels",default:!0};let C=v=class extends l.wq{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const i=super.write(e,t);if(t?.origin){if(i.filter){const e=Object.keys(i.filter);if(e.length>1||"where"!==e[0])return t.messages?.push(new o.Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in i)return t.messages?.push(new o.Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return i}clone(){return new v({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,s._)([(0,a.Cb)({type:T,json:{write:{allowNull:!0,writer(e,t,i,r){const s=e?.write({},r);s&&0!==Object.keys(s).length?(0,d.RB)(i,s,t):(0,d.RB)(i,null,t)}}}})],C.prototype,"filter",void 0),(0,s._)([(0,a.Cb)({json:{write:!0,origins:{"web-map":w,"portal-item":w}}})],C.prototype,"includedEffect",void 0),(0,s._)([(0,a.Cb)({json:{write:!0,origins:{"web-map":b,"portal-item":b}}})],C.prototype,"excludedEffect",void 0),(0,s._)([(0,a.Cb)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":_,"portal-item":_}}})],C.prototype,"excludedLabelsVisible",void 0),C=v=(0,s._)([(0,n.j)("esri.layers.support.FeatureEffect")],C);const A=C,I={write:{allowNull:!0}},E=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return(0,s._)([(0,a.Cb)({type:A,json:{origins:{"web-map":I,"portal-item":I}}})],t.prototype,"featureEffect",void 0),t=(0,s._)([(0,n.j)("esri.layers.mixins.FeatureEffectLayer")],t),t}},43330:(e,t,i)=>{i.d(t,{q:()=>f});var r=i(36663),s=i(70375),a=i(39154),n=i(81977),o=(i(7283),i(7753),i(39994),i(40266)),l=i(39835),d=i(70148),u=i(86561);const p={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},c={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},y={ArcGISFeatureLayer:!0},m={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":p,"web-map/basemap":c,"web-map/tables":y,"link-chart/operational-layers":{...p,LinkChartLayer:!0},"link-chart/basemap":c,"link-chart/tables":y,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0}};var h=i(51599);const f=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(e,t,i,r){(r&&"ground"===r.layerContainerType||e&&(0,u.d)(this,i,{},r))&&(t[i]=e)}writeOperationalLayerType(e,t,i,r){!e||r&&"tables"===r.layerContainerType||(t.layerType=e)}writeTitle(e,t){t.title=e??"Layer"}read(e,t){t&&(t.layer=this),(0,d.$)(this,e,(t=>super.read(e,t)),t)}write(e,t){if(t?.origin){const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`,i=m[e];let r=!!i?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===e&&(r=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===e&&(r=!1),!r)return t.messages?.push(new s.Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const i=super.write(e,{...t,layer:this}),r=!!t&&!!t.messages&&!!t.messages.filter((e=>e instanceof s.Z&&"web-document-write:property-required"===e.name)).length;return(0,a.jc)(i?.url)?(t?.messages?.push(new s.Z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&r?null:i}beforeSave(){}};return(0,r._)([(0,n.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),(0,r._)([(0,n.Cb)(h.rT)],t.prototype,"listMode",void 0),(0,r._)([(0,l.c)("listMode")],t.prototype,"writeListMode",null),(0,r._)([(0,n.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),(0,r._)([(0,l.c)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),(0,r._)([(0,n.Cb)(h.Oh)],t.prototype,"opacity",void 0),(0,r._)([(0,n.Cb)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),(0,r._)([(0,l.c)("title"),(0,l.c)(["web-scene"],"title")],t.prototype,"writeTitle",null),(0,r._)([(0,n.Cb)({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=(0,r._)([(0,o.j)("esri.layers.mixins.OperationalLayer")],t),t}},50386:(e,t,i)=>{i.d(t,{c:()=>h});var r,s=i(36663),a=i(86745),n=i(81977),o=(i(7283),i(7753),i(39994),i(40266)),l=i(25709),d=i(82064);const u=new l.X({asc:"ascending",desc:"descending"});let p=r=class extends d.wq{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new r({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,s._)([(0,n.Cb)({type:String,json:{write:!0}})],p.prototype,"field",void 0),(0,s._)([(0,n.Cb)({type:String,json:{write:!0}})],p.prototype,"valueExpression",void 0),(0,s._)([(0,n.Cb)({type:u.apiValues,json:{read:u.read,write:u.write}})],p.prototype,"order",void 0),p=r=(0,s._)([(0,o.j)("esri.layers.support.OrderByInfo")],p);const c=p;function y(e,t,i){if(!e)return null;const r=e.find((e=>!!e.field));if(!r)return null;const s=new c;return s.read(r,i),[s]}function m(e,t,i,r){const s=e.find((e=>!!e.field));s&&(0,a.RB)(i,[s.toJSON()],t)}const h=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return(0,s._)([(0,n.Cb)({type:[c],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:y},write:{target:"layerDefinition.orderBy",writer:m}}})],t.prototype,"orderBy",void 0),t=(0,s._)([(0,o.j)("esri.layers.mixins.OrderedLayer")],t),t}},18241:(e,t,i)=>{i.d(t,{I:()=>b});var r=i(36663),s=i(51366),a=i(88256),n=i(66341),o=i(67979),l=i(70375),d=i(13802),u=i(61681),p=i(33926),c=i(39154),y=i(81977),m=(i(7283),i(7753),i(39994),i(34248)),h=i(40266),f=i(39835),g=i(54957),S=i(93968),T=i(53110),v=i(90298),w=i(31370);const b=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,u.SC)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,i){if(t.itemId)return new T.default({id:t.itemId,portal:i&&i.portal})}writePortalItem(e,t){e&&e.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem&&this.portalItem.id)try{const{load:r}=await i.e(9112).then(i.bind(i,49112));return(0,p.k_)(t),await r({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap},t)}catch(e){throw(0,p.D_)(e)||d.Z.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${e}`),e}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch((e=>((0,p.r9)(e),!0))))}async _setUserPrivileges(e,t){if(!s.Z.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:i,fullEdit:r},content:{updateItem:s}}=await this._fetchUserPrivileges(e,t);this._set("userHasEditingPrivileges",i),this._set("userHasFullEditingPrivileges",r),this._set("userHasUpdateItemPrivileges",s)}catch(e){(0,p.r9)(e)}}async _fetchUserPrivileges(e,t){let i=this.portalItem;if(!e||!i||!i.loaded||i.sourceUrl)return this._fetchFallbackUserPrivileges(t);const r=e===i.id;if(r&&i.portal.user)return(0,w.Ss)(i);let s,n;if(r)s=i.portal.url;else try{s=await(0,g.oP)(this.url,t)}catch(e){(0,p.r9)(e)}if(!s||!(0,c.Zo)(s,i.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;n=await(a.id?.getCredential(`${s}/sharing`,{prompt:!1,signal:e}))}catch(e){(0,p.r9)(e)}if(!n)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(r?await i.reload():(i=new T.default({id:e,portal:{url:s}}),await i.load(t)),i.portal.user)return(0,w.Ss)(i)}catch(e){(0,p.r9)(e)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(e){(0,p.r9)(e)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?a.id?.findCredential(this.url):null;if(!t)return!0;const i=_.credential===t?_.user:await this._fetchEditingUser(e);return _.credential=t,_.user=i,null==i||null==i.privileges||i.privileges.includes("features:user:edit")}async _fetchEditingUser(e){const t=this.portalItem?.portal?.user;if(t)return t;const i=a.id.findServerInfo(this.url??"");if(!i?.owningSystemUrl)return null;const r=`${i.owningSystemUrl}/sharing/rest`,s=S.Z.getDefault();if(s&&s.loaded&&(0,c.Fv)(s.restUrl)===(0,c.Fv)(r))return s.user;const l=`${r}/community/self`,d=null!=e?e.signal:null,u=await(0,o.q6)((0,n.default)(l,{authMode:"no-prompt",query:{f:"json"},signal:d}));return u.ok?v.default.fromJSON(u.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const i=t&&t.portal,r=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||S.Z.getDefault());return i&&r&&!(0,c.tm)(r.restUrl,i.restUrl)?(t.messages&&t.messages.push(new l.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return(0,r._)([(0,y.Cb)({type:T.default})],t.prototype,"portalItem",null),(0,r._)([(0,m.r)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,r._)([(0,f.c)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,r._)([(0,y.Cb)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,r._)([(0,y.Cb)({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),(0,r._)([(0,y.Cb)({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),(0,r._)([(0,y.Cb)({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=(0,r._)([(0,h.j)("esri.layers.mixins.PortalLayer")],t),t},_={credential:null,user:null}},2030:(e,t,i)=>{i.d(t,{n:()=>c});var r=i(36663),s=i(37956),a=i(74589),n=i(81977),o=(i(7283),i(7753),i(39994),i(34248)),l=i(40266),d=i(17095),u=i(23756),p=i(80680);const c=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const i=t.timeInfo.exportOptions;if(!i)return null;const r=i.timeOffset,s=p.v.fromJSON(i.timeOffsetUnits);return r&&s?new a.Z({value:r,unit:s}):null}set timeInfo(e){(0,d.UF)(e,this.fieldsIndex),this._set("timeInfo",e)}};return(0,r._)([(0,n.Cb)({type:s.Z,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,r._)([(0,n.Cb)({type:a.Z})],t.prototype,"timeOffset",void 0),(0,r._)([(0,o.r)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,r._)([(0,n.Cb)({value:null,type:u.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,r._)([(0,n.Cb)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=(0,r._)([(0,l.j)("esri.layers.mixins.TemporalLayer")],t),t}},28790:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(17095);function s(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function a(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}class n{constructor(e=[]){if(this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!e)return;this.fields=e;const t=[];for(const n of e){const e=n?.name,d=l(n?.name);if(e&&d){const l=o(e);this._fieldsMap.set(e,n),this._fieldsMap.set(l,n),this._normalizedFieldsMap.set(d,n),t.push(l),"date"===(i=n).type||"esriFieldTypeDate"===i.type||"date-only"===i.type||"esriFieldTypeDateOnly"===i.type||"timestamp-offset"===i.type||"esriFieldTypeTimestampOffset"===i.type?(this.dateFields.push(n),this._dateFieldsSet.add(n)):(0,r.H7)(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),s(n)||a(n)||(n.editable=null==n.editable||!!n.editable,n.nullable=null==n.nullable||!!n.nullable)}}var i;t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)s(e)||a(e)||e.nullable||void 0!==(0,r.os)(e)||this._requiredFields.push(e)}return this._requiredFields}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(o(e))??this._normalizedFieldsMap.get(l(e)),t&&this._fieldsMap.set(e,t),t)}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name??void 0}}function o(e){return e.trim().toLowerCase()}function l(e){return(0,r.q6)(e)?.toLowerCase()??""}},23756:(e,t,i)=>{i.d(t,{Z:()=>h});var r=i(36663),s=i(37956),a=i(74589),n=i(41151),o=i(82064),l=i(81977),d=(i(7283),i(7753),i(39994),i(34248)),u=i(40266),p=i(39835),c=i(9593);function y(e,t){return a.Z.fromJSON({value:e,unit:t})}let m=class extends((0,n.J)(o.wq)){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;const i=new Date(t.timeExtent[0]),r=new Date(t.timeExtent[1]);return new s.Z({start:i,end:r})}writeFullTimeExtent(e,t){e&&null!=e.start&&null!=e.end?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?y(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?y(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};(0,r._)([(0,l.Cb)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],m.prototype,"cumulative",void 0),(0,r._)([(0,l.Cb)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],m.prototype,"endField",void 0),(0,r._)([(0,l.Cb)({type:s.Z,json:{write:{enabled:!0,allowNull:!0}}})],m.prototype,"fullTimeExtent",void 0),(0,r._)([(0,d.r)("fullTimeExtent",["timeExtent"])],m.prototype,"readFullTimeExtent",null),(0,r._)([(0,p.c)("fullTimeExtent")],m.prototype,"writeFullTimeExtent",null),(0,r._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"hasLiveData",void 0),(0,r._)([(0,l.Cb)({type:a.Z,json:{write:{enabled:!0,allowNull:!0}}})],m.prototype,"interval",void 0),(0,r._)([(0,d.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],m.prototype,"readInterval",null),(0,r._)([(0,p.c)("interval")],m.prototype,"writeInterval",null),(0,r._)([(0,l.Cb)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],m.prototype,"startField",void 0),(0,r._)([(0,l.Cb)({type:c.Z,json:{write:{enabled:!0,allowNull:!0}}})],m.prototype,"timeReference",void 0),(0,r._)([(0,l.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],m.prototype,"trackIdField",void 0),(0,r._)([(0,l.Cb)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],m.prototype,"useTime",void 0),m=(0,r._)([(0,u.j)("esri.layers.support.TimeInfo")],m);const h=m},86349:(e,t,i)=>{i.d(t,{v:()=>r});const r=new(i(25709).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},49341:(e,t,i)=>{i.d(t,{a:()=>p,r:()=>d});var r=i(70375),s=i(67134),a=i(13802),n=i(26732);const o=a.Z.getLogger("esri.layers.support.labelingInfo"),l=/\[([^\[\]]+)\]/gi;function d(e,t,i){return e?e.map((e=>{const r=new n.Z;if(r.read(e,i),r.labelExpression){const e=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;r.labelExpression=r.labelExpression.replaceAll(l,((t,i)=>`[${function(e,t){if(!t)return e;const i=e.toLowerCase();for(let e=0;e<t.length;e++){const r=t[e].name;if(r.toLowerCase()===i)return r}return e}(i,e)}]`))}return r})):null}const u={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};function p(e,t){const i=(0,s.d9)(e);return i.some((e=>function(e,t){const i=e.labelPlacement,s=u[t];if(!e.symbol)return o.warn("No ILabelClass symbol specified."),!0;if(!s)return o.error(new r.Z("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),!0;if(!s.includes(i)){const r=s[0];i&&o.warn(`Found invalid label placement type ${i} for ${t}. Defaulting to ${r}`),e.labelPlacement=r}return!1}(e,t)))?[]:i}},80680:(e,t,i)=>{i.d(t,{v:()=>r});const r=(0,i(25709).w)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},51211:(e,t,i)=>{i.d(t,{Z:()=>T});var r,s=i(36663),a=i(91957),n=i(80085),o=i(25709),l=i(82064),d=i(67134),u=i(81977),p=(i(7283),i(34248)),c=i(40266),y=i(39835),m=i(14685),h=i(53736),f=i(12512);const g=new o.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let S=r=class extends l.wq{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const i=m.Z.fromJSON(t.spatialReference),r=[];for(let t=0;t<e.length;t++){const s=e[t],a=n.Z.fromJSON(s),o=s.geometry&&s.geometry.spatialReference;null==a.geometry||o||(a.geometry.spatialReference=i);const l=s.aggregateGeometries,d=a.aggregateGeometries;if(l&&null!=d)for(const e in d){const t=d[e],r=l[e],s=r?.spatialReference;null==t||s||(t.spatialReference=i)}r.push(a)}return r}writeGeometryType(e,t,i,r){if(e)return void g.write(e,t,i,r);const{features:s}=this;if(s)for(const e of s)if(e&&null!=e.geometry)return void g.write(e.geometry.type,t,i,r)}readQueryGeometry(e,t){if(!e)return null;const i=!!e.spatialReference,r=(0,h.im)(e);return r&&!i&&t.spatialReference&&(r.spatialReference=m.Z.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:i}=this;if(i)for(const e of i)if(e&&null!=e.geometry&&e.geometry.spatialReference)return void(t.spatialReference=e.geometry.spatialReference.toJSON())}clone(){return new r(this.cloneProperties())}cloneProperties(){return(0,d.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let i=0;i<t.features.length;i++){const r=t.features[i];if(r.geometry){const t=e&&e[i];r.geometry=t&&t.toJSON()||r.geometry}}return t}quantize(e){const{scale:[t,i],translate:[r,s]}=e,a=this.features,n=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-r)/t)),(e=>Math.round((s-e)/i)));for(let e=0,t=a.length;e<t;e++)n?.(a[e].geometry)||(a.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:i}=this;if(!i)return this;const{translate:[r,s],scale:[a,n]}=i;let o=null,l=null;if(this.hasZ&&null!=i?.scale?.[2]){const{translate:[,,e],scale:[,,t]}=i;o=i=>i*t+e}if(this.hasM&&null!=i?.scale?.[3]){const{translate:[,,,e],scale:[,,,t]}=i;l=i=>null==i?i:i*t+e}const d=this._getHydrationFunction(e,(e=>e*a+r),(e=>s-e*n),o,l);for(const{geometry:e}of t)null!=e&&d&&d(e);return this.transform=null,this}_quantizePoints(e,t,i){let r,s;const a=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];if(n>0){const e=t(o[0]),n=i(o[1]);e===r&&n===s||(a.push([e-r,n-s]),r=e,s=n)}else r=t(o[0]),s=i(o[1]),a.push([r,s])}return a.length>0?a:null}_getQuantizationFunction(e,t,i){return"point"===e?e=>(e.x=t(e.x),e.y=i(e.y),e):"polyline"===e||"polygon"===e?e=>{const r=(0,h.oU)(e)?e.rings:e.paths,s=[];for(let e=0,a=r.length;e<a;e++){const a=r[e],n=this._quantizePoints(a,t,i);n&&s.push(n)}return s.length>0?((0,h.oU)(e)?e.rings=s:e.paths=s,e):null}:"multipoint"===e?e=>{const r=this._quantizePoints(e.points,t,i);return r&&r.length>0?(e.points=r,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,i,r,s){return"point"===e?e=>{e.x=t(e.x),e.y=i(e.y),r&&(e.z=r(e.z))}:"polyline"===e||"polygon"===e?e=>{const a=(0,h.oU)(e)?e.rings:e.paths;let n,o;for(let e=0,r=a.length;e<r;e++){const r=a[e];for(let e=0,s=r.length;e<s;e++){const s=r[e];e>0?(n+=s[0],o+=s[1]):(n=s[0],o=s[1]),s[0]=t(n),s[1]=i(o)}}if(r&&s)for(let e=0,t=a.length;e<t;e++){const t=a[e];for(let e=0,i=t.length;e<i;e++){const i=t[e];i[2]=r(i[2]),i[3]=s(i[3])}}else if(r)for(let e=0,t=a.length;e<t;e++){const t=a[e];for(let e=0,i=t.length;e<i;e++){const i=t[e];i[2]=r(i[2])}}else if(s)for(let e=0,t=a.length;e<t;e++){const t=a[e];for(let e=0,i=t.length;e<i;e++){const i=t[e];i[2]=s(i[2])}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=i(e.ymin),e.xmax=t(e.xmax),e.ymax=i(e.ymax),r&&null!=e.zmax&&null!=e.zmin&&(e.zmax=r(e.zmax),e.zmin=r(e.zmin)),s&&null!=e.mmax&&null!=e.mmin&&(e.mmax=s(e.mmax),e.mmin=s(e.mmin))}:"multipoint"===e?e=>{const a=e.points;let n,o;for(let e=0,r=a.length;e<r;e++){const r=a[e];e>0?(n+=r[0],o+=r[1]):(n=r[0],o=r[1]),r[0]=t(n),r[1]=i(o)}if(r&&s)for(let e=0,t=a.length;e<t;e++){const t=a[e];t[2]=r(t[2]),t[3]=s(t[3])}else if(r)for(let e=0,t=a.length;e<t;e++){const t=a[e];t[2]=r(t[2])}else if(s)for(let e=0,t=a.length;e<t;e++){const t=a[e];t[2]=s(t[2])}}:null}};(0,s._)([(0,u.Cb)({type:String,json:{write:!0}})],S.prototype,"displayFieldName",void 0),(0,s._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"exceededTransferLimit",void 0),(0,s._)([(0,u.Cb)({type:[n.Z],json:{write:!0}})],S.prototype,"features",void 0),(0,s._)([(0,p.r)("features")],S.prototype,"readFeatures",null),(0,s._)([(0,u.Cb)({type:[f.Z],json:{write:!0}})],S.prototype,"fields",void 0),(0,s._)([(0,u.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:g.read}}})],S.prototype,"geometryType",void 0),(0,s._)([(0,y.c)("geometryType")],S.prototype,"writeGeometryType",null),(0,s._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"hasM",void 0),(0,s._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"hasZ",void 0),(0,s._)([(0,u.Cb)({types:a.qM,json:{write:!0}})],S.prototype,"queryGeometry",void 0),(0,s._)([(0,p.r)("queryGeometry")],S.prototype,"readQueryGeometry",null),(0,s._)([(0,u.Cb)({type:m.Z,json:{write:!0}})],S.prototype,"spatialReference",void 0),(0,s._)([(0,y.c)("spatialReference")],S.prototype,"writeSpatialReference",null),(0,s._)([(0,u.Cb)({json:{write:!0}})],S.prototype,"transform",void 0),S=r=(0,s._)([(0,c.j)("esri.rest.support.FeatureSet")],S),S.prototype.toJSON.isDefaultToJSON=!0;const T=S},86094:(e,t,i)=>{i.d(t,{ET:()=>a,I4:()=>s,eG:()=>l,lF:()=>n,lj:()=>u,qP:()=>o,wW:()=>d});const r=[252,146,31,255],s={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},a={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},n={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},o={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},d={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},u={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},9593:(e,t,i)=>{i.d(t,{Z:()=>c});var r=i(36663),s=i(41151),a=i(82064),n=i(81977),o=(i(7283),i(7753),i(39994),i(34248)),l=i(40266),d=i(39835),u=i(25302);let p=class extends((0,s.J)(a.wq)){constructor(e){super(e),this.legacy=null,this.timeZone="system"}readLegacy(e,t){const{timeZone:i,respectsDaylightSaving:r}=t;return{timeZone:i,respectsDaylightSaving:r}}readTimeZone(e,t){return"timeZoneIANA"in t?t.timeZoneIANA:(0,u.G)(t)}writeTimeZone(e,t){t.timeZoneIANA=e}equals(e){return null!=e&&null!=this.timeZone&&null!=e.timeZone&&this.timeZone===e.timeZone}};(0,r._)([(0,n.Cb)()],p.prototype,"legacy",void 0),(0,r._)([(0,o.r)("legacy",["timeZone"])],p.prototype,"readLegacy",null),(0,r._)([(0,n.Cb)({type:String,nonNullable:!0})],p.prototype,"timeZone",void 0),(0,r._)([(0,o.r)("timeZone",["timeZone","timeZoneIANA","respectsDaylightSaving"])],p.prototype,"readTimeZone",null),(0,r._)([(0,d.c)("timeZone")],p.prototype,"writeTimeZone",null),p=(0,r._)([(0,l.j)("esri.time.TimeReference")],p);const c=p},25302:(e,t,i)=>{i.d(t,{G:()=>a});const r=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);var s=i(17126);function a(e,t="system"){if(!e||!r.has(e.timeZone))return t;const i=r.get(e.timeZone);return e.timeZone.startsWith("UTC")||e.respectsDaylightSaving?i:function(e){const t=s.ou.local().setZone(e),i=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return 0===i?"Etc/UTC":`Etc/GMT${s.Qf.instance(-i).formatOffset(0,"narrow")}`}(i)}}}]);