"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[7710],{57989:(e,t,n)=>{function r(e){return e=e||globalThis.location.hostname,c.some((t=>null!=e?.match(t)))}function s(e,t){return e&&(t=t||globalThis.location.hostname)?null!=t.match(l)||null!=t.match(a)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(o)||null!=t.match(i)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}n.d(t,{XO:()=>r,pJ:()=>s});const l=/^devext.arcgis.com$/,o=/^qaext.arcgis.com$/,a=/^[\w-]*\.mapsdevext.arcgis.com$/,i=/^[\w-]*\.mapsqa.arcgis.com$/,c=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,l,o,/^jsapps.esri.com$/,a,i]},54957:(e,t,n)=>{n.d(t,{A2:()=>o,S1:()=>u,fb:()=>l,ln:()=>m,oP:()=>c,rQ:()=>a,y2:()=>i});var r=n(88256),s=n(66341);const l={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function o(e){const t=e?.type;return"building-scene"===t||"integrated-mesh"===t||"point-cloud"===t||"scene"===t}function a(e){return"feature"===e?.type&&!e.url&&"memory"===e.source?.type}function i(e){return"feature"===e?.type&&"feature-layer"===e.source?.type}async function c(e,t){const n=r.id?.findServerInfo(e);if(null!=n?.currentVersion)return n.owningSystemUrl||null;const l=e.toLowerCase().indexOf("/rest/services");if(-1===l)return null;const o=`${e.substring(0,l)}/rest/info`,a=null!=t?t.signal:null,{data:i}=await(0,s.default)(o,{query:{f:"json"},responseType:"json",signal:a});return i?.owningSystemUrl||null}function u(e){return function(e){if(!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function m(e){return!!function(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}},51622:(e,t,n)=>{n.d(t,{K3:()=>s,Rx:()=>l});var r=n(39994);const s=()=>!!(0,r.Z)("enable-feature:force-wosr"),l=()=>!!(0,r.Z)("enable-feature:SceneLayer-editing");((e="i3s-patching")=>{switch(r.Z.add("enable-i3s-patching",!1,!0,!0),r.Z.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),r.Z.add("enable-feature:SceneLayer-editing",!0,!0,!0),e){case"feature-layer-view":r.Z.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0);break;case"i3s-patching":r.Z.add("enable-i3s-patching",!0,!0,!0)}})("i3s-patching")},47308:(e,t,n)=>{n.d(t,{im:()=>$,cW:()=>S,vX:()=>Z});var r=n(4905),s=n(70375),l=n(54957),o=n(59834),a=n(27948),i=n(60378),c=n(15498),u=n(62063),m=n(1759),y=n(86036),f=n(43411),d=n(83849),b=n(57770),p=n(27624),g=n(63295);const h={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function w(e,t=h){if(!e)return{symbol:null};const{retainId:n=h.retainId,ignoreDrivers:l=h.ignoreDrivers,hasLabelingContext:o=h.hasLabelingContext,retainCIM:w=h.retainCIM}=t;let S=null;if((0,r.dU)(e)||e instanceof a.Z)S=e.clone();else if("cim"===e.type){const t=e.data?.symbol?.type;if("CIMPointSymbol"!==t)return{error:new s.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${t||"unknown"}' is unsupported in 3D`,{symbol:e})};S=w?e.clone():i.Z.fromCIMSymbol(e)}else if(e instanceof c.Z)S=u.Z.fromSimpleLineSymbol(e);else if(e instanceof m.Z)S=i.Z.fromSimpleMarkerSymbol(e);else if(e instanceof y.Z)S=i.Z.fromPictureMarkerSymbol(e);else if(e instanceof f.Z)S=t.geometryType&&"mesh"===t.geometryType?d.Z.fromSimpleFillSymbol(e):b.Z.fromSimpleFillSymbol(e);else{if(!(e instanceof p.Z))return{error:new s.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};S=o?g.Z.fromTextSymbol(e):i.Z.fromTextSymbol(e)}return n&&S&&"cim"!==S.type&&(S.id=e.id),l&&(0,r.dU)(S)&&S.symbolLayers.forEach((e=>e.ignoreDrivers=!0)),{symbol:S}}function S(e,t,n,r){const s=C(e,{},{context:r,isLabelSymbol:!1});null!=s&&(t[n]=s)}function Z(e,t,n,r){const s=C(e,{},{context:r,isLabelSymbol:!0});null!=s&&(t[n]=s)}function v(e){return e instanceof o.Z||e instanceof a.Z}function C(e,t,n){if(null==e)return null;const{context:r,isLabelSymbol:o}=n,a=r?.origin,i=r?.messages;if("web-scene"===a&&!v(e)){const n=w(e,{retainCIM:!0,hasLabelingContext:o});return null!=n.symbol?n.symbol.write(t,r):(i?.push(new s.Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:n.error})),null)}return("web-map"===a||"portal-item"===a&&!(0,l.A2)(r?.layer))&&v(e)?(i?.push(new s.Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function $(e,t){return(0,r.S9)(e,null,t)}},11644:(e,t,n)=>{n.d(t,{EJ:()=>d,KV:()=>y,n2:()=>m,v9:()=>f,wm:()=>g});var r=n(66341),s=n(70375),l=n(33926),o=n(39154),a=n(93968),i=n(58874),c=n(51622);let u={};function m(e,t,n){return e&&null!=e.styleUrl?async function(e,t){try{return{data:(await d(e,t)).data,baseUrl:(0,o.Yd)(e),styleUrl:e}}catch(e){return(0,l.r9)(e),null}}(e.styleUrl,n):e&&null!=e.styleName?function(e,t,n){const r=null!=t.portal?t.portal:a.Z.getDefault();let l;const o=`${r.url} - ${r.user&&r.user.username} - ${e}`;return u[o]||(u[o]=function(e,t,n){return t.load(n).then((()=>{const r=new i.Z({disableExtraQuery:!0,query:`owner:${b} AND type:${p} AND typekeywords:"${e}"`});return t.queryItems(r,n)})).then((({results:t})=>{let r=null;const l=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t){const t=e.typeKeywords?.some((e=>e.toLowerCase()===l));if(t&&e.type===p&&e.owner===b){r=e;break}}if(!r)throw new s.Z("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return r.load(n)}))}(e,r,n).then((e=>(l=e,e.fetchData()))).then((t=>({data:t,baseUrl:l.itemUrl??"",styleName:e})))),u[o]}(e.styleName,t,n):Promise.reject(new s.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function y(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function f(e,t,n=["gltf"]){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!(0,c.K3)())for(const t of n){const n=e.formatInfos.find((e=>e.type===t));if(n)return n.href}return e.webRef}function d(e,t){const n={responseType:"json",query:{f:"json"},...t};return(0,r.default)((0,o.Fv)(e),n)}const b="esri_en",p="Style",g="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},77710:(e,t,n)=>{n.r(t),n.d(t,{fetchSymbolFromStyle:()=>p,getStyleItemFromStyle:()=>b,resolveWebStyleSymbol:()=>d});var r=n(4905),s=n(57989),l=n(70375),o=n(61681),a=n(39154),i=n(93968),c=n(16641),u=n(47308),m=n(85068),y=n(11644),f=n(3032);function d(e,t,n,r){const s=e.name;return null==s?Promise.reject(new l.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,n){const r=y.wm.replaceAll(/\{SymbolName\}/gi,e),s=null!=t.portal?t.portal:i.Z.getDefault();return(0,y.EJ)(r,n).then((e=>{const t=(0,y.KV)(e.data);return(0,u.im)(t,{portal:s,url:(0,a.mN)((0,a.Yd)(r)),origin:"portal-item"})}))}(s,t,r):(0,y.n2)(e,t,r).then((e=>p((0,o.s3)(e),s,t,n,y.v9,r)))}function b(e,t){return t.items.find((t=>t.name===e))}function p(e,t,n,o,d,p){const g=n&&null!=n.portal?n.portal:i.Z.getDefault(),h={portal:g,url:(0,a.mN)(e.baseUrl),origin:"portal-item"},w=b(t,e.data);if(!w){const e=`The symbol name '${t}' could not be found`;return Promise.reject(new l.Z("symbolstyleutils:symbol-name-not-found",e,{symbolName:t}))}let S=(0,c.f)(d(w,o),h),Z=w.thumbnail?.href??null;const v=w.thumbnail&&w.thumbnail.imageData;(0,s.XO)()&&(S=(0,s.pJ)(S)??"",Z=(0,s.pJ)(Z));const C={portal:g,url:(0,a.mN)((0,a.Yd)(S)),origin:"portal-item"};return(0,y.EJ)(S,p).then((s=>{const l="cimRef"===o?(0,y.KV)(s.data):s.data,a=(0,u.im)(l,C);if(a&&(0,r.dU)(a)){if(Z){const e=(0,c.f)(Z,h);a.thumbnail=new f.p({url:e})}else v&&(a.thumbnail=new f.p({url:`data:image/png;base64,${v}`}));e.styleUrl?a.styleOrigin=new m.Z({portal:n.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(a.styleOrigin=new m.Z({portal:n.portal,styleName:e.styleName,name:t}))}return a}))}}}]);