"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_smartMapping_statistics_support_statsWorker_js"],{

/***/ "./node_modules/@arcgis/core/chunks/vec4f64.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec4f64.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "O": () => (/* binding */ _),
/* harmony export */   "U": () => (/* binding */ N),
/* harmony export */   "Z": () => (/* binding */ l),
/* harmony export */   "a": () => (/* binding */ u),
/* harmony export */   "b": () => (/* binding */ e),
/* harmony export */   "c": () => (/* binding */ n),
/* harmony export */   "d": () => (/* binding */ t),
/* harmony export */   "e": () => (/* binding */ i),
/* harmony export */   "f": () => (/* binding */ r),
/* harmony export */   "g": () => (/* binding */ c),
/* harmony export */   "h": () => (/* binding */ f),
/* harmony export */   "i": () => (/* binding */ O),
/* harmony export */   "j": () => (/* binding */ T),
/* harmony export */   "k": () => (/* binding */ U),
/* harmony export */   "o": () => (/* binding */ o),
/* harmony export */   "u": () => (/* binding */ s),
/* harmony export */   "v": () => (/* binding */ b),
/* harmony export */   "z": () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(){return[0,0,0,0]}function t(n){return[n[0],n[1],n[2],n[3]]}function r(n,t,r,e){return[n,t,r,e]}function e(t){const r=n(),e=Math.min(4,t.length);for(let n=0;n<e;++n)r[n]=t[n];return r}function u(n,t){return new Float64Array(n,t,4)}function a(){return n()}function o(){return r(1,1,1,1)}function s(){return r(1,0,0,0)}function i(){return r(0,1,0,0)}function c(){return r(0,0,1,0)}function f(){return r(0,0,0,1)}const l=a(),_=o(),N=s(),O=i(),T=c(),U=f(),b=Object.freeze(Object.defineProperty({__proto__:null,ONES:_,UNIT_W:U,UNIT_X:N,UNIT_Y:O,UNIT_Z:T,ZEROS:l,clone:t,create:n,createView:u,fromArray:e,fromValues:r,ones:o,unitW:f,unitX:s,unitY:i,unitZ:c,zeros:a},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/renderers/support/heatmapUtils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/renderers/support/heatmapUtils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR": () => (/* binding */ a),
/* harmony export */   "calculateHeatmapIntensityInfoReaders": () => (/* binding */ s),
/* harmony export */   "createHeatmapImageData": () => (/* binding */ h),
/* harmony export */   "createValueFunction": () => (/* binding */ y),
/* harmony export */   "createValueFunctionCursor": () => (/* binding */ d),
/* harmony export */   "drawHeatmap": () => (/* binding */ l),
/* harmony export */   "evaluateDensityKernel": () => (/* binding */ m),
/* harmony export */   "gaussianBlurRadiusPxToKernelDensityRadiusPt": () => (/* binding */ i),
/* harmony export */   "generateGradient": () => (/* binding */ u),
/* harmony export */   "kernelDensityRadiusPtToGaussianBlurRadiusPx": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunks/vec4.js */ "./node_modules/@arcgis/core/chunks/vec4.js");
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/vec4f64.js */ "./node_modules/@arcgis/core/chunks/vec4f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const a=2.4;function i(t){return (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.px2pt)(t*a)}function c(t){return (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.pt2px)(t)/a}function f(r,n,e,a){let{color:i,ratio:c}=n,{color:f,ratio:u}=e;if(u===c){const t=1e-6;1===u?c-=t:u+=t}const s=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)((a-c)/(u-c),0,1);(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.l)(r,i.toArray(),f.toArray(),s)}function u(t){const r=512,n=new Uint8ClampedArray(4*r);if(t=t.filter((({ratio:t})=>t>=0&&t<=1)).sort(((t,r)=>t.ratio-r.ratio)).map((({color:t,ratio:r})=>({color:t,ratio:Math.max(r,.001)}))),t.length<1)return n;let o=t[0],a=t[0],i=1;const c=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();for(let e=0;e<r;e++){const u=(e+.5)/r;for(;u>a.ratio&&i<t.length;)o=a,a=t[i++];f(c,o,a,u),n.set(c,4*e)}return n}function s(t,r,o,e){const{radius:a,fieldOffset:i,field:c}=r,f=Math.round((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.pt2px)(a)),u=new Float64Array(o*e);let s,l=Number.NEGATIVE_INFINITY;const h=d(c,i),y=new Set;for(const n of t){const t=n.getCursor();for(;t.next();){const r=t.getObjectId();if(y.has(r))continue;y.add(r);const n=t.readLegacyPointGeometry(),a=128;if(n.x<-a||n.x>=o+a||n.y<-a||n.y>e+a)continue;const i=+h(t),c=Math.max(0,Math.round(n.x)-f),d=Math.max(0,Math.round(n.y)-f),g=Math.min(e,Math.round(n.y)+f),A=Math.min(o,Math.round(n.x)+f);for(let t=d;t<g;t++)for(let r=c;r<A;r++){const e=t*o+r,a=m(n.x-r,n.y-t,f);s=u[e]+=a*i,s>l&&(l=s)}}}return{matrix:u.buffer,max:l}}function l(t,r,n,o,e,a){t.canvas.width=t.canvas.height=r,t.clearRect(0,0,r,r);const i=t.getImageData(0,0,r,r);n&&o&&i.data.set(new Uint8ClampedArray(h(r,n,o,e,a))),t.putImageData(i,0,0)}function h(r,n,o,e,a){const i=new Uint32Array(r*r),c="buffer"in n?n:new Float64Array(n),f="buffer"in o?new Uint32Array(o.buffer):new Uint32Array(new Uint8Array(o).buffer),u=f.length/(a-e);for(let s=0;s<c.length;s++){const r=c[s],n=Math.floor((r-e)*u);i[s]=f[(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(n,0,f.length-1)]}return i.buffer}function m(t,r,n){const o=Math.sqrt(t**2+r**2)/n;return o>1?0:3/(Math.PI*n**2)*(1-o**2)**2}function y(t,r){return"function"==typeof t?t:t?"string"==typeof r?r=>-1*+r[t]:n=>+n[t]+r:()=>1}function d(t,r){return null!=t?"string"==typeof r?r=>-1*+r.readAttribute(t):n=>+n.readAttribute(t)+r:t=>1}


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/statistics/support/statsWorker.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/statistics/support/statsWorker.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "classBreaks": () => (/* binding */ v),
/* harmony export */   "heatmapStatistics": () => (/* binding */ z),
/* harmony export */   "histogram": () => (/* binding */ c),
/* harmony export */   "summaryStatistics": () => (/* binding */ d),
/* harmony export */   "uniqueValues": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/smartMapping/statistics/support/utils.js");
/* harmony import */ var _statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../statistics/utils.js */ "./node_modules/@arcgis/core/statistics/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function d(a){const{attribute:e,features:s}=a,{normalizationType:r,normalizationField:m,minValue:f,maxValue:u,fieldType:d}=e,p=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getDataValues)({field:e.field,valueExpression:e.valueExpression,normalizationType:r,normalizationField:m,normalizationTotal:e.normalizationTotal,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},s),v=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.isNullCountSupported)({normalizationType:r,normalizationField:m,minValue:f,maxValue:u}),c={value:.5,fieldType:d},z="esriFieldTypeString"===d?(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.calculateStringStatistics)({values:p,supportsNullCount:v,percentileParams:c}):(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.calculateStatistics)({values:p,minValue:f,maxValue:u,useSampleStdDev:!r,supportsNullCount:v,percentileParams:c});return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.processSummaryStatisticsResult)(z,"esriFieldTypeDate"===d)}async function p(a){const{attribute:e,features:n}=a,l=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getDataValues)({field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:e.valueExpression,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},n),o=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.calculateUniqueValuesCount)(l);return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.createUVResult)(o,e.domains,e.returnAllCodedValues,e.fieldDelimiter)}async function v(a){const{attribute:e,features:n}=a,{field:l,normalizationType:o,normalizationField:t,normalizationTotal:s,classificationMethod:r}=e,u=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getDataValues)({field:l,valueExpression:e.valueExpression,normalizationType:o,normalizationField:t,normalizationTotal:s,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},n),d=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.calculateClassBreaks)(u,{field:l,normalizationType:o,normalizationField:t,normalizationTotal:s,classificationMethod:r,standardDeviationInterval:e.standardDeviationInterval,numClasses:e.numClasses,minValue:e.minValue,maxValue:e.maxValue});return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.resolveCBResult)(d,r)}async function c(a){const{attribute:e,features:n}=a,{field:l,normalizationType:o,normalizationField:t,normalizationTotal:s,classificationMethod:r}=e,m=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getDataValues)({field:l,valueExpression:e.valueExpression,normalizationType:o,normalizationField:t,normalizationTotal:s,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},n);return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__.calculateHistogram)(m,{field:l,normalizationType:o,normalizationField:t,normalizationTotal:s,classificationMethod:r,standardDeviationInterval:e.standardDeviationInterval,numBins:e.numBins,minValue:e.minValue,maxValue:e.maxValue})}async function z(i){const{attribute:n,features:l}=i,{field:o,radius:t,fieldOffset:s,transform:r,spatialReference:m}=n,f=n.size??[0,0],u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.quantizeFeatures)(l??[],r,m,f),{count:d,min:p,max:v,mean:c,stdDev:z}=(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.calculateHeatmapStats)(u,t??void 0,s,o,f[0],f[1]);return{count:d,min:p,max:v,avg:c,stddev:z}}


/***/ }),

/***/ "./node_modules/@arcgis/core/smartMapping/statistics/support/utils.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/smartMapping/statistics/support/utils.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "calculateHeatmapStats": () => (/* binding */ $),
/* harmony export */   "getDataValues": () => (/* binding */ I),
/* harmony export */   "getRangeExpr": () => (/* binding */ j),
/* harmony export */   "getSQLFilterForNormalization": () => (/* binding */ g),
/* harmony export */   "getSumOfAttributesExpr": () => (/* binding */ M),
/* harmony export */   "mergeWhereClauses": () => (/* binding */ F),
/* harmony export */   "quantizeFeatures": () => (/* binding */ y),
/* harmony export */   "verifyBasicFieldValidity": () => (/* binding */ v),
/* harmony export */   "verifyFieldType": () => (/* binding */ x),
/* harmony export */   "verifyFilterValidty": () => (/* binding */ b),
/* harmony export */   "verifyNumericField": () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../renderers/support/heatmapUtils.js */ "./node_modules/@arcgis/core/renderers/support/heatmapUtils.js");
/* harmony import */ var _statistics_utils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../statistics/utils.js */ "./node_modules/@arcgis/core/statistics/utils.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let p=null;function h(e,t,n){return e.x<0?e.x+=t:e.x>n&&(e.x-=t),e}function y(e,t,n,s){const l=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.isWrappable)(n)?(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.getInfo)(n):null,a=l?Math.round((l.valid[1]-l.valid[0])/t.scale[0]):null;return e.map((e=>{const n=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_10__["default"](e.geometry);return (0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_4__.quantizePoint)(t,n,n,n.hasZ,n.hasM),e.geometry=l?h(n,a??0,s[0]):n,e}))}function $(e,n=18,r,i,o,s){const l=new Float64Array(o*s);n=Math.round((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.pt2px)(n));let f=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,m=0,d=0,p=0,h=0;const y=(0,_renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_7__.createValueFunction)(i,r);for(const{geometry:t,attributes:u}of e){const{x:e,y:r}=t,i=Math.max(0,e-n),$=Math.max(0,r-n),I=Math.min(s,r+n),g=Math.min(o,e+n),j=+y(u);for(let t=$;t<I;t++)for(let s=i;s<g;s++){const i=t*o+s,u=(0,_renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_7__.evaluateDensityKernel)(s-e,t-r,n),y=l[i];m=l[i]+=u*j;const $=m-y;d+=$,p+=$*$,m<f&&(f=m),m>c&&(c=m),h++}}if(!h)return{mean:0,stddev:0,min:0,max:0,mid:0,count:0};const $=(c-f)/2;return{mean:d/h,stdDev:Math.sqrt((p-d*d/h)/h),min:f,max:c,mid:$,count:h}}async function I(e,t){if(!t)return[];const{field:r,field2:i,field3:o,fieldDelimiter:s}=e,l=e.valueExpression,a=e.normalizationType,u=e.normalizationField,d=e.normalizationTotal,h=[],y=e.viewInfoParams;let $=null,I=null;if(l){if(!p){const{arcadeUtils:e}=await (0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_9__.loadArcade)();p=e}p.hasGeometryOperations(l)&&await p.enableGeometryOperations(),$=p.createFunction(l),I=y&&p.getViewInfo({viewingMode:y.viewingMode,scale:y.scale,spatialReference:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_3__["default"](y.spatialReference)})}const g=e.fieldInfos,j=!(t[0]&&"declaredClass"in t[0]&&"esri.Graphic"===t[0].declaredClass)&&g?{fields:g}:null;return t.forEach((e=>{const t=e.attributes;let n;if(l){const t=j?{...e,layer:j}:e,r=p.createExecContext(t,I);n=p.executeFunction($,r)}else t&&(n=t[r],i&&(n=`${(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_8__.processNullValue)(n)}${s}${(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_8__.processNullValue)(t[i])}`,o&&(n=`${n}${s}${(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_8__.processNullValue)(t[o])}`)));if(a&&"number"==typeof n&&isFinite(n)){const e=t&&parseFloat(t[u]);n=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_8__.getNormalizedValue)(n,a,e,d)}h.push(n)})),h}function g(e){const t=e.field,n=e.normalizationType,r=e.normalizationField;let i;return"field"===n?i="(NOT "+r+" = 0)":"log"!==n&&"natural-log"!==n&&"square-root"!==n||(i=`(${t} > 0)`),i}function j(e,t,n){const r=null!=t?e+" >= "+t:"",i=null!=n?e+" <= "+n:"";let o="";return o=r&&i?F(r,i):r||i,o?"("+o+")":""}function x(t,n,r,i){let o;return n?n.name!==t.objectIdField&&i.includes(n.type)||(o=new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](r,"'field' should be one of these types: "+i.join(","))):o=new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](r,"'field' is not defined in the layer schema"),o}function w(t,n,r){let i;return n?n.name!==t.objectIdField&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_6__.isNumericField)(n)||(i=new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](r,"'field' should be one of these numeric types: "+_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_6__.numericTypes.join(","))):i=new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](r,"'field' is not defined in the layer schema"),i}function F(e,t){let n=null!=e?e:"";return null!=t&&t&&(n=n?"("+n+") AND ("+t+")":t),n}function b(t,n){if(t&&"intersects"!==t.spatialRelationship)return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](n,"Only 'intersects' spatialRelationship is supported for featureFilter")}function v(t,n,r){const i=E({layer:t,fields:n});if(i.length)return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](r,"Unknown fields: "+i.join(", ")+". You can only use fields defined in the layer schema");const o=N({layer:t,fields:n});return o.length?new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](r,"Unsupported fields: "+o.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true"):void 0}function E(e){const t=e.layer;return e.fields.filter((e=>!t.getField(e)))}function N(e){const t=e.layer;return e.fields.filter((e=>{const n=t.getFieldUsageInfo(e);return!n||!n.supportsStatistics}))}function M(e,t,n){const r=[],i=[],o=[],s=[],l=[];e.forEach(((e,t)=>{const a=e.field?"field":"expression",u=e.field||e.valueExpression;e.field?(l.push(u),i.push(`var ${a}${t} = Number($feature["${u}"]);`)):(r.push(`function getValueForExpr${t}() {\n  ${u} \n}`),i.push(`var ${a}${t} = Number(getValueForExpr${t}());`)),n||o.push(`${a}${t} = IIf(${a}${t} < 0, 0, ${a}${t});`),s.push(`${a}${t}`)}));let a="return sum;";const u=r.length?null:l.reduce(((e,t)=>`${e} + ${t}`));let f=null;t||n?t?n||(a="return IIf(sum >= 0, sum, null);",u&&(f=`(( ${u} ) >= 0)`)):(a="return IIf(sum != 0, sum, null);",u&&(f=`(( ${u} ) <> 0)`)):(a="return IIf(sum > 0, sum, null);",u&&(f=`(( ${u} ) > 0)`));return{valueExpression:[r.length?r.join("\n"):"",i.join("\n"),o.join("\n"),`var sum = ${s.join(" + ")};`,a].filter(Boolean).join("\n\n"),sqlExpression:u,sqlWhere:f}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYzYwZTkyYWFkY2FjM2E2OTI4ZTI2NmMwOTVhMWI4YWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdCQUFnQixjQUFjLDRCQUE0QixvQkFBb0IsZ0JBQWdCLGNBQWMsbUNBQW1DLFlBQVksSUFBSSxjQUFjLFNBQVMsZ0JBQWdCLCtCQUErQixhQUFhLFdBQVcsYUFBYSxrQkFBa0IsYUFBYSxrQkFBa0IsYUFBYSxrQkFBa0IsYUFBYSxrQkFBa0IsYUFBYSxrQkFBa0IsaUZBQWlGLHdLQUF3SyxxQkFBcUIsZUFBZSxHQUFvSTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p0MEI7QUFDQTtBQUNBO0FBQ0E7QUFDa00sWUFBWSxjQUFjLE9BQU8sMkRBQUMsTUFBTSxjQUFjLE9BQU8sMkRBQUMsTUFBTSxvQkFBb0IsSUFBSSxnQkFBZ0IsSUFBSSxnQkFBZ0IsR0FBRyxVQUFVLGFBQWEsZ0JBQWdCLFFBQVEseURBQUMsa0JBQWtCLGtEQUFDLDhCQUE4QixjQUFjLHlDQUF5QyxpQkFBaUIsUUFBUSxzREFBc0QsZ0JBQWdCLEtBQUssK0JBQStCLHdCQUF3QixzQkFBc0IsUUFBUSxxREFBQyxHQUFHLFlBQVksSUFBSSxLQUFLLGlCQUFpQixLQUFLLHNCQUFzQixjQUFjLHdCQUF3QixTQUFTLG9CQUFvQixNQUFNLCtCQUErQixnQkFBZ0IsMkRBQUMsNkJBQTZCLGlDQUFpQyx5QkFBeUIsa0JBQWtCLHNCQUFzQixLQUFLLFNBQVMsRUFBRSx3QkFBd0IscUJBQXFCLFNBQVMsMENBQTBDLDhDQUE4Qyw4SUFBOEksWUFBWSxJQUFJLGdCQUFnQixJQUFJLEtBQUssaUNBQWlDLHlCQUF5QixPQUFPLHVCQUF1Qix3QkFBd0Isc0RBQXNELGdDQUFnQyw0RUFBNEUsc0JBQXNCLHNLQUFzSyxZQUFZLFdBQVcsS0FBSyxtQ0FBbUMsT0FBTyx5REFBQyxrQkFBa0Is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VSxFQUFFLEVBQUUsRUFBRSxFQUFFLGFBQWEsRUFBRSxFQUFFLEVBQUUsR0FBRyxHQUFHLGtCQUFrQixFQUFFLDBDQUEwQyxHQUFHLElBQUksRUFBRSxJQUFJLFdBQVcsOENBQThDLGNBQWMsR0FBRywrQ0FBK0MsY0FBYyxHQUFHLDhDQUE4QyxjQUFjLEdBQUcsVUFBVSxPQUFPLGlGQUFpRixlQUFlLDhEQUFxViIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy92ZWM0ZjY0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3JlbmRlcmVycy9zdXBwb3J0L2hlYXRtYXBVdGlscy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zbWFydE1hcHBpbmcvc3RhdGlzdGljcy9zdXBwb3J0L3N0YXRzV29ya2VyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3NtYXJ0TWFwcGluZy9zdGF0aXN0aWNzL3N1cHBvcnQvdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG4oKXtyZXR1cm5bMCwwLDAsMF19ZnVuY3Rpb24gdChuKXtyZXR1cm5bblswXSxuWzFdLG5bMl0sblszXV19ZnVuY3Rpb24gcihuLHQscixlKXtyZXR1cm5bbix0LHIsZV19ZnVuY3Rpb24gZSh0KXtjb25zdCByPW4oKSxlPU1hdGgubWluKDQsdC5sZW5ndGgpO2ZvcihsZXQgbj0wO248ZTsrK24pcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIHUobix0KXtyZXR1cm4gbmV3IEZsb2F0NjRBcnJheShuLHQsNCl9ZnVuY3Rpb24gYSgpe3JldHVybiBuKCl9ZnVuY3Rpb24gbygpe3JldHVybiByKDEsMSwxLDEpfWZ1bmN0aW9uIHMoKXtyZXR1cm4gcigxLDAsMCwwKX1mdW5jdGlvbiBpKCl7cmV0dXJuIHIoMCwxLDAsMCl9ZnVuY3Rpb24gYygpe3JldHVybiByKDAsMCwxLDApfWZ1bmN0aW9uIGYoKXtyZXR1cm4gcigwLDAsMCwxKX1jb25zdCBsPWEoKSxfPW8oKSxOPXMoKSxPPWkoKSxUPWMoKSxVPWYoKSxiPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxPTkVTOl8sVU5JVF9XOlUsVU5JVF9YOk4sVU5JVF9ZOk8sVU5JVF9aOlQsWkVST1M6bCxjbG9uZTp0LGNyZWF0ZTpuLGNyZWF0ZVZpZXc6dSxmcm9tQXJyYXk6ZSxmcm9tVmFsdWVzOnIsb25lczpvLHVuaXRXOmYsdW5pdFg6cyx1bml0WTppLHVuaXRaOmMsemVyb3M6YX0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHtfIGFzIE8sTiBhcyBVLGwgYXMgWix1IGFzIGEsZSBhcyBiLG4gYXMgYyx0IGFzIGQsaSBhcyBlLHIgYXMgZixjIGFzIGcsZiBhcyBoLE8gYXMgaSxUIGFzIGosVSBhcyBrLG8scyBhcyB1LGIgYXMgdixhIGFzIHp9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjbGFtcCBhcyB0fWZyb21cIi4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e3B4MnB0IGFzIHIscHQycHggYXMgbn1mcm9tXCIuLi8uLi9jb3JlL3NjcmVlblV0aWxzLmpzXCI7aW1wb3J0e2wgYXMgb31mcm9tXCIuLi8uLi9jaHVua3MvdmVjNC5qc1wiO2ltcG9ydHtjIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3ZlYzRmNjQuanNcIjtjb25zdCBhPTIuNDtmdW5jdGlvbiBpKHQpe3JldHVybiByKHQqYSl9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gbih0KS9hfWZ1bmN0aW9uIGYocixuLGUsYSl7bGV0e2NvbG9yOmkscmF0aW86Y309bix7Y29sb3I6ZixyYXRpbzp1fT1lO2lmKHU9PT1jKXtjb25zdCB0PTFlLTY7MT09PXU/Yy09dDp1Kz10fWNvbnN0IHM9dCgoYS1jKS8odS1jKSwwLDEpO28ocixpLnRvQXJyYXkoKSxmLnRvQXJyYXkoKSxzKX1mdW5jdGlvbiB1KHQpe2NvbnN0IHI9NTEyLG49bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KDQqcik7aWYodD10LmZpbHRlcigoKHtyYXRpbzp0fSk9PnQ+PTAmJnQ8PTEpKS5zb3J0KCgodCxyKT0+dC5yYXRpby1yLnJhdGlvKSkubWFwKCgoe2NvbG9yOnQscmF0aW86cn0pPT4oe2NvbG9yOnQscmF0aW86TWF0aC5tYXgociwuMDAxKX0pKSksdC5sZW5ndGg8MSlyZXR1cm4gbjtsZXQgbz10WzBdLGE9dFswXSxpPTE7Y29uc3QgYz1lKCk7Zm9yKGxldCBlPTA7ZTxyO2UrKyl7Y29uc3QgdT0oZSsuNSkvcjtmb3IoO3U+YS5yYXRpbyYmaTx0Lmxlbmd0aDspbz1hLGE9dFtpKytdO2YoYyxvLGEsdSksbi5zZXQoYyw0KmUpfXJldHVybiBufWZ1bmN0aW9uIHModCxyLG8sZSl7Y29uc3R7cmFkaXVzOmEsZmllbGRPZmZzZXQ6aSxmaWVsZDpjfT1yLGY9TWF0aC5yb3VuZChuKGEpKSx1PW5ldyBGbG9hdDY0QXJyYXkobyplKTtsZXQgcyxsPU51bWJlci5ORUdBVElWRV9JTkZJTklUWTtjb25zdCBoPWQoYyxpKSx5PW5ldyBTZXQ7Zm9yKGNvbnN0IG4gb2YgdCl7Y29uc3QgdD1uLmdldEN1cnNvcigpO2Zvcig7dC5uZXh0KCk7KXtjb25zdCByPXQuZ2V0T2JqZWN0SWQoKTtpZih5LmhhcyhyKSljb250aW51ZTt5LmFkZChyKTtjb25zdCBuPXQucmVhZExlZ2FjeVBvaW50R2VvbWV0cnkoKSxhPTEyODtpZihuLng8LWF8fG4ueD49bythfHxuLnk8LWF8fG4ueT5lK2EpY29udGludWU7Y29uc3QgaT0raCh0KSxjPU1hdGgubWF4KDAsTWF0aC5yb3VuZChuLngpLWYpLGQ9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKG4ueSktZiksZz1NYXRoLm1pbihlLE1hdGgucm91bmQobi55KStmKSxBPU1hdGgubWluKG8sTWF0aC5yb3VuZChuLngpK2YpO2ZvcihsZXQgdD1kO3Q8Zzt0KyspZm9yKGxldCByPWM7cjxBO3IrKyl7Y29uc3QgZT10Km8rcixhPW0obi54LXIsbi55LXQsZik7cz11W2VdKz1hKmkscz5sJiYobD1zKX19fXJldHVybnttYXRyaXg6dS5idWZmZXIsbWF4Omx9fWZ1bmN0aW9uIGwodCxyLG4sbyxlLGEpe3QuY2FudmFzLndpZHRoPXQuY2FudmFzLmhlaWdodD1yLHQuY2xlYXJSZWN0KDAsMCxyLHIpO2NvbnN0IGk9dC5nZXRJbWFnZURhdGEoMCwwLHIscik7biYmbyYmaS5kYXRhLnNldChuZXcgVWludDhDbGFtcGVkQXJyYXkoaChyLG4sbyxlLGEpKSksdC5wdXRJbWFnZURhdGEoaSwwLDApfWZ1bmN0aW9uIGgocixuLG8sZSxhKXtjb25zdCBpPW5ldyBVaW50MzJBcnJheShyKnIpLGM9XCJidWZmZXJcImluIG4/bjpuZXcgRmxvYXQ2NEFycmF5KG4pLGY9XCJidWZmZXJcImluIG8/bmV3IFVpbnQzMkFycmF5KG8uYnVmZmVyKTpuZXcgVWludDMyQXJyYXkobmV3IFVpbnQ4QXJyYXkobykuYnVmZmVyKSx1PWYubGVuZ3RoLyhhLWUpO2ZvcihsZXQgcz0wO3M8Yy5sZW5ndGg7cysrKXtjb25zdCByPWNbc10sbj1NYXRoLmZsb29yKChyLWUpKnUpO2lbc109Zlt0KG4sMCxmLmxlbmd0aC0xKV19cmV0dXJuIGkuYnVmZmVyfWZ1bmN0aW9uIG0odCxyLG4pe2NvbnN0IG89TWF0aC5zcXJ0KHQqKjIrcioqMikvbjtyZXR1cm4gbz4xPzA6My8oTWF0aC5QSSpuKioyKSooMS1vKioyKSoqMn1mdW5jdGlvbiB5KHQscil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90OnQ/XCJzdHJpbmdcIj09dHlwZW9mIHI/cj0+LTEqK3JbdF06bj0+K25bdF0rcjooKT0+MX1mdW5jdGlvbiBkKHQscil7cmV0dXJuIG51bGwhPXQ/XCJzdHJpbmdcIj09dHlwZW9mIHI/cj0+LTEqK3IucmVhZEF0dHJpYnV0ZSh0KTpuPT4rbi5yZWFkQXR0cmlidXRlKHQpK3I6dD0+MX1leHBvcnR7YSBhcyBNQUdJQ19LRVJORUxfREVOU0lUWV9SQURJVVNfSU5GTEFUSU9OX0ZBQ1RPUixzIGFzIGNhbGN1bGF0ZUhlYXRtYXBJbnRlbnNpdHlJbmZvUmVhZGVycyxoIGFzIGNyZWF0ZUhlYXRtYXBJbWFnZURhdGEseSBhcyBjcmVhdGVWYWx1ZUZ1bmN0aW9uLGQgYXMgY3JlYXRlVmFsdWVGdW5jdGlvbkN1cnNvcixsIGFzIGRyYXdIZWF0bWFwLG0gYXMgZXZhbHVhdGVEZW5zaXR5S2VybmVsLGkgYXMgZ2F1c3NpYW5CbHVyUmFkaXVzUHhUb0tlcm5lbERlbnNpdHlSYWRpdXNQdCx1IGFzIGdlbmVyYXRlR3JhZGllbnQsYyBhcyBrZXJuZWxEZW5zaXR5UmFkaXVzUHRUb0dhdXNzaWFuQmx1clJhZGl1c1B4fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0RGF0YVZhbHVlcyBhcyBpLHF1YW50aXplRmVhdHVyZXMgYXMgYSxjYWxjdWxhdGVIZWF0bWFwU3RhdHMgYXMgZX1mcm9tXCIuL3V0aWxzLmpzXCI7aW1wb3J0e2lzTnVsbENvdW50U3VwcG9ydGVkIGFzIG4sY2FsY3VsYXRlU3RyaW5nU3RhdGlzdGljcyBhcyBsLGNhbGN1bGF0ZVN0YXRpc3RpY3MgYXMgbyxwcm9jZXNzU3VtbWFyeVN0YXRpc3RpY3NSZXN1bHQgYXMgdCxjYWxjdWxhdGVVbmlxdWVWYWx1ZXNDb3VudCBhcyBzLGNyZWF0ZVVWUmVzdWx0IGFzIHIsY2FsY3VsYXRlQ2xhc3NCcmVha3MgYXMgbSxyZXNvbHZlQ0JSZXN1bHQgYXMgZixjYWxjdWxhdGVIaXN0b2dyYW0gYXMgdX1mcm9tXCIuLi8uLi8uLi9zdGF0aXN0aWNzL3V0aWxzLmpzXCI7YXN5bmMgZnVuY3Rpb24gZChhKXtjb25zdHthdHRyaWJ1dGU6ZSxmZWF0dXJlczpzfT1hLHtub3JtYWxpemF0aW9uVHlwZTpyLG5vcm1hbGl6YXRpb25GaWVsZDptLG1pblZhbHVlOmYsbWF4VmFsdWU6dSxmaWVsZFR5cGU6ZH09ZSxwPWF3YWl0IGkoe2ZpZWxkOmUuZmllbGQsdmFsdWVFeHByZXNzaW9uOmUudmFsdWVFeHByZXNzaW9uLG5vcm1hbGl6YXRpb25UeXBlOnIsbm9ybWFsaXphdGlvbkZpZWxkOm0sbm9ybWFsaXphdGlvblRvdGFsOmUubm9ybWFsaXphdGlvblRvdGFsLHZpZXdJbmZvUGFyYW1zOmUudmlld0luZm9QYXJhbXMsZmllbGRJbmZvczplLmZpZWxkSW5mb3N9LHMpLHY9bih7bm9ybWFsaXphdGlvblR5cGU6cixub3JtYWxpemF0aW9uRmllbGQ6bSxtaW5WYWx1ZTpmLG1heFZhbHVlOnV9KSxjPXt2YWx1ZTouNSxmaWVsZFR5cGU6ZH0sej1cImVzcmlGaWVsZFR5cGVTdHJpbmdcIj09PWQ/bCh7dmFsdWVzOnAsc3VwcG9ydHNOdWxsQ291bnQ6dixwZXJjZW50aWxlUGFyYW1zOmN9KTpvKHt2YWx1ZXM6cCxtaW5WYWx1ZTpmLG1heFZhbHVlOnUsdXNlU2FtcGxlU3RkRGV2OiFyLHN1cHBvcnRzTnVsbENvdW50OnYscGVyY2VudGlsZVBhcmFtczpjfSk7cmV0dXJuIHQoeixcImVzcmlGaWVsZFR5cGVEYXRlXCI9PT1kKX1hc3luYyBmdW5jdGlvbiBwKGEpe2NvbnN0e2F0dHJpYnV0ZTplLGZlYXR1cmVzOm59PWEsbD1hd2FpdCBpKHtmaWVsZDplLmZpZWxkLGZpZWxkMjplLmZpZWxkMixmaWVsZDM6ZS5maWVsZDMsZmllbGREZWxpbWl0ZXI6ZS5maWVsZERlbGltaXRlcix2YWx1ZUV4cHJlc3Npb246ZS52YWx1ZUV4cHJlc3Npb24sdmlld0luZm9QYXJhbXM6ZS52aWV3SW5mb1BhcmFtcyxmaWVsZEluZm9zOmUuZmllbGRJbmZvc30sbiksbz1zKGwpO3JldHVybiByKG8sZS5kb21haW5zLGUucmV0dXJuQWxsQ29kZWRWYWx1ZXMsZS5maWVsZERlbGltaXRlcil9YXN5bmMgZnVuY3Rpb24gdihhKXtjb25zdHthdHRyaWJ1dGU6ZSxmZWF0dXJlczpufT1hLHtmaWVsZDpsLG5vcm1hbGl6YXRpb25UeXBlOm8sbm9ybWFsaXphdGlvbkZpZWxkOnQsbm9ybWFsaXphdGlvblRvdGFsOnMsY2xhc3NpZmljYXRpb25NZXRob2Q6cn09ZSx1PWF3YWl0IGkoe2ZpZWxkOmwsdmFsdWVFeHByZXNzaW9uOmUudmFsdWVFeHByZXNzaW9uLG5vcm1hbGl6YXRpb25UeXBlOm8sbm9ybWFsaXphdGlvbkZpZWxkOnQsbm9ybWFsaXphdGlvblRvdGFsOnMsdmlld0luZm9QYXJhbXM6ZS52aWV3SW5mb1BhcmFtcyxmaWVsZEluZm9zOmUuZmllbGRJbmZvc30sbiksZD1tKHUse2ZpZWxkOmwsbm9ybWFsaXphdGlvblR5cGU6byxub3JtYWxpemF0aW9uRmllbGQ6dCxub3JtYWxpemF0aW9uVG90YWw6cyxjbGFzc2lmaWNhdGlvbk1ldGhvZDpyLHN0YW5kYXJkRGV2aWF0aW9uSW50ZXJ2YWw6ZS5zdGFuZGFyZERldmlhdGlvbkludGVydmFsLG51bUNsYXNzZXM6ZS5udW1DbGFzc2VzLG1pblZhbHVlOmUubWluVmFsdWUsbWF4VmFsdWU6ZS5tYXhWYWx1ZX0pO3JldHVybiBmKGQscil9YXN5bmMgZnVuY3Rpb24gYyhhKXtjb25zdHthdHRyaWJ1dGU6ZSxmZWF0dXJlczpufT1hLHtmaWVsZDpsLG5vcm1hbGl6YXRpb25UeXBlOm8sbm9ybWFsaXphdGlvbkZpZWxkOnQsbm9ybWFsaXphdGlvblRvdGFsOnMsY2xhc3NpZmljYXRpb25NZXRob2Q6cn09ZSxtPWF3YWl0IGkoe2ZpZWxkOmwsdmFsdWVFeHByZXNzaW9uOmUudmFsdWVFeHByZXNzaW9uLG5vcm1hbGl6YXRpb25UeXBlOm8sbm9ybWFsaXphdGlvbkZpZWxkOnQsbm9ybWFsaXphdGlvblRvdGFsOnMsdmlld0luZm9QYXJhbXM6ZS52aWV3SW5mb1BhcmFtcyxmaWVsZEluZm9zOmUuZmllbGRJbmZvc30sbik7cmV0dXJuIHUobSx7ZmllbGQ6bCxub3JtYWxpemF0aW9uVHlwZTpvLG5vcm1hbGl6YXRpb25GaWVsZDp0LG5vcm1hbGl6YXRpb25Ub3RhbDpzLGNsYXNzaWZpY2F0aW9uTWV0aG9kOnIsc3RhbmRhcmREZXZpYXRpb25JbnRlcnZhbDplLnN0YW5kYXJkRGV2aWF0aW9uSW50ZXJ2YWwsbnVtQmluczplLm51bUJpbnMsbWluVmFsdWU6ZS5taW5WYWx1ZSxtYXhWYWx1ZTplLm1heFZhbHVlfSl9YXN5bmMgZnVuY3Rpb24geihpKXtjb25zdHthdHRyaWJ1dGU6bixmZWF0dXJlczpsfT1pLHtmaWVsZDpvLHJhZGl1czp0LGZpZWxkT2Zmc2V0OnMsdHJhbnNmb3JtOnIsc3BhdGlhbFJlZmVyZW5jZTptfT1uLGY9bi5zaXplPz9bMCwwXSx1PWEobD8/W10scixtLGYpLHtjb3VudDpkLG1pbjpwLG1heDp2LG1lYW46YyxzdGREZXY6en09ZSh1LHQ/P3ZvaWQgMCxzLG8sZlswXSxmWzFdKTtyZXR1cm57Y291bnQ6ZCxtaW46cCxtYXg6dixhdmc6YyxzdGRkZXY6en19ZXhwb3J0e3YgYXMgY2xhc3NCcmVha3MseiBhcyBoZWF0bWFwU3RhdGlzdGljcyxjIGFzIGhpc3RvZ3JhbSxkIGFzIHN1bW1hcnlTdGF0aXN0aWNzLHAgYXMgdW5pcXVlVmFsdWVzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtwdDJweCBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0e3F1YW50aXplUG9pbnQgYXMgcn1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3F1YW50aXphdGlvblV0aWxzLmpzXCI7aW1wb3J0e2lzV3JhcHBhYmxlIGFzIGksZ2V0SW5mbyBhcyBvfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e2lzTnVtZXJpY0ZpZWxkIGFzIHMsbnVtZXJpY1R5cGVzIGFzIGx9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvZmllbGRVdGlscy5qc1wiO2ltcG9ydHtldmFsdWF0ZURlbnNpdHlLZXJuZWwgYXMgYSxjcmVhdGVWYWx1ZUZ1bmN0aW9uIGFzIHV9ZnJvbVwiLi4vLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvaGVhdG1hcFV0aWxzLmpzXCI7aW1wb3J0e3Byb2Nlc3NOdWxsVmFsdWUgYXMgZixnZXROb3JtYWxpemVkVmFsdWUgYXMgY31mcm9tXCIuLi8uLi8uLi9zdGF0aXN0aWNzL3V0aWxzLmpzXCI7aW1wb3J0e2xvYWRBcmNhZGUgYXMgbX1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2FyY2FkZU9uRGVtYW5kLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtsZXQgcD1udWxsO2Z1bmN0aW9uIGgoZSx0LG4pe3JldHVybiBlLng8MD9lLngrPXQ6ZS54Pm4mJihlLngtPXQpLGV9ZnVuY3Rpb24geShlLHQsbixzKXtjb25zdCBsPWkobik/byhuKTpudWxsLGE9bD9NYXRoLnJvdW5kKChsLnZhbGlkWzFdLWwudmFsaWRbMF0pL3Quc2NhbGVbMF0pOm51bGw7cmV0dXJuIGUubWFwKChlPT57Y29uc3Qgbj1uZXcgZChlLmdlb21ldHJ5KTtyZXR1cm4gcih0LG4sbixuLmhhc1osbi5oYXNNKSxlLmdlb21ldHJ5PWw/aChuLGE/PzAsc1swXSk6bixlfSkpfWZ1bmN0aW9uICQoZSxuPTE4LHIsaSxvLHMpe2NvbnN0IGw9bmV3IEZsb2F0NjRBcnJheShvKnMpO249TWF0aC5yb3VuZCh0KG4pKTtsZXQgZj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksYz1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksbT0wLGQ9MCxwPTAsaD0wO2NvbnN0IHk9dShpLHIpO2Zvcihjb25zdHtnZW9tZXRyeTp0LGF0dHJpYnV0ZXM6dX1vZiBlKXtjb25zdHt4OmUseTpyfT10LGk9TWF0aC5tYXgoMCxlLW4pLCQ9TWF0aC5tYXgoMCxyLW4pLEk9TWF0aC5taW4ocyxyK24pLGc9TWF0aC5taW4obyxlK24pLGo9K3kodSk7Zm9yKGxldCB0PSQ7dDxJO3QrKylmb3IobGV0IHM9aTtzPGc7cysrKXtjb25zdCBpPXQqbytzLHU9YShzLWUsdC1yLG4pLHk9bFtpXTttPWxbaV0rPXUqajtjb25zdCAkPW0teTtkKz0kLHArPSQqJCxtPGYmJihmPW0pLG0+YyYmKGM9bSksaCsrfX1pZighaClyZXR1cm57bWVhbjowLHN0ZGRldjowLG1pbjowLG1heDowLG1pZDowLGNvdW50OjB9O2NvbnN0ICQ9KGMtZikvMjtyZXR1cm57bWVhbjpkL2gsc3RkRGV2Ok1hdGguc3FydCgocC1kKmQvaCkvaCksbWluOmYsbWF4OmMsbWlkOiQsY291bnQ6aH19YXN5bmMgZnVuY3Rpb24gSShlLHQpe2lmKCF0KXJldHVybltdO2NvbnN0e2ZpZWxkOnIsZmllbGQyOmksZmllbGQzOm8sZmllbGREZWxpbWl0ZXI6c309ZSxsPWUudmFsdWVFeHByZXNzaW9uLGE9ZS5ub3JtYWxpemF0aW9uVHlwZSx1PWUubm9ybWFsaXphdGlvbkZpZWxkLGQ9ZS5ub3JtYWxpemF0aW9uVG90YWwsaD1bXSx5PWUudmlld0luZm9QYXJhbXM7bGV0ICQ9bnVsbCxJPW51bGw7aWYobCl7aWYoIXApe2NvbnN0e2FyY2FkZVV0aWxzOmV9PWF3YWl0IG0oKTtwPWV9cC5oYXNHZW9tZXRyeU9wZXJhdGlvbnMobCkmJmF3YWl0IHAuZW5hYmxlR2VvbWV0cnlPcGVyYXRpb25zKCksJD1wLmNyZWF0ZUZ1bmN0aW9uKGwpLEk9eSYmcC5nZXRWaWV3SW5mbyh7dmlld2luZ01vZGU6eS52aWV3aW5nTW9kZSxzY2FsZTp5LnNjYWxlLHNwYXRpYWxSZWZlcmVuY2U6bmV3IG4oeS5zcGF0aWFsUmVmZXJlbmNlKX0pfWNvbnN0IGc9ZS5maWVsZEluZm9zLGo9ISh0WzBdJiZcImRlY2xhcmVkQ2xhc3NcImluIHRbMF0mJlwiZXNyaS5HcmFwaGljXCI9PT10WzBdLmRlY2xhcmVkQ2xhc3MpJiZnP3tmaWVsZHM6Z306bnVsbDtyZXR1cm4gdC5mb3JFYWNoKChlPT57Y29uc3QgdD1lLmF0dHJpYnV0ZXM7bGV0IG47aWYobCl7Y29uc3QgdD1qP3suLi5lLGxheWVyOmp9OmUscj1wLmNyZWF0ZUV4ZWNDb250ZXh0KHQsSSk7bj1wLmV4ZWN1dGVGdW5jdGlvbigkLHIpfWVsc2UgdCYmKG49dFtyXSxpJiYobj1gJHtmKG4pfSR7c30ke2YodFtpXSl9YCxvJiYobj1gJHtufSR7c30ke2YodFtvXSl9YCkpKTtpZihhJiZcIm51bWJlclwiPT10eXBlb2YgbiYmaXNGaW5pdGUobikpe2NvbnN0IGU9dCYmcGFyc2VGbG9hdCh0W3VdKTtuPWMobixhLGUsZCl9aC5wdXNoKG4pfSkpLGh9ZnVuY3Rpb24gZyhlKXtjb25zdCB0PWUuZmllbGQsbj1lLm5vcm1hbGl6YXRpb25UeXBlLHI9ZS5ub3JtYWxpemF0aW9uRmllbGQ7bGV0IGk7cmV0dXJuXCJmaWVsZFwiPT09bj9pPVwiKE5PVCBcIityK1wiID0gMClcIjpcImxvZ1wiIT09biYmXCJuYXR1cmFsLWxvZ1wiIT09biYmXCJzcXVhcmUtcm9vdFwiIT09bnx8KGk9YCgke3R9ID4gMClgKSxpfWZ1bmN0aW9uIGooZSx0LG4pe2NvbnN0IHI9bnVsbCE9dD9lK1wiID49IFwiK3Q6XCJcIixpPW51bGwhPW4/ZStcIiA8PSBcIituOlwiXCI7bGV0IG89XCJcIjtyZXR1cm4gbz1yJiZpP0YocixpKTpyfHxpLG8/XCIoXCIrbytcIilcIjpcIlwifWZ1bmN0aW9uIHgodCxuLHIsaSl7bGV0IG87cmV0dXJuIG4/bi5uYW1lIT09dC5vYmplY3RJZEZpZWxkJiZpLmluY2x1ZGVzKG4udHlwZSl8fChvPW5ldyBlKHIsXCInZmllbGQnIHNob3VsZCBiZSBvbmUgb2YgdGhlc2UgdHlwZXM6IFwiK2kuam9pbihcIixcIikpKTpvPW5ldyBlKHIsXCInZmllbGQnIGlzIG5vdCBkZWZpbmVkIGluIHRoZSBsYXllciBzY2hlbWFcIiksb31mdW5jdGlvbiB3KHQsbixyKXtsZXQgaTtyZXR1cm4gbj9uLm5hbWUhPT10Lm9iamVjdElkRmllbGQmJnMobil8fChpPW5ldyBlKHIsXCInZmllbGQnIHNob3VsZCBiZSBvbmUgb2YgdGhlc2UgbnVtZXJpYyB0eXBlczogXCIrbC5qb2luKFwiLFwiKSkpOmk9bmV3IGUocixcIidmaWVsZCcgaXMgbm90IGRlZmluZWQgaW4gdGhlIGxheWVyIHNjaGVtYVwiKSxpfWZ1bmN0aW9uIEYoZSx0KXtsZXQgbj1udWxsIT1lP2U6XCJcIjtyZXR1cm4gbnVsbCE9dCYmdCYmKG49bj9cIihcIituK1wiKSBBTkQgKFwiK3QrXCIpXCI6dCksbn1mdW5jdGlvbiBiKHQsbil7aWYodCYmXCJpbnRlcnNlY3RzXCIhPT10LnNwYXRpYWxSZWxhdGlvbnNoaXApcmV0dXJuIG5ldyBlKG4sXCJPbmx5ICdpbnRlcnNlY3RzJyBzcGF0aWFsUmVsYXRpb25zaGlwIGlzIHN1cHBvcnRlZCBmb3IgZmVhdHVyZUZpbHRlclwiKX1mdW5jdGlvbiB2KHQsbixyKXtjb25zdCBpPUUoe2xheWVyOnQsZmllbGRzOm59KTtpZihpLmxlbmd0aClyZXR1cm4gbmV3IGUocixcIlVua25vd24gZmllbGRzOiBcIitpLmpvaW4oXCIsIFwiKStcIi4gWW91IGNhbiBvbmx5IHVzZSBmaWVsZHMgZGVmaW5lZCBpbiB0aGUgbGF5ZXIgc2NoZW1hXCIpO2NvbnN0IG89Tih7bGF5ZXI6dCxmaWVsZHM6bn0pO3JldHVybiBvLmxlbmd0aD9uZXcgZShyLFwiVW5zdXBwb3J0ZWQgZmllbGRzOiBcIitvLmpvaW4oXCIsIFwiKStcIi4gWW91IGNhbiBvbmx5IHVzZSBmaWVsZHMgdGhhdCBjYW4gYmUgZmV0Y2hlZCBpLmUuIEFkYXB0ZXJGaWVsZFVzYWdlSW5mby5zdXBwb3J0c1N0YXRpc3RpY3MgbXVzdCBiZSB0cnVlXCIpOnZvaWQgMH1mdW5jdGlvbiBFKGUpe2NvbnN0IHQ9ZS5sYXllcjtyZXR1cm4gZS5maWVsZHMuZmlsdGVyKChlPT4hdC5nZXRGaWVsZChlKSkpfWZ1bmN0aW9uIE4oZSl7Y29uc3QgdD1lLmxheWVyO3JldHVybiBlLmZpZWxkcy5maWx0ZXIoKGU9Pntjb25zdCBuPXQuZ2V0RmllbGRVc2FnZUluZm8oZSk7cmV0dXJuIW58fCFuLnN1cHBvcnRzU3RhdGlzdGljc30pKX1mdW5jdGlvbiBNKGUsdCxuKXtjb25zdCByPVtdLGk9W10sbz1bXSxzPVtdLGw9W107ZS5mb3JFYWNoKCgoZSx0KT0+e2NvbnN0IGE9ZS5maWVsZD9cImZpZWxkXCI6XCJleHByZXNzaW9uXCIsdT1lLmZpZWxkfHxlLnZhbHVlRXhwcmVzc2lvbjtlLmZpZWxkPyhsLnB1c2godSksaS5wdXNoKGB2YXIgJHthfSR7dH0gPSBOdW1iZXIoJGZlYXR1cmVbXCIke3V9XCJdKTtgKSk6KHIucHVzaChgZnVuY3Rpb24gZ2V0VmFsdWVGb3JFeHByJHt0fSgpIHtcXG4gICR7dX0gXFxufWApLGkucHVzaChgdmFyICR7YX0ke3R9ID0gTnVtYmVyKGdldFZhbHVlRm9yRXhwciR7dH0oKSk7YCkpLG58fG8ucHVzaChgJHthfSR7dH0gPSBJSWYoJHthfSR7dH0gPCAwLCAwLCAke2F9JHt0fSk7YCkscy5wdXNoKGAke2F9JHt0fWApfSkpO2xldCBhPVwicmV0dXJuIHN1bTtcIjtjb25zdCB1PXIubGVuZ3RoP251bGw6bC5yZWR1Y2UoKChlLHQpPT5gJHtlfSArICR7dH1gKSk7bGV0IGY9bnVsbDt0fHxuP3Q/bnx8KGE9XCJyZXR1cm4gSUlmKHN1bSA+PSAwLCBzdW0sIG51bGwpO1wiLHUmJihmPWAoKCAke3V9ICkgPj0gMClgKSk6KGE9XCJyZXR1cm4gSUlmKHN1bSAhPSAwLCBzdW0sIG51bGwpO1wiLHUmJihmPWAoKCAke3V9ICkgPD4gMClgKSk6KGE9XCJyZXR1cm4gSUlmKHN1bSA+IDAsIHN1bSwgbnVsbCk7XCIsdSYmKGY9YCgoICR7dX0gKSA+IDApYCkpO3JldHVybnt2YWx1ZUV4cHJlc3Npb246W3IubGVuZ3RoP3Iuam9pbihcIlxcblwiKTpcIlwiLGkuam9pbihcIlxcblwiKSxvLmpvaW4oXCJcXG5cIiksYHZhciBzdW0gPSAke3Muam9pbihcIiArIFwiKX07YCxhXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIlxcblxcblwiKSxzcWxFeHByZXNzaW9uOnUsc3FsV2hlcmU6Zn19ZXhwb3J0eyQgYXMgY2FsY3VsYXRlSGVhdG1hcFN0YXRzLEkgYXMgZ2V0RGF0YVZhbHVlcyxqIGFzIGdldFJhbmdlRXhwcixnIGFzIGdldFNRTEZpbHRlckZvck5vcm1hbGl6YXRpb24sTSBhcyBnZXRTdW1PZkF0dHJpYnV0ZXNFeHByLEYgYXMgbWVyZ2VXaGVyZUNsYXVzZXMseSBhcyBxdWFudGl6ZUZlYXR1cmVzLHYgYXMgdmVyaWZ5QmFzaWNGaWVsZFZhbGlkaXR5LHggYXMgdmVyaWZ5RmllbGRUeXBlLGIgYXMgdmVyaWZ5RmlsdGVyVmFsaWR0eSx3IGFzIHZlcmlmeU51bWVyaWNGaWVsZH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=