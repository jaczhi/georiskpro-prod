"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[7698],{34344:(t,e,n)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function a(t,e,n,r,a,i,o,s,h){return[t,e,n,r,a,i,o,s,h]}function i(t,e){return new Float64Array(t,e,9)}n.d(e,{a:()=>i,c:()=>r,f:()=>a}),Object.freeze(Object.defineProperty({__proto__:null,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:r,createView:i,fromValues:a},Symbol.toStringTag,{value:"Module"}))},24455:(t,e,n)=>{n.d(e,{A:()=>M,a:()=>h,d:()=>m,e:()=>f,f:()=>d,g:()=>_,h:()=>b,i:()=>o,j:()=>y,k:()=>u,m:()=>c,s:()=>i,t:()=>s,w:()=>l,y:()=>v,z:()=>B});var r=n(8909),a=n(93011);function i(t,e,n,r,a,i,o,s,h,c,l,u,f,d,m,M,p){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=o,t[6]=s,t[7]=h,t[8]=c,t[9]=l,t[10]=u,t[11]=f,t[12]=d,t[13]=m,t[14]=M,t[15]=p,t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function s(t,e){if(t===e){const n=e[1],r=e[2],a=e[3],i=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function h(t,e){const n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],h=e[6],c=e[7],l=e[8],u=e[9],f=e[10],d=e[11],m=e[12],M=e[13],p=e[14],x=e[15],_=n*s-r*o,g=n*h-a*o,b=n*c-i*o,y=r*h-a*s,B=r*c-i*s,v=a*c-i*h,w=l*M-u*m,Y=l*p-f*m,X=l*x-d*m,S=u*p-f*M,A=u*x-d*M,q=f*x-d*p;let O=_*q-g*A+b*S+y*X-B*Y+v*w;return O?(O=1/O,t[0]=(s*q-h*A+c*S)*O,t[1]=(a*A-r*q-i*S)*O,t[2]=(M*v-p*B+x*y)*O,t[3]=(f*B-u*v-d*y)*O,t[4]=(h*X-o*q-c*Y)*O,t[5]=(n*q-a*X+i*Y)*O,t[6]=(p*b-m*v-x*g)*O,t[7]=(l*v-f*b+d*g)*O,t[8]=(o*A-s*X+c*w)*O,t[9]=(r*X-n*A-i*w)*O,t[10]=(m*B-M*b+x*_)*O,t[11]=(u*b-l*B-d*_)*O,t[12]=(s*Y-o*S-h*w)*O,t[13]=(n*S-r*Y+a*w)*O,t[14]=(M*g-m*y-p*_)*O,t[15]=(l*y-u*g+f*_)*O,t):null}function c(t,e,n){const r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],h=e[5],c=e[6],l=e[7],u=e[8],f=e[9],d=e[10],m=e[11],M=e[12],p=e[13],x=e[14],_=e[15];let g=n[0],b=n[1],y=n[2],B=n[3];return t[0]=g*r+b*s+y*u+B*M,t[1]=g*a+b*h+y*f+B*p,t[2]=g*i+b*c+y*d+B*x,t[3]=g*o+b*l+y*m+B*_,g=n[4],b=n[5],y=n[6],B=n[7],t[4]=g*r+b*s+y*u+B*M,t[5]=g*a+b*h+y*f+B*p,t[6]=g*i+b*c+y*d+B*x,t[7]=g*o+b*l+y*m+B*_,g=n[8],b=n[9],y=n[10],B=n[11],t[8]=g*r+b*s+y*u+B*M,t[9]=g*a+b*h+y*f+B*p,t[10]=g*i+b*c+y*d+B*x,t[11]=g*o+b*l+y*m+B*_,g=n[12],b=n[13],y=n[14],B=n[15],t[12]=g*r+b*s+y*u+B*M,t[13]=g*a+b*h+y*f+B*p,t[14]=g*i+b*c+y*d+B*x,t[15]=g*o+b*l+y*m+B*_,t}function l(t,e,n){const r=n[0],a=n[1],i=n[2];if(e===t)t[12]=e[0]*r+e[4]*a+e[8]*i+e[12],t[13]=e[1]*r+e[5]*a+e[9]*i+e[13],t[14]=e[2]*r+e[6]*a+e[10]*i+e[14],t[15]=e[3]*r+e[7]*a+e[11]*i+e[15];else{const n=e[0],o=e[1],s=e[2],h=e[3],c=e[4],l=e[5],u=e[6],f=e[7],d=e[8],m=e[9],M=e[10],p=e[11];t[0]=n,t[1]=o,t[2]=s,t[3]=h,t[4]=c,t[5]=l,t[6]=u,t[7]=f,t[8]=d,t[9]=m,t[10]=M,t[11]=p,t[12]=n*r+c*a+d*i+e[12],t[13]=o*r+l*a+m*i+e[13],t[14]=s*r+u*a+M*i+e[14],t[15]=h*r+f*a+p*i+e[15]}return t}function u(t,e,n){const r=n[0],a=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function f(t,e,n,r){let i,o,s,h,c,l,u,f,d,m,M,p,x,_,g,b,y,B,v,w,Y,X,S,A,q=r[0],O=r[1],R=r[2],j=Math.sqrt(q*q+O*O+R*R);return j<(0,a.g)()?null:(j=1/j,q*=j,O*=j,R*=j,i=Math.sin(n),o=Math.cos(n),s=1-o,h=e[0],c=e[1],l=e[2],u=e[3],f=e[4],d=e[5],m=e[6],M=e[7],p=e[8],x=e[9],_=e[10],g=e[11],b=q*q*s+o,y=O*q*s+R*i,B=R*q*s-O*i,v=q*O*s-R*i,w=O*O*s+o,Y=R*O*s+q*i,X=q*R*s+O*i,S=O*R*s-q*i,A=R*R*s+o,t[0]=h*b+f*y+p*B,t[1]=c*b+d*y+x*B,t[2]=l*b+m*y+_*B,t[3]=u*b+M*y+g*B,t[4]=h*v+f*w+p*Y,t[5]=c*v+d*w+x*Y,t[6]=l*v+m*w+_*Y,t[7]=u*v+M*w+g*Y,t[8]=h*X+f*S+p*A,t[9]=c*X+d*S+x*A,t[10]=l*X+m*S+_*A,t[11]=u*X+M*S+g*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function d(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function m(t,e,n){if(0===e)return o(t);let r,i,s,h=n[0],c=n[1],l=n[2],u=Math.sqrt(h*h+c*c+l*l);return u<(0,a.g)()?null:(u=1/u,h*=u,c*=u,l*=u,r=Math.sin(e),i=Math.cos(e),s=1-i,t[0]=h*h*s+i,t[1]=c*h*s+l*r,t[2]=l*h*s-c*r,t[3]=0,t[4]=h*c*s-l*r,t[5]=c*c*s+i,t[6]=l*c*s+h*r,t[7]=0,t[8]=h*l*s+c*r,t[9]=c*l*s-h*r,t[10]=l*l*s+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function M(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function p(t,e,n){const r=e[0],a=e[1],i=e[2],o=e[3],s=r+r,h=a+a,c=i+i,l=r*s,u=r*h,f=r*c,d=a*h,m=a*c,M=i*c,p=o*s,x=o*h,_=o*c;return t[0]=1-(d+M),t[1]=u+_,t[2]=f-x,t[3]=0,t[4]=u-_,t[5]=1-(l+M),t[6]=m+p,t[7]=0,t[8]=f+x,t[9]=m-p,t[10]=1-(l+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}const x=(0,r.c)();function _(t,e,n,r){const a=e[0],i=e[1],o=e[2],s=e[3],h=a+a,c=i+i,l=o+o,u=a*h,f=a*c,d=a*l,m=i*c,M=i*l,p=o*l,x=s*h,_=s*c,g=s*l,b=r[0],y=r[1],B=r[2];return t[0]=(1-(m+p))*b,t[1]=(f+g)*b,t[2]=(d-_)*b,t[3]=0,t[4]=(f-g)*y,t[5]=(1-(u+p))*y,t[6]=(M+x)*y,t[7]=0,t[8]=(d+_)*B,t[9]=(M-x)*B,t[10]=(1-(u+m))*B,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function g(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function b(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function y(t,e){if(t===e)return!0;const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],h=t[5],c=t[6],l=t[7],u=t[8],f=t[9],d=t[10],m=t[11],M=t[12],p=t[13],x=t[14],_=t[15],g=e[0],b=e[1],y=e[2],B=e[3],v=e[4],w=e[5],Y=e[6],X=e[7],S=e[8],A=e[9],q=e[10],O=e[11],R=e[12],j=e[13],T=e[14],I=e[15],P=(0,a.g)();return Math.abs(n-g)<=P*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(r-b)<=P*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-y)<=P*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(o-B)<=P*Math.max(1,Math.abs(o),Math.abs(B))&&Math.abs(s-v)<=P*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(h-w)<=P*Math.max(1,Math.abs(h),Math.abs(w))&&Math.abs(c-Y)<=P*Math.max(1,Math.abs(c),Math.abs(Y))&&Math.abs(l-X)<=P*Math.max(1,Math.abs(l),Math.abs(X))&&Math.abs(u-S)<=P*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(f-A)<=P*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(d-q)<=P*Math.max(1,Math.abs(d),Math.abs(q))&&Math.abs(m-O)<=P*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(M-R)<=P*Math.max(1,Math.abs(M),Math.abs(R))&&Math.abs(p-j)<=P*Math.max(1,Math.abs(p),Math.abs(j))&&Math.abs(x-T)<=P*Math.max(1,Math.abs(x),Math.abs(T))&&Math.abs(_-I)<=P*Math.max(1,Math.abs(_),Math.abs(I))}function B(t){const e=(0,a.g)(),n=t[0],r=t[1],i=t[2],o=t[4],s=t[5],h=t[6],c=t[8],l=t[9],u=t[10];return Math.abs(1-(n*n+o*o+c*c))<=e&&Math.abs(1-(r*r+s*s+l*l))<=e&&Math.abs(1-(i*i+h*h+u*u))<=e}function v(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[8]&&0===t[9]&&1===t[10]}const w=c,Y=g;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},adjoint:function(t,e){const n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],h=e[6],c=e[7],l=e[8],u=e[9],f=e[10],d=e[11],m=e[12],M=e[13],p=e[14],x=e[15];return t[0]=s*(f*x-d*p)-u*(h*x-c*p)+M*(h*d-c*f),t[1]=-(r*(f*x-d*p)-u*(a*x-i*p)+M*(a*d-i*f)),t[2]=r*(h*x-c*p)-s*(a*x-i*p)+M*(a*c-i*h),t[3]=-(r*(h*d-c*f)-s*(a*d-i*f)+u*(a*c-i*h)),t[4]=-(o*(f*x-d*p)-l*(h*x-c*p)+m*(h*d-c*f)),t[5]=n*(f*x-d*p)-l*(a*x-i*p)+m*(a*d-i*f),t[6]=-(n*(h*x-c*p)-o*(a*x-i*p)+m*(a*c-i*h)),t[7]=n*(h*d-c*f)-o*(a*d-i*f)+l*(a*c-i*h),t[8]=o*(u*x-d*M)-l*(s*x-c*M)+m*(s*d-c*u),t[9]=-(n*(u*x-d*M)-l*(r*x-i*M)+m*(r*d-i*u)),t[10]=n*(s*x-c*M)-o*(r*x-i*M)+m*(r*c-i*s),t[11]=-(n*(s*d-c*u)-o*(r*d-i*u)+l*(r*c-i*s)),t[12]=-(o*(u*p-f*M)-l*(s*p-h*M)+m*(s*f-h*u)),t[13]=n*(u*p-f*M)-l*(r*p-a*M)+m*(r*f-a*u),t[14]=-(n*(s*p-h*M)-o*(r*p-a*M)+m*(r*h-a*s)),t[15]=n*(s*f-h*u)-o*(r*f-a*u)+l*(r*h-a*s),t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},determinant:function(t){const e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],o=t[5],s=t[6],h=t[7],c=t[8],l=t[9],u=t[10],f=t[11],d=t[12],m=t[13],M=t[14],p=t[15];return(e*o-n*i)*(u*p-f*M)-(e*s-r*i)*(l*p-f*m)+(e*h-a*i)*(l*M-u*m)+(n*s-r*o)*(c*p-f*d)-(n*h-a*o)*(c*M-u*d)+(r*h-a*s)*(c*m-l*d)},equals:y,exactEquals:b,frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)},fromQuat:function(t,e){const n=e[0],r=e[1],a=e[2],i=e[3],o=n+n,s=r+r,h=a+a,c=n*o,l=r*o,u=r*s,f=a*o,d=a*s,m=a*h,M=i*o,p=i*s,x=i*h;return t[0]=1-u-m,t[1]=l+x,t[2]=f-p,t[3]=0,t[4]=l-x,t[5]=1-c-m,t[6]=d+M,t[7]=0,t[8]=f+p,t[9]=d-M,t[10]=1-c-u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromQuat2:function(t,e){const n=x,r=-e[0],a=-e[1],i=-e[2],o=e[3],s=e[4],h=e[5],c=e[6],l=e[7],u=r*r+a*a+i*i+o*o;return u>0?(n[0]=2*(s*o+l*r+h*i-c*a)/u,n[1]=2*(h*o+l*a+c*r-s*i)/u,n[2]=2*(c*o+l*i+s*a-h*r)/u):(n[0]=2*(s*o+l*r+h*i-c*a),n[1]=2*(h*o+l*a+c*r-s*i),n[2]=2*(c*o+l*i+s*a-h*r)),p(t,e,n),t},fromRotation:m,fromRotationTranslation:p,fromRotationTranslationScale:_,fromRotationTranslationScaleOrigin:function(t,e,n,r,a){const i=e[0],o=e[1],s=e[2],h=e[3],c=i+i,l=o+o,u=s+s,f=i*c,d=i*l,m=i*u,M=o*l,p=o*u,x=s*u,_=h*c,g=h*l,b=h*u,y=r[0],B=r[1],v=r[2],w=a[0],Y=a[1],X=a[2],S=(1-(M+x))*y,A=(d+b)*y,q=(m-g)*y,O=(d-b)*B,R=(1-(f+x))*B,j=(p+_)*B,T=(m+g)*v,I=(p-_)*v,P=(1-(f+M))*v;return t[0]=S,t[1]=A,t[2]=q,t[3]=0,t[4]=O,t[5]=R,t[6]=j,t[7]=0,t[8]=T,t[9]=I,t[10]=P,t[11]=0,t[12]=n[0]+w-(S*w+O*Y+T*X),t[13]=n[1]+Y-(A*w+R*Y+I*X),t[14]=n[2]+X-(q*w+j*Y+P*X),t[15]=1,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromTranslation:d,fromXRotation:M,fromYRotation:function(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:function(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},frustum:function(t,e,n,r,a,i,o){const s=1/(n-e),h=1/(a-r),c=1/(i-o);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*h,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(a+r)*h,t[10]=(o+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*c,t[15]=0,t},getRotation:function(t,e){const n=e[0]+e[5]+e[10];let r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},getScaling:function(t,e){const n=e[0],r=e[1],a=e[2],i=e[4],o=e[5],s=e[6],h=e[8],c=e[9],l=e[10];return t[0]=Math.sqrt(n*n+r*r+a*a),t[1]=Math.sqrt(i*i+o*o+s*s),t[2]=Math.sqrt(h*h+c*c+l*l),t},getTranslation:function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},hasIdentityRotation:v,identity:o,invert:h,invertOrIdentity:function(t,e){return h(t,e)||o(t),t},isOrthoNormal:B,lookAt:function(t,e,n,r){const i=e[0],s=e[1],h=e[2];let c=i-n[0],l=s-n[1],u=h-n[2];const f=(0,a.g)();if(Math.abs(c)<f&&Math.abs(l)<f&&Math.abs(u)<f)return void o(t);let d=1/Math.sqrt(c*c+l*l+u*u);c*=d,l*=d,u*=d;const m=r[0],M=r[1],p=r[2];let x=M*u-p*l,_=p*c-m*u,g=m*l-M*c;d=Math.sqrt(x*x+_*_+g*g),d?(d=1/d,x*=d,_*=d,g*=d):(x=0,_=0,g=0);let b=l*g-u*_,y=u*x-c*g,B=c*_-l*x;d=Math.sqrt(b*b+y*y+B*B),d?(d=1/d,b*=d,y*=d,B*=d):(b=0,y=0,B=0),t[0]=x,t[1]=b,t[2]=c,t[3]=0,t[4]=_,t[5]=y,t[6]=l,t[7]=0,t[8]=g,t[9]=B,t[10]=u,t[11]=0,t[12]=-(x*i+_*s+g*h),t[13]=-(b*i+y*s+B*h),t[14]=-(c*i+l*s+u*h),t[15]=1},mul:w,multiply:c,multiplyScalar:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},multiplyScalarAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},ortho:function(t,e,n,r,a,i,o){const s=1/(e-n),h=1/(r-a),c=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(a+r)*h,t[14]=(o+i)*c,t[15]=1,t},perspective:function(t,e,n,r,a){const i=1/Math.tan(e/2);let o;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(o=1/(r-a),t[10]=(a+r)*o,t[14]=2*a*r*o):(t[10]=-1,t[14]=-2*r),t},perspectiveFromFieldOfView:function(t,e,n,r){const a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),h=2/(o+s),c=2/(a+i);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-s)*h*.5,t[9]=(a-i)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},rotate:f,rotateX:function(t,e,n){const r=Math.sin(n),a=Math.cos(n),i=e[4],o=e[5],s=e[6],h=e[7],c=e[8],l=e[9],u=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+c*r,t[5]=o*a+l*r,t[6]=s*a+u*r,t[7]=h*a+f*r,t[8]=c*a-i*r,t[9]=l*a-o*r,t[10]=u*a-s*r,t[11]=f*a-h*r,t},rotateY:function(t,e,n){const r=Math.sin(n),a=Math.cos(n),i=e[0],o=e[1],s=e[2],h=e[3],c=e[8],l=e[9],u=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-c*r,t[1]=o*a-l*r,t[2]=s*a-u*r,t[3]=h*a-f*r,t[8]=i*r+c*a,t[9]=o*r+l*a,t[10]=s*r+u*a,t[11]=h*r+f*a,t},rotateZ:function(t,e,n){const r=Math.sin(n),a=Math.cos(n),i=e[0],o=e[1],s=e[2],h=e[3],c=e[4],l=e[5],u=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+c*r,t[1]=o*a+l*r,t[2]=s*a+u*r,t[3]=h*a+f*r,t[4]=c*a-i*r,t[5]=l*a-o*r,t[6]=u*a-s*r,t[7]=f*a-h*r,t},scale:u,set:i,str:function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},sub:Y,subtract:g,targetTo:function(t,e,n,r){const a=e[0],i=e[1],o=e[2],s=r[0],h=r[1],c=r[2];let l=a-n[0],u=i-n[1],f=o-n[2],d=l*l+u*u+f*f;d>0&&(d=1/Math.sqrt(d),l*=d,u*=d,f*=d);let m=h*f-c*u,M=c*l-s*f,p=s*u-h*l;return d=m*m+M*M+p*p,d>0&&(d=1/Math.sqrt(d),m*=d,M*=d,p*=d),t[0]=m,t[1]=M,t[2]=p,t[3]=0,t[4]=u*p-f*M,t[5]=f*m-l*p,t[6]=l*M-u*m,t[7]=0,t[8]=l,t[9]=u,t[10]=f,t[11]=0,t[12]=a,t[13]=i,t[14]=o,t[15]=1,t},translate:l,transpose:s},Symbol.toStringTag,{value:"Module"}))},39100:(t,e,n)=>{function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function a(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function i(t,e){return new Float64Array(t,e,16)}n.d(e,{I:()=>o,a:()=>i,b:()=>a,c:()=>r});const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:a,create:r,createView:i,fromValues:function(t,e,n,r,a,i,o,s,h,c,l,u,f,d,m,M){return[t,e,n,r,a,i,o,s,h,c,l,u,f,d,m,M]}},Symbol.toStringTag,{value:"Module"}))},61044:(t,e,n)=>{function r(){return[0,0,0,1]}function a(t){return[t[0],t[1],t[2],t[3]]}function i(t,e){return new Float64Array(t,e,4)}n.d(e,{I:()=>o,a:()=>r,b:()=>a,c:()=>i});const o=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:a,create:r,createView:i,fromValues:function(t,e,n,r){return[t,e,n,r]}},Symbol.toStringTag,{value:"Module"}))},80657:(t,e,n)=>{n.d(e,{q:()=>h});var r,a,i,o=n(58340),s={exports:{}};r=s,a=function(){function t(n,r,a,i,o){for(;i>a;){if(i-a>600){var s=i-a+1,h=r-a+1,c=Math.log(s),l=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*l*(s-l)/s)*(h-s/2<0?-1:1);t(n,r,Math.max(a,Math.floor(r-h*l/s+u)),Math.min(i,Math.floor(r+(s-h)*l/s+u)),o)}var f=n[r],d=a,m=i;for(e(n,a,r),o(n[i],f)>0&&e(n,a,i);d<m;){for(e(n,d,m),d++,m--;o(n[d],f)<0;)d++;for(;o(n[m],f)>0;)m--}0===o(n[a],f)?e(n,a,m):e(n,++m,i),m<=r&&(a=m+1),r<=m&&(i=m-1)}}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}return function(e,r,a,i,o){t(e,r,a||0,i||e.length-1,o||n)}},void 0!==(i=a())&&(r.exports=i);const h=(0,o.g)(s.exports)},86717:(t,e,n)=>{n.d(e,{a:()=>s,b:()=>o,c:()=>a,d:()=>l,e:()=>h,n:()=>u,s:()=>c,t:()=>i});var r=n(45150);function a(t,e,n){i(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function i(t,e,n,a=3,i=a){if(t.length/a!==Math.ceil(e.length/i))return r.c.error("source and destination buffers need to have the same number of elements"),t;const o=t.length/a,s=n[0],h=n[1],c=n[2],l=n[4],u=n[5],f=n[6],d=n[8],m=n[9],M=n[10],p=n[12],x=n[13],_=n[14];let g=0,b=0;for(let n=0;n<o;n++){const n=e[g],r=e[g+1],o=e[g+2];t[b]=s*n+l*r+d*o+p,t[b+1]=h*n+u*r+m*o+x,t[b+2]=c*n+f*r+M*o+_,g+=i,b+=a}return t}function o(t,e,n){s(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function s(t,e,n,a=3,i=a){if(t.length/a!==Math.ceil(e.length/i))return void r.c.error("source and destination buffers need to have the same number of elements");const o=t.length/a,s=n[0],h=n[1],c=n[2],l=n[3],u=n[4],f=n[5],d=n[6],m=n[7],M=n[8];let p=0,x=0;for(let n=0;n<o;n++){const n=e[p],r=e[p+1],o=e[p+2];t[x]=s*n+l*r+d*o,t[x+1]=h*n+u*r+m*o,t[x+2]=c*n+f*r+M*o,p+=i,x+=a}}function h(t,e,n){c(t.typedBuffer,e,n,t.typedBufferStride)}function c(t,e,n,r=3){const a=Math.min(t.length/r,e.count),i=e.typedBuffer,o=e.typedBufferStride;let s=0,h=0;for(let e=0;e<a;e++)t[h]=n*i[s],t[h+1]=n*i[s+1],t[h+2]=n*i[s+2],s+=o,h+=r}function l(t,e){u(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function u(t,e,n=3,r=n){const a=Math.min(t.length/n,e.length/r);let i=0,o=0;for(let s=0;s<a;s++){const a=e[i],s=e[i+1],h=e[i+2],c=a*a+s*s+h*h;if(c>0){const e=1/Math.sqrt(c);t[o]=e*a,t[o+1]=e*s,t[o+2]=e*h}i+=r,o+=n}}Object.freeze(Object.defineProperty({__proto__:null,normalize:u,normalizeView:l,scale:c,scaleView:h,shiftRight:function(t,e,n){const r=Math.min(t.count,e.count),a=t.typedBuffer,i=t.typedBufferStride,o=e.typedBuffer,s=e.typedBufferStride;let h=0,c=0;for(let t=0;t<r;t++)a[c]=o[h]>>n,a[c+1]=o[h+1]>>n,a[c+2]=o[h+2]>>n,h+=s,c+=i},transformMat3:s,transformMat3View:o,transformMat4:i,transformMat4View:a},Symbol.toStringTag,{value:"Module"}))},26488:(t,e,n)=>{n.d(e,{Q:()=>s});var r=n(7753),a=n(61681),i=n(17135),o=n(80657);class s{constructor(t=9,e){this._compareMinX=u,this._compareMinY=f,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this._toBBox=e:this._initFormat(e)),this.clear()}destroy(){this.clear(),b.prune(),y.prune(),B.prune(),v.prune()}all(t){this._all(this._data,t)}search(t,e){let n=this._data;const r=this._toBBox;if(_(t,n))for(b.clear();n;){for(let a=0,i=n.children.length;a<i;a++){const i=n.children[a],o=n.leaf?r(i):i;_(t,o)&&(n.leaf?e(i):x(t,o)?this._all(i,e):b.push(i))}n=b.pop()}}collides(t){let e=this._data;const n=this._toBBox;if(!_(t,e))return!1;for(b.clear();e;){for(let r=0,a=e.children.length;r<a;r++){const a=e.children[r],i=e.leaf?n(a):a;if(_(t,i)){if(e.leaf||x(t,i))return!0;b.push(a)}}e=b.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}let e=this._build(t.slice(0,t.length),0,t.length-1,0);if(this._data.children.length)if(this._data.height===e.height)this._splitRoot(this._data,e);else{if(this._data.height<e.height){const t=this._data;this._data=e,e=t}this._insert(e,this._data.height-e.height-1,!0)}else this._data=e;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new X([]),this}remove(t){if(!t)return this;let e,n=this._data,i=null,o=0,s=!1;const h=this._toBBox(t);for(B.clear(),v.clear();n||B.length>0;){if(n||(n=(0,a.j0)(B.pop()),i=B.data[B.length-1],o=v.pop()??0,s=!0),n.leaf&&(e=(0,r.cq)(n.children,t,n.children.length,n.indexHint),-1!==e))return n.children.splice(e,1),B.push(n),this._condense(B),this;s||n.leaf||!x(n,h)?i?(o++,n=i.children[o],s=!1):n=null:(B.push(n),v.push(o),o=0,i=n,n=n.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_all(t,e){let n=t;for(y.clear();n;){if(!0===n.leaf)for(const t of n.children)e(t);else y.pushArray(n.children);n=y.pop()??null}}_build(t,e,n,r){const a=n-e+1;let i=this._maxEntries;if(a<=i){const r=new X(t.slice(e,n+1));return h(r,this._toBBox),r}r||(r=Math.ceil(Math.log(a)/Math.log(i)),i=Math.ceil(a/i**(r-1)));const o=new S([]);o.height=r;const s=Math.ceil(a/i),c=s*Math.ceil(Math.sqrt(i));g(t,e,n,c,this._compareMinX);for(let a=e;a<=n;a+=c){const e=Math.min(a+c-1,n);g(t,a,e,s,this._compareMinY);for(let n=a;n<=e;n+=s){const a=Math.min(n+s-1,e);o.children.push(this._build(t,n,a,r-1))}}return h(o,this._toBBox),o}_chooseSubtree(t,e,n,r){for(;r.push(e),!0!==e.leaf&&r.length-1!==n;){let n,r=1/0,a=1/0;for(let i=0,o=e.children.length;i<o;i++){const o=e.children[i],s=d(o),h=M(t,o)-s;h<a?(a=h,r=s<r?s:r,n=o):h===a&&s<r&&(r=s,n=o)}e=n||e.children[0]}return e}_insert(t,e,n){const r=this._toBBox,a=n?t:r(t);B.clear();const i=this._chooseSubtree(a,this._data,e,B);for(i.children.push(t),l(i,a);e>=0&&B.data[e].children.length>this._maxEntries;)this._split(B,e),e--;this._adjustParentBBoxes(a,B,e)}_split(t,e){const n=t.data[e],r=n.children.length,a=this._minEntries;this._chooseSplitAxis(n,a,r);const i=this._chooseSplitIndex(n,a,r);if(!i)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const o=n.children.splice(i,n.children.length-i),s=n.leaf?new X(o):new S(o);s.height=n.height,h(n,this._toBBox),h(s,this._toBBox),e?t.data[e-1].children.push(s):this._splitRoot(n,s)}_splitRoot(t,e){this._data=new S([t,e]),this._data.height=t.height+1,h(this._data,this._toBBox)}_chooseSplitIndex(t,e,n){let r,a,i;r=a=1/0;for(let o=e;o<=n-e;o++){const e=c(t,0,o,this._toBBox),s=c(t,o,n,this._toBBox),h=p(e,s),l=d(e)+d(s);h<r?(r=h,i=o,a=l<a?l:a):h===r&&l<a&&(a=l,i=o)}return i}_chooseSplitAxis(t,e,n){const r=t.leaf?this._compareMinX:u,a=t.leaf?this._compareMinY:f;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,a)&&t.children.sort(r)}_allDistMargin(t,e,n,r){t.children.sort(r);const a=this._toBBox,i=c(t,0,e,a),o=c(t,n-e,n,a);let s=m(i)+m(o);for(let r=e;r<n-e;r++){const e=t.children[r];l(i,t.leaf?a(e):e),s+=m(i)}for(let r=n-e-1;r>=e;r--){const e=t.children[r];l(o,t.leaf?a(e):e),s+=m(o)}return s}_adjustParentBBoxes(t,e,n){for(let r=n;r>=0;r--)l(e.data[r],t)}_condense(t){for(let e=t.length-1;e>=0;e--){const n=t.data[e];if(0===n.children.length)if(e>0){const a=t.data[e-1],i=a.children;i.splice((0,r.cq)(i,n,i.length,a.indexHint),1)}else this.clear();else h(n,this._toBBox)}}_initFormat(t){const e=["return a"," - b",";"];this._compareMinX=new Function("a","b",e.join(t[0])),this._compareMinY=new Function("a","b",e.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function h(t,e){c(t,0,t.children.length,e,t)}function c(t,e,n,r,a){a||(a=new X([])),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(let i,o=e;o<n;o++)i=t.children[o],l(a,t.leaf?r(i):i);return a}function l(t,e){t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY)}function u(t,e){return t.minX-e.minX}function f(t,e){return t.minY-e.minY}function d(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function m(t){return t.maxX-t.minX+(t.maxY-t.minY)}function M(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function p(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),a=Math.min(t.maxX,e.maxX),i=Math.min(t.maxY,e.maxY);return Math.max(0,a-n)*Math.max(0,i-r)}function x(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function _(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t,e,n,r,i){const s=[e,n];for(;s.length;){const e=(0,a.j0)(s.pop()),n=(0,a.j0)(s.pop());if(e-n<=r)continue;const h=n+Math.ceil((e-n)/r/2)*r;(0,o.q)(t,h,n,e,i),s.push(n,h,h,e)}}const b=new i.Z,y=new i.Z,B=new i.Z,v=new i.Z({deallocator:void 0});class w{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class Y extends w{constructor(){super(...arguments),this.height=1,this.indexHint=new r.SO}}class X extends Y{constructor(t){super(),this.children=t,this.leaf=!0}}class S extends Y{constructor(t){super(),this.children=t,this.leaf=!1}}},92570:(t,e,n)=>{n.d(e,{JK:()=>s,QZ:()=>i,Rq:()=>o,bg:()=>a,mB:()=>h});var r=n(86098);function a(t,e=!1){return t<=r.DB?e?new Array(t).fill(0):new Array(t):new Float64Array(t)}function i(t){return((0,r.kJ)(t)?t.length:t.byteLength/8)<=r.DB?Array.from(t):new Float64Array(t)}function o(t,e,n){return Array.isArray(t)?t.slice(e,e+n):t.subarray(e,e+n)}function s(t,e){for(let n=0;n<e.length;++n)t[n]=e[n];return t}function h(t){return Array.isArray(t)?new Float64Array(t):t}},2718:(t,e,n)=>{n.d(e,{Z:()=>f});var r=n(36663),a=n(41151),i=n(82064),o=n(81977),s=(n(7283),n(7753),n(39994),n(79438)),h=n(40266),c=n(8909),l=n(67666);let u=class extends((0,a.J)(i.wq)){constructor(t){super(t),this.type="georeferenced-relative",this.isRelative=!0,this.isGeoreferenced=!0,this.origin=(0,c.c)()}getOriginPoint(t){const[e,n,r]=this.origin;return new l.Z({x:e,y:n,z:r,spatialReference:t})}setOriginFormPoint({x:t,y:e,z:n}){this.origin=(0,c.f)(t,e,n??0)}};(0,r._)([(0,s.J)({georeferencedRelative:"georeferenced-relative"},{readOnly:!0})],u.prototype,"type",void 0),(0,r._)([(0,o.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],u.prototype,"origin",void 0),u=(0,r._)([(0,h.j)("esri.geometry.support.MeshGeoreferencedRelativeVertexSpace")],u);const f=u},58626:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(36663),a=n(41151),i=n(82064),o=(n(13802),n(7283),n(7753),n(39994),n(70375),n(79438)),s=n(40266);let h=class extends((0,a.J)(i.wq)){constructor(){super({}),this.type="georeferenced",this.isRelative=!1,this.isGeoreferenced=!0}};(0,r._)([(0,o.J)({georeferenced:"georeferenced"},{readOnly:!0})],h.prototype,"type",void 0),h=(0,r._)([(0,s.j)("esri.geometry.support.MeshGeoreferencedVertexSpace")],h);const c=h},51619:(t,e,n)=>{n.d(e,{Z:()=>f});var r=n(36663),a=n(41151),i=n(82064),o=n(81977),s=(n(7283),n(7753),n(39994),n(79438)),h=n(40266),c=n(8909),l=n(67666);let u=class extends((0,a.J)(i.wq)){constructor(t){super(t),this.type="local",this.isRelative=!0,this.isGeoreferenced=!1,this.origin=(0,c.c)()}getOriginPoint(t){const[e,n,r]=this.origin;return new l.Z({x:e,y:n,z:r,spatialReference:t})}setOriginFormPoint({x:t,y:e,z:n}){this.origin=(0,c.f)(t,e,n??0)}};(0,r._)([(0,s.J)({local:"local"},{readOnly:!0})],u.prototype,"type",void 0),(0,r._)([(0,o.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],u.prototype,"origin",void 0),u=(0,r._)([(0,h.j)("esri.geometry.support.MeshLocalVertexSpace")],u);const f=u},45150:(t,e,n)=>{n.d(e,{c:()=>r});const r=n(13802).Z.getLogger("esri.views.3d.support.buffer.math")},12902:(t,e,n)=>{n.r(e),n.d(e,{default:()=>o});var r=n(39994),a=n(26488),i=n(91780);class o{async createIndex(t,e){const n=new Array;if(!t.vertexAttributes||!t.vertexAttributes.position)return new a.Q;const r=this._createMeshData(t),i=null!=e?await e.invoke("createIndexThread",r,{transferList:n}):this.createIndexThread(r).result;return this._createPooledRBush().fromJSON(i)}createIndexThread(t){const e=new Float64Array(t.position),n=this._createPooledRBush();return t.components?this._createIndexComponentsThread(n,e,t.components.map((t=>new Uint32Array(t)))):this._createIndexAllThread(n,e)}_createIndexAllThread(t,e){const n=new Array(e.length/9);let r=0;for(let t=0;t<e.length;t+=9)n[r++]=s(e,t,t+3,t+6);return t.load(n),{result:t.toJSON()}}_createIndexComponentsThread(t,e,n){let r=0;for(const t of n)r+=t.length/3;const a=new Array(r);let i=0;for(const t of n)for(let n=0;n<t.length;n+=3)a[i++]=s(e,3*t[n],3*t[n+1],3*t[n+2]);return t.load(a),{result:t.toJSON()}}_createMeshData(t){const e=(t.vertexSpace.isRelative?(0,i.georeferenceApplyTransform)({position:t.vertexAttributes.position,normal:null,tangent:null},t.vertexSpace,t.transform,t.spatialReference).position:t.vertexAttributes.position).buffer;return!t.components||t.components.some((t=>!t.faces))?{position:e}:{position:e,components:t.components.map((t=>t.faces))}}_createPooledRBush(){return new a.Q(9,(0,r.Z)("esri-csp-restrictions")?t=>t:[".minX",".minY",".maxX",".maxY"])}}function s(t,e,n,r){return{minX:Math.min(t[e],t[n],t[r]),maxX:Math.max(t[e],t[n],t[r]),minY:Math.min(t[e+1],t[n+1],t[r+1]),maxY:Math.max(t[e+1],t[n+1],t[r+1]),p0:[t[e],t[e+1],t[e+2]],p1:[t[n],t[n+1],t[n+2]],p2:[t[r],t[r+1],t[r+2]]}}}}]);