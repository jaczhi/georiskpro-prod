"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["node_modules_arcgis_core_layers_graphics_sources_support_uploadAssets_js"],{

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssets.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssets.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "uploadAssets": () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_uuid_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/uuid.js */ "./node_modules/@arcgis/core/core/uuid.js");
/* harmony import */ var _geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/meshUtils/External.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/External.js");
/* harmony import */ var _uploads_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./uploads.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploads.js");
/* harmony import */ var _support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../support/infoFor3D.js */ "./node_modules/@arcgis/core/layers/support/infoFor3D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function g(e,t,s){return e.length?Promise.all(e.map((e=>T(e,t,s)))):[]}async function T(e,{layer:s,ongoingUploads:r},a){const o=r.get(e);if(o)return o;if(!P(s))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](`${s.type}-layer:upload-failure`,"Layer does not support asset uploads.",new Error);if(b(e,s))return e;const n=E(e,s,a);r.set(e,n);try{await n}finally{r.delete(e)}return e}function b(e,t){const{parsedUrl:s}=t;return null!=s&&e.metadata.externalSources.some((e=>(0,_geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_6__.externalIsOnService)(e,s)))}async function E(e,t,s){const{metadata:a}=e,{displaySource:o}=a,n=x(o?.source,t),i=!!n,u=a.externalSources.length>0,l=i?$(n,t,s):u?F(e,t,s):j(e,t,s),c=await l;return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(s),e.addExternalSources([c]),e}async function $(e,t,s){return{source:await N(e,t,s),original:!0}}async function F(e,s,r){const a=B(s),{externalSources:o}=e.metadata,n=U(o,s);if(!n)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](`${s.type}-layer:upload-failure`,"Could not find an external source that is supported by the service.",new Error);const i=await N(n,s,r);e.addExternalSources([{source:i,original:!0}]);return{source:await q(i,s,a)}}async function j(e,t,s){const r=D(e,t,s);return{source:await A([r],t,s),extent:e.extent.clone(),original:!0}}async function D(e,t,s){const a=B(t),o=await e.load(s),n=await o.toBinaryGLTF({ignoreLocalTransform:!0});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(s);const i=await n.buffer();return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(s),{blob:new Blob([i.data],{type:i.type}),assetName:`${(0,_core_uuid_js__WEBPACK_IMPORTED_MODULE_5__.generateBracedUUID)()}.glb`,assetType:a}}function U(e,t){for(const s of e){const e=x(s.source,t);if(e)return e}return null}function x(e,t){if(!e)return null;const{infoFor3D:{supportedFormats:s,editFormats:r}}=t,a=(0,_geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_6__.externalSourceToMultiPart)(e),o=new Array;let n=!1;for(let i=0;i<a.length;++i){const e=v(a[i],s);if(!e)return null;r.includes(e.assetType)&&(n=!0),o.push(e)}return n?o:null}function v(e,t){const s=(0,_geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_6__.assetFormatId)(e,t);return s?{asset:e,assetType:s}:null}async function N(e,t,s){return A(e.map((e=>S(e,s))),t,s)}async function A(e,t,s){const a=await Promise.all(e.map((async e=>{const a=I(await e,t,s);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(s),a})));(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(s);const{uploadResults:o}=await R(a.map((({item:e})=>e)),t,s);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(s),e.map(((e,s)=>L(a[s],o[s],t)))}async function S(e,t){const{asset:s,assetType:a}=e;if(s instanceof File)return{blob:s,assetName:s.name,assetType:a};const o=await s.toBlob(t);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t),{blob:o,assetName:s.assetName,assetType:a}}async function I(e,o,i){const{blob:u,assetType:l,assetName:c}=e;let p=null;try{const e=await (0,_uploads_js__WEBPACK_IMPORTED_MODULE_7__.uploadItem)({data:u,name:c},o.url,i);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(i),p={assetType:l,assetUploadId:e.itemID}}catch(f){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAbortError)(f),_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.layers.graphics.sources.support.uploadAssets").warnOnce(`Service ${o.url} does not support the REST Uploads API.`)}if(!p){const e=await (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.parseData)(u);if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(i),!e.isBase64)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](`${o.type}-layer:uploadAssets-failure`,"Expected gltf data in base64 format after conversion.",new Error);p={assetType:l,assetData:e.data}}if(!p)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](`${o.type}-layer:uploadAssets-failure`,"Unable to prepare uploadAsset request options.",new Error);return{item:p,assetName:c}}async function R(s,a,o){const n=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.join)(a.parsedUrl.path,"uploadAssets"),{timeout:0,query:{f:"json",assets:JSON.stringify(s)},method:"post",responseType:"json"});if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(o),n.data.uploadResults.length!==s.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](`${a.type}-layer:uploadAssets-failure`,`Bad response. Uploaded ${s.length} items and received ${n.data.uploadResults.length} results.`,new Error);return n.data}function L(e,s,r){const{success:a}=s;if(!a){const{error:a}=s;throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](`${r.type}-layer:upload-failure`,`Failed to upload mesh file ${e.assetName}. Error code: ${a.code}. Error message: ${a.messages}`,new Error)}const{assetHash:o}=s,{assetName:n,item:{assetType:i}}=e,{infoFor3D:{supportedFormats:u}}=r,l=(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_8__.getFormatIdMimeType)(i,u);if(!l)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](`${r.type}-layer:upload-failure`,`The service allowed us to upload an asset of FormatID ${i}, but it does not list it in its supported formats.`,new Error);return new _geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_6__.ServiceAsset(n,l,[new _geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_6__.ServiceAssetPart(`${r.parsedUrl.path}/assets/${o}`,o)])}async function q(s,r,a){const o=s.map((({assetName:e,parts:t})=>({assetName:e,assetHash:t[0].partHash}))),n=r.capabilities?.operations.supportsAsyncConvert3D,u={query:{f:"json",assets:JSON.stringify(o),transportType:"esriTransportTypeUrl",targetFormat:a,async:n},responseType:"json",timeout:0},l=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.join)(r.parsedUrl.path,"convert3D"),c=(n?await C(l,u):await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(l,u)).data,{infoFor3D:{supportedFormats:d}}=r;return c.assets.map((e=>{const s=(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_8__.getMimeTypeFormatId)(e.contentType,d);if(!s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](`${r.type}-layer:upload-failure`,`The service allowed us to upload an asset of FormatID ${s}, but it does not list it in its supported formats.`,new Error);return new _geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_6__.ServiceAsset(e.assetName,e.contentType,[new _geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_6__.ServiceAssetPart(e.assetURL,e.assetHash)])}))}async function C(s,r){const a=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(s,r)).data.statusUrl;for(;;){const s=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(a,{query:{f:"json"},responseType:"json"})).data;switch(s.status){case"Completed":return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(s.resultUrl,{query:{f:"json"},responseType:"json"});case"CompletedWithErrors":throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("async-convert3D-failed","asynchronous convert3D call failed.");case"Failed ImportChanges":case"InProgress":case"Pending":case"ExportAttachments":case"ExportChanges":case"ExportingData":case"ExportingSnapshot":case"ImportAttachments":case"ProvisioningReplica":case"UnRegisteringReplica":break;default:throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("async-convert3D-failed","asynchronous convert3D call failed (undefined response status)")}await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.after)(H)}}function P(e){return!!e.infoFor3D&&!!e.url}function B(e){const{infoFor3D:s}=e,r=(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_8__.getMimeTypeFormatId)("model/gltf-binary",s.supportedFormats)??(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_8__.getFilenameFormatId)("glb",s.supportedFormats);if(!r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](`${e.type}-layer:upload-failure`,"Layer does not support glb.",new Error);return r}const H=1e3;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploads.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/uploads.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "uploadItem": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r=1e6,a=20*r,n=2e9,i=3;async function p({data:p,name:c,description:l},m,d){let f=null;try{const u=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(m,"uploads"),h=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(u,"info"),{data:w}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(h,{query:{f:"json"},responseType:"json"});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(d);const y=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_3__.isHostedAgolService)(m),j=w.maxUploadFileSize*r,g=y?n:j,q=y?Math.min(a,j):a;if(p.size>g)throw new Error("Data too large");const T=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(u,"register"),{data:z}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(T,{query:{f:"json",itemName:c,description:l},responseType:"json",method:"post"});if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(d),!z.success)throw new Error("Registration failed");const{itemID:E}=z.item;f=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(u,E);const U=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(f,"uploadPart"),D=Math.ceil(p.size/q),M=new Array;for(let e=0;e<D;++e)M.push(p.slice(e*q,Math.min((e+1)*q,p.size)));const P=M.slice().reverse(),x=new Array,A=async()=>{for(;0!==P.length;){const o=M.length-P.length,s=P.pop(),r=new FormData;r.append("f","json"),r.append("file",s),r.append("partId",`${o}`);const{data:a}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(U,{timeout:0,body:r,responseType:"json",method:"post"});if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(d),!a.success)throw new Error("Part upload failed")}};for(let e=0;e<i&&0!==P.length;++e)x.push(A());await Promise.all(x);const F=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(f,"commit"),{data:I}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(F,{query:{f:"json",parts:M.map(((e,t)=>t)).join(",")},responseType:"json",method:"post"});if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(d),!I.success)throw new Error("Commit failed");return I.item}catch(u){if(null!=f){const t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(f,"delete");await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t,{query:{f:"json"},responseType:"json",method:"post"})}throw u}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYTBiZjNhN2VlY2JiODM1ZDQ4ZTM5NDljNDgzODBmOWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2lyQix3QkFBd0IscURBQXFELG9CQUFvQix5QkFBeUIsSUFBSSxpQkFBaUIsY0FBYyxtQkFBbUIsc0RBQUMsSUFBSSxPQUFPLDBFQUEwRSxtQkFBbUIsaUJBQWlCLFdBQVcsSUFBSSxRQUFRLFFBQVEsWUFBWSxTQUFTLGdCQUFnQixNQUFNLFlBQVksR0FBRyxvREFBb0QsNEZBQUMsUUFBUSx3QkFBd0IsTUFBTSxXQUFXLElBQUksZ0JBQWdCLGtHQUFrRyxPQUFPLHFFQUFDLGdDQUFnQyx3QkFBd0IsT0FBTyxtQ0FBbUMsd0JBQXdCLGNBQWMsa0JBQWtCLHFCQUFxQixnQkFBZ0Isc0RBQUMsSUFBSSxPQUFPLHdHQUF3Ryx1QkFBdUIsdUJBQXVCLHFCQUFxQixHQUFHLE9BQU8sdUJBQXVCLHdCQUF3QixpQkFBaUIsT0FBTyw2REFBNkQsd0JBQXdCLHVEQUF1RCx3QkFBd0IsRUFBRSxxRUFBQyxJQUFJLHlCQUF5QixPQUFPLHFFQUFDLEtBQUssd0JBQXdCLFlBQVksZUFBZSxpRUFBQyxHQUFHLG1CQUFtQixnQkFBZ0Isa0JBQWtCLHNCQUFzQixjQUFjLFlBQVksZ0JBQWdCLGtCQUFrQixNQUFNLFdBQVcsa0NBQWtDLEtBQUssa0dBQUMsZ0JBQWdCLFNBQVMsWUFBWSxXQUFXLEtBQUssa0JBQWtCLGtCQUFrQiwwQ0FBMEMsZ0JBQWdCLGdCQUFnQixRQUFRLHNGQUFDLE1BQU0sVUFBVSxvQkFBb0IsTUFBTSx3QkFBd0IsaUNBQWlDLHdCQUF3QiwyQ0FBMkMsdUJBQXVCLE9BQU8scUVBQUMsTUFBTSxJQUFJLHFFQUFDLElBQUksTUFBTSxnQkFBZ0Isa0JBQWtCLE9BQU8sWUFBWSxPQUFPLHFFQUFDLG1DQUFtQyxzQkFBc0IsTUFBTSxvQkFBb0IsR0FBRyw0QkFBNEIscUNBQXFD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bm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3Mvc291cmNlcy9zdXBwb3J0L3VwbG9hZEFzc2V0cy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3Mvc291cmNlcy9zdXBwb3J0L3VwbG9hZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgcix0aHJvd0lmQWJvcnRFcnJvciBhcyBhLGFmdGVyIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cGFyc2VEYXRhIGFzIG4sam9pbiBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7Z2VuZXJhdGVCcmFjZWRVVUlEIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS91dWlkLmpzXCI7aW1wb3J0e2V4dGVybmFsSXNPblNlcnZpY2UgYXMgbCxhc3NldEZvcm1hdElkIGFzIGMsU2VydmljZUFzc2V0IGFzIHAsU2VydmljZUFzc2V0UGFydCBhcyBmLGV4dGVybmFsU291cmNlVG9NdWx0aVBhcnQgYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L21lc2hVdGlscy9FeHRlcm5hbC5qc1wiO2ltcG9ydHt1cGxvYWRJdGVtIGFzIG19ZnJvbVwiLi91cGxvYWRzLmpzXCI7aW1wb3J0e2dldEZvcm1hdElkTWltZVR5cGUgYXMgeSxnZXRNaW1lVHlwZUZvcm1hdElkIGFzIHcsZ2V0RmlsZW5hbWVGb3JtYXRJZCBhcyBofWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvaW5mb0ZvcjNELmpzXCI7YXN5bmMgZnVuY3Rpb24gZyhlLHQscyl7cmV0dXJuIGUubGVuZ3RoP1Byb21pc2UuYWxsKGUubWFwKChlPT5UKGUsdCxzKSkpKTpbXX1hc3luYyBmdW5jdGlvbiBUKGUse2xheWVyOnMsb25nb2luZ1VwbG9hZHM6cn0sYSl7Y29uc3Qgbz1yLmdldChlKTtpZihvKXJldHVybiBvO2lmKCFQKHMpKXRocm93IG5ldyB0KGAke3MudHlwZX0tbGF5ZXI6dXBsb2FkLWZhaWx1cmVgLFwiTGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBhc3NldCB1cGxvYWRzLlwiLG5ldyBFcnJvcik7aWYoYihlLHMpKXJldHVybiBlO2NvbnN0IG49RShlLHMsYSk7ci5zZXQoZSxuKTt0cnl7YXdhaXQgbn1maW5hbGx5e3IuZGVsZXRlKGUpfXJldHVybiBlfWZ1bmN0aW9uIGIoZSx0KXtjb25zdHtwYXJzZWRVcmw6c309dDtyZXR1cm4gbnVsbCE9cyYmZS5tZXRhZGF0YS5leHRlcm5hbFNvdXJjZXMuc29tZSgoZT0+bChlLHMpKSl9YXN5bmMgZnVuY3Rpb24gRShlLHQscyl7Y29uc3R7bWV0YWRhdGE6YX09ZSx7ZGlzcGxheVNvdXJjZTpvfT1hLG49eChvPy5zb3VyY2UsdCksaT0hIW4sdT1hLmV4dGVybmFsU291cmNlcy5sZW5ndGg+MCxsPWk/JChuLHQscyk6dT9GKGUsdCxzKTpqKGUsdCxzKSxjPWF3YWl0IGw7cmV0dXJuIHIocyksZS5hZGRFeHRlcm5hbFNvdXJjZXMoW2NdKSxlfWFzeW5jIGZ1bmN0aW9uICQoZSx0LHMpe3JldHVybntzb3VyY2U6YXdhaXQgTihlLHQscyksb3JpZ2luYWw6ITB9fWFzeW5jIGZ1bmN0aW9uIEYoZSxzLHIpe2NvbnN0IGE9QihzKSx7ZXh0ZXJuYWxTb3VyY2VzOm99PWUubWV0YWRhdGEsbj1VKG8scyk7aWYoIW4pdGhyb3cgbmV3IHQoYCR7cy50eXBlfS1sYXllcjp1cGxvYWQtZmFpbHVyZWAsXCJDb3VsZCBub3QgZmluZCBhbiBleHRlcm5hbCBzb3VyY2UgdGhhdCBpcyBzdXBwb3J0ZWQgYnkgdGhlIHNlcnZpY2UuXCIsbmV3IEVycm9yKTtjb25zdCBpPWF3YWl0IE4obixzLHIpO2UuYWRkRXh0ZXJuYWxTb3VyY2VzKFt7c291cmNlOmksb3JpZ2luYWw6ITB9XSk7cmV0dXJue3NvdXJjZTphd2FpdCBxKGkscyxhKX19YXN5bmMgZnVuY3Rpb24gaihlLHQscyl7Y29uc3Qgcj1EKGUsdCxzKTtyZXR1cm57c291cmNlOmF3YWl0IEEoW3JdLHQscyksZXh0ZW50OmUuZXh0ZW50LmNsb25lKCksb3JpZ2luYWw6ITB9fWFzeW5jIGZ1bmN0aW9uIEQoZSx0LHMpe2NvbnN0IGE9Qih0KSxvPWF3YWl0IGUubG9hZChzKSxuPWF3YWl0IG8udG9CaW5hcnlHTFRGKHtpZ25vcmVMb2NhbFRyYW5zZm9ybTohMH0pO3Iocyk7Y29uc3QgaT1hd2FpdCBuLmJ1ZmZlcigpO3JldHVybiByKHMpLHtibG9iOm5ldyBCbG9iKFtpLmRhdGFdLHt0eXBlOmkudHlwZX0pLGFzc2V0TmFtZTpgJHt1KCl9LmdsYmAsYXNzZXRUeXBlOmF9fWZ1bmN0aW9uIFUoZSx0KXtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBlPXgocy5zb3VyY2UsdCk7aWYoZSlyZXR1cm4gZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB4KGUsdCl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3R7aW5mb0ZvcjNEOntzdXBwb3J0ZWRGb3JtYXRzOnMsZWRpdEZvcm1hdHM6cn19PXQsYT1kKGUpLG89bmV3IEFycmF5O2xldCBuPSExO2ZvcihsZXQgaT0wO2k8YS5sZW5ndGg7KytpKXtjb25zdCBlPXYoYVtpXSxzKTtpZighZSlyZXR1cm4gbnVsbDtyLmluY2x1ZGVzKGUuYXNzZXRUeXBlKSYmKG49ITApLG8ucHVzaChlKX1yZXR1cm4gbj9vOm51bGx9ZnVuY3Rpb24gdihlLHQpe2NvbnN0IHM9YyhlLHQpO3JldHVybiBzP3thc3NldDplLGFzc2V0VHlwZTpzfTpudWxsfWFzeW5jIGZ1bmN0aW9uIE4oZSx0LHMpe3JldHVybiBBKGUubWFwKChlPT5TKGUscykpKSx0LHMpfWFzeW5jIGZ1bmN0aW9uIEEoZSx0LHMpe2NvbnN0IGE9YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGFzeW5jIGU9Pntjb25zdCBhPUkoYXdhaXQgZSx0LHMpO3JldHVybiByKHMpLGF9KSkpO3Iocyk7Y29uc3R7dXBsb2FkUmVzdWx0czpvfT1hd2FpdCBSKGEubWFwKCgoe2l0ZW06ZX0pPT5lKSksdCxzKTtyZXR1cm4gcihzKSxlLm1hcCgoKGUscyk9PkwoYVtzXSxvW3NdLHQpKSl9YXN5bmMgZnVuY3Rpb24gUyhlLHQpe2NvbnN0e2Fzc2V0OnMsYXNzZXRUeXBlOmF9PWU7aWYocyBpbnN0YW5jZW9mIEZpbGUpcmV0dXJue2Jsb2I6cyxhc3NldE5hbWU6cy5uYW1lLGFzc2V0VHlwZTphfTtjb25zdCBvPWF3YWl0IHMudG9CbG9iKHQpO3JldHVybiByKHQpLHtibG9iOm8sYXNzZXROYW1lOnMuYXNzZXROYW1lLGFzc2V0VHlwZTphfX1hc3luYyBmdW5jdGlvbiBJKGUsbyxpKXtjb25zdHtibG9iOnUsYXNzZXRUeXBlOmwsYXNzZXROYW1lOmN9PWU7bGV0IHA9bnVsbDt0cnl7Y29uc3QgZT1hd2FpdCBtKHtkYXRhOnUsbmFtZTpjfSxvLnVybCxpKTtyKGkpLHA9e2Fzc2V0VHlwZTpsLGFzc2V0VXBsb2FkSWQ6ZS5pdGVtSUR9fWNhdGNoKGYpe2EoZikscy5nZXRMb2dnZXIoXCJlc3JpLmxheWVycy5ncmFwaGljcy5zb3VyY2VzLnN1cHBvcnQudXBsb2FkQXNzZXRzXCIpLndhcm5PbmNlKGBTZXJ2aWNlICR7by51cmx9IGRvZXMgbm90IHN1cHBvcnQgdGhlIFJFU1QgVXBsb2FkcyBBUEkuYCl9aWYoIXApe2NvbnN0IGU9YXdhaXQgbih1KTtpZihyKGkpLCFlLmlzQmFzZTY0KXRocm93IG5ldyB0KGAke28udHlwZX0tbGF5ZXI6dXBsb2FkQXNzZXRzLWZhaWx1cmVgLFwiRXhwZWN0ZWQgZ2x0ZiBkYXRhIGluIGJhc2U2NCBmb3JtYXQgYWZ0ZXIgY29udmVyc2lvbi5cIixuZXcgRXJyb3IpO3A9e2Fzc2V0VHlwZTpsLGFzc2V0RGF0YTplLmRhdGF9fWlmKCFwKXRocm93IG5ldyB0KGAke28udHlwZX0tbGF5ZXI6dXBsb2FkQXNzZXRzLWZhaWx1cmVgLFwiVW5hYmxlIHRvIHByZXBhcmUgdXBsb2FkQXNzZXQgcmVxdWVzdCBvcHRpb25zLlwiLG5ldyBFcnJvcik7cmV0dXJue2l0ZW06cCxhc3NldE5hbWU6Y319YXN5bmMgZnVuY3Rpb24gUihzLGEsbyl7Y29uc3Qgbj1hd2FpdCBlKGkoYS5wYXJzZWRVcmwucGF0aCxcInVwbG9hZEFzc2V0c1wiKSx7dGltZW91dDowLHF1ZXJ5OntmOlwianNvblwiLGFzc2V0czpKU09OLnN0cmluZ2lmeShzKX0sbWV0aG9kOlwicG9zdFwiLHJlc3BvbnNlVHlwZTpcImpzb25cIn0pO2lmKHIobyksbi5kYXRhLnVwbG9hZFJlc3VsdHMubGVuZ3RoIT09cy5sZW5ndGgpdGhyb3cgbmV3IHQoYCR7YS50eXBlfS1sYXllcjp1cGxvYWRBc3NldHMtZmFpbHVyZWAsYEJhZCByZXNwb25zZS4gVXBsb2FkZWQgJHtzLmxlbmd0aH0gaXRlbXMgYW5kIHJlY2VpdmVkICR7bi5kYXRhLnVwbG9hZFJlc3VsdHMubGVuZ3RofSByZXN1bHRzLmAsbmV3IEVycm9yKTtyZXR1cm4gbi5kYXRhfWZ1bmN0aW9uIEwoZSxzLHIpe2NvbnN0e3N1Y2Nlc3M6YX09cztpZighYSl7Y29uc3R7ZXJyb3I6YX09czt0aHJvdyBuZXcgdChgJHtyLnR5cGV9LWxheWVyOnVwbG9hZC1mYWlsdXJlYCxgRmFpbGVkIHRvIHVwbG9hZCBtZXNoIGZpbGUgJHtlLmFzc2V0TmFtZX0uIEVycm9yIGNvZGU6ICR7YS5jb2RlfS4gRXJyb3IgbWVzc2FnZTogJHthLm1lc3NhZ2VzfWAsbmV3IEVycm9yKX1jb25zdHthc3NldEhhc2g6b309cyx7YXNzZXROYW1lOm4saXRlbTp7YXNzZXRUeXBlOml9fT1lLHtpbmZvRm9yM0Q6e3N1cHBvcnRlZEZvcm1hdHM6dX19PXIsbD15KGksdSk7aWYoIWwpdGhyb3cgbmV3IHQoYCR7ci50eXBlfS1sYXllcjp1cGxvYWQtZmFpbHVyZWAsYFRoZSBzZXJ2aWNlIGFsbG93ZWQgdXMgdG8gdXBsb2FkIGFuIGFzc2V0IG9mIEZvcm1hdElEICR7aX0sIGJ1dCBpdCBkb2VzIG5vdCBsaXN0IGl0IGluIGl0cyBzdXBwb3J0ZWQgZm9ybWF0cy5gLG5ldyBFcnJvcik7cmV0dXJuIG5ldyBwKG4sbCxbbmV3IGYoYCR7ci5wYXJzZWRVcmwucGF0aH0vYXNzZXRzLyR7b31gLG8pXSl9YXN5bmMgZnVuY3Rpb24gcShzLHIsYSl7Y29uc3Qgbz1zLm1hcCgoKHthc3NldE5hbWU6ZSxwYXJ0czp0fSk9Pih7YXNzZXROYW1lOmUsYXNzZXRIYXNoOnRbMF0ucGFydEhhc2h9KSkpLG49ci5jYXBhYmlsaXRpZXM/Lm9wZXJhdGlvbnMuc3VwcG9ydHNBc3luY0NvbnZlcnQzRCx1PXtxdWVyeTp7ZjpcImpzb25cIixhc3NldHM6SlNPTi5zdHJpbmdpZnkobyksdHJhbnNwb3J0VHlwZTpcImVzcmlUcmFuc3BvcnRUeXBlVXJsXCIsdGFyZ2V0Rm9ybWF0OmEsYXN5bmM6bn0scmVzcG9uc2VUeXBlOlwianNvblwiLHRpbWVvdXQ6MH0sbD1pKHIucGFyc2VkVXJsLnBhdGgsXCJjb252ZXJ0M0RcIiksYz0obj9hd2FpdCBDKGwsdSk6YXdhaXQgZShsLHUpKS5kYXRhLHtpbmZvRm9yM0Q6e3N1cHBvcnRlZEZvcm1hdHM6ZH19PXI7cmV0dXJuIGMuYXNzZXRzLm1hcCgoZT0+e2NvbnN0IHM9dyhlLmNvbnRlbnRUeXBlLGQpO2lmKCFzKXRocm93IG5ldyB0KGAke3IudHlwZX0tbGF5ZXI6dXBsb2FkLWZhaWx1cmVgLGBUaGUgc2VydmljZSBhbGxvd2VkIHVzIHRvIHVwbG9hZCBhbiBhc3NldCBvZiBGb3JtYXRJRCAke3N9LCBidXQgaXQgZG9lcyBub3QgbGlzdCBpdCBpbiBpdHMgc3VwcG9ydGVkIGZvcm1hdHMuYCxuZXcgRXJyb3IpO3JldHVybiBuZXcgcChlLmFzc2V0TmFtZSxlLmNvbnRlbnRUeXBlLFtuZXcgZihlLmFzc2V0VVJMLGUuYXNzZXRIYXNoKV0pfSkpfWFzeW5jIGZ1bmN0aW9uIEMocyxyKXtjb25zdCBhPShhd2FpdCBlKHMscikpLmRhdGEuc3RhdHVzVXJsO2Zvcig7Oyl7Y29uc3Qgcz0oYXdhaXQgZShhLHtxdWVyeTp7ZjpcImpzb25cIn0scmVzcG9uc2VUeXBlOlwianNvblwifSkpLmRhdGE7c3dpdGNoKHMuc3RhdHVzKXtjYXNlXCJDb21wbGV0ZWRcIjpyZXR1cm4gZShzLnJlc3VsdFVybCx7cXVlcnk6e2Y6XCJqc29uXCJ9LHJlc3BvbnNlVHlwZTpcImpzb25cIn0pO2Nhc2VcIkNvbXBsZXRlZFdpdGhFcnJvcnNcIjp0aHJvdyBuZXcgdChcImFzeW5jLWNvbnZlcnQzRC1mYWlsZWRcIixcImFzeW5jaHJvbm91cyBjb252ZXJ0M0QgY2FsbCBmYWlsZWQuXCIpO2Nhc2VcIkZhaWxlZCBJbXBvcnRDaGFuZ2VzXCI6Y2FzZVwiSW5Qcm9ncmVzc1wiOmNhc2VcIlBlbmRpbmdcIjpjYXNlXCJFeHBvcnRBdHRhY2htZW50c1wiOmNhc2VcIkV4cG9ydENoYW5nZXNcIjpjYXNlXCJFeHBvcnRpbmdEYXRhXCI6Y2FzZVwiRXhwb3J0aW5nU25hcHNob3RcIjpjYXNlXCJJbXBvcnRBdHRhY2htZW50c1wiOmNhc2VcIlByb3Zpc2lvbmluZ1JlcGxpY2FcIjpjYXNlXCJVblJlZ2lzdGVyaW5nUmVwbGljYVwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IHQoXCJhc3luYy1jb252ZXJ0M0QtZmFpbGVkXCIsXCJhc3luY2hyb25vdXMgY29udmVydDNEIGNhbGwgZmFpbGVkICh1bmRlZmluZWQgcmVzcG9uc2Ugc3RhdHVzKVwiKX1hd2FpdCBvKEgpfX1mdW5jdGlvbiBQKGUpe3JldHVybiEhZS5pbmZvRm9yM0QmJiEhZS51cmx9ZnVuY3Rpb24gQihlKXtjb25zdHtpbmZvRm9yM0Q6c309ZSxyPXcoXCJtb2RlbC9nbHRmLWJpbmFyeVwiLHMuc3VwcG9ydGVkRm9ybWF0cyk/P2goXCJnbGJcIixzLnN1cHBvcnRlZEZvcm1hdHMpO2lmKCFyKXRocm93IG5ldyB0KGAke2UudHlwZX0tbGF5ZXI6dXBsb2FkLWZhaWx1cmVgLFwiTGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBnbGIuXCIsbmV3IEVycm9yKTtyZXR1cm4gcn1jb25zdCBIPTFlMztleHBvcnR7ZyBhcyB1cGxvYWRBc3NldHN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtqb2luIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydHtpc0hvc3RlZEFnb2xTZXJ2aWNlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9hcmNnaXNMYXllclVybC5qc1wiO2NvbnN0IHI9MWU2LGE9MjAqcixuPTJlOSxpPTM7YXN5bmMgZnVuY3Rpb24gcCh7ZGF0YTpwLG5hbWU6YyxkZXNjcmlwdGlvbjpsfSxtLGQpe2xldCBmPW51bGw7dHJ5e2NvbnN0IHU9byhtLFwidXBsb2Fkc1wiKSxoPW8odSxcImluZm9cIikse2RhdGE6d309YXdhaXQgZShoLHtxdWVyeTp7ZjpcImpzb25cIn0scmVzcG9uc2VUeXBlOlwianNvblwifSk7dChkKTtjb25zdCB5PXMobSksaj13Lm1heFVwbG9hZEZpbGVTaXplKnIsZz15P246aixxPXk/TWF0aC5taW4oYSxqKTphO2lmKHAuc2l6ZT5nKXRocm93IG5ldyBFcnJvcihcIkRhdGEgdG9vIGxhcmdlXCIpO2NvbnN0IFQ9byh1LFwicmVnaXN0ZXJcIikse2RhdGE6en09YXdhaXQgZShULHtxdWVyeTp7ZjpcImpzb25cIixpdGVtTmFtZTpjLGRlc2NyaXB0aW9uOmx9LHJlc3BvbnNlVHlwZTpcImpzb25cIixtZXRob2Q6XCJwb3N0XCJ9KTtpZih0KGQpLCF6LnN1Y2Nlc3MpdGhyb3cgbmV3IEVycm9yKFwiUmVnaXN0cmF0aW9uIGZhaWxlZFwiKTtjb25zdHtpdGVtSUQ6RX09ei5pdGVtO2Y9byh1LEUpO2NvbnN0IFU9byhmLFwidXBsb2FkUGFydFwiKSxEPU1hdGguY2VpbChwLnNpemUvcSksTT1uZXcgQXJyYXk7Zm9yKGxldCBlPTA7ZTxEOysrZSlNLnB1c2gocC5zbGljZShlKnEsTWF0aC5taW4oKGUrMSkqcSxwLnNpemUpKSk7Y29uc3QgUD1NLnNsaWNlKCkucmV2ZXJzZSgpLHg9bmV3IEFycmF5LEE9YXN5bmMoKT0+e2Zvcig7MCE9PVAubGVuZ3RoOyl7Y29uc3Qgbz1NLmxlbmd0aC1QLmxlbmd0aCxzPVAucG9wKCkscj1uZXcgRm9ybURhdGE7ci5hcHBlbmQoXCJmXCIsXCJqc29uXCIpLHIuYXBwZW5kKFwiZmlsZVwiLHMpLHIuYXBwZW5kKFwicGFydElkXCIsYCR7b31gKTtjb25zdHtkYXRhOmF9PWF3YWl0IGUoVSx7dGltZW91dDowLGJvZHk6cixyZXNwb25zZVR5cGU6XCJqc29uXCIsbWV0aG9kOlwicG9zdFwifSk7aWYodChkKSwhYS5zdWNjZXNzKXRocm93IG5ldyBFcnJvcihcIlBhcnQgdXBsb2FkIGZhaWxlZFwiKX19O2ZvcihsZXQgZT0wO2U8aSYmMCE9PVAubGVuZ3RoOysrZSl4LnB1c2goQSgpKTthd2FpdCBQcm9taXNlLmFsbCh4KTtjb25zdCBGPW8oZixcImNvbW1pdFwiKSx7ZGF0YTpJfT1hd2FpdCBlKEYse3F1ZXJ5OntmOlwianNvblwiLHBhcnRzOk0ubWFwKCgoZSx0KT0+dCkpLmpvaW4oXCIsXCIpfSxyZXNwb25zZVR5cGU6XCJqc29uXCIsbWV0aG9kOlwicG9zdFwifSk7aWYodChkKSwhSS5zdWNjZXNzKXRocm93IG5ldyBFcnJvcihcIkNvbW1pdCBmYWlsZWRcIik7cmV0dXJuIEkuaXRlbX1jYXRjaCh1KXtpZihudWxsIT1mKXtjb25zdCB0PW8oZixcImRlbGV0ZVwiKTthd2FpdCBlKHQse3F1ZXJ5OntmOlwianNvblwifSxyZXNwb25zZVR5cGU6XCJqc29uXCIsbWV0aG9kOlwicG9zdFwifSl9dGhyb3cgdX19ZXhwb3J0e3AgYXMgdXBsb2FkSXRlbX07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=