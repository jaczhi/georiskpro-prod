"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_TimeExtent_js-node_modules_arcgis_core_chunks__commonjsHelpe-e7e929"],{

/***/ "./node_modules/@arcgis/core/TimeExtent.js":
/*!*************************************************!*\
  !*** ./node_modules/@arcgis/core/TimeExtent.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_timeUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/timeUtils.js */ "./node_modules/@arcgis/core/core/timeUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var u;let m=u=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{static get allTime(){return p}static get empty(){return d}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?t.getTime():null}get isAllTime(){return this.equals(u.allTime)}get isEmpty(){return this.equals(u.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?t.getTime():null}clone(){return new u({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=null!=this.start?this.start.getTime():this.start,r=null!=this.end?this.end.getTime():this.end,s=null!=t.start?t.start.getTime():t.start,n=null!=t.end?t.end.getTime():t.end;return e===s&&r===n}expandTo(t){if(this.isEmpty||this.isAllTime)return this.clone();const e=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.applySome)(this.start,(e=>(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_3__.truncateDate)(e,t))),i=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.applySome)(this.end,(e=>{const r=(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_3__.truncateDate)(e,t);return e.getTime()===r.getTime()?r:(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_3__.offsetDate)(r,1,t)}));return new u({start:e,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return u.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,s=t.start?.getTime()??-1/0,n=t.end?.getTime()??1/0;let i,l;if(s>=e&&s<=r?i=s:e>=s&&e<=n&&(i=e),r>=s&&r<=n?l=r:n>=e&&n<=r&&(l=n),null!=i&&null!=l&&!isNaN(i)&&!isNaN(l)){const t=new u;return t.start=i===-1/0?null:new Date(i),t.end=l===1/0?null:new Date(l),t}return u.empty}offset(t,e){if(this.isEmpty||this.isAllTime)return this.clone();const r=new u,{start:s,end:i}=this;return null!=s&&(r.start=(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_3__.offsetDate)(s,t,e)),null!=i&&(r.end=(0,_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_3__.offsetDate)(i,t,e)),r}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return p.clone();const e=null!=this.start&&null!=t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,r=null!=this.end&&null!=t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new u({start:e,end:r})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Date,json:{write:{allowNull:!0}}})],m.prototype,"end",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.reader)("end")],m.prototype,"readEnd",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__.writer)("end")],m.prototype,"writeEnd",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0,json:{read:!1}})],m.prototype,"isAllTime",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0,json:{read:!1}})],m.prototype,"isEmpty",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Date,json:{write:{allowNull:!0}}})],m.prototype,"start",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.reader)("start")],m.prototype,"readStart",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__.writer)("start")],m.prototype,"writeStart",null),m=u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.TimeExtent")],m);const p=new m,d=new m({start:void 0,end:void 0}),c=m;


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/_commonjsHelpers.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/_commonjsHelpers.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "a": () => (/* binding */ n),
/* harmony export */   "c": () => (/* binding */ e),
/* harmony export */   "g": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){if(this instanceof e){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(t,n))}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})})),n}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/CollectionFlattener.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/CollectionFlattener.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _accessorSupport_watch_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accessorSupport/watch.js */ "./node_modules/@arcgis/core/core/accessorSupport/watch.js");
/* harmony import */ var _accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./accessorSupport/trackingUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js");
/* harmony import */ var _accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let i=class extends _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this.getCollections=null}initialize(){this.own((0,_accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_5__.autorun)((()=>this._refresh())))}destroy(){this.getCollections=null}_refresh(){const t=null!=this.getCollections?this.getCollections():null;if(null==t)return void this.removeAll();let o=0;for(const s of t)null!=s&&(o=this._processCollection(o,s));this.splice(o,this.length)}_createNewInstance(t){return new _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"](t)}_processCollection(t,o){if(!o)return t;const s=this.itemFilterFunction??(t=>!!t);for(const e of o)if(e){if(s(e)){const o=this.indexOf(e,t);o>=0?o!==t&&this.reorder(e,t):this.add(e,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(e);if(Array.isArray(o))for(const s of o)t=this._processCollection(t,s);else t=this._processCollection(t,o)}}return t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"getCollections",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"getChildrenFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"itemFilterFunction",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.core.CollectionFlattener")],i);const n=i;


/***/ }),

/***/ "./node_modules/@arcgis/core/core/loadAll.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/core/loadAll.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadAll": () => (/* binding */ t),
/* harmony export */   "loadAllChildren": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _Loadable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Loadable.js */ "./node_modules/@arcgis/core/core/Loadable.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function t(o,l){return await o.load(),a(o,l)}async function a(t,a){const s=[],c=(...o)=>{for(const l of o)null!=l&&(Array.isArray(l)?c(...l):_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].isCollection(l)?l.forEach((o=>c(o))):_Loadable_js__WEBPACK_IMPORTED_MODULE_2__["default"].isLoadable(l)&&s.push(l))};a(c);let f=null;if(await (0,_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.map)(s,(async o=>{const n=await (0,_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.result)(i(o)?o.loadAll():o.load());!1!==n.ok||f||(f=n)})),f)throw f.error;return t}function i(o){return"loadAll"in o&&"function"==typeof o.loadAll}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/reactiveUtils.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/reactiveUtils.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "autorun": () => (/* reexport safe */ _accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_5__.autorun),
/* harmony export */   "initial": () => (/* binding */ h),
/* harmony export */   "on": () => (/* binding */ a),
/* harmony export */   "once": () => (/* binding */ p),
/* harmony export */   "pausable": () => (/* binding */ P),
/* harmony export */   "sync": () => (/* binding */ U),
/* harmony export */   "syncAndInitial": () => (/* binding */ w),
/* harmony export */   "watch": () => (/* binding */ l),
/* harmony export */   "when": () => (/* binding */ f),
/* harmony export */   "whenOnce": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events.js */ "./node_modules/@arcgis/core/core/events.js");
/* harmony import */ var _handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _accessorSupport_watch_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accessorSupport/watch.js */ "./node_modules/@arcgis/core/core/accessorSupport/watch.js");
/* harmony import */ var _accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./accessorSupport/trackingUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(n,t,r={}){return m(n,t,r,y)}function f(n,t,r={}){return m(n,t,r,d)}function m(n,t,r={},e){let i=null;const u=r.once?(n,r)=>{e(n)&&((0,_maybe_js__WEBPACK_IMPORTED_MODULE_2__.removeMaybe)(i),t(n,r))}:(n,r)=>{e(n)&&t(n,r)};if(i=(0,_accessorSupport_watch_js__WEBPACK_IMPORTED_MODULE_4__.watchTracked)(n,u,r.sync,r.equals),r.initial){const t=n();u(t,t)}return i}function a(r,i,u,s={}){let c=null,f=null,m=null;function a(){c&&f&&(f.remove(),s.onListenerRemove?.(c),c=null,f=null)}function p(n){s.once&&s.once&&(0,_maybe_js__WEBPACK_IMPORTED_MODULE_2__.removeMaybe)(m),u(n)}const j=l(r,((r,e)=>{a(),(0,_events_js__WEBPACK_IMPORTED_MODULE_0__.isEventTarget)(r)&&(c=r,f=(0,_events_js__WEBPACK_IMPORTED_MODULE_0__.on)(r,i,p),s.onListenerAdd?.(r))}),{sync:s.sync,initial:!0});return m=(0,_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>{j.remove(),a()})),m}function p(n,t){return v(n,null,t)}function j(n,t){return v(n,d,t)}function v(n,t,e){if((0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAborted)(e))return Promise.reject((0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createAbortError)());const c=n();if(t?.(c))return Promise.resolve(c);let l=null;function f(){l=(0,_maybe_js__WEBPACK_IMPORTED_MODULE_2__.removeMaybe)(l)}return new Promise(((o,i)=>{l=(0,_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.handlesGroup)([(0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.onAbort)(e,(()=>{f(),i((0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createAbortError)())})),m(n,(n=>{f(),o(n)}),{sync:!1,once:!0},t??y)])}))}function y(n){return!0}function d(n){return!!n}function P(n,t,r={}){let e=!1;const o=l(n,((n,r)=>{e||t(n,r)}),r);return{remove(){o.remove()},pause(){e=!0},resume(){e=!1}}}const U={sync:!0},h={initial:!0},w={sync:!0,initial:!0};


/***/ }),

/***/ "./node_modules/@arcgis/core/core/timeUtils.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/timeUtils.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "convertTime": () => (/* binding */ g),
/* harmony export */   "isValidDate": () => (/* binding */ c),
/* harmony export */   "makeUTCTime": () => (/* binding */ u),
/* harmony export */   "offsetDate": () => (/* binding */ n),
/* harmony export */   "offsetDateUTC": () => (/* binding */ r),
/* harmony export */   "resetUTCDate": () => (/* binding */ a),
/* harmony export */   "timeSinceUTCMidnight": () => (/* binding */ i),
/* harmony export */   "truncateDate": () => (/* binding */ l),
/* harmony export */   "truncateLocalTime": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./has.js */ "./node_modules/@arcgis/core/core/has.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},t={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function s(e,t){const s=new Date(e,t+1,1);return s.setDate(0),s.getDate()}function n(e,n,r){const l=new Date(e.getTime());if(n&&r){const e=t[r],{getter:u,setter:i,multiplier:a}=e;if("months"===r){const e=s(l.getFullYear(),l.getMonth()+n);l.getDate()>e&&l.setDate(e)}l[i](l[u]()+n*a)}return l}function r(e,t,s="milliseconds"){const n=e.getTime(),r=g(t,s,"milliseconds");return new Date(n+r)}function l(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function u(e,t,s="milliseconds"){const n=new Date(g(t,s,"milliseconds"));return n.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n}function i(e,t="milliseconds"){const s=g(e.getUTCHours(),"hours","milliseconds"),n=g(e.getUTCMinutes(),"minutes","milliseconds"),r=g(e.getUTCSeconds(),"seconds","milliseconds");return g(s+n+r+e.getUTCMilliseconds(),"milliseconds",t)}function a(e,t){const s=new Date(e.getTime());return s.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),s}function o(e){const t=new Date(0);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t}function g(t,s,n){if(0===t)return 0;return t*e[s]/e[n]}function c(e){return e instanceof Date&&!isNaN(e.getTime())}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/GroupLayer.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/GroupLayer.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ M)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/CollectionFlattener.js */ "./node_modules/@arcgis/core/core/CollectionFlattener.js");
/* harmony import */ var _core_loadAll_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/loadAll.js */ "./node_modules/@arcgis/core/core/loadAll.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/accessorSupport/utils.js */ "./node_modules/@arcgis/core/core/accessorSupport/utils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ "./node_modules/@arcgis/core/layers/mixins/BlendLayer.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ "./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js");
/* harmony import */ var _support_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./support/lazyLayerLoader.js */ "./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js");
/* harmony import */ var _support_collectionUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/collectionUtils.js */ "./node_modules/@arcgis/core/support/collectionUtils.js");
/* harmony import */ var _support_LayersMixin_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/LayersMixin.js */ "./node_modules/@arcgis/core/support/LayersMixin.js");
/* harmony import */ var _support_TablesMixin_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../support/TablesMixin.js */ "./node_modules/@arcgis/core/support/TablesMixin.js");
/* harmony import */ var _support_tagSymbols_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../support/tagSymbols.js */ "./node_modules/@arcgis/core/support/tagSymbols.js");
/* harmony import */ var _webdoc_support_writeUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../webdoc/support/writeUtils.js */ "./node_modules/@arcgis/core/webdoc/support/writeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let w=class extends((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_14__.BlendLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_17__.ScaleRangeLayer)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_15__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_16__.PortalLayer)((0,_support_TablesMixin_js__WEBPACK_IMPORTED_MODULE_21__.TablesMixin)((0,_support_LayersMixin_js__WEBPACK_IMPORTED_MODULE_20__.LayersMixin)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_4__.MultiOriginJSONMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_13__["default"])))))))){constructor(e){super(e),this.allLayers=new _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_1__["default"]({getCollections:()=>[this.layers],getChildrenFunction:e=>"layers"in e?e.layers:null}),this.allTables=(0,_support_collectionUtils_js__WEBPACK_IMPORTED_MODULE_19__.createFlattenedTablesCollection)(this),this.fullExtent=void 0,this.operationalLayerType="GroupLayer",this.spatialReference=void 0,this.type="group"}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>{let e=this.parent;for(;e&&"parent"in e&&e.parent;)e=e.parent;return e&&_support_tagSymbols_js__WEBPACK_IMPORTED_MODULE_22__.WebSceneTag in e}),(e=>{const i="prevent-adding-tables";this.removeHandles(i),e&&(this.tables.removeAll(),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.on)((()=>this.tables),"before-add",(e=>{e.preventDefault(),_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).errorOnce("tables","Tables are not yet supported in a WebScene so they can't be added.")})),i))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>this.visible),this._onVisibilityChange.bind(this),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.sync)])}destroy(){this.allLayers.destroy(),this.allTables.destroy()}_writeLayers(e,i,t,r){const s=[];if(!e)return s;e.forEach((e=>{const i=(0,_webdoc_support_writeUtils_js__WEBPACK_IMPORTED_MODULE_23__.getLayerJSON)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);null!=i&&i.layerType&&s.push(i)})),i.layers=s}set portalItem(e){this._set("portalItem",e)}set visibilityMode(e){const i=this._get("visibilityMode")!==e;this._set("visibilityMode",e),i&&this._enforceVisibility(e,this.visible)}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"],layerModuleTypeMap:_support_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_18__.layerLookupMap},e)),Promise.resolve(this)}async loadAll(){return (0,_core_loadAll_js__WEBPACK_IMPORTED_MODULE_2__.loadAll)(this,(e=>{e(this.layers,this.tables)}))}layerAdded(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this.hasHandles(e.uid)?console.error(`Layer readded to Grouplayer: uid=${e.uid}`):this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>e.visible),(i=>this._onChildVisibilityChange(e,i)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.sync),e.uid)}layerRemoved(e){this.removeHandles(e.uid),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(e){this.layers.forEach((i=>{i!==e&&(i.visible=!1)}))}_enforceVisibility(e,i){if(!(0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_10__.getProperties)(this).initialized)return;const t=this.layers;let r=t.find((e=>e.visible));switch(e){case"exclusive":t.length&&!r&&(r=t.at(0),r.visible=!0),this._turnOffOtherLayers(r);break;case"inherited":t.forEach((e=>{e.visible=i}))}}_onVisibilityChange(e){"inherited"===this.visibilityMode&&this.layers.forEach((i=>{i.visible=e}))}_onChildVisibilityChange(e,i){switch(this.visibilityMode){case"exclusive":i?this._turnOffOtherLayers(e):this._isAnyLayerVisible()||(e.visible=!0);break;case"inherited":e.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((e=>e.visible))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0,dependsOn:[]})],w.prototype,"allLayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],w.prototype,"allTables",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],w.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{read:!0,write:!0}})],w.prototype,"blendMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{read:!1,write:{ignoreOrigin:!0}}})],w.prototype,"layers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_12__.writer)("layers")],w.prototype,"_writeLayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:["GroupLayer"]})],w.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{origins:{"web-document":{read:!1,write:!1}}}})],w.prototype,"portalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],w.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{read:!1},readOnly:!0,value:"group"})],w.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{type:["independent","exclusive"],write:(e,i,t)=>{"inherited"!==e&&(i[t]=e)}}}}})],w.prototype,"visibilityMode",null),w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.layers.GroupLayer")],w);const M=w;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/PortalLayer.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PortalLayer": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _kernel_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../kernel.js */ "./node_modules/@arcgis/core/kernel.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _support_layerUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _portal_Portal_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../portal/Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/* harmony import */ var _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../portal/PortalItem.js */ "./node_modules/@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _portal_PortalUser_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../portal/PortalUser.js */ "./node_modules/@arcgis/core/portal/PortalUser.js");
/* harmony import */ var _portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../portal/support/portalItemUtils.js */ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const j=j=>{let _=class extends j{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_7__.destroyMaybe)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(t){t!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",t))}readPortalItem(t,e,r){if(e.itemId)return new _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_19__["default"]({id:e.itemId,portal:r&&r.portal})}writePortalItem(t,e){t&&t.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem&&this.portalItem.id)try{const{load:r}=await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_portal_support_layersLoader_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../portal/support/layersLoader.js */ "./node_modules/@arcgis/core/portal/support/layersLoader.js"));return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(e),await r({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap},e)}catch(r){throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${r}`),r}}async finishLoadEditablePortalLayer(t){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(t).catch((t=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(t),!0))))}async _setUserPrivileges(t,r){if(!_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:e,fullEdit:s},content:{updateItem:i}}=await this._fetchUserPrivileges(t,r);this._set("userHasEditingPrivileges",e),this._set("userHasFullEditingPrivileges",s),this._set("userHasUpdateItemPrivileges",i)}catch(s){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(s)}}async _fetchUserPrivileges(t,e){let s=this.portalItem;if(!t||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(e);const i=t===s.id;if(i&&s.portal.user)return (0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_21__.getUserPrivileges)(s);let o,a;if(i)o=s.portal.url;else try{o=await (0,_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_17__.getOwningPortalUrl)(this.url,e)}catch(m){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(m)}if(!o||!(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.hasSameCanonicalPortal)(o,s.portal.url))return this._fetchFallbackUserPrivileges(e);try{const t=null!=e?e.signal:null;a=await(_kernel_js__WEBPACK_IMPORTED_MODULE_2__.id?.getCredential(`${o}/sharing`,{prompt:!1,signal:t}))}catch(m){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(m)}const l=!0,n=!1,p=!1;if(!a)return{features:{edit:l,fullEdit:n},content:{updateItem:p}};try{if(i?await s.reload():(s=new _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_19__["default"]({id:t,portal:{url:o}}),await s.load(e)),s.portal.user)return (0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_21__.getUserPrivileges)(s)}catch(m){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(m)}return{features:{edit:l,fullEdit:n},content:{updateItem:p}}}async _fetchFallbackUserPrivileges(t){let e=!0;try{e=await this._fetchUserHasEditingPrivileges(t)}catch(r){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(r)}return{features:{edit:e,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(t){const e=this.url?_kernel_js__WEBPACK_IMPORTED_MODULE_2__.id?.findCredential(this.url):null;if(!e)return!0;const s=E.credential===e?E.user:await this._fetchEditingUser(t);return E.credential=e,E.user=s,null==s||null==s.privileges||s.privileges.includes("features:user:edit")}async _fetchEditingUser(t){const e=this.portalItem?.portal?.user;if(e)return e;const o=_kernel_js__WEBPACK_IMPORTED_MODULE_2__.id.findServerInfo(this.url??"");if(!o?.owningSystemUrl)return null;const a=`${o.owningSystemUrl}/sharing/rest`,l=_portal_Portal_js__WEBPACK_IMPORTED_MODULE_18__["default"].getDefault();if(l&&l.loaded&&(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.normalize)(l.restUrl)===(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.normalize)(a))return l.user;const n=`${a}/community/self`,p=null!=t?t.signal:null,u=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_4__.result)((0,_request_js__WEBPACK_IMPORTED_MODULE_3__["default"])(n,{authMode:"no-prompt",query:{f:"json"},signal:p}));return u.ok?_portal_PortalUser_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromJSON(u.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const r=e&&e.portal,s=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||_portal_Portal_js__WEBPACK_IMPORTED_MODULE_18__["default"].getDefault());return r&&s&&!(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.hasSamePortal)(s.restUrl,r.restUrl)?(e.messages&&e.messages.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:_portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_19__["default"]})],_.prototype,"portalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__.reader)("web-document","portalItem",["itemId"])],_.prototype,"readPortalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_16__.writer)("web-document","portalItem",{itemId:{type:String}})],_.prototype,"writePortalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({clonable:!1})],_.prototype,"resourceReferences",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:Boolean,readOnly:!0})],_.prototype,"userHasEditingPrivileges",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:Boolean,readOnly:!0})],_.prototype,"userHasFullEditingPrivileges",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:Boolean,readOnly:!0})],_.prototype,"userHasUpdateItemPrivileges",void 0),_=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__.subclass)("esri.layers.mixins.PortalLayer")],_),_},E={credential:null,user:null};


/***/ }),

/***/ "./node_modules/@arcgis/core/support/LayersMixin.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/support/LayersMixin.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LayersMixin": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_collectionUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/collectionUtils.js */ "./node_modules/@arcgis/core/core/collectionUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_Layer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../layers/Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(e,r,t){let s,o;if(e)for(let a=0,i=e.length;a<i;a++){if(s=e.at(a),s?.[r]===t)return s;if("group"===s?.type&&(o=l(s.layers,r,t),o))return o}}const d=d=>{let y=class extends d{constructor(...e){super(...e),this.layers=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"];const t=e=>{e.parent&&"remove"in e.parent&&e.parent.remove(e)},o=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},a=e=>{e.parent=null,this.layerRemoved(e)};this.addHandles([this.layers.on("before-add",(e=>t(e.item))),this.layers.on("after-add",(e=>o(e.item))),this.layers.on("after-remove",(e=>a(e.item)))])}destroy(){const e=this.layers.toArray();for(const r of e)r.destroy();this.layers.destroy()}set layers(e){this._set("layers",(0,_core_collectionUtils_js__WEBPACK_IMPORTED_MODULE_2__.referenceSetter)(e,this._get("layers")))}add(e,r){const t=this.layers;if(r=t.getNextIndex(r),e instanceof _layers_Layer_js__WEBPACK_IMPORTED_MODULE_10__["default"]){const s=e;s.parent===this?this.reorder(s,r):t.add(s,r)}else (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPromiseLike)(e)?e.then((e=>{this.destroyed||this.add(e,r)})):_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,r){const t=this.layers;let s=t.getNextIndex(r);e.slice().forEach((e=>{e.parent!==this?(t.add(e,s),s+=1):this.reorder(e,s)}))}findLayerById(e){return l(this.layers,"id",e)}findLayerByUid(e){return l(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,r){return this.layers.reorder(e,r)}layerAdded(e){}layerRemoved(e){}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"layers",null),y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.support.LayersMixin")],y),y};


/***/ }),

/***/ "./node_modules/@arcgis/core/support/TablesMixin.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/support/TablesMixin.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TablesMixin": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_collectionUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/collectionUtils.js */ "./node_modules/@arcgis/core/core/collectionUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function a(t,e,r){if(t)for(let s=0,o=t.length;s<o;s++){const o=t.at(s);if(o[e]===r)return o;if("group"===o?.type){const t=a(o.tables,e,r);if(t)return t}}}const l=l=>{let n=class extends l{constructor(...t){super(...t),this.tables=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.addHandles([this.tables.on("after-add",(t=>{const e=t.item;e.parent&&e.parent!==this&&"tables"in e.parent&&e.parent.tables.remove(e),e.parent=this,"feature"!==e.type&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(t=>{t.item.parent=null}))])}destroy(){const t=this.tables.removeAll();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set("tables",(0,_core_collectionUtils_js__WEBPACK_IMPORTED_MODULE_2__.referenceSetter)(t,this._get("tables")))}findTableById(t){return a(this.tables,"id",t)}findTableByUid(t){return a(this.tables,"uid",t)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],n.prototype,"tables",null),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.support.TablesMixin")],n),n};


/***/ }),

/***/ "./node_modules/@arcgis/core/support/collectionUtils.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/support/collectionUtils.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createFlattenedTablesCollection": () => (/* binding */ t),
/* harmony export */   "destroyMap": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/CollectionFlattener.js */ "./node_modules/@arcgis/core/core/CollectionFlattener.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t(t){return new _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_0__["default"]({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const t=[];return"tables"in e&&t.push(e.tables),"layers"in e&&t.push(e.layers),t},itemFilterFunction:e=>{const t=e.parent;return!!t&&"tables"in t&&t.tables.includes(e)}})}function n(e){for(const t of e.values())t?.destroy();e.clear()}


/***/ }),

/***/ "./node_modules/@arcgis/core/support/tagSymbols.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/support/tagSymbols.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WebSceneTag": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e=Symbol("WebScene");


/***/ }),

/***/ "./node_modules/@arcgis/core/webdoc/support/writeUtils.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/webdoc/support/writeUtils.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "disableRestrictedWriting": () => (/* binding */ s),
/* harmony export */   "enableRestrictedWriting": () => (/* binding */ a),
/* harmony export */   "getLayerJSON": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_object_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/object.js */ "./node_modules/@arcgis/core/core/object.js");
/* harmony import */ var _core_accessorSupport_extensions_serializableProperty_writer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/extensions/serializableProperty/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/writer.js");
/* harmony import */ var _layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../layers/support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const o=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),l=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function a(e){o.delete(e),l.delete(e)}function s(e){o.add(e),l.add(e)}function p(e){return"basemap"===e.layerContainerType?o:"operational-layers"===e.layerContainerType?l:null}function m(e,t){if(t.restrictedWebMapWriting){const n=p(t);return null==n||n.has(e.type)&&!(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.isFeatureCollectionLayer)(e)}return!0}function u(e,t){if(t)if((0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.isFeatureCollectionLayer)(e)){const r=(0,_core_object_js__WEBPACK_IMPORTED_MODULE_2__.getDeepValue)("featureCollection.layers",t),i=r&&r[0]&&r[0].layerDefinition;i&&c(e,i)}else"group"!==e.type&&c(e,t)}function c(e,t){"maxScale"in e&&(t.maxScale=(0,_core_accessorSupport_extensions_serializableProperty_writer_js__WEBPACK_IMPORTED_MODULE_3__.numberToJSON)(e.maxScale)??void 0),"minScale"in e&&(t.minScale=(0,_core_accessorSupport_extensions_serializableProperty_writer_js__WEBPACK_IMPORTED_MODULE_3__.numberToJSON)(e.minScale)??void 0)}function d(e,t){if(u(e,t),t&&("blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,_core_accessorSupport_extensions_serializableProperty_writer_js__WEBPACK_IMPORTED_MODULE_3__.numberToJSON)(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if((0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.isFeatureCollectionLayer)(e)){const n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function f(n,r,i){if(!("write"in n)||!n.write)return i&&i.messages&&i.messages.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("layer:unsupported",`Layers (${n.title}, ${n.id}) of type '${n.declaredClass}' cannot be persisted`,{layer:n})),null;if(m(n,i)){const e={};return n.write(e,i)?e:null}return null!=r&&d(n,r=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(r)),r}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvODRiM2RkMjA5ZWNhYThlNjYzNDJjMmFjNzBmYTRlMzkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDeWtCLE1BQU0sc0JBQXNCLDZEQUFDLENBQUMscUJBQXFCLFNBQVMsbUJBQW1CLFNBQVMsZUFBZSx1Q0FBdUMsYUFBYSx3Q0FBd0MsY0FBYyx5QkFBeUIsZ0JBQWdCLDhCQUE4QixjQUFjLDRCQUE0QixlQUFlLDRDQUE0QyxnQkFBZ0IsMkJBQTJCLFFBQVEsY0FBYyw4QkFBOEIsRUFBRSxVQUFVLGVBQWUsb0xBQW9MLG9CQUFvQixZQUFZLG9EQUFvRCxRQUFRLHlEQUFDLGdCQUFnQixnRUFBQyxVQUFVLHlEQUFDLGVBQWUsUUFBUSxnRUFBQyxNQUFNLG1DQUFtQyw4REFBQyxRQUFRLEdBQUcsY0FBYyxjQUFjLEVBQUUsZ0JBQWdCLDBCQUEwQiwwQ0FBMEMsbUNBQW1DLG1DQUFtQyxrSEFBa0gsUUFBUSw2R0FBNkcsY0FBYywwRUFBMEUsZUFBZSxZQUFZLG9EQUFvRCxlQUFlLGNBQWMsTUFBTSx5QkFBeUIsOERBQUMseUJBQXlCLDhEQUFDLFdBQVcsU0FBUyxxQ0FBcUMsaUNBQWlDLGdEQUFnRCxrTUFBa00sY0FBYyxjQUFjLElBQUksdURBQUMsRUFBRSxzRkFBQyxFQUFFLGdCQUFnQixPQUFPLGVBQWUsNkJBQTZCLHVEQUFDLEVBQUUsa0ZBQUMscUNBQXFDLHVEQUFDLEVBQUUsbUZBQUMsc0NBQXNDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxrQkFBa0IsU0FBUyxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGtCQUFrQixTQUFTLCtCQUErQix1REFBQyxFQUFFLHNGQUFDLEVBQUUsZ0JBQWdCLE9BQU8sZUFBZSwrQkFBK0IsdURBQUMsRUFBRSxrRkFBQyx5Q0FBeUMsdURBQUMsRUFBRSxtRkFBQyw4Q0FBOEMsdURBQUMsRUFBRSxzRkFBQyx3QkFBd0IsdUJBQXVC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QU8sdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQyxvQ0FBNkQ7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSi8yQztBQUNBO0FBQ0E7QUFDQTtBQUM4QyxjQUFjLFdBQVcsb0VBQUMsRUFBRSwrREFBK0QsV0FBVyxzRUFBc0Usd0JBQXdCLGlCQUFpQiwrQ0FBK0MsRUFBRSxjQUFjLHVDQUF1QyxVQUF1RTs7Ozs7Ozs7Ozs7Ozs7O0FDSmhiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQW9EOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnBEO0FBQ0E7QUFDQTtBQUNBO0FBQ29ULDZZQUE2WSxjQUFjLHdCQUF3QixjQUFjLGtCQUFrQixjQUFjLDRGQUE0RixnQkFBZ0IsOEJBQThCLGFBQWEsZ0NBQWdDLHVGQUFDLElBQUksU0FBUyxnQkFBZ0IsUUFBUSx1RkFBQyxLQUFLLFFBQVEsNkRBQUMsK0RBQStELFVBQVUsNkJBQTZCLGdCQUFnQiw0QkFBNEIsNkdBQUMsa0RBQWtELDZHQUFDLHNCQUFzQixnQkFBZ0IsOEdBQThHLDZHQUFDLDZHQUE2Ryx1RkFBQyxLQUFLLDRCQUE0QixrQ0FBa0Msa0NBQWtDLGtCQUFrQixzRUFBc0Usc0RBQUMsZ0NBQWdDLFFBQVEsSUFBSSxLQUFLLGFBQWEsZ0JBQWdCLHdCQUF3QixRQUFRLFFBQVEsV0FBVyxXQUFXLDJCQUEyQixzQkFBc0Isb0RBQUMsT0FBNEYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9UaW1lRXh0ZW50LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9fY29tbW9uanNIZWxwZXJzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvQ29sbGVjdGlvbkZsYXR0ZW5lci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL2xvYWRBbGwuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9yZWFjdGl2ZVV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvdGltZVV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9Hcm91cExheWVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9taXhpbnMvUG9ydGFsTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc3VwcG9ydC9MYXllcnNNaXhpbi5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zdXBwb3J0L1RhYmxlc01peGluLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3N1cHBvcnQvY29sbGVjdGlvblV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3N1cHBvcnQvdGFnU3ltYm9scy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93ZWJkb2Mvc3VwcG9ydC93cml0ZVV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtKU09OU3VwcG9ydCBhcyBlfWZyb21cIi4vY29yZS9KU09OU3VwcG9ydC5qc1wiO2ltcG9ydHthcHBseVNvbWUgYXMgcn1mcm9tXCIuL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7dHJ1bmNhdGVEYXRlIGFzIHMsb2Zmc2V0RGF0ZSBhcyBufWZyb21cIi4vY29yZS90aW1lVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaX1mcm9tXCIuL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4vY29yZS9oYXMuanNcIjtpbXBvcnR7cmVhZGVyIGFzIGx9ZnJvbVwiLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt3cml0ZXIgYXMgYX1mcm9tXCIuL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvd3JpdGVyLmpzXCI7dmFyIHU7bGV0IG09dT1jbGFzcyBleHRlbmRzIGV7c3RhdGljIGdldCBhbGxUaW1lKCl7cmV0dXJuIHB9c3RhdGljIGdldCBlbXB0eSgpe3JldHVybiBkfWNvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZW5kPW51bGwsdGhpcy5zdGFydD1udWxsfXJlYWRFbmQodCxlKXtyZXR1cm4gbnVsbCE9ZS5lbmQ/bmV3IERhdGUoZS5lbmQpOm51bGx9d3JpdGVFbmQodCxlKXtlLmVuZD10P3QuZ2V0VGltZSgpOm51bGx9Z2V0IGlzQWxsVGltZSgpe3JldHVybiB0aGlzLmVxdWFscyh1LmFsbFRpbWUpfWdldCBpc0VtcHR5KCl7cmV0dXJuIHRoaXMuZXF1YWxzKHUuZW1wdHkpfXJlYWRTdGFydCh0LGUpe3JldHVybiBudWxsIT1lLnN0YXJ0P25ldyBEYXRlKGUuc3RhcnQpOm51bGx9d3JpdGVTdGFydCh0LGUpe2Uuc3RhcnQ9dD90LmdldFRpbWUoKTpudWxsfWNsb25lKCl7cmV0dXJuIG5ldyB1KHtlbmQ6dGhpcy5lbmQsc3RhcnQ6dGhpcy5zdGFydH0pfWVxdWFscyh0KXtpZighdClyZXR1cm4hMTtjb25zdCBlPW51bGwhPXRoaXMuc3RhcnQ/dGhpcy5zdGFydC5nZXRUaW1lKCk6dGhpcy5zdGFydCxyPW51bGwhPXRoaXMuZW5kP3RoaXMuZW5kLmdldFRpbWUoKTp0aGlzLmVuZCxzPW51bGwhPXQuc3RhcnQ/dC5zdGFydC5nZXRUaW1lKCk6dC5zdGFydCxuPW51bGwhPXQuZW5kP3QuZW5kLmdldFRpbWUoKTp0LmVuZDtyZXR1cm4gZT09PXMmJnI9PT1ufWV4cGFuZFRvKHQpe2lmKHRoaXMuaXNFbXB0eXx8dGhpcy5pc0FsbFRpbWUpcmV0dXJuIHRoaXMuY2xvbmUoKTtjb25zdCBlPXIodGhpcy5zdGFydCwoZT0+cyhlLHQpKSksaT1yKHRoaXMuZW5kLChlPT57Y29uc3Qgcj1zKGUsdCk7cmV0dXJuIGUuZ2V0VGltZSgpPT09ci5nZXRUaW1lKCk/cjpuKHIsMSx0KX0pKTtyZXR1cm4gbmV3IHUoe3N0YXJ0OmUsZW5kOml9KX1pbnRlcnNlY3Rpb24odCl7aWYoIXQpcmV0dXJuIHRoaXMuY2xvbmUoKTtpZih0aGlzLmlzRW1wdHl8fHQuaXNFbXB0eSlyZXR1cm4gdS5lbXB0eTtpZih0aGlzLmlzQWxsVGltZSlyZXR1cm4gdC5jbG9uZSgpO2lmKHQuaXNBbGxUaW1lKXJldHVybiB0aGlzLmNsb25lKCk7Y29uc3QgZT10aGlzLnN0YXJ0Py5nZXRUaW1lKCk/Py0xLzAscj10aGlzLmVuZD8uZ2V0VGltZSgpPz8xLzAscz10LnN0YXJ0Py5nZXRUaW1lKCk/Py0xLzAsbj10LmVuZD8uZ2V0VGltZSgpPz8xLzA7bGV0IGksbDtpZihzPj1lJiZzPD1yP2k9czplPj1zJiZlPD1uJiYoaT1lKSxyPj1zJiZyPD1uP2w9cjpuPj1lJiZuPD1yJiYobD1uKSxudWxsIT1pJiZudWxsIT1sJiYhaXNOYU4oaSkmJiFpc05hTihsKSl7Y29uc3QgdD1uZXcgdTtyZXR1cm4gdC5zdGFydD1pPT09LTEvMD9udWxsOm5ldyBEYXRlKGkpLHQuZW5kPWw9PT0xLzA/bnVsbDpuZXcgRGF0ZShsKSx0fXJldHVybiB1LmVtcHR5fW9mZnNldCh0LGUpe2lmKHRoaXMuaXNFbXB0eXx8dGhpcy5pc0FsbFRpbWUpcmV0dXJuIHRoaXMuY2xvbmUoKTtjb25zdCByPW5ldyB1LHtzdGFydDpzLGVuZDppfT10aGlzO3JldHVybiBudWxsIT1zJiYoci5zdGFydD1uKHMsdCxlKSksbnVsbCE9aSYmKHIuZW5kPW4oaSx0LGUpKSxyfXVuaW9uKHQpe2lmKCF0fHx0LmlzRW1wdHkpcmV0dXJuIHRoaXMuY2xvbmUoKTtpZih0aGlzLmlzRW1wdHkpcmV0dXJuIHQuY2xvbmUoKTtpZih0aGlzLmlzQWxsVGltZXx8dC5pc0FsbFRpbWUpcmV0dXJuIHAuY2xvbmUoKTtjb25zdCBlPW51bGwhPXRoaXMuc3RhcnQmJm51bGwhPXQuc3RhcnQ/bmV3IERhdGUoTWF0aC5taW4odGhpcy5zdGFydC5nZXRUaW1lKCksdC5zdGFydC5nZXRUaW1lKCkpKTpudWxsLHI9bnVsbCE9dGhpcy5lbmQmJm51bGwhPXQuZW5kP25ldyBEYXRlKE1hdGgubWF4KHRoaXMuZW5kLmdldFRpbWUoKSx0LmVuZC5nZXRUaW1lKCkpKTpudWxsO3JldHVybiBuZXcgdSh7c3RhcnQ6ZSxlbmQ6cn0pfX07dChbaSh7dHlwZTpEYXRlLGpzb246e3dyaXRlOnthbGxvd051bGw6ITB9fX0pXSxtLnByb3RvdHlwZSxcImVuZFwiLHZvaWQgMCksdChbbChcImVuZFwiKV0sbS5wcm90b3R5cGUsXCJyZWFkRW5kXCIsbnVsbCksdChbYShcImVuZFwiKV0sbS5wcm90b3R5cGUsXCJ3cml0ZUVuZFwiLG51bGwpLHQoW2koe3JlYWRPbmx5OiEwLGpzb246e3JlYWQ6ITF9fSldLG0ucHJvdG90eXBlLFwiaXNBbGxUaW1lXCIsbnVsbCksdChbaSh7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sbS5wcm90b3R5cGUsXCJpc0VtcHR5XCIsbnVsbCksdChbaSh7dHlwZTpEYXRlLGpzb246e3dyaXRlOnthbGxvd051bGw6ITB9fX0pXSxtLnByb3RvdHlwZSxcInN0YXJ0XCIsdm9pZCAwKSx0KFtsKFwic3RhcnRcIildLG0ucHJvdG90eXBlLFwicmVhZFN0YXJ0XCIsbnVsbCksdChbYShcInN0YXJ0XCIpXSxtLnByb3RvdHlwZSxcIndyaXRlU3RhcnRcIixudWxsKSxtPXU9dChbbyhcImVzcmkuVGltZUV4dGVudFwiKV0sbSk7Y29uc3QgcD1uZXcgbSxkPW5ldyBtKHtzdGFydDp2b2lkIDAsZW5kOnZvaWQgMH0pLGM9bTtleHBvcnR7YyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e307ZnVuY3Rpb24gdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlZmF1bHRcIik/ZS5kZWZhdWx0OmV9ZnVuY3Rpb24gbihlKXtpZihlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9ZS5kZWZhdWx0O2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpe3ZhciBuPWZ1bmN0aW9uIGUoKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7dmFyIG49W251bGxdO3JldHVybiBuLnB1c2guYXBwbHkobixhcmd1bWVudHMpLG5ldyhGdW5jdGlvbi5iaW5kLmFwcGx5KHQsbikpfXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bi5wcm90b3R5cGU9dC5wcm90b3R5cGV9ZWxzZSBuPXt9O3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCxvLmdldD9vOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlW3RdfX0pfSkpLG59ZXhwb3J0e24gYXMgYSxlIGFzIGMsdCBhcyBnfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgbyBmcm9tXCIuL0NvbGxlY3Rpb24uanNcIjtpbXBvcnRcIi4vRXJyb3IuanNcIjtpbXBvcnRcIi4vTG9nZ2VyLmpzXCI7aW1wb3J0XCIuL2FjY2Vzc29yU3VwcG9ydC93YXRjaC5qc1wiO2ltcG9ydHthdXRvcnVuIGFzIHN9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvdHJhY2tpbmdVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBlfWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgcn1mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7bGV0IGk9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZ2V0Q29sbGVjdGlvbnM9bnVsbH1pbml0aWFsaXplKCl7dGhpcy5vd24ocygoKCk9PnRoaXMuX3JlZnJlc2goKSkpKX1kZXN0cm95KCl7dGhpcy5nZXRDb2xsZWN0aW9ucz1udWxsfV9yZWZyZXNoKCl7Y29uc3QgdD1udWxsIT10aGlzLmdldENvbGxlY3Rpb25zP3RoaXMuZ2V0Q29sbGVjdGlvbnMoKTpudWxsO2lmKG51bGw9PXQpcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVBbGwoKTtsZXQgbz0wO2Zvcihjb25zdCBzIG9mIHQpbnVsbCE9cyYmKG89dGhpcy5fcHJvY2Vzc0NvbGxlY3Rpb24obyxzKSk7dGhpcy5zcGxpY2Uobyx0aGlzLmxlbmd0aCl9X2NyZWF0ZU5ld0luc3RhbmNlKHQpe3JldHVybiBuZXcgbyh0KX1fcHJvY2Vzc0NvbGxlY3Rpb24odCxvKXtpZighbylyZXR1cm4gdDtjb25zdCBzPXRoaXMuaXRlbUZpbHRlckZ1bmN0aW9uPz8odD0+ISF0KTtmb3IoY29uc3QgZSBvZiBvKWlmKGUpe2lmKHMoZSkpe2NvbnN0IG89dGhpcy5pbmRleE9mKGUsdCk7bz49MD9vIT09dCYmdGhpcy5yZW9yZGVyKGUsdCk6dGhpcy5hZGQoZSx0KSwrK3R9aWYodGhpcy5nZXRDaGlsZHJlbkZ1bmN0aW9uKXtjb25zdCBvPXRoaXMuZ2V0Q2hpbGRyZW5GdW5jdGlvbihlKTtpZihBcnJheS5pc0FycmF5KG8pKWZvcihjb25zdCBzIG9mIG8pdD10aGlzLl9wcm9jZXNzQ29sbGVjdGlvbih0LHMpO2Vsc2UgdD10aGlzLl9wcm9jZXNzQ29sbGVjdGlvbih0LG8pfX1yZXR1cm4gdH19O3QoW2UoKV0saS5wcm90b3R5cGUsXCJnZXRDb2xsZWN0aW9uc1wiLHZvaWQgMCksdChbZSgpXSxpLnByb3RvdHlwZSxcImdldENoaWxkcmVuRnVuY3Rpb25cIix2b2lkIDApLHQoW2UoKV0saS5wcm90b3R5cGUsXCJpdGVtRmlsdGVyRnVuY3Rpb25cIix2b2lkIDApLGk9dChbcihcImVzcmkuY29yZS5Db2xsZWN0aW9uRmxhdHRlbmVyXCIpXSxpKTtjb25zdCBuPWk7ZXhwb3J0e24gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e21hcCBhcyBvLHJlc3VsdCBhcyBsfWZyb21cIi4vYXN5bmNVdGlscy5qc1wiO2ltcG9ydCBuIGZyb21cIi4vQ29sbGVjdGlvbi5qc1wiO2ltcG9ydCByIGZyb21cIi4vTG9hZGFibGUuanNcIjthc3luYyBmdW5jdGlvbiB0KG8sbCl7cmV0dXJuIGF3YWl0IG8ubG9hZCgpLGEobyxsKX1hc3luYyBmdW5jdGlvbiBhKHQsYSl7Y29uc3Qgcz1bXSxjPSguLi5vKT0+e2Zvcihjb25zdCBsIG9mIG8pbnVsbCE9bCYmKEFycmF5LmlzQXJyYXkobCk/YyguLi5sKTpuLmlzQ29sbGVjdGlvbihsKT9sLmZvckVhY2goKG89PmMobykpKTpyLmlzTG9hZGFibGUobCkmJnMucHVzaChsKSl9O2EoYyk7bGV0IGY9bnVsbDtpZihhd2FpdCBvKHMsKGFzeW5jIG89Pntjb25zdCBuPWF3YWl0IGwoaShvKT9vLmxvYWRBbGwoKTpvLmxvYWQoKSk7ITEhPT1uLm9rfHxmfHwoZj1uKX0pKSxmKXRocm93IGYuZXJyb3I7cmV0dXJuIHR9ZnVuY3Rpb24gaShvKXtyZXR1cm5cImxvYWRBbGxcImluIG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8ubG9hZEFsbH1leHBvcnR7dCBhcyBsb2FkQWxsLGEgYXMgbG9hZEFsbENoaWxkcmVufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNFdmVudFRhcmdldCBhcyBuLG9uIGFzIHR9ZnJvbVwiLi9ldmVudHMuanNcIjtpbXBvcnR7aGFuZGxlc0dyb3VwIGFzIHIsbWFrZUhhbmRsZSBhcyBlfWZyb21cIi4vaGFuZGxlVXRpbHMuanNcIjtpbXBvcnR7cmVtb3ZlTWF5YmUgYXMgb31mcm9tXCIuL21heWJlLmpzXCI7aW1wb3J0e2lzQWJvcnRlZCBhcyBpLGNyZWF0ZUFib3J0RXJyb3IgYXMgdSxvbkFib3J0IGFzIHN9ZnJvbVwiLi9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2F0Y2hUcmFja2VkIGFzIGN9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvd2F0Y2guanNcIjtleHBvcnR7YXV0b3J1bn1mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC90cmFja2luZ1V0aWxzLmpzXCI7ZnVuY3Rpb24gbChuLHQscj17fSl7cmV0dXJuIG0obix0LHIseSl9ZnVuY3Rpb24gZihuLHQscj17fSl7cmV0dXJuIG0obix0LHIsZCl9ZnVuY3Rpb24gbShuLHQscj17fSxlKXtsZXQgaT1udWxsO2NvbnN0IHU9ci5vbmNlPyhuLHIpPT57ZShuKSYmKG8oaSksdChuLHIpKX06KG4scik9PntlKG4pJiZ0KG4scil9O2lmKGk9YyhuLHUsci5zeW5jLHIuZXF1YWxzKSxyLmluaXRpYWwpe2NvbnN0IHQ9bigpO3UodCx0KX1yZXR1cm4gaX1mdW5jdGlvbiBhKHIsaSx1LHM9e30pe2xldCBjPW51bGwsZj1udWxsLG09bnVsbDtmdW5jdGlvbiBhKCl7YyYmZiYmKGYucmVtb3ZlKCkscy5vbkxpc3RlbmVyUmVtb3ZlPy4oYyksYz1udWxsLGY9bnVsbCl9ZnVuY3Rpb24gcChuKXtzLm9uY2UmJnMub25jZSYmbyhtKSx1KG4pfWNvbnN0IGo9bChyLCgocixlKT0+e2EoKSxuKHIpJiYoYz1yLGY9dChyLGkscCkscy5vbkxpc3RlbmVyQWRkPy4ocikpfSkse3N5bmM6cy5zeW5jLGluaXRpYWw6ITB9KTtyZXR1cm4gbT1lKCgoKT0+e2oucmVtb3ZlKCksYSgpfSkpLG19ZnVuY3Rpb24gcChuLHQpe3JldHVybiB2KG4sbnVsbCx0KX1mdW5jdGlvbiBqKG4sdCl7cmV0dXJuIHYobixkLHQpfWZ1bmN0aW9uIHYobix0LGUpe2lmKGkoZSkpcmV0dXJuIFByb21pc2UucmVqZWN0KHUoKSk7Y29uc3QgYz1uKCk7aWYodD8uKGMpKXJldHVybiBQcm9taXNlLnJlc29sdmUoYyk7bGV0IGw9bnVsbDtmdW5jdGlvbiBmKCl7bD1vKGwpfXJldHVybiBuZXcgUHJvbWlzZSgoKG8saSk9PntsPXIoW3MoZSwoKCk9PntmKCksaSh1KCkpfSkpLG0obiwobj0+e2YoKSxvKG4pfSkse3N5bmM6ITEsb25jZTohMH0sdD8/eSldKX0pKX1mdW5jdGlvbiB5KG4pe3JldHVybiEwfWZ1bmN0aW9uIGQobil7cmV0dXJuISFufWZ1bmN0aW9uIFAobix0LHI9e30pe2xldCBlPSExO2NvbnN0IG89bChuLCgobixyKT0+e2V8fHQobixyKX0pLHIpO3JldHVybntyZW1vdmUoKXtvLnJlbW92ZSgpfSxwYXVzZSgpe2U9ITB9LHJlc3VtZSgpe2U9ITF9fX1jb25zdCBVPXtzeW5jOiEwfSxoPXtpbml0aWFsOiEwfSx3PXtzeW5jOiEwLGluaXRpYWw6ITB9O2V4cG9ydHtoIGFzIGluaXRpYWwsYSBhcyBvbixwIGFzIG9uY2UsUCBhcyBwYXVzYWJsZSxVIGFzIHN5bmMsdyBhcyBzeW5jQW5kSW5pdGlhbCxsIGFzIHdhdGNoLGYgYXMgd2hlbixqIGFzIHdoZW5PbmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4vaGFzLmpzXCI7Y29uc3QgZT17bWlsbGlzZWNvbmRzOjEsc2Vjb25kczoxZTMsbWludXRlczo2ZTQsaG91cnM6MzZlNSxkYXlzOjg2NGU1LHdlZWtzOjYwNDhlNSxtb250aHM6MjY3ODRlNSx5ZWFyczozMTUzNmU2LGRlY2FkZXM6MzE1MzZlNyxjZW50dXJpZXM6MzE1MzZlOH0sdD17bWlsbGlzZWNvbmRzOntnZXR0ZXI6XCJnZXRNaWxsaXNlY29uZHNcIixzZXR0ZXI6XCJzZXRNaWxsaXNlY29uZHNcIixtdWx0aXBsaWVyOjF9LHNlY29uZHM6e2dldHRlcjpcImdldFNlY29uZHNcIixzZXR0ZXI6XCJzZXRTZWNvbmRzXCIsbXVsdGlwbGllcjoxfSxtaW51dGVzOntnZXR0ZXI6XCJnZXRNaW51dGVzXCIsc2V0dGVyOlwic2V0TWludXRlc1wiLG11bHRpcGxpZXI6MX0saG91cnM6e2dldHRlcjpcImdldEhvdXJzXCIsc2V0dGVyOlwic2V0SG91cnNcIixtdWx0aXBsaWVyOjF9LGRheXM6e2dldHRlcjpcImdldERhdGVcIixzZXR0ZXI6XCJzZXREYXRlXCIsbXVsdGlwbGllcjoxfSx3ZWVrczp7Z2V0dGVyOlwiZ2V0RGF0ZVwiLHNldHRlcjpcInNldERhdGVcIixtdWx0aXBsaWVyOjd9LG1vbnRoczp7Z2V0dGVyOlwiZ2V0TW9udGhcIixzZXR0ZXI6XCJzZXRNb250aFwiLG11bHRpcGxpZXI6MX0seWVhcnM6e2dldHRlcjpcImdldEZ1bGxZZWFyXCIsc2V0dGVyOlwic2V0RnVsbFllYXJcIixtdWx0aXBsaWVyOjF9LGRlY2FkZXM6e2dldHRlcjpcImdldEZ1bGxZZWFyXCIsc2V0dGVyOlwic2V0RnVsbFllYXJcIixtdWx0aXBsaWVyOjEwfSxjZW50dXJpZXM6e2dldHRlcjpcImdldEZ1bGxZZWFyXCIsc2V0dGVyOlwic2V0RnVsbFllYXJcIixtdWx0aXBsaWVyOjEwMH19O2Z1bmN0aW9uIHMoZSx0KXtjb25zdCBzPW5ldyBEYXRlKGUsdCsxLDEpO3JldHVybiBzLnNldERhdGUoMCkscy5nZXREYXRlKCl9ZnVuY3Rpb24gbihlLG4scil7Y29uc3QgbD1uZXcgRGF0ZShlLmdldFRpbWUoKSk7aWYobiYmcil7Y29uc3QgZT10W3JdLHtnZXR0ZXI6dSxzZXR0ZXI6aSxtdWx0aXBsaWVyOmF9PWU7aWYoXCJtb250aHNcIj09PXIpe2NvbnN0IGU9cyhsLmdldEZ1bGxZZWFyKCksbC5nZXRNb250aCgpK24pO2wuZ2V0RGF0ZSgpPmUmJmwuc2V0RGF0ZShlKX1sW2ldKGxbdV0oKStuKmEpfXJldHVybiBsfWZ1bmN0aW9uIHIoZSx0LHM9XCJtaWxsaXNlY29uZHNcIil7Y29uc3Qgbj1lLmdldFRpbWUoKSxyPWcodCxzLFwibWlsbGlzZWNvbmRzXCIpO3JldHVybiBuZXcgRGF0ZShuK3IpfWZ1bmN0aW9uIGwoZSx0KXtzd2l0Y2godCl7Y2FzZVwibWlsbGlzZWNvbmRzXCI6cmV0dXJuIG5ldyBEYXRlKGUuZ2V0VGltZSgpKTtjYXNlXCJzZWNvbmRzXCI6cmV0dXJuIG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSxlLmdldE1vbnRoKCksZS5nZXREYXRlKCksZS5nZXRIb3VycygpLGUuZ2V0TWludXRlcygpLGUuZ2V0U2Vjb25kcygpKTtjYXNlXCJtaW51dGVzXCI6cmV0dXJuIG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSxlLmdldE1vbnRoKCksZS5nZXREYXRlKCksZS5nZXRIb3VycygpLGUuZ2V0TWludXRlcygpKTtjYXNlXCJob3Vyc1wiOnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksZS5nZXRNb250aCgpLGUuZ2V0RGF0ZSgpLGUuZ2V0SG91cnMoKSk7Y2FzZVwiZGF5c1wiOnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksZS5nZXRNb250aCgpLGUuZ2V0RGF0ZSgpKTtjYXNlXCJ3ZWVrc1wiOnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksZS5nZXRNb250aCgpLGUuZ2V0RGF0ZSgpLWUuZ2V0RGF5KCkpO2Nhc2VcIm1vbnRoc1wiOnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksZS5nZXRNb250aCgpLDEpO2Nhc2VcInllYXJzXCI6cmV0dXJuIG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSwwLDEpO2Nhc2VcImRlY2FkZXNcIjpyZXR1cm4gbmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLWUuZ2V0RnVsbFllYXIoKSUxMCwwLDEpO2Nhc2VcImNlbnR1cmllc1wiOnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCktZS5nZXRGdWxsWWVhcigpJTEwMCwwLDEpO2RlZmF1bHQ6cmV0dXJuIG5ldyBEYXRlfX1mdW5jdGlvbiB1KGUsdCxzPVwibWlsbGlzZWNvbmRzXCIpe2NvbnN0IG49bmV3IERhdGUoZyh0LHMsXCJtaWxsaXNlY29uZHNcIikpO3JldHVybiBuLnNldFVUQ0Z1bGxZZWFyKGUuZ2V0VVRDRnVsbFllYXIoKSxlLmdldFVUQ01vbnRoKCksZS5nZXRVVENEYXRlKCkpLG59ZnVuY3Rpb24gaShlLHQ9XCJtaWxsaXNlY29uZHNcIil7Y29uc3Qgcz1nKGUuZ2V0VVRDSG91cnMoKSxcImhvdXJzXCIsXCJtaWxsaXNlY29uZHNcIiksbj1nKGUuZ2V0VVRDTWludXRlcygpLFwibWludXRlc1wiLFwibWlsbGlzZWNvbmRzXCIpLHI9ZyhlLmdldFVUQ1NlY29uZHMoKSxcInNlY29uZHNcIixcIm1pbGxpc2Vjb25kc1wiKTtyZXR1cm4gZyhzK24rcitlLmdldFVUQ01pbGxpc2Vjb25kcygpLFwibWlsbGlzZWNvbmRzXCIsdCl9ZnVuY3Rpb24gYShlLHQpe2NvbnN0IHM9bmV3IERhdGUoZS5nZXRUaW1lKCkpO3JldHVybiBzLnNldFVUQ0Z1bGxZZWFyKHQuZ2V0RnVsbFllYXIoKSx0LmdldE1vbnRoKCksdC5nZXREYXRlKCkpLHN9ZnVuY3Rpb24gbyhlKXtjb25zdCB0PW5ldyBEYXRlKDApO3JldHVybiB0LnNldEhvdXJzKDApLHQuc2V0TWludXRlcygwKSx0LnNldFNlY29uZHMoMCksdC5zZXRNaWxsaXNlY29uZHMoMCksdC5zZXRGdWxsWWVhcihlLmdldFVUQ0Z1bGxZZWFyKCksZS5nZXRVVENNb250aCgpLGUuZ2V0VVRDRGF0ZSgpKSx0fWZ1bmN0aW9uIGcodCxzLG4pe2lmKDA9PT10KXJldHVybiAwO3JldHVybiB0KmVbc10vZVtuXX1mdW5jdGlvbiBjKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRGF0ZSYmIWlzTmFOKGUuZ2V0VGltZSgpKX1leHBvcnR7ZyBhcyBjb252ZXJ0VGltZSxjIGFzIGlzVmFsaWREYXRlLHUgYXMgbWFrZVVUQ1RpbWUsbiBhcyBvZmZzZXREYXRlLHIgYXMgb2Zmc2V0RGF0ZVVUQyxhIGFzIHJlc2V0VVRDRGF0ZSxpIGFzIHRpbWVTaW5jZVVUQ01pZG5pZ2h0LGwgYXMgdHJ1bmNhdGVEYXRlLG8gYXMgdHJ1bmNhdGVMb2NhbFRpbWV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBpIGZyb21cIi4uL2NvcmUvQ29sbGVjdGlvbkZsYXR0ZW5lci5qc1wiO2ltcG9ydHtsb2FkQWxsIGFzIHR9ZnJvbVwiLi4vY29yZS9sb2FkQWxsLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7TXVsdGlPcmlnaW5KU09OTWl4aW4gYXMgc31mcm9tXCIuLi9jb3JlL011bHRpT3JpZ2luSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7d2F0Y2ggYXMgbyxzeW5jQW5kSW5pdGlhbCBhcyBsLG9uIGFzIGEsc3luYyBhcyBufWZyb21cIi4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBwfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7Z2V0UHJvcGVydGllcyBhcyBkfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L3V0aWxzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHl9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt3cml0ZXIgYXMgaH1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3dyaXRlci5qc1wiO2ltcG9ydCBjIGZyb21cIi4vTGF5ZXIuanNcIjtpbXBvcnR7QmxlbmRMYXllciBhcyBtfWZyb21cIi4vbWl4aW5zL0JsZW5kTGF5ZXIuanNcIjtpbXBvcnR7T3BlcmF0aW9uYWxMYXllciBhcyB1fWZyb21cIi4vbWl4aW5zL09wZXJhdGlvbmFsTGF5ZXIuanNcIjtpbXBvcnR7UG9ydGFsTGF5ZXIgYXMgYn1mcm9tXCIuL21peGlucy9Qb3J0YWxMYXllci5qc1wiO2ltcG9ydHtTY2FsZVJhbmdlTGF5ZXIgYXMgdn1mcm9tXCIuL21peGlucy9TY2FsZVJhbmdlTGF5ZXIuanNcIjtpbXBvcnR7bGF5ZXJMb29rdXBNYXAgYXMgZn1mcm9tXCIuL3N1cHBvcnQvbGF6eUxheWVyTG9hZGVyLmpzXCI7aW1wb3J0e2NyZWF0ZUZsYXR0ZW5lZFRhYmxlc0NvbGxlY3Rpb24gYXMgan1mcm9tXCIuLi9zdXBwb3J0L2NvbGxlY3Rpb25VdGlscy5qc1wiO2ltcG9ydHtMYXllcnNNaXhpbiBhcyBMfWZyb21cIi4uL3N1cHBvcnQvTGF5ZXJzTWl4aW4uanNcIjtpbXBvcnR7VGFibGVzTWl4aW4gYXMgZ31mcm9tXCIuLi9zdXBwb3J0L1RhYmxlc01peGluLmpzXCI7aW1wb3J0e1dlYlNjZW5lVGFnIGFzIF99ZnJvbVwiLi4vc3VwcG9ydC90YWdTeW1ib2xzLmpzXCI7aW1wb3J0e2dldExheWVySlNPTiBhcyBPfWZyb21cIi4uL3dlYmRvYy9zdXBwb3J0L3dyaXRlVXRpbHMuanNcIjtsZXQgdz1jbGFzcyBleHRlbmRzKG0odih1KGIoZyhMKHMoYykpKSkpKSkpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuYWxsTGF5ZXJzPW5ldyBpKHtnZXRDb2xsZWN0aW9uczooKT0+W3RoaXMubGF5ZXJzXSxnZXRDaGlsZHJlbkZ1bmN0aW9uOmU9PlwibGF5ZXJzXCJpbiBlP2UubGF5ZXJzOm51bGx9KSx0aGlzLmFsbFRhYmxlcz1qKHRoaXMpLHRoaXMuZnVsbEV4dGVudD12b2lkIDAsdGhpcy5vcGVyYXRpb25hbExheWVyVHlwZT1cIkdyb3VwTGF5ZXJcIix0aGlzLnNwYXRpYWxSZWZlcmVuY2U9dm9pZCAwLHRoaXMudHlwZT1cImdyb3VwXCJ9aW5pdGlhbGl6ZSgpe3RoaXMuX2VuZm9yY2VWaXNpYmlsaXR5KHRoaXMudmlzaWJpbGl0eU1vZGUsdGhpcy52aXNpYmxlKSx0aGlzLmFkZEhhbmRsZXMoW28oKCgpPT57bGV0IGU9dGhpcy5wYXJlbnQ7Zm9yKDtlJiZcInBhcmVudFwiaW4gZSYmZS5wYXJlbnQ7KWU9ZS5wYXJlbnQ7cmV0dXJuIGUmJl8gaW4gZX0pLChlPT57Y29uc3QgaT1cInByZXZlbnQtYWRkaW5nLXRhYmxlc1wiO3RoaXMucmVtb3ZlSGFuZGxlcyhpKSxlJiYodGhpcy50YWJsZXMucmVtb3ZlQWxsKCksdGhpcy5hZGRIYW5kbGVzKGEoKCgpPT50aGlzLnRhYmxlcyksXCJiZWZvcmUtYWRkXCIsKGU9PntlLnByZXZlbnREZWZhdWx0KCksci5nZXRMb2dnZXIodGhpcykuZXJyb3JPbmNlKFwidGFibGVzXCIsXCJUYWJsZXMgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkIGluIGEgV2ViU2NlbmUgc28gdGhleSBjYW4ndCBiZSBhZGRlZC5cIil9KSksaSkpfSksbCksbygoKCk9PnRoaXMudmlzaWJsZSksdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlLmJpbmQodGhpcyksbildKX1kZXN0cm95KCl7dGhpcy5hbGxMYXllcnMuZGVzdHJveSgpLHRoaXMuYWxsVGFibGVzLmRlc3Ryb3koKX1fd3JpdGVMYXllcnMoZSxpLHQscil7Y29uc3Qgcz1bXTtpZighZSlyZXR1cm4gcztlLmZvckVhY2goKGU9Pntjb25zdCBpPU8oZSxyLndlYm1hcD9yLndlYm1hcC5nZXRMYXllckpTT05Gcm9tUmVzb3VyY2VJbmZvKGUpOm51bGwscik7bnVsbCE9aSYmaS5sYXllclR5cGUmJnMucHVzaChpKX0pKSxpLmxheWVycz1zfXNldCBwb3J0YWxJdGVtKGUpe3RoaXMuX3NldChcInBvcnRhbEl0ZW1cIixlKX1zZXQgdmlzaWJpbGl0eU1vZGUoZSl7Y29uc3QgaT10aGlzLl9nZXQoXCJ2aXNpYmlsaXR5TW9kZVwiKSE9PWU7dGhpcy5fc2V0KFwidmlzaWJpbGl0eU1vZGVcIixlKSxpJiZ0aGlzLl9lbmZvcmNlVmlzaWJpbGl0eShlLHRoaXMudmlzaWJsZSl9bG9hZChlKXtyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMubG9hZEZyb21Qb3J0YWwoe3N1cHBvcnRlZFR5cGVzOltcIkZlYXR1cmUgU2VydmljZVwiLFwiRmVhdHVyZSBDb2xsZWN0aW9uXCIsXCJTY2VuZSBTZXJ2aWNlXCJdLGxheWVyTW9kdWxlVHlwZU1hcDpmfSxlKSksUHJvbWlzZS5yZXNvbHZlKHRoaXMpfWFzeW5jIGxvYWRBbGwoKXtyZXR1cm4gdCh0aGlzLChlPT57ZSh0aGlzLmxheWVycyx0aGlzLnRhYmxlcyl9KSl9bGF5ZXJBZGRlZChlKXtlLnZpc2libGUmJlwiZXhjbHVzaXZlXCI9PT10aGlzLnZpc2liaWxpdHlNb2RlP3RoaXMuX3R1cm5PZmZPdGhlckxheWVycyhlKTpcImluaGVyaXRlZFwiPT09dGhpcy52aXNpYmlsaXR5TW9kZSYmKGUudmlzaWJsZT10aGlzLnZpc2libGUpLHRoaXMuaGFzSGFuZGxlcyhlLnVpZCk/Y29uc29sZS5lcnJvcihgTGF5ZXIgcmVhZGRlZCB0byBHcm91cGxheWVyOiB1aWQ9JHtlLnVpZH1gKTp0aGlzLmFkZEhhbmRsZXMobygoKCk9PmUudmlzaWJsZSksKGk9PnRoaXMuX29uQ2hpbGRWaXNpYmlsaXR5Q2hhbmdlKGUsaSkpLG4pLGUudWlkKX1sYXllclJlbW92ZWQoZSl7dGhpcy5yZW1vdmVIYW5kbGVzKGUudWlkKSx0aGlzLl9lbmZvcmNlVmlzaWJpbGl0eSh0aGlzLnZpc2liaWxpdHlNb2RlLHRoaXMudmlzaWJsZSl9X3R1cm5PZmZPdGhlckxheWVycyhlKXt0aGlzLmxheWVycy5mb3JFYWNoKChpPT57aSE9PWUmJihpLnZpc2libGU9ITEpfSkpfV9lbmZvcmNlVmlzaWJpbGl0eShlLGkpe2lmKCFkKHRoaXMpLmluaXRpYWxpemVkKXJldHVybjtjb25zdCB0PXRoaXMubGF5ZXJzO2xldCByPXQuZmluZCgoZT0+ZS52aXNpYmxlKSk7c3dpdGNoKGUpe2Nhc2VcImV4Y2x1c2l2ZVwiOnQubGVuZ3RoJiYhciYmKHI9dC5hdCgwKSxyLnZpc2libGU9ITApLHRoaXMuX3R1cm5PZmZPdGhlckxheWVycyhyKTticmVhaztjYXNlXCJpbmhlcml0ZWRcIjp0LmZvckVhY2goKGU9PntlLnZpc2libGU9aX0pKX19X29uVmlzaWJpbGl0eUNoYW5nZShlKXtcImluaGVyaXRlZFwiPT09dGhpcy52aXNpYmlsaXR5TW9kZSYmdGhpcy5sYXllcnMuZm9yRWFjaCgoaT0+e2kudmlzaWJsZT1lfSkpfV9vbkNoaWxkVmlzaWJpbGl0eUNoYW5nZShlLGkpe3N3aXRjaCh0aGlzLnZpc2liaWxpdHlNb2RlKXtjYXNlXCJleGNsdXNpdmVcIjppP3RoaXMuX3R1cm5PZmZPdGhlckxheWVycyhlKTp0aGlzLl9pc0FueUxheWVyVmlzaWJsZSgpfHwoZS52aXNpYmxlPSEwKTticmVhaztjYXNlXCJpbmhlcml0ZWRcIjplLnZpc2libGU9dGhpcy52aXNpYmxlfX1faXNBbnlMYXllclZpc2libGUoKXtyZXR1cm4gdGhpcy5sYXllcnMuc29tZSgoZT0+ZS52aXNpYmxlKSl9fTtlKFtwKHtyZWFkT25seTohMCxkZXBlbmRzT246W119KV0sdy5wcm90b3R5cGUsXCJhbGxMYXllcnNcIix2b2lkIDApLGUoW3Aoe3JlYWRPbmx5OiEwfSldLHcucHJvdG90eXBlLFwiYWxsVGFibGVzXCIsdm9pZCAwKSxlKFtwKCldLHcucHJvdG90eXBlLFwiZnVsbEV4dGVudFwiLHZvaWQgMCksZShbcCh7anNvbjp7cmVhZDohMCx3cml0ZTohMH19KV0sdy5wcm90b3R5cGUsXCJibGVuZE1vZGVcIix2b2lkIDApLGUoW3Aoe2pzb246e3JlYWQ6ITEsd3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fSldLHcucHJvdG90eXBlLFwibGF5ZXJzXCIsdm9pZCAwKSxlKFtoKFwibGF5ZXJzXCIpXSx3LnByb3RvdHlwZSxcIl93cml0ZUxheWVyc1wiLG51bGwpLGUoW3Aoe3R5cGU6W1wiR3JvdXBMYXllclwiXX0pXSx3LnByb3RvdHlwZSxcIm9wZXJhdGlvbmFsTGF5ZXJUeXBlXCIsdm9pZCAwKSxlKFtwKHtqc29uOntvcmlnaW5zOntcIndlYi1kb2N1bWVudFwiOntyZWFkOiExLHdyaXRlOiExfX19fSldLHcucHJvdG90eXBlLFwicG9ydGFsSXRlbVwiLG51bGwpLGUoW3AoKV0sdy5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFtwKHtqc29uOntyZWFkOiExfSxyZWFkT25seTohMCx2YWx1ZTpcImdyb3VwXCJ9KV0sdy5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxlKFtwKHt0eXBlOltcImluZGVwZW5kZW50XCIsXCJpbmhlcml0ZWRcIixcImV4Y2x1c2l2ZVwiXSx2YWx1ZTpcImluZGVwZW5kZW50XCIsanNvbjp7d3JpdGU6ITAsb3JpZ2luczp7XCJ3ZWItbWFwXCI6e3R5cGU6W1wiaW5kZXBlbmRlbnRcIixcImV4Y2x1c2l2ZVwiXSx3cml0ZTooZSxpLHQpPT57XCJpbmhlcml0ZWRcIiE9PWUmJihpW3RdPWUpfX19fX0pXSx3LnByb3RvdHlwZSxcInZpc2liaWxpdHlNb2RlXCIsbnVsbCksdz1lKFt5KFwiZXNyaS5sYXllcnMuR3JvdXBMYXllclwiKV0sdyk7Y29uc3QgTT13O2V4cG9ydHtNIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL2NvbmZpZy5qc1wiO2ltcG9ydHtpZCBhcyByfWZyb21cIi4uLy4uL2tlcm5lbC5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnR7cmVzdWx0IGFzIGl9ZnJvbVwiLi4vLi4vY29yZS9hc3luY1V0aWxzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyBsfWZyb21cIi4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgbixpc0Fib3J0RXJyb3IgYXMgcCx0aHJvd0lmQWJvcnRFcnJvciBhcyB1fWZyb21cIi4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2hhc1NhbWVDYW5vbmljYWxQb3J0YWwgYXMgYyxub3JtYWxpemUgYXMgbSxoYXNTYW1lUG9ydGFsIGFzIGR9ZnJvbVwiLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBofWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7cmVhZGVyIGFzIGZ9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9yZWFkZXIuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgZ31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e3dyaXRlciBhcyB5fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvd3JpdGVyLmpzXCI7aW1wb3J0e2dldE93bmluZ1BvcnRhbFVybCBhcyBJfWZyb21cIi4uL3N1cHBvcnQvbGF5ZXJVdGlscy5qc1wiO2ltcG9ydCB2IGZyb21cIi4uLy4uL3BvcnRhbC9Qb3J0YWwuanNcIjtpbXBvcnQgUCBmcm9tXCIuLi8uLi9wb3J0YWwvUG9ydGFsSXRlbS5qc1wiO2ltcG9ydCBVIGZyb21cIi4uLy4uL3BvcnRhbC9Qb3J0YWxVc2VyLmpzXCI7aW1wb3J0e2dldFVzZXJQcml2aWxlZ2VzIGFzIHd9ZnJvbVwiLi4vLi4vcG9ydGFsL3N1cHBvcnQvcG9ydGFsSXRlbVV0aWxzLmpzXCI7Y29uc3Qgaj1qPT57bGV0IF89Y2xhc3MgZXh0ZW5kcyBqe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnJlc291cmNlUmVmZXJlbmNlcz17cG9ydGFsSXRlbTpudWxsLHBhdGhzOltdfSx0aGlzLnVzZXJIYXNFZGl0aW5nUHJpdmlsZWdlcz0hMCx0aGlzLnVzZXJIYXNGdWxsRWRpdGluZ1ByaXZpbGVnZXM9ITEsdGhpcy51c2VySGFzVXBkYXRlSXRlbVByaXZpbGVnZXM9ITF9ZGVzdHJveSgpe3RoaXMucG9ydGFsSXRlbT1sKHRoaXMucG9ydGFsSXRlbSksdGhpcy5yZXNvdXJjZVJlZmVyZW5jZXMucG9ydGFsSXRlbT1udWxsLHRoaXMucmVzb3VyY2VSZWZlcmVuY2VzLnBhdGhzLmxlbmd0aD0wfXNldCBwb3J0YWxJdGVtKHQpe3QhPT10aGlzLl9nZXQoXCJwb3J0YWxJdGVtXCIpJiYodGhpcy5yZW1vdmVPcmlnaW4oXCJwb3J0YWwtaXRlbVwiKSx0aGlzLl9zZXQoXCJwb3J0YWxJdGVtXCIsdCkpfXJlYWRQb3J0YWxJdGVtKHQsZSxyKXtpZihlLml0ZW1JZClyZXR1cm4gbmV3IFAoe2lkOmUuaXRlbUlkLHBvcnRhbDpyJiZyLnBvcnRhbH0pfXdyaXRlUG9ydGFsSXRlbSh0LGUpe3QmJnQuaWQmJihlLml0ZW1JZD10LmlkKX1hc3luYyBsb2FkRnJvbVBvcnRhbCh0LGUpe2lmKHRoaXMucG9ydGFsSXRlbSYmdGhpcy5wb3J0YWxJdGVtLmlkKXRyeXtjb25zdHtsb2FkOnJ9PWF3YWl0IGltcG9ydChcIi4uLy4uL3BvcnRhbC9zdXBwb3J0L2xheWVyc0xvYWRlci5qc1wiKTtyZXR1cm4gbihlKSxhd2FpdCByKHtpbnN0YW5jZTp0aGlzLHN1cHBvcnRlZFR5cGVzOnQuc3VwcG9ydGVkVHlwZXMsdmFsaWRhdGVJdGVtOnQudmFsaWRhdGVJdGVtLHN1cHBvcnRzRGF0YTp0LnN1cHBvcnRzRGF0YSxsYXllck1vZHVsZVR5cGVNYXA6dC5sYXllck1vZHVsZVR5cGVNYXB9LGUpfWNhdGNoKHIpe3Rocm93IHAocil8fGEuZ2V0TG9nZ2VyKHRoaXMpLndhcm4oYEZhaWxlZCB0byBsb2FkIGxheWVyICgke3RoaXMudGl0bGV9LCAke3RoaXMuaWR9KSBwb3J0YWwgaXRlbSAoJHt0aGlzLnBvcnRhbEl0ZW0uaWR9KVxcbiAgJHtyfWApLHJ9fWFzeW5jIGZpbmlzaExvYWRFZGl0YWJsZVBvcnRhbExheWVyKHQpe3RoaXMuX3NldChcInVzZXJIYXNFZGl0aW5nUHJpdmlsZWdlc1wiLGF3YWl0IHRoaXMuX2ZldGNoVXNlckhhc0VkaXRpbmdQcml2aWxlZ2VzKHQpLmNhdGNoKCh0PT4odSh0KSwhMCkpKSl9YXN5bmMgX3NldFVzZXJQcml2aWxlZ2VzKHQscil7aWYoIWUudXNlclByaXZpbGVnZXNBcHBsaWVkKXJldHVybiB0aGlzLmZpbmlzaExvYWRFZGl0YWJsZVBvcnRhbExheWVyKHIpO2lmKHRoaXMudXJsKXRyeXtjb25zdHtmZWF0dXJlczp7ZWRpdDplLGZ1bGxFZGl0OnN9LGNvbnRlbnQ6e3VwZGF0ZUl0ZW06aX19PWF3YWl0IHRoaXMuX2ZldGNoVXNlclByaXZpbGVnZXModCxyKTt0aGlzLl9zZXQoXCJ1c2VySGFzRWRpdGluZ1ByaXZpbGVnZXNcIixlKSx0aGlzLl9zZXQoXCJ1c2VySGFzRnVsbEVkaXRpbmdQcml2aWxlZ2VzXCIscyksdGhpcy5fc2V0KFwidXNlckhhc1VwZGF0ZUl0ZW1Qcml2aWxlZ2VzXCIsaSl9Y2F0Y2gocyl7dShzKX19YXN5bmMgX2ZldGNoVXNlclByaXZpbGVnZXModCxlKXtsZXQgcz10aGlzLnBvcnRhbEl0ZW07aWYoIXR8fCFzfHwhcy5sb2FkZWR8fHMuc291cmNlVXJsKXJldHVybiB0aGlzLl9mZXRjaEZhbGxiYWNrVXNlclByaXZpbGVnZXMoZSk7Y29uc3QgaT10PT09cy5pZDtpZihpJiZzLnBvcnRhbC51c2VyKXJldHVybiB3KHMpO2xldCBvLGE7aWYoaSlvPXMucG9ydGFsLnVybDtlbHNlIHRyeXtvPWF3YWl0IEkodGhpcy51cmwsZSl9Y2F0Y2gobSl7dShtKX1pZighb3x8IWMobyxzLnBvcnRhbC51cmwpKXJldHVybiB0aGlzLl9mZXRjaEZhbGxiYWNrVXNlclByaXZpbGVnZXMoZSk7dHJ5e2NvbnN0IHQ9bnVsbCE9ZT9lLnNpZ25hbDpudWxsO2E9YXdhaXQocj8uZ2V0Q3JlZGVudGlhbChgJHtvfS9zaGFyaW5nYCx7cHJvbXB0OiExLHNpZ25hbDp0fSkpfWNhdGNoKG0pe3UobSl9Y29uc3QgbD0hMCxuPSExLHA9ITE7aWYoIWEpcmV0dXJue2ZlYXR1cmVzOntlZGl0OmwsZnVsbEVkaXQ6bn0sY29udGVudDp7dXBkYXRlSXRlbTpwfX07dHJ5e2lmKGk/YXdhaXQgcy5yZWxvYWQoKToocz1uZXcgUCh7aWQ6dCxwb3J0YWw6e3VybDpvfX0pLGF3YWl0IHMubG9hZChlKSkscy5wb3J0YWwudXNlcilyZXR1cm4gdyhzKX1jYXRjaChtKXt1KG0pfXJldHVybntmZWF0dXJlczp7ZWRpdDpsLGZ1bGxFZGl0Om59LGNvbnRlbnQ6e3VwZGF0ZUl0ZW06cH19fWFzeW5jIF9mZXRjaEZhbGxiYWNrVXNlclByaXZpbGVnZXModCl7bGV0IGU9ITA7dHJ5e2U9YXdhaXQgdGhpcy5fZmV0Y2hVc2VySGFzRWRpdGluZ1ByaXZpbGVnZXModCl9Y2F0Y2gocil7dShyKX1yZXR1cm57ZmVhdHVyZXM6e2VkaXQ6ZSxmdWxsRWRpdDohMX0sY29udGVudDp7dXBkYXRlSXRlbTohMX19fWFzeW5jIF9mZXRjaFVzZXJIYXNFZGl0aW5nUHJpdmlsZWdlcyh0KXtjb25zdCBlPXRoaXMudXJsP3I/LmZpbmRDcmVkZW50aWFsKHRoaXMudXJsKTpudWxsO2lmKCFlKXJldHVybiEwO2NvbnN0IHM9RS5jcmVkZW50aWFsPT09ZT9FLnVzZXI6YXdhaXQgdGhpcy5fZmV0Y2hFZGl0aW5nVXNlcih0KTtyZXR1cm4gRS5jcmVkZW50aWFsPWUsRS51c2VyPXMsbnVsbD09c3x8bnVsbD09cy5wcml2aWxlZ2VzfHxzLnByaXZpbGVnZXMuaW5jbHVkZXMoXCJmZWF0dXJlczp1c2VyOmVkaXRcIil9YXN5bmMgX2ZldGNoRWRpdGluZ1VzZXIodCl7Y29uc3QgZT10aGlzLnBvcnRhbEl0ZW0/LnBvcnRhbD8udXNlcjtpZihlKXJldHVybiBlO2NvbnN0IG89ci5maW5kU2VydmVySW5mbyh0aGlzLnVybD8/XCJcIik7aWYoIW8/Lm93bmluZ1N5c3RlbVVybClyZXR1cm4gbnVsbDtjb25zdCBhPWAke28ub3duaW5nU3lzdGVtVXJsfS9zaGFyaW5nL3Jlc3RgLGw9di5nZXREZWZhdWx0KCk7aWYobCYmbC5sb2FkZWQmJm0obC5yZXN0VXJsKT09PW0oYSkpcmV0dXJuIGwudXNlcjtjb25zdCBuPWAke2F9L2NvbW11bml0eS9zZWxmYCxwPW51bGwhPXQ/dC5zaWduYWw6bnVsbCx1PWF3YWl0IGkocyhuLHthdXRoTW9kZTpcIm5vLXByb21wdFwiLHF1ZXJ5OntmOlwianNvblwifSxzaWduYWw6cH0pKTtyZXR1cm4gdS5vaz9VLmZyb21KU09OKHUudmFsdWUuZGF0YSk6bnVsbH1yZWFkKHQsZSl7ZSYmKGUubGF5ZXI9dGhpcyksc3VwZXIucmVhZCh0LGUpfXdyaXRlKHQsZSl7Y29uc3Qgcj1lJiZlLnBvcnRhbCxzPXRoaXMucG9ydGFsSXRlbSYmdGhpcy5wb3J0YWxJdGVtLmlkJiYodGhpcy5wb3J0YWxJdGVtLnBvcnRhbHx8di5nZXREZWZhdWx0KCkpO3JldHVybiByJiZzJiYhZChzLnJlc3RVcmwsci5yZXN0VXJsKT8oZS5tZXNzYWdlcyYmZS5tZXNzYWdlcy5wdXNoKG5ldyBvKFwibGF5ZXI6Y3Jvc3MtcG9ydGFsXCIsYFRoZSBsYXllciAnJHt0aGlzLnRpdGxlfSAoJHt0aGlzLmlkfSknIGNhbm5vdCBiZSBwZXJzaXN0ZWQgYmVjYXVzZSBpdCByZWZlcnMgdG8gYW4gaXRlbSBvbiBhIGRpZmZlcmVudCBwb3J0YWwgdGhhbiB0aGUgb25lIGJlaW5nIHNhdmVkIHRvLiBUbyBzYXZlLCBzZXQgbGF5ZXIucG9ydGFsSXRlbSB0byBudWxsIG9yIHNhdmUgdG8gdGhlIHNhbWUgcG9ydGFsIGFzIHRoZSBpdGVtIGFzc29jaWF0ZWQgd2l0aCB0aGUgbGF5ZXJgLHtsYXllcjp0aGlzfSkpLG51bGwpOnN1cGVyLndyaXRlKHQsey4uLmUsbGF5ZXI6dGhpc30pfX07cmV0dXJuIHQoW2goe3R5cGU6UH0pXSxfLnByb3RvdHlwZSxcInBvcnRhbEl0ZW1cIixudWxsKSx0KFtmKFwid2ViLWRvY3VtZW50XCIsXCJwb3J0YWxJdGVtXCIsW1wiaXRlbUlkXCJdKV0sXy5wcm90b3R5cGUsXCJyZWFkUG9ydGFsSXRlbVwiLG51bGwpLHQoW3koXCJ3ZWItZG9jdW1lbnRcIixcInBvcnRhbEl0ZW1cIix7aXRlbUlkOnt0eXBlOlN0cmluZ319KV0sXy5wcm90b3R5cGUsXCJ3cml0ZVBvcnRhbEl0ZW1cIixudWxsKSx0KFtoKHtjbG9uYWJsZTohMX0pXSxfLnByb3RvdHlwZSxcInJlc291cmNlUmVmZXJlbmNlc1wiLHZvaWQgMCksdChbaCh7dHlwZTpCb29sZWFuLHJlYWRPbmx5OiEwfSldLF8ucHJvdG90eXBlLFwidXNlckhhc0VkaXRpbmdQcml2aWxlZ2VzXCIsdm9pZCAwKSx0KFtoKHt0eXBlOkJvb2xlYW4scmVhZE9ubHk6ITB9KV0sXy5wcm90b3R5cGUsXCJ1c2VySGFzRnVsbEVkaXRpbmdQcml2aWxlZ2VzXCIsdm9pZCAwKSx0KFtoKHt0eXBlOkJvb2xlYW4scmVhZE9ubHk6ITB9KV0sXy5wcm90b3R5cGUsXCJ1c2VySGFzVXBkYXRlSXRlbVByaXZpbGVnZXNcIix2b2lkIDApLF89dChbZyhcImVzcmkubGF5ZXJzLm1peGlucy5Qb3J0YWxMYXllclwiKV0sXyksX30sRT17Y3JlZGVudGlhbDpudWxsLHVzZXI6bnVsbH07ZXhwb3J0e2ogYXMgUG9ydGFsTGF5ZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydHtyZWZlcmVuY2VTZXR0ZXIgYXMgdH1mcm9tXCIuLi9jb3JlL2NvbGxlY3Rpb25VdGlscy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2lzUHJvbWlzZUxpa2UgYXMgb31mcm9tXCIuLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vbGF5ZXJzL0xheWVyLmpzXCI7ZnVuY3Rpb24gbChlLHIsdCl7bGV0IHMsbztpZihlKWZvcihsZXQgYT0wLGk9ZS5sZW5ndGg7YTxpO2ErKyl7aWYocz1lLmF0KGEpLHM/LltyXT09PXQpcmV0dXJuIHM7aWYoXCJncm91cFwiPT09cz8udHlwZSYmKG89bChzLmxheWVycyxyLHQpLG8pKXJldHVybiBvfX1jb25zdCBkPWQ9PntsZXQgeT1jbGFzcyBleHRlbmRzIGR7Y29uc3RydWN0b3IoLi4uZSl7c3VwZXIoLi4uZSksdGhpcy5sYXllcnM9bmV3IHI7Y29uc3QgdD1lPT57ZS5wYXJlbnQmJlwicmVtb3ZlXCJpbiBlLnBhcmVudCYmZS5wYXJlbnQucmVtb3ZlKGUpfSxvPWU9PntlLnBhcmVudD10aGlzLHRoaXMubGF5ZXJBZGRlZChlKSxcImVsZXZhdGlvblwiIT09ZS50eXBlJiZcImJhc2UtZWxldmF0aW9uXCIhPT1lLnR5cGV8fHMuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGBMYXllciAndGl0bGU6JHtlLnRpdGxlfSwgaWQ6JHtlLmlkfScgb2YgdHlwZSAnJHtlLnR5cGV9JyBpcyBub3Qgc3VwcG9ydGVkIGFzIGFuIG9wZXJhdGlvbmFsIGxheWVyIGFuZCB3aWxsIHRoZXJlZm9yZSBiZSBpZ25vcmVkLmApfSxhPWU9PntlLnBhcmVudD1udWxsLHRoaXMubGF5ZXJSZW1vdmVkKGUpfTt0aGlzLmFkZEhhbmRsZXMoW3RoaXMubGF5ZXJzLm9uKFwiYmVmb3JlLWFkZFwiLChlPT50KGUuaXRlbSkpKSx0aGlzLmxheWVycy5vbihcImFmdGVyLWFkZFwiLChlPT5vKGUuaXRlbSkpKSx0aGlzLmxheWVycy5vbihcImFmdGVyLXJlbW92ZVwiLChlPT5hKGUuaXRlbSkpKV0pfWRlc3Ryb3koKXtjb25zdCBlPXRoaXMubGF5ZXJzLnRvQXJyYXkoKTtmb3IoY29uc3QgciBvZiBlKXIuZGVzdHJveSgpO3RoaXMubGF5ZXJzLmRlc3Ryb3koKX1zZXQgbGF5ZXJzKGUpe3RoaXMuX3NldChcImxheWVyc1wiLHQoZSx0aGlzLl9nZXQoXCJsYXllcnNcIikpKX1hZGQoZSxyKXtjb25zdCB0PXRoaXMubGF5ZXJzO2lmKHI9dC5nZXROZXh0SW5kZXgociksZSBpbnN0YW5jZW9mIG4pe2NvbnN0IHM9ZTtzLnBhcmVudD09PXRoaXM/dGhpcy5yZW9yZGVyKHMscik6dC5hZGQocyxyKX1lbHNlIG8oZSk/ZS50aGVuKChlPT57dGhpcy5kZXN0cm95ZWR8fHRoaXMuYWRkKGUscil9KSk6cy5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCIjYWRkKClcIixcIlRoZSBpdGVtIGJlaW5nIGFkZGVkIGlzIG5vdCBhIExheWVyIG9yIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgTGF5ZXIuXCIpfWFkZE1hbnkoZSxyKXtjb25zdCB0PXRoaXMubGF5ZXJzO2xldCBzPXQuZ2V0TmV4dEluZGV4KHIpO2Uuc2xpY2UoKS5mb3JFYWNoKChlPT57ZS5wYXJlbnQhPT10aGlzPyh0LmFkZChlLHMpLHMrPTEpOnRoaXMucmVvcmRlcihlLHMpfSkpfWZpbmRMYXllckJ5SWQoZSl7cmV0dXJuIGwodGhpcy5sYXllcnMsXCJpZFwiLGUpfWZpbmRMYXllckJ5VWlkKGUpe3JldHVybiBsKHRoaXMubGF5ZXJzLFwidWlkXCIsZSl9cmVtb3ZlKGUpe3JldHVybiB0aGlzLmxheWVycy5yZW1vdmUoZSl9cmVtb3ZlTWFueShlKXtyZXR1cm4gdGhpcy5sYXllcnMucmVtb3ZlTWFueShlKX1yZW1vdmVBbGwoKXtyZXR1cm4gdGhpcy5sYXllcnMucmVtb3ZlQWxsKCl9cmVvcmRlcihlLHIpe3JldHVybiB0aGlzLmxheWVycy5yZW9yZGVyKGUscil9bGF5ZXJBZGRlZChlKXt9bGF5ZXJSZW1vdmVkKGUpe319O3JldHVybiBlKFthKCldLHkucHJvdG90eXBlLFwibGF5ZXJzXCIsbnVsbCkseT1lKFtpKFwiZXNyaS5zdXBwb3J0LkxheWVyc01peGluXCIpXSx5KSx5fTtleHBvcnR7ZCBhcyBMYXllcnNNaXhpbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0e3JlZmVyZW5jZVNldHRlciBhcyByfWZyb21cIi4uL2NvcmUvY29sbGVjdGlvblV0aWxzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGl9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2Z1bmN0aW9uIGEodCxlLHIpe2lmKHQpZm9yKGxldCBzPTAsbz10Lmxlbmd0aDtzPG87cysrKXtjb25zdCBvPXQuYXQocyk7aWYob1tlXT09PXIpcmV0dXJuIG87aWYoXCJncm91cFwiPT09bz8udHlwZSl7Y29uc3QgdD1hKG8udGFibGVzLGUscik7aWYodClyZXR1cm4gdH19fWNvbnN0IGw9bD0+e2xldCBuPWNsYXNzIGV4dGVuZHMgbHtjb25zdHJ1Y3RvciguLi50KXtzdXBlciguLi50KSx0aGlzLnRhYmxlcz1uZXcgZSx0aGlzLmFkZEhhbmRsZXMoW3RoaXMudGFibGVzLm9uKFwiYWZ0ZXItYWRkXCIsKHQ9Pntjb25zdCBlPXQuaXRlbTtlLnBhcmVudCYmZS5wYXJlbnQhPT10aGlzJiZcInRhYmxlc1wiaW4gZS5wYXJlbnQmJmUucGFyZW50LnRhYmxlcy5yZW1vdmUoZSksZS5wYXJlbnQ9dGhpcyxcImZlYXR1cmVcIiE9PWUudHlwZSYmcy5nZXRMb2dnZXIodGhpcykuZXJyb3IoYExheWVyICd0aXRsZToke2UudGl0bGV9LCBpZDoke2UuaWR9JyBvZiB0eXBlICcke2UudHlwZX0nIGlzIG5vdCBzdXBwb3J0ZWQgYXMgYSB0YWJsZSBhbmQgd2lsbCB0aGVyZWZvcmUgYmUgaWdub3JlZC5gKX0pKSx0aGlzLnRhYmxlcy5vbihcImFmdGVyLXJlbW92ZVwiLCh0PT57dC5pdGVtLnBhcmVudD1udWxsfSkpXSl9ZGVzdHJveSgpe2NvbnN0IHQ9dGhpcy50YWJsZXMucmVtb3ZlQWxsKCk7Zm9yKGNvbnN0IGUgb2YgdCllLmRlc3Ryb3koKTt0aGlzLnRhYmxlcy5kZXN0cm95KCl9c2V0IHRhYmxlcyh0KXt0aGlzLl9zZXQoXCJ0YWJsZXNcIixyKHQsdGhpcy5fZ2V0KFwidGFibGVzXCIpKSl9ZmluZFRhYmxlQnlJZCh0KXtyZXR1cm4gYSh0aGlzLnRhYmxlcyxcImlkXCIsdCl9ZmluZFRhYmxlQnlVaWQodCl7cmV0dXJuIGEodGhpcy50YWJsZXMsXCJ1aWRcIix0KX19O3JldHVybiB0KFtvKCldLG4ucHJvdG90eXBlLFwidGFibGVzXCIsbnVsbCksbj10KFtpKFwiZXNyaS5zdXBwb3J0LlRhYmxlc01peGluXCIpXSxuKSxufTtleHBvcnR7bCBhcyBUYWJsZXNNaXhpbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vY29yZS9Db2xsZWN0aW9uRmxhdHRlbmVyLmpzXCI7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gbmV3IGUoe2dldENvbGxlY3Rpb25zOigpPT5bdC50YWJsZXMsdC5sYXllcnNdLGdldENoaWxkcmVuRnVuY3Rpb246ZT0+e2NvbnN0IHQ9W107cmV0dXJuXCJ0YWJsZXNcImluIGUmJnQucHVzaChlLnRhYmxlcyksXCJsYXllcnNcImluIGUmJnQucHVzaChlLmxheWVycyksdH0saXRlbUZpbHRlckZ1bmN0aW9uOmU9Pntjb25zdCB0PWUucGFyZW50O3JldHVybiEhdCYmXCJ0YWJsZXNcImluIHQmJnQudGFibGVzLmluY2x1ZGVzKGUpfX0pfWZ1bmN0aW9uIG4oZSl7Zm9yKGNvbnN0IHQgb2YgZS52YWx1ZXMoKSl0Py5kZXN0cm95KCk7ZS5jbGVhcigpfWV4cG9ydHt0IGFzIGNyZWF0ZUZsYXR0ZW5lZFRhYmxlc0NvbGxlY3Rpb24sbiBhcyBkZXN0cm95TWFwfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBlPVN5bWJvbChcIldlYlNjZW5lXCIpO2V4cG9ydHtlIGFzIFdlYlNjZW5lVGFnfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2Nsb25lIGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e2dldERlZXBWYWx1ZSBhcyBufWZyb21cIi4uLy4uL2NvcmUvb2JqZWN0LmpzXCI7aW1wb3J0e251bWJlclRvSlNPTiBhcyByfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2V4dGVuc2lvbnMvc2VyaWFsaXphYmxlUHJvcGVydHkvd3JpdGVyLmpzXCI7aW1wb3J0e2lzRmVhdHVyZUNvbGxlY3Rpb25MYXllciBhcyBpfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2xheWVyVXRpbHMuanNcIjtjb25zdCBvPW5ldyBTZXQoW1wiYmluZy1tYXBzXCIsXCJpbWFnZXJ5XCIsXCJpbWFnZXJ5LXRpbGVcIixcIm1hcC1pbWFnZVwiLFwib3Blbi1zdHJlZXQtbWFwXCIsXCJ0aWxlXCIsXCJ1bmtub3duXCIsXCJ1bnN1cHBvcnRlZFwiLFwidmVjdG9yLXRpbGVcIixcIndlYi10aWxlXCIsXCJ3bXNcIixcIndtdHNcIl0pLGw9bmV3IFNldChbXCJjc3ZcIixcImZlYXR1cmVcIixcImdlby1yc3NcIixcImdlb2pzb25cIixcImdyb3VwXCIsXCJpbWFnZXJ5XCIsXCJpbWFnZXJ5LXRpbGVcIixcImttbFwiLFwibWFwLWltYWdlXCIsXCJtYXAtbm90ZXNcIixcIm1lZGlhXCIsXCJvZ2MtZmVhdHVyZVwiLFwicm91dGVcIixcInN0cmVhbVwiLFwic3VidHlwZS1ncm91cFwiLFwidGlsZVwiLFwidW5rbm93blwiLFwidW5zdXBwb3J0ZWRcIixcInZlY3Rvci10aWxlXCIsXCJ3ZWItdGlsZVwiLFwid2ZzXCIsXCJ3bXNcIixcIndtdHNcIl0pO2Z1bmN0aW9uIGEoZSl7by5kZWxldGUoZSksbC5kZWxldGUoZSl9ZnVuY3Rpb24gcyhlKXtvLmFkZChlKSxsLmFkZChlKX1mdW5jdGlvbiBwKGUpe3JldHVyblwiYmFzZW1hcFwiPT09ZS5sYXllckNvbnRhaW5lclR5cGU/bzpcIm9wZXJhdGlvbmFsLWxheWVyc1wiPT09ZS5sYXllckNvbnRhaW5lclR5cGU/bDpudWxsfWZ1bmN0aW9uIG0oZSx0KXtpZih0LnJlc3RyaWN0ZWRXZWJNYXBXcml0aW5nKXtjb25zdCBuPXAodCk7cmV0dXJuIG51bGw9PW58fG4uaGFzKGUudHlwZSkmJiFpKGUpfXJldHVybiEwfWZ1bmN0aW9uIHUoZSx0KXtpZih0KWlmKGkoZSkpe2NvbnN0IHI9bihcImZlYXR1cmVDb2xsZWN0aW9uLmxheWVyc1wiLHQpLGk9ciYmclswXSYmclswXS5sYXllckRlZmluaXRpb247aSYmYyhlLGkpfWVsc2VcImdyb3VwXCIhPT1lLnR5cGUmJmMoZSx0KX1mdW5jdGlvbiBjKGUsdCl7XCJtYXhTY2FsZVwiaW4gZSYmKHQubWF4U2NhbGU9cihlLm1heFNjYWxlKT8/dm9pZCAwKSxcIm1pblNjYWxlXCJpbiBlJiYodC5taW5TY2FsZT1yKGUubWluU2NhbGUpPz92b2lkIDApfWZ1bmN0aW9uIGQoZSx0KXtpZih1KGUsdCksdCYmKFwiYmxlbmRNb2RlXCJpbiBlJiYodC5ibGVuZE1vZGU9ZS5ibGVuZE1vZGUsXCJub3JtYWxcIj09PXQuYmxlbmRNb2RlJiZkZWxldGUgdC5ibGVuZE1vZGUpLHQub3BhY2l0eT1yKGUub3BhY2l0eSk/P3ZvaWQgMCx0LnRpdGxlPWUudGl0bGV8fFwiTGF5ZXJcIix0LnZpc2liaWxpdHk9ZS52aXNpYmxlLFwibGVnZW5kRW5hYmxlZFwiaW4gZSYmXCJ3bXRzXCIhPT1lLnR5cGUpKWlmKGkoZSkpe2NvbnN0IG49dC5mZWF0dXJlQ29sbGVjdGlvbjtuJiYobi5zaG93TGVnZW5kPWUubGVnZW5kRW5hYmxlZCl9ZWxzZSB0LnNob3dMZWdlbmQ9ZS5sZWdlbmRFbmFibGVkfWZ1bmN0aW9uIGYobixyLGkpe2lmKCEoXCJ3cml0ZVwiaW4gbil8fCFuLndyaXRlKXJldHVybiBpJiZpLm1lc3NhZ2VzJiZpLm1lc3NhZ2VzLnB1c2gobmV3IGUoXCJsYXllcjp1bnN1cHBvcnRlZFwiLGBMYXllcnMgKCR7bi50aXRsZX0sICR7bi5pZH0pIG9mIHR5cGUgJyR7bi5kZWNsYXJlZENsYXNzfScgY2Fubm90IGJlIHBlcnNpc3RlZGAse2xheWVyOm59KSksbnVsbDtpZihtKG4saSkpe2NvbnN0IGU9e307cmV0dXJuIG4ud3JpdGUoZSxpKT9lOm51bGx9cmV0dXJuIG51bGwhPXImJmQobixyPXQocikpLHJ9ZXhwb3J0e3MgYXMgZGlzYWJsZVJlc3RyaWN0ZWRXcml0aW5nLGEgYXMgZW5hYmxlUmVzdHJpY3RlZFdyaXRpbmcsZiBhcyBnZXRMYXllckpTT059O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9