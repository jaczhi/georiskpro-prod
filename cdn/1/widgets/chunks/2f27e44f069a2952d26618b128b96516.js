"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_layers_mixins_ArcGISService_js-node_modules_arcgis_core_laye-a3b527"],{

/***/ "./node_modules/@arcgis/core/core/asyncUtils.js":
/*!******************************************************!*\
  !*** ./node_modules/@arcgis/core/core/asyncUtils.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "assertResult": () => (/* binding */ y),
/* harmony export */   "createTask": () => (/* binding */ d),
/* harmony export */   "forEach": () => (/* binding */ a),
/* harmony export */   "makeResultError": () => (/* binding */ h),
/* harmony export */   "makeResultOk": () => (/* binding */ c),
/* harmony export */   "map": () => (/* binding */ p),
/* harmony export */   "result": () => (/* binding */ _),
/* harmony export */   "resultError": () => (/* binding */ f),
/* harmony export */   "resultOrAbort": () => (/* binding */ b),
/* harmony export */   "resultValue": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function a(r,t,o){return (0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)(r.map(((r,e)=>t.apply(o,[r,e]))))}async function p(r,t,o){return(await (0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)(r.map(((r,e)=>t.apply(o,[r,e]))))).map((r=>r.value))}function c(r){return{ok:!0,value:r}}function h(r){return{ok:!1,error:r}}function m(r){return null!=r&&!0===r.ok?r.value:null}function f(r){return null!=r&&!1===r.ok?r.error:null}async function _(r){if(null==r)return{ok:!1,error:new Error("no promise provided")};try{return c(await r)}catch(t){return h(t)}}async function b(r){try{return c(await r)}catch(t){return (0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAbortError)(t),h(t)}}function y(r){if(!0===r.ok)return r.value;throw r.error}function d(r,t){return new v(r,t)}let v=class extends _Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{get value(){return m(this._result)}get error(){return f(this._result)}get finished(){return null!=this._result}constructor(r,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,_maybe_js__WEBPACK_IMPORTED_MODULE_2__.abortMaybe)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:e}=this._abortController;this.promise=r(e),this.promise.then((r=>{this._result=c(r),this._cleanup()}),(r=>{this._result=h(r),this._cleanup()})),this._abortHandle=(0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.onAbort)(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,_maybe_js__WEBPACK_IMPORTED_MODULE_2__.removeMaybe)(this._abortHandle),this._abortController=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"value",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"error",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"finished",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"promise",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"_result",void 0),v=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.core.asyncUtils.ReactiveTask")],v);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/ArcGISService.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/ArcGISService.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArcGISService": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const l=l=>{let p=class extends l{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const t=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_7__.parse)(this.url);if(null!=t&&t.title)return t.title}return this._get("title")||""}set title(t){this._set("title",t)}set url(t){this._set("url",(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_7__.sanitizeUrl)(t,_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this)))}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],p.prototype,"title",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:String})],p.prototype,"url",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.mixins.ArcGISService")],p),p};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/PortalLayer.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PortalLayer": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _kernel_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../kernel.js */ "./node_modules/@arcgis/core/kernel.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _support_layerUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _portal_Portal_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../portal/Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/* harmony import */ var _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../portal/PortalItem.js */ "./node_modules/@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _portal_PortalUser_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../portal/PortalUser.js */ "./node_modules/@arcgis/core/portal/PortalUser.js");
/* harmony import */ var _portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../portal/support/portalItemUtils.js */ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const j=j=>{let _=class extends j{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_7__.destroyMaybe)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(t){t!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",t))}readPortalItem(t,e,r){if(e.itemId)return new _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_19__["default"]({id:e.itemId,portal:r&&r.portal})}writePortalItem(t,e){t&&t.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem&&this.portalItem.id)try{const{load:r}=await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_portal_support_layersLoader_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../portal/support/layersLoader.js */ "./node_modules/@arcgis/core/portal/support/layersLoader.js"));return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(e),await r({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap},e)}catch(r){throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${r}`),r}}async finishLoadEditablePortalLayer(t){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(t).catch((t=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(t),!0))))}async _setUserPrivileges(t,r){if(!_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:e,fullEdit:s},content:{updateItem:i}}=await this._fetchUserPrivileges(t,r);this._set("userHasEditingPrivileges",e),this._set("userHasFullEditingPrivileges",s),this._set("userHasUpdateItemPrivileges",i)}catch(s){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(s)}}async _fetchUserPrivileges(t,e){let s=this.portalItem;if(!t||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(e);const i=t===s.id;if(i&&s.portal.user)return (0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_21__.getUserPrivileges)(s);let o,a;if(i)o=s.portal.url;else try{o=await (0,_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_17__.getOwningPortalUrl)(this.url,e)}catch(m){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(m)}if(!o||!(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.hasSameCanonicalPortal)(o,s.portal.url))return this._fetchFallbackUserPrivileges(e);try{const t=null!=e?e.signal:null;a=await(_kernel_js__WEBPACK_IMPORTED_MODULE_2__.id?.getCredential(`${o}/sharing`,{prompt:!1,signal:t}))}catch(m){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(m)}const l=!0,n=!1,p=!1;if(!a)return{features:{edit:l,fullEdit:n},content:{updateItem:p}};try{if(i?await s.reload():(s=new _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_19__["default"]({id:t,portal:{url:o}}),await s.load(e)),s.portal.user)return (0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_21__.getUserPrivileges)(s)}catch(m){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(m)}return{features:{edit:l,fullEdit:n},content:{updateItem:p}}}async _fetchFallbackUserPrivileges(t){let e=!0;try{e=await this._fetchUserHasEditingPrivileges(t)}catch(r){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(r)}return{features:{edit:e,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(t){const e=this.url?_kernel_js__WEBPACK_IMPORTED_MODULE_2__.id?.findCredential(this.url):null;if(!e)return!0;const s=E.credential===e?E.user:await this._fetchEditingUser(t);return E.credential=e,E.user=s,null==s||null==s.privileges||s.privileges.includes("features:user:edit")}async _fetchEditingUser(t){const e=this.portalItem?.portal?.user;if(e)return e;const o=_kernel_js__WEBPACK_IMPORTED_MODULE_2__.id.findServerInfo(this.url??"");if(!o?.owningSystemUrl)return null;const a=`${o.owningSystemUrl}/sharing/rest`,l=_portal_Portal_js__WEBPACK_IMPORTED_MODULE_18__["default"].getDefault();if(l&&l.loaded&&(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.normalize)(l.restUrl)===(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.normalize)(a))return l.user;const n=`${a}/community/self`,p=null!=t?t.signal:null,u=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_4__.result)((0,_request_js__WEBPACK_IMPORTED_MODULE_3__["default"])(n,{authMode:"no-prompt",query:{f:"json"},signal:p}));return u.ok?_portal_PortalUser_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromJSON(u.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const r=e&&e.portal,s=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||_portal_Portal_js__WEBPACK_IMPORTED_MODULE_18__["default"].getDefault());return r&&s&&!(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.hasSamePortal)(s.restUrl,r.restUrl)?(e.messages&&e.messages.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:_portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_19__["default"]})],_.prototype,"portalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__.reader)("web-document","portalItem",["itemId"])],_.prototype,"readPortalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_16__.writer)("web-document","portalItem",{itemId:{type:String}})],_.prototype,"writePortalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({clonable:!1})],_.prototype,"resourceReferences",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:Boolean,readOnly:!0})],_.prototype,"userHasEditingPrivileges",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:Boolean,readOnly:!0})],_.prototype,"userHasFullEditingPrivileges",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:Boolean,readOnly:!0})],_.prototype,"userHasUpdateItemPrivileges",void 0),_=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__.subclass)("esri.layers.mixins.PortalLayer")],_),_},E={credential:null,user:null};


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/portalItemUtils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TypeKeyword": () => (/* binding */ l),
/* harmony export */   "addTypeKeyword": () => (/* binding */ i),
/* harmony export */   "getUserPrivileges": () => (/* binding */ f),
/* harmony export */   "getWGS84ExtentForItem": () => (/* binding */ a),
/* harmony export */   "hasTypeKeyword": () => (/* binding */ s),
/* harmony export */   "isHostedLayer": () => (/* binding */ c),
/* harmony export */   "removeTypeKeyword": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function o(o){const i=o.spatialReference;if(i.isWGS84)return o.clone();if(i.isWebMercator)return (0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_2__.webMercatorToGeographic)(o);const s=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__["default"].WGS84;return await (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_0__.initializeProjection)(i,s),(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_0__.project)(o,s)}function i(e,t){if(!s(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function s(e,t){return!!e.typeKeywords?.includes(t)}function c(e){return s(e,l.HOSTED_SERVICE)}function u(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}async function a(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return o(r)}const l={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service"};function f(e){const{portal:t,isOrgItem:r,itemControl:n}=e,o=t.user?.privileges;let i=!o||o.includes("features:user:edit"),s=!!r&&!!o?.includes("features:user:fullEdit");const c="update"===n||"admin"===n;return c?s=i=!0:s&&(i=!0),{features:{edit:i,fullEdit:s},content:{updateItem:c}}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvMmYyN2U0NGYwNjlhMjk1MmQyNjYxOGIxMjhiOTY1MTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzRWLGtCQUFrQixPQUFPLDREQUFDLG1DQUFtQyx3QkFBd0IsYUFBYSw0REFBQyxzREFBc0QsY0FBYyxPQUFPLGVBQWUsY0FBYyxPQUFPLGVBQWUsY0FBYyx1Q0FBdUMsY0FBYyx1Q0FBdUMsb0JBQW9CLGtCQUFrQiw4Q0FBOEMsSUFBSSxrQkFBa0IsU0FBUyxhQUFhLG9CQUFvQixJQUFJLGtCQUFrQixTQUFTLE9BQU8sbUVBQUMsVUFBVSxjQUFjLDRCQUE0QixjQUFjLGdCQUFnQixrQkFBa0Isb0JBQW9CLG9EQUFDLENBQUMsWUFBWSx1QkFBdUIsWUFBWSx1QkFBdUIsZUFBZSwwQkFBMEIsaUJBQWlCLFFBQVEsMkRBQTJELHNCQUFzQixxREFBQyx3QkFBd0Isa0VBQWtFLE1BQU0sU0FBUyx1QkFBdUIseUNBQXlDLGtDQUFrQyxPQUFPLGtDQUFrQyxxQkFBcUIseURBQUMsZUFBZSxvQkFBb0IsU0FBUyxVQUFVLGFBQWEsV0FBVyxrQkFBa0Isc0RBQUMsaURBQWlELHVEQUFDLEVBQUUsaUZBQUMsOEJBQThCLHVEQUFDLEVBQUUsaUZBQUMsOEJBQThCLHVEQUFDLEVBQUUsaUZBQUMsaUNBQWlDLHVEQUFDLEVBQUUsaUZBQUMsa0NBQWtDLHVEQUFDLEVBQUUsaUZBQUMsb0NBQW9DLHVEQUFDLEVBQUUsaUZBQUMsMENBQWtOOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0ovOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDOFosWUFBWSxzQkFBc0IsWUFBWSxxRkFBcUYsYUFBYSxRQUFRLGlFQUFDLFdBQVcsbUNBQW1DLDhCQUE4QixhQUFhLHFCQUFxQixXQUFXLGdCQUFnQix1RUFBQyxHQUFHLGlFQUFXLFdBQVcsT0FBTyx1REFBQyxFQUFFLHNGQUFDLDhCQUE4Qix1REFBQyxF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LHdCQUF3QiwwRkFBMEYsa0NBQWtDLDJCQUEyQixVQUFVLGtCQUFrQixVQUFVLGVBQTRLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9hc3luY1V0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9taXhpbnMvQXJjR0lTU2VydmljZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvbWl4aW5zL1BvcnRhbExheWVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3BvcnRhbC9zdXBwb3J0L3BvcnRhbEl0ZW1VdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgcn1mcm9tXCIuLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi9BY2Nlc3Nvci5qc1wiO2ltcG9ydHthYm9ydE1heWJlIGFzIG8scmVtb3ZlTWF5YmUgYXMgZX1mcm9tXCIuL21heWJlLmpzXCI7aW1wb3J0e2VhY2hBbHdheXMgYXMgbix0aHJvd0lmQWJvcnRFcnJvciBhcyBzLG9uQWJvcnQgYXMgbH1mcm9tXCIuL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBpfWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgdX1mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7ZnVuY3Rpb24gYShyLHQsbyl7cmV0dXJuIG4oci5tYXAoKChyLGUpPT50LmFwcGx5KG8sW3IsZV0pKSkpfWFzeW5jIGZ1bmN0aW9uIHAocix0LG8pe3JldHVybihhd2FpdCBuKHIubWFwKCgocixlKT0+dC5hcHBseShvLFtyLGVdKSkpKSkubWFwKChyPT5yLnZhbHVlKSl9ZnVuY3Rpb24gYyhyKXtyZXR1cm57b2s6ITAsdmFsdWU6cn19ZnVuY3Rpb24gaChyKXtyZXR1cm57b2s6ITEsZXJyb3I6cn19ZnVuY3Rpb24gbShyKXtyZXR1cm4gbnVsbCE9ciYmITA9PT1yLm9rP3IudmFsdWU6bnVsbH1mdW5jdGlvbiBmKHIpe3JldHVybiBudWxsIT1yJiYhMT09PXIub2s/ci5lcnJvcjpudWxsfWFzeW5jIGZ1bmN0aW9uIF8ocil7aWYobnVsbD09cilyZXR1cm57b2s6ITEsZXJyb3I6bmV3IEVycm9yKFwibm8gcHJvbWlzZSBwcm92aWRlZFwiKX07dHJ5e3JldHVybiBjKGF3YWl0IHIpfWNhdGNoKHQpe3JldHVybiBoKHQpfX1hc3luYyBmdW5jdGlvbiBiKHIpe3RyeXtyZXR1cm4gYyhhd2FpdCByKX1jYXRjaCh0KXtyZXR1cm4gcyh0KSxoKHQpfX1mdW5jdGlvbiB5KHIpe2lmKCEwPT09ci5vaylyZXR1cm4gci52YWx1ZTt0aHJvdyByLmVycm9yfWZ1bmN0aW9uIGQocix0KXtyZXR1cm4gbmV3IHYocix0KX1sZXQgdj1jbGFzcyBleHRlbmRzIHR7Z2V0IHZhbHVlKCl7cmV0dXJuIG0odGhpcy5fcmVzdWx0KX1nZXQgZXJyb3IoKXtyZXR1cm4gZih0aGlzLl9yZXN1bHQpfWdldCBmaW5pc2hlZCgpe3JldHVybiBudWxsIT10aGlzLl9yZXN1bHR9Y29uc3RydWN0b3Iocix0KXtzdXBlcih7fSksdGhpcy5fcmVzdWx0PW51bGwsdGhpcy5fYWJvcnRIYW5kbGU9bnVsbCx0aGlzLmFib3J0PSgpPT57dGhpcy5fYWJvcnRDb250cm9sbGVyPW8odGhpcy5fYWJvcnRDb250cm9sbGVyKX0sdGhpcy5yZW1vdmU9dGhpcy5hYm9ydCx0aGlzLl9hYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcjtjb25zdHtzaWduYWw6ZX09dGhpcy5fYWJvcnRDb250cm9sbGVyO3RoaXMucHJvbWlzZT1yKGUpLHRoaXMucHJvbWlzZS50aGVuKChyPT57dGhpcy5fcmVzdWx0PWMociksdGhpcy5fY2xlYW51cCgpfSksKHI9Pnt0aGlzLl9yZXN1bHQ9aChyKSx0aGlzLl9jbGVhbnVwKCl9KSksdGhpcy5fYWJvcnRIYW5kbGU9bCh0LHRoaXMuYWJvcnQpfW5vcm1hbGl6ZUN0b3JBcmdzKCl7cmV0dXJue319ZGVzdHJveSgpe3RoaXMuYWJvcnQoKX1fY2xlYW51cCgpe3RoaXMuX2Fib3J0SGFuZGxlPWUodGhpcy5fYWJvcnRIYW5kbGUpLHRoaXMuX2Fib3J0Q29udHJvbGxlcj1udWxsfX07cihbaSgpXSx2LnByb3RvdHlwZSxcInZhbHVlXCIsbnVsbCkscihbaSgpXSx2LnByb3RvdHlwZSxcImVycm9yXCIsbnVsbCkscihbaSgpXSx2LnByb3RvdHlwZSxcImZpbmlzaGVkXCIsbnVsbCkscihbaSgpXSx2LnByb3RvdHlwZSxcInByb21pc2VcIix2b2lkIDApLHIoW2koKV0sdi5wcm90b3R5cGUsXCJfcmVzdWx0XCIsdm9pZCAwKSx2PXIoW3UoXCJlc3JpLmNvcmUuYXN5bmNVdGlscy5SZWFjdGl2ZVRhc2tcIildLHYpO2V4cG9ydHt5IGFzIGFzc2VydFJlc3VsdCxkIGFzIGNyZWF0ZVRhc2ssYSBhcyBmb3JFYWNoLGggYXMgbWFrZVJlc3VsdEVycm9yLGMgYXMgbWFrZVJlc3VsdE9rLHAgYXMgbWFwLF8gYXMgcmVzdWx0LGYgYXMgcmVzdWx0RXJyb3IsYiBhcyByZXN1bHRPckFib3J0LG0gYXMgcmVzdWx0VmFsdWV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGV9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7cGFyc2UgYXMgbyxzYW5pdGl6ZVVybCBhcyBpfWZyb21cIi4uL3N1cHBvcnQvYXJjZ2lzTGF5ZXJVcmwuanNcIjtjb25zdCBsPWw9PntsZXQgcD1jbGFzcyBleHRlbmRzIGx7Z2V0IHRpdGxlKCl7aWYodGhpcy5fZ2V0KFwidGl0bGVcIikmJlwiZGVmYXVsdHNcIiE9PXRoaXMub3JpZ2luT2YoXCJ0aXRsZVwiKSlyZXR1cm4gdGhpcy5fZ2V0KFwidGl0bGVcIik7aWYodGhpcy51cmwpe2NvbnN0IHQ9byh0aGlzLnVybCk7aWYobnVsbCE9dCYmdC50aXRsZSlyZXR1cm4gdC50aXRsZX1yZXR1cm4gdGhpcy5fZ2V0KFwidGl0bGVcIil8fFwiXCJ9c2V0IHRpdGxlKHQpe3RoaXMuX3NldChcInRpdGxlXCIsdCl9c2V0IHVybCh0KXt0aGlzLl9zZXQoXCJ1cmxcIixpKHQsci5nZXRMb2dnZXIodGhpcykpKX19O3JldHVybiB0KFtlKCldLHAucHJvdG90eXBlLFwidGl0bGVcIixudWxsKSx0KFtlKHt0eXBlOlN0cmluZ30pXSxwLnByb3RvdHlwZSxcInVybFwiLG51bGwpLHA9dChbcyhcImVzcmkubGF5ZXJzLm1peGlucy5BcmNHSVNTZXJ2aWNlXCIpXSxwKSxwfTtleHBvcnR7bCBhcyBBcmNHSVNTZXJ2aWNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi9jb25maWcuanNcIjtpbXBvcnR7aWQgYXMgcn1mcm9tXCIuLi8uLi9rZXJuZWwuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0e3Jlc3VsdCBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYXN5bmNVdGlscy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIG4saXNBYm9ydEVycm9yIGFzIHAsdGhyb3dJZkFib3J0RXJyb3IgYXMgdX1mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtoYXNTYW1lQ2Fub25pY2FsUG9ydGFsIGFzIGMsbm9ybWFsaXplIGFzIG0saGFzU2FtZVBvcnRhbCBhcyBkfWZyb21cIi4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3JlYWRlciBhcyBmfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGd9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt3cml0ZXIgYXMgeX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3dyaXRlci5qc1wiO2ltcG9ydHtnZXRPd25pbmdQb3J0YWxVcmwgYXMgSX1mcm9tXCIuLi9zdXBwb3J0L2xheWVyVXRpbHMuanNcIjtpbXBvcnQgdiBmcm9tXCIuLi8uLi9wb3J0YWwvUG9ydGFsLmpzXCI7aW1wb3J0IFAgZnJvbVwiLi4vLi4vcG9ydGFsL1BvcnRhbEl0ZW0uanNcIjtpbXBvcnQgVSBmcm9tXCIuLi8uLi9wb3J0YWwvUG9ydGFsVXNlci5qc1wiO2ltcG9ydHtnZXRVc2VyUHJpdmlsZWdlcyBhcyB3fWZyb21cIi4uLy4uL3BvcnRhbC9zdXBwb3J0L3BvcnRhbEl0ZW1VdGlscy5qc1wiO2NvbnN0IGo9aj0+e2xldCBfPWNsYXNzIGV4dGVuZHMgantjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5yZXNvdXJjZVJlZmVyZW5jZXM9e3BvcnRhbEl0ZW06bnVsbCxwYXRoczpbXX0sdGhpcy51c2VySGFzRWRpdGluZ1ByaXZpbGVnZXM9ITAsdGhpcy51c2VySGFzRnVsbEVkaXRpbmdQcml2aWxlZ2VzPSExLHRoaXMudXNlckhhc1VwZGF0ZUl0ZW1Qcml2aWxlZ2VzPSExfWRlc3Ryb3koKXt0aGlzLnBvcnRhbEl0ZW09bCh0aGlzLnBvcnRhbEl0ZW0pLHRoaXMucmVzb3VyY2VSZWZlcmVuY2VzLnBvcnRhbEl0ZW09bnVsbCx0aGlzLnJlc291cmNlUmVmZXJlbmNlcy5wYXRocy5sZW5ndGg9MH1zZXQgcG9ydGFsSXRlbSh0KXt0IT09dGhpcy5fZ2V0KFwicG9ydGFsSXRlbVwiKSYmKHRoaXMucmVtb3ZlT3JpZ2luKFwicG9ydGFsLWl0ZW1cIiksdGhpcy5fc2V0KFwicG9ydGFsSXRlbVwiLHQpKX1yZWFkUG9ydGFsSXRlbSh0LGUscil7aWYoZS5pdGVtSWQpcmV0dXJuIG5ldyBQKHtpZDplLml0ZW1JZCxwb3J0YWw6ciYmci5wb3J0YWx9KX13cml0ZVBvcnRhbEl0ZW0odCxlKXt0JiZ0LmlkJiYoZS5pdGVtSWQ9dC5pZCl9YXN5bmMgbG9hZEZyb21Qb3J0YWwodCxlKXtpZih0aGlzLnBvcnRhbEl0ZW0mJnRoaXMucG9ydGFsSXRlbS5pZCl0cnl7Y29uc3R7bG9hZDpyfT1hd2FpdCBpbXBvcnQoXCIuLi8uLi9wb3J0YWwvc3VwcG9ydC9sYXllcnNMb2FkZXIuanNcIik7cmV0dXJuIG4oZSksYXdhaXQgcih7aW5zdGFuY2U6dGhpcyxzdXBwb3J0ZWRUeXBlczp0LnN1cHBvcnRlZFR5cGVzLHZhbGlkYXRlSXRlbTp0LnZhbGlkYXRlSXRlbSxzdXBwb3J0c0RhdGE6dC5zdXBwb3J0c0RhdGEsbGF5ZXJNb2R1bGVUeXBlTWFwOnQubGF5ZXJNb2R1bGVUeXBlTWFwfSxlKX1jYXRjaChyKXt0aHJvdyBwKHIpfHxhLmdldExvZ2dlcih0aGlzKS53YXJuKGBGYWlsZWQgdG8gbG9hZCBsYXllciAoJHt0aGlzLnRpdGxlfSwgJHt0aGlzLmlkfSkgcG9ydGFsIGl0ZW0gKCR7dGhpcy5wb3J0YWxJdGVtLmlkfSlcXG4gICR7cn1gKSxyfX1hc3luYyBmaW5pc2hMb2FkRWRpdGFibGVQb3J0YWxMYXllcih0KXt0aGlzLl9zZXQoXCJ1c2VySGFzRWRpdGluZ1ByaXZpbGVnZXNcIixhd2FpdCB0aGlzLl9mZXRjaFVzZXJIYXNFZGl0aW5nUHJpdmlsZWdlcyh0KS5jYXRjaCgodD0+KHUodCksITApKSkpfWFzeW5jIF9zZXRVc2VyUHJpdmlsZWdlcyh0LHIpe2lmKCFlLnVzZXJQcml2aWxlZ2VzQXBwbGllZClyZXR1cm4gdGhpcy5maW5pc2hMb2FkRWRpdGFibGVQb3J0YWxMYXllcihyKTtpZih0aGlzLnVybCl0cnl7Y29uc3R7ZmVhdHVyZXM6e2VkaXQ6ZSxmdWxsRWRpdDpzfSxjb250ZW50Ont1cGRhdGVJdGVtOml9fT1hd2FpdCB0aGlzLl9mZXRjaFVzZXJQcml2aWxlZ2VzKHQscik7dGhpcy5fc2V0KFwidXNlckhhc0VkaXRpbmdQcml2aWxlZ2VzXCIsZSksdGhpcy5fc2V0KFwidXNlckhhc0Z1bGxFZGl0aW5nUHJpdmlsZWdlc1wiLHMpLHRoaXMuX3NldChcInVzZXJIYXNVcGRhdGVJdGVtUHJpdmlsZWdlc1wiLGkpfWNhdGNoKHMpe3Uocyl9fWFzeW5jIF9mZXRjaFVzZXJQcml2aWxlZ2VzKHQsZSl7bGV0IHM9dGhpcy5wb3J0YWxJdGVtO2lmKCF0fHwhc3x8IXMubG9hZGVkfHxzLnNvdXJjZVVybClyZXR1cm4gdGhpcy5fZmV0Y2hGYWxsYmFja1VzZXJQcml2aWxlZ2VzKGUpO2NvbnN0IGk9dD09PXMuaWQ7aWYoaSYmcy5wb3J0YWwudXNlcilyZXR1cm4gdyhzKTtsZXQgbyxhO2lmKGkpbz1zLnBvcnRhbC51cmw7ZWxzZSB0cnl7bz1hd2FpdCBJKHRoaXMudXJsLGUpfWNhdGNoKG0pe3UobSl9aWYoIW98fCFjKG8scy5wb3J0YWwudXJsKSlyZXR1cm4gdGhpcy5fZmV0Y2hGYWxsYmFja1VzZXJQcml2aWxlZ2VzKGUpO3RyeXtjb25zdCB0PW51bGwhPWU/ZS5zaWduYWw6bnVsbDthPWF3YWl0KHI/LmdldENyZWRlbnRpYWwoYCR7b30vc2hhcmluZ2Ase3Byb21wdDohMSxzaWduYWw6dH0pKX1jYXRjaChtKXt1KG0pfWNvbnN0IGw9ITAsbj0hMSxwPSExO2lmKCFhKXJldHVybntmZWF0dXJlczp7ZWRpdDpsLGZ1bGxFZGl0Om59LGNvbnRlbnQ6e3VwZGF0ZUl0ZW06cH19O3RyeXtpZihpP2F3YWl0IHMucmVsb2FkKCk6KHM9bmV3IFAoe2lkOnQscG9ydGFsOnt1cmw6b319KSxhd2FpdCBzLmxvYWQoZSkpLHMucG9ydGFsLnVzZXIpcmV0dXJuIHcocyl9Y2F0Y2gobSl7dShtKX1yZXR1cm57ZmVhdHVyZXM6e2VkaXQ6bCxmdWxsRWRpdDpufSxjb250ZW50Ont1cGRhdGVJdGVtOnB9fX1hc3luYyBfZmV0Y2hGYWxsYmFja1VzZXJQcml2aWxlZ2VzKHQpe2xldCBlPSEwO3RyeXtlPWF3YWl0IHRoaXMuX2ZldGNoVXNlckhhc0VkaXRpbmdQcml2aWxlZ2VzKHQpfWNhdGNoKHIpe3Uocil9cmV0dXJue2ZlYXR1cmVzOntlZGl0OmUsZnVsbEVkaXQ6ITF9LGNvbnRlbnQ6e3VwZGF0ZUl0ZW06ITF9fX1hc3luYyBfZmV0Y2hVc2VySGFzRWRpdGluZ1ByaXZpbGVnZXModCl7Y29uc3QgZT10aGlzLnVybD9yPy5maW5kQ3JlZGVudGlhbCh0aGlzLnVybCk6bnVsbDtpZighZSlyZXR1cm4hMDtjb25zdCBzPUUuY3JlZGVudGlhbD09PWU/RS51c2VyOmF3YWl0IHRoaXMuX2ZldGNoRWRpdGluZ1VzZXIodCk7cmV0dXJuIEUuY3JlZGVudGlhbD1lLEUudXNlcj1zLG51bGw9PXN8fG51bGw9PXMucHJpdmlsZWdlc3x8cy5wcml2aWxlZ2VzLmluY2x1ZGVzKFwiZmVhdHVyZXM6dXNlcjplZGl0XCIpfWFzeW5jIF9mZXRjaEVkaXRpbmdVc2VyKHQpe2NvbnN0IGU9dGhpcy5wb3J0YWxJdGVtPy5wb3J0YWw/LnVzZXI7aWYoZSlyZXR1cm4gZTtjb25zdCBvPXIuZmluZFNlcnZlckluZm8odGhpcy51cmw/P1wiXCIpO2lmKCFvPy5vd25pbmdTeXN0ZW1VcmwpcmV0dXJuIG51bGw7Y29uc3QgYT1gJHtvLm93bmluZ1N5c3RlbVVybH0vc2hhcmluZy9yZXN0YCxsPXYuZ2V0RGVmYXVsdCgpO2lmKGwmJmwubG9hZGVkJiZtKGwucmVzdFVybCk9PT1tKGEpKXJldHVybiBsLnVzZXI7Y29uc3Qgbj1gJHthfS9jb21tdW5pdHkvc2VsZmAscD1udWxsIT10P3Quc2lnbmFsOm51bGwsdT1hd2FpdCBpKHMobix7YXV0aE1vZGU6XCJuby1wcm9tcHRcIixxdWVyeTp7ZjpcImpzb25cIn0sc2lnbmFsOnB9KSk7cmV0dXJuIHUub2s/VS5mcm9tSlNPTih1LnZhbHVlLmRhdGEpOm51bGx9cmVhZCh0LGUpe2UmJihlLmxheWVyPXRoaXMpLHN1cGVyLnJlYWQodCxlKX13cml0ZSh0LGUpe2NvbnN0IHI9ZSYmZS5wb3J0YWwscz10aGlzLnBvcnRhbEl0ZW0mJnRoaXMucG9ydGFsSXRlbS5pZCYmKHRoaXMucG9ydGFsSXRlbS5wb3J0YWx8fHYuZ2V0RGVmYXVsdCgpKTtyZXR1cm4gciYmcyYmIWQocy5yZXN0VXJsLHIucmVzdFVybCk/KGUubWVzc2FnZXMmJmUubWVzc2FnZXMucHVzaChuZXcgbyhcImxheWVyOmNyb3NzLXBvcnRhbFwiLGBUaGUgbGF5ZXIgJyR7dGhpcy50aXRsZX0gKCR7dGhpcy5pZH0pJyBjYW5ub3QgYmUgcGVyc2lzdGVkIGJlY2F1c2UgaXQgcmVmZXJzIHRvIGFuIGl0ZW0gb24gYSBkaWZmZXJlbnQgcG9ydGFsIHRoYW4gdGhlIG9uZSBiZWluZyBzYXZlZCB0by4gVG8gc2F2ZSwgc2V0IGxheWVyLnBvcnRhbEl0ZW0gdG8gbnVsbCBvciBzYXZlIHRvIHRoZSBzYW1lIHBvcnRhbCBhcyB0aGUgaXRlbSBhc3NvY2lhdGVkIHdpdGggdGhlIGxheWVyYCx7bGF5ZXI6dGhpc30pKSxudWxsKTpzdXBlci53cml0ZSh0LHsuLi5lLGxheWVyOnRoaXN9KX19O3JldHVybiB0KFtoKHt0eXBlOlB9KV0sXy5wcm90b3R5cGUsXCJwb3J0YWxJdGVtXCIsbnVsbCksdChbZihcIndlYi1kb2N1bWVudFwiLFwicG9ydGFsSXRlbVwiLFtcIml0ZW1JZFwiXSldLF8ucHJvdG90eXBlLFwicmVhZFBvcnRhbEl0ZW1cIixudWxsKSx0KFt5KFwid2ViLWRvY3VtZW50XCIsXCJwb3J0YWxJdGVtXCIse2l0ZW1JZDp7dHlwZTpTdHJpbmd9fSldLF8ucHJvdG90eXBlLFwid3JpdGVQb3J0YWxJdGVtXCIsbnVsbCksdChbaCh7Y2xvbmFibGU6ITF9KV0sXy5wcm90b3R5cGUsXCJyZXNvdXJjZVJlZmVyZW5jZXNcIix2b2lkIDApLHQoW2goe3R5cGU6Qm9vbGVhbixyZWFkT25seTohMH0pXSxfLnByb3RvdHlwZSxcInVzZXJIYXNFZGl0aW5nUHJpdmlsZWdlc1wiLHZvaWQgMCksdChbaCh7dHlwZTpCb29sZWFuLHJlYWRPbmx5OiEwfSldLF8ucHJvdG90eXBlLFwidXNlckhhc0Z1bGxFZGl0aW5nUHJpdmlsZWdlc1wiLHZvaWQgMCksdChbaCh7dHlwZTpCb29sZWFuLHJlYWRPbmx5OiEwfSldLF8ucHJvdG90eXBlLFwidXNlckhhc1VwZGF0ZUl0ZW1Qcml2aWxlZ2VzXCIsdm9pZCAwKSxfPXQoW2coXCJlc3JpLmxheWVycy5taXhpbnMuUG9ydGFsTGF5ZXJcIildLF8pLF99LEU9e2NyZWRlbnRpYWw6bnVsbCx1c2VyOm51bGx9O2V4cG9ydHtqIGFzIFBvcnRhbExheWVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aW5pdGlhbGl6ZVByb2plY3Rpb24gYXMgZSxwcm9qZWN0IGFzIHR9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7d2ViTWVyY2F0b3JUb0dlb2dyYXBoaWMgYXMgbn1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3dlYk1lcmNhdG9yVXRpbHMuanNcIjthc3luYyBmdW5jdGlvbiBvKG8pe2NvbnN0IGk9by5zcGF0aWFsUmVmZXJlbmNlO2lmKGkuaXNXR1M4NClyZXR1cm4gby5jbG9uZSgpO2lmKGkuaXNXZWJNZXJjYXRvcilyZXR1cm4gbihvKTtjb25zdCBzPXIuV0dTODQ7cmV0dXJuIGF3YWl0IGUoaSxzKSx0KG8scyl9ZnVuY3Rpb24gaShlLHQpe2lmKCFzKGUsdCkpe2NvbnN0IHI9ZS50eXBlS2V5d29yZHM7cj9yLnB1c2godCk6ZS50eXBlS2V5d29yZHM9W3RdfX1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuISFlLnR5cGVLZXl3b3Jkcz8uaW5jbHVkZXModCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gcyhlLGwuSE9TVEVEX1NFUlZJQ0UpfWZ1bmN0aW9uIHUoZSx0KXtjb25zdCByPWUudHlwZUtleXdvcmRzO2lmKHIpe2NvbnN0IGU9ci5pbmRleE9mKHQpO2U+LTEmJnIuc3BsaWNlKGUsMSl9fWFzeW5jIGZ1bmN0aW9uIGEoZSl7Y29uc3QgdD1lLmNsb25lKCkubm9ybWFsaXplKCk7bGV0IHI7aWYodC5sZW5ndGg+MSlmb3IoY29uc3QgbiBvZiB0KXI/bi53aWR0aD5yLndpZHRoJiYocj1uKTpyPW47ZWxzZSByPXRbMF07cmV0dXJuIG8ocil9Y29uc3QgbD17REVWRUxPUEVSX0JBU0VNQVA6XCJEZXZlbG9wZXJCYXNlbWFwXCIsSlNBUEk6XCJBcmNHSVMgQVBJIGZvciBKYXZhU2NyaXB0XCIsTUVUQURBVEE6XCJNZXRhZGF0YVwiLE1VTFRJX0xBWUVSOlwiTXVsdGlsYXllclwiLFNJTkdMRV9MQVlFUjpcIlNpbmdsZWxheWVyXCIsVEFCTEU6XCJUYWJsZVwiLEhPU1RFRF9TRVJWSUNFOlwiSG9zdGVkIFNlcnZpY2VcIn07ZnVuY3Rpb24gZihlKXtjb25zdHtwb3J0YWw6dCxpc09yZ0l0ZW06cixpdGVtQ29udHJvbDpufT1lLG89dC51c2VyPy5wcml2aWxlZ2VzO2xldCBpPSFvfHxvLmluY2x1ZGVzKFwiZmVhdHVyZXM6dXNlcjplZGl0XCIpLHM9ISFyJiYhIW8/LmluY2x1ZGVzKFwiZmVhdHVyZXM6dXNlcjpmdWxsRWRpdFwiKTtjb25zdCBjPVwidXBkYXRlXCI9PT1ufHxcImFkbWluXCI9PT1uO3JldHVybiBjP3M9aT0hMDpzJiYoaT0hMCkse2ZlYXR1cmVzOntlZGl0OmksZnVsbEVkaXQ6c30sY29udGVudDp7dXBkYXRlSXRlbTpjfX19ZXhwb3J0e2wgYXMgVHlwZUtleXdvcmQsaSBhcyBhZGRUeXBlS2V5d29yZCxmIGFzIGdldFVzZXJQcml2aWxlZ2VzLGEgYXMgZ2V0V0dTODRFeHRlbnRGb3JJdGVtLHMgYXMgaGFzVHlwZUtleXdvcmQsYyBhcyBpc0hvc3RlZExheWVyLHUgYXMgcmVtb3ZlVHlwZUtleXdvcmR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9