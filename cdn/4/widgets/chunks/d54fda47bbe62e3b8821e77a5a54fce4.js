"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[1780],{1662:(t,n,r)=>{r.d(n,{a:()=>s,b:()=>l,e:()=>c,f:()=>o,i:()=>h,m:()=>u,s:()=>a,t:()=>i});var e=r(93011);function o(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function a(t,n,r,e,o,a,i,c,s,u){return t[0]=n,t[1]=r,t[2]=e,t[3]=o,t[4]=a,t[5]=i,t[6]=c,t[7]=s,t[8]=u,t}function i(t,n){if(t===n){const r=n[1],e=n[2],o=n[5];t[1]=n[3],t[2]=n[6],t[3]=r,t[5]=n[7],t[6]=e,t[7]=o}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function c(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=n[4],c=n[5],s=n[6],u=n[7],l=n[8],f=l*i-c*u,h=-l*a+c*s,p=u*a-i*s;let g=r*f+e*h+o*p;return g?(g=1/g,t[0]=f*g,t[1]=(-l*e+o*u)*g,t[2]=(c*e-o*i)*g,t[3]=h*g,t[4]=(l*r-o*s)*g,t[5]=(-c*r+o*a)*g,t[6]=p*g,t[7]=(-u*r+e*s)*g,t[8]=(i*r-e*a)*g,t):null}function s(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=n[4],c=n[5],s=n[6],u=n[7],l=n[8];return t[0]=i*l-c*u,t[1]=o*u-e*l,t[2]=e*c-o*i,t[3]=c*s-a*l,t[4]=r*l-o*s,t[5]=o*a-r*c,t[6]=a*u-i*s,t[7]=e*s-r*u,t[8]=r*i-e*a,t}function u(t,n,r){const e=n[0],o=n[1],a=n[2],i=n[3],c=n[4],s=n[5],u=n[6],l=n[7],f=n[8],h=r[0],p=r[1],g=r[2],M=r[3],m=r[4],y=r[5],b=r[6],d=r[7],A=r[8];return t[0]=h*e+p*i+g*u,t[1]=h*o+p*c+g*l,t[2]=h*a+p*s+g*f,t[3]=M*e+m*i+y*u,t[4]=M*o+m*c+y*l,t[5]=M*a+m*s+y*f,t[6]=b*e+d*i+A*u,t[7]=b*o+d*c+A*l,t[8]=b*a+d*s+A*f,t}function l(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=n[4],c=n[5],s=n[6],u=n[7],l=n[8],f=n[9],h=n[10],p=n[11],g=n[12],M=n[13],m=n[14],y=n[15],b=r*c-e*i,d=r*s-o*i,A=r*u-a*i,P=e*s-o*c,T=e*u-a*c,x=o*u-a*s,F=l*M-f*g,w=l*m-h*g,v=l*y-p*g,_=f*m-h*M,R=f*y-p*M,C=h*y-p*m;let S=b*C-d*R+A*_+P*v-T*w+x*F;return S?(S=1/S,t[0]=(c*C-s*R+u*_)*S,t[1]=(s*v-i*C-u*w)*S,t[2]=(i*R-c*v+u*F)*S,t[3]=(o*R-e*C-a*_)*S,t[4]=(r*C-o*v+a*w)*S,t[5]=(e*v-r*R-a*F)*S,t[6]=(M*x-m*T+y*P)*S,t[7]=(m*A-g*x-y*d)*S,t[8]=(g*T-M*A+y*b)*S,t):null}function f(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t}function h(t){const n=(0,e.g)(),r=t[0],o=t[1],a=t[2],i=t[3],c=t[4],s=t[5],u=t[6],l=t[7],f=t[8];return Math.abs(1-(r*r+i*i+u*u))<=n&&Math.abs(1-(o*o+c*c+l*l))<=n&&Math.abs(1-(a*a+s*s+f*f))<=n}const p=u,g=f;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t},adjoint:s,copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},determinant:function(t){const n=t[0],r=t[1],e=t[2],o=t[3],a=t[4],i=t[5],c=t[6],s=t[7],u=t[8];return n*(u*a-i*s)+r*(-u*o+i*c)+e*(s*o-a*c)},equals:function(t,n){const r=t[0],o=t[1],a=t[2],i=t[3],c=t[4],s=t[5],u=t[6],l=t[7],f=t[8],h=n[0],p=n[1],g=n[2],M=n[3],m=n[4],y=n[5],b=n[6],d=n[7],A=n[8],P=(0,e.g)();return Math.abs(r-h)<=P*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(o-p)<=P*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=P*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(i-M)<=P*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(c-m)<=P*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(s-y)<=P*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(u-b)<=P*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(l-d)<=P*Math.max(1,Math.abs(l),Math.abs(d))&&Math.abs(f-A)<=P*Math.max(1,Math.abs(f),Math.abs(A))},exactEquals:function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)},fromMat2d:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},fromMat4:o,fromQuat:function(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=r+r,c=e+e,s=o+o,u=r*i,l=e*i,f=e*c,h=o*i,p=o*c,g=o*s,M=a*i,m=a*c,y=a*s;return t[0]=1-f-g,t[3]=l-y,t[6]=h+m,t[1]=l+y,t[4]=1-u-g,t[7]=p-M,t[2]=h-m,t[5]=p+M,t[8]=1-u-f,t},fromRotation:function(t,n){const r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=r,t[2]=0,t[3]=-r,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromScaling:function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromTranslation:function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},invert:c,isOrthoNormal:h,mul:p,multiply:u,multiplyScalar:function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t},multiplyScalarAndAdd:function(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t[3]=n[3]+r[3]*e,t[4]=n[4]+r[4]*e,t[5]=n[5]+r[5]*e,t[6]=n[6]+r[6]*e,t[7]=n[7]+r[7]*e,t[8]=n[8]+r[8]*e,t},normalFromMat4:l,normalFromMat4Legacy:function(t,n){const r=n[0],e=n[1],o=n[2],a=n[4],i=n[5],c=n[6],s=n[8],u=n[9],l=n[10],f=l*i-c*u,h=-l*a+c*s,p=u*a-i*s,g=r*f+e*h+o*p;if(!g)return null;const M=1/g;return t[0]=f*M,t[1]=(-l*e+o*u)*M,t[2]=(c*e-o*i)*M,t[3]=h*M,t[4]=(l*r-o*s)*M,t[5]=(-c*r+o*a)*M,t[6]=p*M,t[7]=(-u*r+e*s)*M,t[8]=(i*r-e*a)*M,t},projection:function(t,n,r){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},rotate:function(t,n,r){const e=n[0],o=n[1],a=n[2],i=n[3],c=n[4],s=n[5],u=n[6],l=n[7],f=n[8],h=Math.sin(r),p=Math.cos(r);return t[0]=p*e+h*i,t[1]=p*o+h*c,t[2]=p*a+h*s,t[3]=p*i-h*e,t[4]=p*c-h*o,t[5]=p*s-h*a,t[6]=u,t[7]=l,t[8]=f,t},scale:function(t,n,r){const e=r[0],o=r[1],a=r[2];return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t[6]=a*n[6],t[7]=a*n[7],t[8]=a*n[8],t},scaleByVec2:function(t,n,r){const e=r[0],o=r[1];return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t},set:a,str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},sub:g,subtract:f,translate:function(t,n,r){const e=n[0],o=n[1],a=n[2],i=n[3],c=n[4],s=n[5],u=n[6],l=n[7],f=n[8],h=r[0],p=r[1];return t[0]=e,t[1]=o,t[2]=a,t[3]=i,t[4]=c,t[5]=s,t[6]=h*e+p*i+u,t[7]=h*o+p*c+l,t[8]=h*a+p*s+f,t},transpose:i},Symbol.toStringTag,{value:"Module"}))},10663:(t,n,r)=>{r.d(n,{c:()=>p,g:()=>l,j:()=>R,k:()=>M,m:()=>f,s:()=>u});var e=r(34344),o=r(61044),a=r(8909),i=r(93011),c=r(6766),s=r(88589);function u(t,n,r){r*=.5;const e=Math.sin(r);return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=Math.cos(r),t}function l(t,n){const r=2*Math.acos(n[3]),e=Math.sin(r/2);return e>(0,i.g)()?(t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e):(t[0]=1,t[1]=0,t[2]=0),r}function f(t,n,r){const e=n[0],o=n[1],a=n[2],i=n[3],c=r[0],s=r[1],u=r[2],l=r[3];return t[0]=e*l+i*c+o*u-a*s,t[1]=o*l+i*s+a*c-e*u,t[2]=a*l+i*u+e*s-o*c,t[3]=i*l-e*c-o*s-a*u,t}function h(t,n,r,e){const o=n[0],a=n[1],c=n[2],s=n[3];let u,l,f,h,p,g=r[0],M=r[1],m=r[2],y=r[3];return l=o*g+a*M+c*m+s*y,l<0&&(l=-l,g=-g,M=-M,m=-m,y=-y),1-l>(0,i.g)()?(u=Math.acos(l),f=Math.sin(u),h=Math.sin((1-e)*u)/f,p=Math.sin(e*u)/f):(h=1-e,p=e),t[0]=h*o+p*g,t[1]=h*a+p*M,t[2]=h*c+p*m,t[3]=h*s+p*y,t}function p(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function g(t,n){const r=n[0]+n[4]+n[8];let e;if(r>0)e=Math.sqrt(r+1),t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e;else{let r=0;n[4]>n[0]&&(r=1),n[8]>n[3*r+r]&&(r=2);const o=(r+1)%3,a=(r+2)%3;e=Math.sqrt(n[3*r+r]-n[3*o+o]-n[3*a+a]+1),t[r]=.5*e,e=.5/e,t[3]=(n[3*o+a]-n[3*a+o])*e,t[o]=(n[3*o+r]+n[3*r+o])*e,t[a]=(n[3*a+r]+n[3*r+a])*e}return t}function M(t,n,r,e){const o=.5*Math.PI/180;n*=o,r*=o,e*=o;const a=Math.sin(n),i=Math.cos(n),c=Math.sin(r),s=Math.cos(r),u=Math.sin(e),l=Math.cos(e);return t[0]=a*s*l-i*c*u,t[1]=i*c*l+a*s*u,t[2]=i*s*u-a*c*l,t[3]=i*s*l+a*c*u,t}const m=s.c,y=s.s,b=s.a,d=f,A=s.b,P=s.d,T=s.l,x=s.e,F=x,w=s.f,v=w,_=s.n,R=s.g,C=s.h,S=(0,a.c)(),O=(0,a.f)(1,0,0),Z=(0,a.f)(0,1,0),j=(0,o.a)(),q=(0,o.a)(),E=(0,e.c)();Object.freeze(Object.defineProperty({__proto__:null,add:b,calculateW:function(t,n){const r=n[0],e=n[1],o=n[2];return t[0]=r,t[1]=e,t[2]=o,t[3]=Math.sqrt(Math.abs(1-r*r-e*e-o*o)),t},conjugate:p,copy:m,dot:P,equals:C,exactEquals:R,fromEuler:M,fromMat3:g,getAxisAngle:l,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:function(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=r*r+e*e+o*o+a*a,c=i?1/i:0;return t[0]=-r*c,t[1]=-e*c,t[2]=-o*c,t[3]=a*c,t},len:F,length:x,lerp:T,mul:d,multiply:f,normalize:_,random:function(t){const n=i.R,r=n(),e=n(),o=n(),a=Math.sqrt(1-r),c=Math.sqrt(r);return t[0]=a*Math.sin(2*Math.PI*e),t[1]=a*Math.cos(2*Math.PI*e),t[2]=c*Math.sin(2*Math.PI*o),t[3]=c*Math.cos(2*Math.PI*o),t},rotateX:function(t,n,r){r*=.5;const e=n[0],o=n[1],a=n[2],i=n[3],c=Math.sin(r),s=Math.cos(r);return t[0]=e*s+i*c,t[1]=o*s+a*c,t[2]=a*s-o*c,t[3]=i*s-e*c,t},rotateY:function(t,n,r){r*=.5;const e=n[0],o=n[1],a=n[2],i=n[3],c=Math.sin(r),s=Math.cos(r);return t[0]=e*s-a*c,t[1]=o*s+i*c,t[2]=a*s+e*c,t[3]=i*s-o*c,t},rotateZ:function(t,n,r){r*=.5;const e=n[0],o=n[1],a=n[2],i=n[3],c=Math.sin(r),s=Math.cos(r);return t[0]=e*s+o*c,t[1]=o*s-e*c,t[2]=a*s+i*c,t[3]=i*s-a*c,t},rotationTo:function(t,n,r){const e=(0,c.e)(n,r);return e<-.999999?((0,c.f)(S,O,n),(0,c.u)(S)<1e-6&&(0,c.f)(S,Z,n),(0,c.n)(S,S),u(t,S,Math.PI),t):e>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,c.f)(S,n,r),t[0]=S[0],t[1]=S[1],t[2]=S[2],t[3]=1+e,_(t,t))},scale:A,set:y,setAxes:function(t,n,r,e){const o=E;return o[0]=r[0],o[3]=r[1],o[6]=r[2],o[1]=e[0],o[4]=e[1],o[7]=e[2],o[2]=-n[0],o[5]=-n[1],o[8]=-n[2],_(t,g(t,o))},setAxisAngle:u,slerp:h,sqlerp:function(t,n,r,e,o,a){return h(j,n,o,a),h(q,r,e,a),h(t,j,q,2*a*(1-a)),t},sqrLen:v,squaredLength:w,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},61170:(t,n,r)=>{r.d(n,{rS:()=>u});var e=r(69442),o=r(14685),a=r(35925);const i=new o.Z(e.kU),c=new o.Z(e.JL),s=new o.Z(e.mM);function u(t){return t&&((0,a.BZ)(t)||(0,a.fS)(t,c))?c:t&&((0,a.V2)(t)||(0,a.fS)(t,s))?s:i}new o.Z(e.pn)},68403:(t,n,r)=>{r.d(n,{Z:()=>y});var e,o=r(36663),a=r(82064),i=r(81977),c=(r(7283),r(7753),r(39994),r(40266)),s=r(24455),u=r(39100),l=r(10663),f=r(61044),h=r(6766),p=r(8909),g=r(34218);let M=e=class extends a.wq{constructor(t){super(t),this.translation=(0,p.c)(),this.rotationAxis=(0,p.g)(g.UP),this.rotationAngle=0,this.scale=(0,p.f)(1,1,1)}get rotation(){return(0,g.uT)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,p.a)((0,g.ZZ)(t)),this.rotationAngle=(0,g.EU)(t)}get localMatrix(){const t=(0,u.c)();return(0,l.s)(m,(0,g.ZZ)(this.rotation),(0,g.WH)(this.rotation)),(0,s.g)(t,m,this.translation,this.scale),t}get localMatrixInverse(){return(0,s.a)((0,u.c)(),this.localMatrix)}applyLocal(t,n){return(0,h.m)(n,t,this.localMatrix)}applyLocalInverse(t,n){return(0,h.m)(n,t,this.localMatrixInverse)}equals(t){return this===t||null!=t&&(0,s.h)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,p.a)(this.translation),rotationAxis:(0,p.a)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,p.a)(this.scale)};return new e(t)}};(0,o._)([(0,i.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],M.prototype,"translation",void 0),(0,o._)([(0,i.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],M.prototype,"rotationAxis",void 0),(0,o._)([(0,i.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],M.prototype,"rotationAngle",void 0),(0,o._)([(0,i.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],M.prototype,"scale",void 0),(0,o._)([(0,i.Cb)()],M.prototype,"rotation",null),(0,o._)([(0,i.Cb)()],M.prototype,"localMatrix",null),(0,o._)([(0,i.Cb)()],M.prototype,"localMatrixInverse",null),M=e=(0,o._)([(0,c.j)("esri.geometry.support.MeshTransform")],M);const m=(0,f.a)(),y=M},34218:(t,n,r)=>{r.d(n,{EU:()=>p,UP:()=>M,Ue:()=>s,WH:()=>g,ZZ:()=>h,qC:()=>l,qw:()=>f,uT:()=>u});var e=r(19431),o=r(10663),a=r(61044),i=r(6766),c=r(8909);function s(t=M){return[t[0],t[1],t[2],t[3]]}function u(t,n,r=s()){return(0,i.c)(r,t),r[3]=n,r}function l(t,n,r=s()){return(0,o.s)(m,t,g(t)),(0,o.s)(y,n,g(n)),(0,o.m)(m,y,m),function(t,n){return t[3]=n,t}(r,(0,e.BV)((0,o.g)(r,m)))}function f(t,n,r,e=s()){return u(c.d,t,b),u(c.e,n,d),u(c.U,r,A),l(b,d,b),l(b,A,e),e}function h(t){return t}function p(t){return t[3]}function g(t){return(0,e.Vl)(t[3])}const M=[0,0,1,0],m=(0,a.a)(),y=(0,a.a)(),b=(s(),s()),d=s(),A=s()},67341:(t,n,r)=>{r.d(n,{A:()=>a,h:()=>o});var e=r(13802);function o(t,n){return t.isGeographic||t.isWebMercator&&(n?.geographic??!0)}function a(t,n,r){const o=!t.isGeoreferenced;null!=r?.geographic&&r.geographic!==o&&e.Z.getLogger(n).warnOnce(`Specifying the 'geographic' parameter (${r.geographic}) for a Mesh vertex space of type "${t.type}" is not supported. This parameter will be ignored.`)}},91780:(t,n,r)=>{r.r(n),r.d(n,{georeference:()=>A,georeferenceApplyTransform:()=>P,georeferenceByTransform:()=>T,project:()=>w,ungeoreference:()=>x,ungeoreferenceByTransform:()=>F});var e=r(17321),o=r(34344),a=r(24455),i=r(39100),c=r(6766),s=r(8909),u=r(1662),l=r(92376),f=r(61170),h=r(92570),p=r(2718),g=r(58626),M=r(51619),m=r(68403),y=r(86717),b=r(67341),d=r(49921);function A(t,n,r){return(0,b.h)(n.spatialReference,r)?function(t,n,r){const e=n.spatialReference,o=C(n,r,j),a=new Float64Array(t.position.length),i=function(t,n,r,e){(0,y.t)(e,t,n);const o=new Float64Array(t.length);return(0,d.To)(e,o,r)}(t.position,o,e,a),c=(0,u.b)(E,o);return{position:i,normal:v(i,a,t.normal,c,e),tangent:_(i,a,t.tangent,c,e)}}(t,n,r):function(t,n,r){const e=new Float64Array(t.position.length),o=t.position,a=n.x,i=n.y,c=n.z??0,s=Z(r?r.unit:null,n.spatialReference);for(let t=0;t<o.length;t+=3)e[t]=o[t]*s+a,e[t+1]=o[t+1]*s+i,e[t+2]=o[t+2]*s+c;return{position:e,normal:t.normal,tangent:t.tangent}}(t,n,r)}function P(t,n,r,e){const{position:o,normal:a,tangent:c}=t;if(!n.isRelative)return{position:o,normal:a,tangent:c};const s=r?.localMatrix??i.I;return A({position:(0,y.t)(new Float64Array(o.length),o,s),normal:null!=a?(0,d.w9)(a,new Float32Array(a.length),s):null,tangent:null!=c?(0,d.VS)(c,new Float32Array(c.length),s):null},n.getOriginPoint(e),{geographic:!n.isGeoreferenced})}function T(t,n,r){if(r?.useTransform){const{position:e,normal:o,tangent:a}=t,{x:i,y:c,z:u}=n,l=(0,s.f)(i,c,u??0);return{vertexAttributes:{position:e,normal:o,tangent:a},vertexSpace:r.geographic??1?new M.Z({origin:l}):new p.Z({origin:l}),transform:new m.Z}}return{vertexAttributes:A(t,n,r),vertexSpace:new g.Z,transform:null}}function x(t,n,r){return(0,b.h)(n.spatialReference,r)?function(t,n,r){const e=n.spatialReference;C(n,r,j);const o=(0,a.a)(q,j),i=new Float64Array(t.position.length),c=function(t,n,r,e){const o=(0,d.XO)(t,n,e),a=new Float64Array(o.length);return(0,y.t)(a,o,r),a}(t.position,e,o,i),s=(0,u.b)(E,o);return{position:c,normal:S(t.normal,t.position,i,e,s),tangent:O(t.tangent,t.position,i,e,s)}}(t,n,r):R(t,n,r)}function F(t,n,r,e,o){if(!n.isRelative)return x(t,e,o);const{spatialReference:a}=e,i=P(t,n,r,a);return e.equals(n.getOriginPoint(a))?R(i,e,o):x(i,e,o)}function w({positions:t,transform:n,vertexSpace:r,inSpatialReference:e,outSpatialReference:o,outPositions:u,local:p}){const g=r.isRelative?r.origin:s.Z,M=r.isRelative?n?.localMatrix??i.I:i.I;if(r.isGeoreferenced){const n=u??(0,h.bg)(t.length);if((0,a.j)(M,i.I)?(0,h.JK)(n,t):(0,y.t)(n,t,M),!(0,c.k)(g,s.Z)){const[t,r,e]=g;for(let o=0;o<n.length;o+=3)n[o]+=t,n[o+1]+=r,n[o+2]+=e}return(0,l.projectBuffer)(n,e,0,n,o,0,n.length/3),n}const m=(0,f.rS)(e),b=!p&&(0,l.canProjectWithoutEngine)(e,m)?m:e;(0,l.computeTranslationToOriginAndRotation)(e,g,j,b),(0,a.m)(j,j,M);const d=u??(0,h.bg)(t.length);return(0,y.t)(d,t,j),(0,l.projectBuffer)(d,b,0,d,o,0,d.length/3),d}function v(t,n,r,e,o){if(null==r)return null;const a=new Float32Array(r.length);return(0,y.a)(a,r,e),(0,d.Yk)(a,t,n,o,a),a}function _(t,n,r,e,o){if(null==r)return null;const a=new Float32Array(r.length);(0,y.a)(a,r,e,4);for(let t=3;t<a.length;t+=4)a[t]=r[t];return(0,d.M2)(a,t,n,o,a),a}function R(t,n,r){const e=new Float64Array(t.position.length),o=t.position,a=n.x,i=n.y,c=n.z??0,s=Z(r?r.unit:null,n.spatialReference);for(let t=0;t<o.length;t+=3)e[t]=(o[t]-a)/s,e[t+1]=(o[t+1]-i)/s,e[t+2]=(o[t+2]-c)/s;return{position:e,normal:t.normal,tangent:t.tangent}}function C(t,n,r){(0,l.computeTranslationToOriginAndRotation)(t.spatialReference,[t.x,t.y,t.z??0],r,(0,f.rS)(t.spatialReference));const e=Z(n?n.unit:null,t.spatialReference);return(0,a.k)(r,r,[e,e,e]),r}function S(t,n,r,e,o){if(null==t)return null;const a=(0,d.Iz)(t,n,r,e,new Float32Array(t.length));return(0,y.a)(a,a,o),a}function O(t,n,r,e,o){if(null==t)return null;const a=(0,d.wi)(t,n,r,e,new Float32Array(t.length));return(0,y.a)(a,a,o,4),a}function Z(t,n){if(null==t)return 1;const r=(0,e.r6)(n);return 1/(0,e.En)(r,"meters",t)}const j=(0,i.c)(),q=(0,i.c)(),E=(0,o.c)()},49921:(t,n,r)=>{r.d(n,{Iz:()=>m,M2:()=>x,To:()=>d,VS:()=>P,XO:()=>b,Yk:()=>y,w9:()=>A,wi:()=>T});var e=r(13802),o=r(1662),a=r(34344),i=r(39100),c=r(6766),s=r(8909),u=r(92376),l=r(61170),f=r(35925),h=r(39536),p=r(81936),g=r(86717);const M=e.Z.getLogger("esri.geometry.support.meshUtils.normalProjection");function m(t,n,r,e,o){return w(e)?(F(_.TO_PCPF,p.ct.fromTypedArray(t),p.fP.fromTypedArray(n),p.fP.fromTypedArray(r),e,p.ct.fromTypedArray(o)),o):(M.error("Cannot convert spatial reference to PCPF"),o)}function y(t,n,r,e,o){return w(e)?(F(_.FROM_PCPF,p.ct.fromTypedArray(t),p.fP.fromTypedArray(n),p.fP.fromTypedArray(r),e,p.ct.fromTypedArray(o)),o):(M.error("Cannot convert to spatial reference from PCPF"),o)}function b(t,n,r){return(0,u.projectBuffer)(t,n,0,r,(0,l.rS)(n),0,t.length/3),r}function d(t,n,r){return(0,u.projectBuffer)(t,(0,l.rS)(r),0,n,r,0,t.length/3),n}function A(t,n,r){return(0,o.b)(Z,r),(0,g.a)(n,t,Z),(0,o.i)(Z)||(0,g.n)(n,n),n}function P(t,n,r){if((0,o.b)(Z,r),(0,g.a)(n,t,Z,4),(0,o.i)(Z)||(0,g.n)(n,n,4),t!==n)for(let r=3;r<t.length;r+=4)n[r]=t[r];return n}function T(t,n,r,e,o){if(!w(e))return M.error("Cannot convert spatial reference to PCPF"),o;F(_.TO_PCPF,p.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),p.fP.fromTypedArray(n),p.fP.fromTypedArray(r),e,p.ct.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT));for(let n=3;n<t.length;n+=4)o[n]=t[n];return o}function x(t,n,r,e,o){if(!w(e))return M.error("Cannot convert to spatial reference from PCPF"),o;F(_.FROM_PCPF,p.ct.fromTypedArray(t,16),p.fP.fromTypedArray(n),p.fP.fromTypedArray(r),e,p.ct.fromTypedArray(o,16));for(let n=3;n<t.length;n+=4)o[n]=t[n];return o}function F(t,n,r,e,a,i){if(!n)return;const s=r.count,f=(0,l.rS)(a);if(v(a))for(let r=0;r<s;r++)e.getVec(r,C),n.getVec(r,S),(0,u.computeTranslationToOriginAndRotation)(f,C,O,f),(0,o.f)(Z,O),t===_.FROM_PCPF&&(0,o.t)(Z,Z),(0,c.t)(S,S,Z),i.setVec(r,S);else for(let a=0;a<s;a++){e.getVec(a,C),n.getVec(a,S),(0,u.computeTranslationToOriginAndRotation)(f,C,O,f),(0,o.f)(Z,O);const s=(0,h.mZ)(r.get(a,1));let l=Math.cos(s);t===_.TO_PCPF&&(l=1/l),Z[0]*=l,Z[1]*=l,Z[2]*=l,Z[3]*=l,Z[4]*=l,Z[5]*=l,t===_.FROM_PCPF&&(0,o.t)(Z,Z),(0,c.t)(S,S,Z),(0,c.n)(S,S),i.setVec(a,S)}return i}function w(t){return v(t)||function(t){return t.isWebMercator}(t)}function v(t){return t.isWGS84||(0,f.yW)(t)||(0,f.BZ)(t)||(0,f.V2)(t)}var _,R;(R=_||(_={}))[R.TO_PCPF=0]="TO_PCPF",R[R.FROM_PCPF=1]="FROM_PCPF";const C=(0,s.c)(),S=(0,s.c)(),O=(0,i.c)(),Z=(0,a.c)()}}]);