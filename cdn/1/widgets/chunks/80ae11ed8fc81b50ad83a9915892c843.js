"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_views_3d_layers_PointCloudWorker_js"],{

/***/ "./node_modules/@arcgis/core/chunks/mat3f64.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/mat3f64.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "a": () => (/* binding */ n),
/* harmony export */   "b": () => (/* binding */ r),
/* harmony export */   "c": () => (/* binding */ e),
/* harmony export */   "f": () => (/* binding */ t),
/* harmony export */   "m": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e(){return[1,0,0,0,1,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function t(e,r,t,n,o,a,u,c,f){return[e,r,t,n,o,a,u,c,f]}function n(e,r){return new Float64Array(e,r,9)}const o=Object.freeze(Object.defineProperty({__proto__:null,clone:r,create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/quat.js":
/*!**************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/quat.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "A": () => (/* binding */ W),
/* harmony export */   "B": () => (/* binding */ Y),
/* harmony export */   "C": () => (/* binding */ H),
/* harmony export */   "D": () => (/* binding */ J),
/* harmony export */   "E": () => (/* binding */ N),
/* harmony export */   "F": () => (/* binding */ tt),
/* harmony export */   "G": () => (/* binding */ nt),
/* harmony export */   "a": () => (/* binding */ B),
/* harmony export */   "b": () => (/* binding */ A),
/* harmony export */   "c": () => (/* binding */ S),
/* harmony export */   "d": () => (/* binding */ I),
/* harmony export */   "e": () => (/* binding */ _),
/* harmony export */   "f": () => (/* binding */ R),
/* harmony export */   "g": () => (/* binding */ x),
/* harmony export */   "h": () => (/* binding */ Z),
/* harmony export */   "i": () => (/* binding */ O),
/* harmony export */   "j": () => (/* binding */ K),
/* harmony export */   "k": () => (/* binding */ k),
/* harmony export */   "l": () => (/* binding */ X),
/* harmony export */   "m": () => (/* binding */ y),
/* harmony export */   "n": () => (/* binding */ b),
/* harmony export */   "o": () => (/* binding */ z),
/* harmony export */   "p": () => (/* binding */ E),
/* harmony export */   "q": () => (/* binding */ rt),
/* harmony export */   "r": () => (/* binding */ Q),
/* harmony export */   "s": () => (/* binding */ v),
/* harmony export */   "t": () => (/* binding */ L),
/* harmony export */   "u": () => (/* binding */ T),
/* harmony export */   "v": () => (/* binding */ w),
/* harmony export */   "w": () => (/* binding */ C),
/* harmony export */   "x": () => (/* binding */ D),
/* harmony export */   "y": () => (/* binding */ F),
/* harmony export */   "z": () => (/* binding */ G)
/* harmony export */ });
/* harmony import */ var _mat3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mat3f64.js */ "./node_modules/@arcgis/core/chunks/mat3f64.js");
/* harmony import */ var _quatf64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./quatf64.js */ "./node_modules/@arcgis/core/chunks/quatf64.js");
/* harmony import */ var _vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common.js */ "./node_modules/@arcgis/core/chunks/common.js");
/* harmony import */ var _vec3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _vec4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./vec4.js */ "./node_modules/@arcgis/core/chunks/vec4.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function b(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function v(t,s,a){a*=.5;const n=Math.sin(a);return t[0]=n*s[0],t[1]=n*s[1],t[2]=n*s[2],t[3]=Math.cos(a),t}function x(t,s){const a=2*Math.acos(s[3]),n=Math.sin(a/2);return n>(0,_common_js__WEBPACK_IMPORTED_MODULE_3__.g)()?(t[0]=s[0]/n,t[1]=s[1]/n,t[2]=s[2]/n):(t[0]=1,t[1]=0,t[2]=0),a}function y(t,s,a){const n=s[0],o=s[1],r=s[2],e=s[3],c=a[0],u=a[1],i=a[2],h=a[3];return t[0]=n*h+e*c+o*i-r*u,t[1]=o*h+e*u+r*c-n*i,t[2]=r*h+e*i+n*u-o*c,t[3]=e*h-n*c-o*u-r*i,t}function A(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],e=s[3],c=Math.sin(a),u=Math.cos(a);return t[0]=n*u+e*c,t[1]=o*u+r*c,t[2]=r*u-o*c,t[3]=e*u-n*c,t}function I(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],e=s[3],c=Math.sin(a),u=Math.cos(a);return t[0]=n*u-r*c,t[1]=o*u+e*c,t[2]=r*u+n*c,t[3]=e*u-o*c,t}function _(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],e=s[3],c=Math.sin(a),u=Math.cos(a);return t[0]=n*u+o*c,t[1]=o*u-n*c,t[2]=r*u+e*c,t[3]=e*u-r*c,t}function z(t,s){const a=s[0],n=s[1],o=s[2];return t[0]=a,t[1]=n,t[2]=o,t[3]=Math.sqrt(Math.abs(1-a*a-n*n-o*o)),t}function E(t,s,a,n){const r=s[0],e=s[1],c=s[2],u=s[3];let i,h,M,f,l,m=a[0],p=a[1],q=a[2],g=a[3];return h=r*m+e*p+c*q+u*g,h<0&&(h=-h,m=-m,p=-p,q=-q,g=-g),1-h>(0,_common_js__WEBPACK_IMPORTED_MODULE_3__.g)()?(i=Math.acos(h),M=Math.sin(i),f=Math.sin((1-n)*i)/M,l=Math.sin(n*i)/M):(f=1-n,l=n),t[0]=f*r+l*m,t[1]=f*e+l*p,t[2]=f*c+l*q,t[3]=f*u+l*g,t}function L(t){const s=_common_js__WEBPACK_IMPORTED_MODULE_3__.R,a=s(),n=s(),o=s(),e=Math.sqrt(1-a),c=Math.sqrt(a);return t[0]=e*Math.sin(2*Math.PI*n),t[1]=e*Math.cos(2*Math.PI*n),t[2]=c*Math.sin(2*Math.PI*o),t[3]=c*Math.cos(2*Math.PI*o),t}function O(t,s){const a=s[0],n=s[1],o=s[2],r=s[3],e=a*a+n*n+o*o+r*r,c=e?1/e:0;return t[0]=-a*c,t[1]=-n*c,t[2]=-o*c,t[3]=r*c,t}function S(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t}function T(t,s){const a=s[0]+s[4]+s[8];let n;if(a>0)n=Math.sqrt(a+1),t[3]=.5*n,n=.5/n,t[0]=(s[5]-s[7])*n,t[1]=(s[6]-s[2])*n,t[2]=(s[1]-s[3])*n;else{let a=0;s[4]>s[0]&&(a=1),s[8]>s[3*a+a]&&(a=2);const o=(a+1)%3,r=(a+2)%3;n=Math.sqrt(s[3*a+a]-s[3*o+o]-s[3*r+r]+1),t[a]=.5*n,n=.5/n,t[3]=(s[3*o+r]-s[3*r+o])*n,t[o]=(s[3*o+a]+s[3*a+o])*n,t[r]=(s[3*r+a]+s[3*a+r])*n}return t}function k(t,s,a,n){const o=.5*Math.PI/180;s*=o,a*=o,n*=o;const r=Math.sin(s),e=Math.cos(s),c=Math.sin(a),u=Math.cos(a),i=Math.sin(n),h=Math.cos(n);return t[0]=r*u*h-e*c*i,t[1]=e*c*h+r*u*i,t[2]=e*u*i-r*c*h,t[3]=e*u*h+r*c*i,t}function w(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}const B=_vec4_js__WEBPACK_IMPORTED_MODULE_5__.c,C=_vec4_js__WEBPACK_IMPORTED_MODULE_5__.s,D=_vec4_js__WEBPACK_IMPORTED_MODULE_5__.a,F=y,G=_vec4_js__WEBPACK_IMPORTED_MODULE_5__.b,R=_vec4_js__WEBPACK_IMPORTED_MODULE_5__.d,W=_vec4_js__WEBPACK_IMPORTED_MODULE_5__.l,X=_vec4_js__WEBPACK_IMPORTED_MODULE_5__.e,Y=X,Z=_vec4_js__WEBPACK_IMPORTED_MODULE_5__.f,H=Z,J=_vec4_js__WEBPACK_IMPORTED_MODULE_5__.n,K=_vec4_js__WEBPACK_IMPORTED_MODULE_5__.g,N=_vec4_js__WEBPACK_IMPORTED_MODULE_5__.h;function Q(t,s,a){const n=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_4__.e)(s,a);return n<-.999999?((0,_vec3_js__WEBPACK_IMPORTED_MODULE_4__.f)(U,V,s),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_4__.u)(U)<1e-6&&(0,_vec3_js__WEBPACK_IMPORTED_MODULE_4__.f)(U,$,s),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_4__.n)(U,U),v(t,U,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,_vec3_js__WEBPACK_IMPORTED_MODULE_4__.f)(U,s,a),t[0]=U[0],t[1]=U[1],t[2]=U[2],t[3]=1+n,J(t,t))}const U=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),V=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(1,0,0),$=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(0,1,0);function tt(t,s,a,n,o,r){return E(st,s,o,r),E(at,a,n,r),E(t,st,at,2*r*(1-r)),t}const st=(0,_quatf64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),at=(0,_quatf64_js__WEBPACK_IMPORTED_MODULE_1__.a)();function nt(t,s,a,n){const o=ot;return o[0]=a[0],o[3]=a[1],o[6]=a[2],o[1]=n[0],o[4]=n[1],o[7]=n[2],o[2]=-s[0],o[5]=-s[1],o[8]=-s[2],J(t,T(t,o))}const ot=(0,_mat3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)(),rt=Object.freeze(Object.defineProperty({__proto__:null,add:D,calculateW:z,conjugate:S,copy:B,dot:R,equals:N,exactEquals:K,fromEuler:k,fromMat3:T,getAxisAngle:x,identity:b,invert:O,len:Y,length:X,lerp:W,mul:F,multiply:y,normalize:J,random:L,rotateX:A,rotateY:I,rotateZ:_,rotationTo:Q,scale:G,set:C,setAxes:nt,setAxisAngle:v,slerp:E,sqlerp:tt,sqrLen:H,squaredLength:Z,str:w},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/quatf64.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/quatf64.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "I": () => (/* binding */ o),
/* harmony export */   "a": () => (/* binding */ e),
/* harmony export */   "b": () => (/* binding */ r),
/* harmony export */   "c": () => (/* binding */ n),
/* harmony export */   "f": () => (/* binding */ t),
/* harmony export */   "q": () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e(){return[0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function t(e,r,t,n){return[e,r,t,n]}function n(e,r){return new Float64Array(e,r,4)}const o=e(),a=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:r,create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/PointCloudWorker.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/PointCloudWorker.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _chunks_quat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/quat.js */ "./node_modules/@arcgis/core/chunks/quat.js");
/* harmony import */ var _chunks_quatf32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/quatf32.js */ "./node_modules/@arcgis/core/chunks/quatf32.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../chunks/vec3f32.js */ "./node_modules/@arcgis/core/chunks/vec3f32.js");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./i3s/PointCloudWorkerUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class c{transform(t){const e=this._transform(t),a=[e.points.buffer,e.rgb.buffer];null!=e.pointIdFilterMap&&a.push(e.pointIdFilterMap.buffer);for(const o of e.attributes)"buffer"in o.values&&(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_1__.isArrayBuffer)(o.values.buffer)&&o.values.buffer!==e.rgb.buffer&&a.push(o.values.buffer);return Promise.resolve({result:e,transferList:a})}_transform(r){const e=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.readGeometry)(r.schema,r.geometryBuffer);let a=e.length/3,o=null;const n=new Array,f=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.getAttributeValues)(r.primaryAttributeData,e,a);null!=r.primaryAttributeData&&f&&n.push({attributeInfo:r.primaryAttributeData.attributeInfo,values:f});const i=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.getAttributeValues)(r.modulationAttributeData,e,a);null!=r.modulationAttributeData&&i&&n.push({attributeInfo:r.modulationAttributeData.attributeInfo,values:i});let c=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.evaluateRenderer)(r.rendererInfo,f,i,a);if(r.filterInfo&&r.filterInfo.length>0&&null!=r.filterAttributesData){const f=r.filterAttributesData.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome).map((t=>{const r=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.getAttributeValues)(t,e,a),o={attributeInfo:t.attributeInfo,values:r};return n.push(o),o}));o=new Uint32Array(a),a=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.filterInPlace)(e,c,o,r.filterInfo,f)}for(const t of r.userAttributesData){const r=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_8__.getAttributeValues)(t,e,a);n.push({attributeInfo:t.attributeInfo,values:r})}3*a<c.length&&(c=new Uint8Array(c.buffer.slice(0,3*a))),this._applyElevationOffsetInPlace(e,a,r.elevationOffset);const p=this._transformCoordinates(e,a,r.obb,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_7__["default"].fromJSON(r.inSR),_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_7__["default"].fromJSON(r.outSR));return{obb:r.obb,points:p,rgb:c,attributes:n,pointIdFilterMap:o}}_transformCoordinates(t,r,a,s,u){if(!(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__.projectBuffer)(t,s,0,t,u,0,r))throw new Error("Can't reproject");const l=(0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_5__.f)(a.center[0],a.center[1],a.center[2]),b=(0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_5__.c)(),m=(0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_5__.c)();(0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_2__.c)(p,a.quaternion);const c=new Float32Array(3*r);for(let e=0;e<r;e++)b[0]=t[3*e]-l[0],b[1]=t[3*e+1]-l[1],b[2]=t[3*e+2]-l[2],(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(m,b,p),a.halfSize[0]=Math.max(a.halfSize[0],Math.abs(m[0])),a.halfSize[1]=Math.max(a.halfSize[1],Math.abs(m[1])),a.halfSize[2]=Math.max(a.halfSize[2],Math.abs(m[2])),c[3*e]=b[0],c[3*e+1]=b[1],c[3*e+2]=b[2];return c}_applyElevationOffsetInPlace(t,r,e){if(0!==e)for(let a=0;a<r;a++)t[3*a+2]+=e}}const p=(0,_chunks_quatf32_js__WEBPACK_IMPORTED_MODULE_3__.c)();function h(){return new c}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "elevationFromPositions": () => (/* binding */ a),
/* harmony export */   "evaluateRenderer": () => (/* binding */ i),
/* harmony export */   "filterInPlace": () => (/* binding */ f),
/* harmony export */   "getAttributeValues": () => (/* binding */ c),
/* harmony export */   "readGeometry": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _renderers_PointCloudClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../renderers/PointCloudClassBreaksRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudClassBreaksRenderer.js");
/* harmony import */ var _renderers_PointCloudStretchRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../renderers/PointCloudStretchRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudStretchRenderer.js");
/* harmony import */ var _renderers_PointCloudUniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../renderers/PointCloudUniqueValueRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudUniqueValueRenderer.js");
/* harmony import */ var _I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./I3SBinaryReader.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js");
/* harmony import */ var _LEPCC_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LEPCC.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/LEPCC.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i(t,n,l,s){const{rendererJSON:i,isRGBRenderer:u}=t;let c=null,a=null;if(n&&u)c=n;else if(n&&"pointCloudUniqueValueRenderer"===i?.type){a=_renderers_PointCloudUniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(i);const e=a.colorUniqueValueInfos;c=new Uint8Array(3*s);const r=d(a.fieldTransformType);for(let o=0;o<s;o++){const t=(r?r(n[o]):n[o])+"";for(let r=0;r<e.length;r++)if(e[r].values.includes(t)){c[3*o]=e[r].color.r,c[3*o+1]=e[r].color.g,c[3*o+2]=e[r].color.b;break}}}else if(n&&"pointCloudStretchRenderer"===i?.type){a=_renderers_PointCloudStretchRenderer_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(i);const e=a.stops;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let r=0;r<s;r++){const t=o?o(n[r]):n[r],l=e.length-1;if(t<e[0].value)c[3*r]=e[0].color.r,c[3*r+1]=e[0].color.g,c[3*r+2]=e[0].color.b;else if(t>=e[l].value)c[3*r]=e[l].color.r,c[3*r+1]=e[l].color.g,c[3*r+2]=e[l].color.b;else for(let o=1;o<e.length;o++)if(t<e[o].value){const n=(t-e[o-1].value)/(e[o].value-e[o-1].value);c[3*r]=e[o].color.r*n+e[o-1].color.r*(1-n),c[3*r+1]=e[o].color.g*n+e[o-1].color.g*(1-n),c[3*r+2]=e[o].color.b*n+e[o-1].color.b*(1-n);break}}}else if(n&&"pointCloudClassBreaksRenderer"===i?.type){a=_renderers_PointCloudClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(i);const r=a.colorClassBreakInfos;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let e=0;e<s;e++){const t=o?o(n[e]):n[e];for(let o=0;o<r.length;o++)if(t>=r[o].minValue&&t<=r[o].maxValue){c[3*e]=r[o].color.r,c[3*e+1]=r[o].color.g,c[3*e+2]=r[o].color.b;break}}}else c=new Uint8Array(3*s).fill(255);if(l&&a&&a.colorModulation){const e=a.colorModulation.minValue,r=a.colorModulation.maxValue,o=.3;for(let t=0;t<s;t++){const n=l[t],s=n>=r?1:n<=e?o:o+(1-o)*(n-e)/(r-e);c[3*t]=s*c[3*t],c[3*t+1]=s*c[3*t+1],c[3*t+2]=s*c[3*t+2]}}return c}function u(e,r){if(null==e.encoding||""===e.encoding){const o=(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.createGeometryIndexFromSchema)(r,e);if(null==o.vertexAttributes.position)return;const l=(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.createTypedView)(r,o.vertexAttributes.position),s=o.header.fields,i=[s.offsetX,s.offsetY,s.offsetZ],u=[s.scaleX,s.scaleY,s.scaleZ],c=l.length/3,a=new Float64Array(3*c);for(let e=0;e<c;e++)a[3*e]=l[3*e]*u[0]+i[0],a[3*e+1]=l[3*e+1]*u[1]+i[1],a[3*e+2]=l[3*e+2]*u[2]+i[2];return a}if("lepcc-xyz"===e.encoding)return (0,_LEPCC_js__WEBPACK_IMPORTED_MODULE_5__.decodeXYZ)(r).result}function c(e,r,o){return null!=e&&e.attributeInfo.useElevation?r?a(r,o):null:null!=e&&e.attributeInfo.storageInfo?(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.readBinaryAttribute)(e.attributeInfo.storageInfo,e.buffer,o):null}function a(e,r){const o=new Float64Array(r);for(let t=0;t<r;t++)o[t]=e[3*t+2];return o}function f(e,r,o,t,n){const l=e.length/3;let s=0;for(let i=0;i<l;i++){let l=!0;for(let e=0;e<t.length&&l;e++){const{filterJSON:r}=t[e],o=n[e].values[i];switch(r.type){case"pointCloudValueFilter":{const e="exclude"===r.mode;r.values.includes(o)===e&&(l=!1);break}case"pointCloudBitfieldFilter":{const e=p(r.requiredSetBits),t=p(r.requiredClearBits);(o&e)===e&&0==(o&t)||(l=!1);break}case"pointCloudReturnFilter":{const e=15&o,t=o>>>4&15,n=t>1,s=1===e,i=e===t;let u=!1;for(const o of r.includedReturns)if("last"===o&&i||"firstOfMany"===o&&s&&n||"lastOfMany"===o&&i&&n||"single"===o&&!n){u=!0;break}u||(l=!1);break}}}l&&(o[s]=i,e[3*s]=e[3*i],e[3*s+1]=e[3*i+1],e[3*s+2]=e[3*i+2],r[3*s]=r[3*i],r[3*s+1]=r[3*i+1],r[3*s+2]=r[3*i+2],s++)}return s}function d(e){switch(e){default:case null:case"none":return e=>e;case"low-four-bit":return e=>15&e;case"high-four-bit":return e=>(240&e)>>4;case"absolute-value":return e=>Math.abs(e);case"modulo-ten":return e=>e%10}}function p(e){let r=0;for(const o of e||[])r|=1<<o;return r}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvODBhZTExZWQ4ZmM4MWI1MGFkODNhOTkxNTg5MmM4NDMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMEJBQTBCLGNBQWMscURBQXFELDhCQUE4QiwwQkFBMEIsZ0JBQWdCLCtCQUErQiw2Q0FBNkMsMERBQTBELHFCQUFxQixlQUFlLEdBQThDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0oxWTtBQUNBO0FBQ0E7QUFDQTtBQUM4UixjQUFjLHFDQUFxQyxrQkFBa0IsTUFBTSxvQkFBb0IsOERBQThELGdCQUFnQiwwQ0FBMEMsU0FBUyw2Q0FBQyxrRUFBa0Usa0JBQWtCLDhEQUE4RCw2RkFBNkYsa0JBQWtCLE1BQU0sOERBQThELDZEQUE2RCxrQkFBa0IsTUFBTSw4REFBOEQsNkRBQTZELGtCQUFrQixNQUFNLDhEQUE4RCw2REFBNkQsZ0JBQWdCLDJCQUEyQixzRUFBc0Usb0JBQW9CLGtDQUFrQywwQ0FBMEMsNkRBQTZELDZDQUFDLDRJQUE0SSxjQUFjLFFBQVEseUNBQUMsbURBQW1ELDZIQUE2SCxnQkFBZ0IsOERBQThELGdEQUFnRCxnQkFBZ0Isb0RBQW9ELGdCQUFnQix1QkFBdUIsTUFBTSxrR0FBa0csS0FBSyxRQUFRLHNDQUFzQywwQkFBMEIsNElBQTRJLFNBQVMsb0JBQW9CLHVCQUF1QixlQUFlLDBGQUEwRiw2RUFBNkUsY0FBYyxxREFBcUQsUUFBUSx1Q0FBQyxHQUFHLHVDQUFDLEdBQUcsdUNBQUMsT0FBTyx1Q0FBQyxHQUFHLHVDQUFDLEdBQUcsdUNBQUMsR0FBRyx1Q0FBQyxPQUFPLHVDQUFDLE9BQU8sdUNBQUMsR0FBRyx1Q0FBQyxHQUFHLHVDQUFDLENBQUMsa0JBQWtCLFFBQVEsMkNBQUMsTUFBTSxtQkFBbUIsMkNBQUMsUUFBUSwyQ0FBQyxVQUFVLDJDQUFDLFFBQVEsMkNBQUMsbUVBQW1FLDJDQUFDLHVEQUF1RCxRQUFRLDhDQUFDLEtBQUssOENBQUMsVUFBVSw4Q0FBQyxRQUFRLHlCQUF5QixzREFBc0QsU0FBUyw4Q0FBQyxNQUFNLDhDQUFDLEdBQUcscUJBQXFCLFdBQVcsZ0hBQWdILFNBQVMsOENBQUMsMkNBQTJDLDRVQUE0VSxxQkFBcUIsZUFBZSxHQUFnUDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKcnhIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnQkFBZ0IsY0FBYyw0QkFBNEIsb0JBQW9CLGdCQUFnQixnQkFBZ0IsK0JBQStCLG1EQUFtRCxxRUFBcUUscUJBQXFCLGVBQWUsR0FBcUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0ozVztBQUNBO0FBQ0E7QUFDQTtBQUNxaUIsUUFBUSxhQUFhLDREQUE0RCw0REFBNEQsaURBQWlELHNFQUFDLDJFQUEyRSx3QkFBd0Isd0JBQXdCLEVBQUUsY0FBYyxRQUFRLDBFQUFDLDRCQUE0Qix3QkFBd0Isb0JBQW9CLGdGQUFDLDZCQUE2Qix5Q0FBeUMsNERBQTRELEVBQUUsUUFBUSxnRkFBQyxnQ0FBZ0MsNENBQTRDLCtEQUErRCxFQUFFLE1BQU0sOEVBQUMsdUJBQXVCLHNFQUFzRSxzQ0FBc0MsdURBQUMsV0FBVyxRQUFRLGdGQUFDLFdBQVcsd0NBQXdDLG1CQUFtQixHQUFHLHVCQUF1QiwyRUFBQyx1QkFBdUIscUNBQXFDLFFBQVEsZ0ZBQUMsUUFBUSxRQUFRLHVDQUF1QyxFQUFFLGlIQUFpSCw2Q0FBNkMsOEVBQVUsU0FBUyw4RUFBVSxXQUFXLE9BQU8sMERBQTBELGlDQUFpQyxJQUFJLHNFQUFDLG1EQUFtRCxRQUFRLHFEQUFDLHdDQUF3QyxxREFBQyxLQUFLLHFEQUFDLEdBQUcsa0RBQUMsaUJBQWlCLDhCQUE4QixZQUFZLElBQUksMkRBQTJELGtEQUFDLCtNQUErTSxTQUFTLG9DQUFvQyxxQkFBcUIsSUFBSSxpQkFBaUIsUUFBUSxxREFBQyxHQUFHLGFBQWEsYUFBa0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKajlFO0FBQ0E7QUFDQTtBQUNBO0FBQ3dZLG9CQUFvQixNQUFNLCtCQUErQixHQUFHLGtCQUFrQixZQUFZLHNEQUFzRCxFQUFFLDRGQUFVLElBQUksZ0NBQWdDLHNCQUFzQixnQ0FBZ0MsWUFBWSxJQUFJLEtBQUssNEJBQTRCLFlBQVksV0FBVyxnQ0FBZ0MsZ0VBQWdFLFFBQVEsa0RBQWtELEVBQUUsd0ZBQVUsSUFBSSxnQkFBZ0Isc0JBQXNCLGdDQUFnQyxZQUFZLElBQUksS0FBSyxvQ0FBb0MsZ0ZBQWdGLHNGQUFzRixpQkFBaUIsV0FBVyxxQkFBcUIsbURBQW1ELHFJQUFxSSxRQUFRLHNEQUFzRCxFQUFFLDRGQUFVLElBQUksK0JBQStCLHNCQUFzQixnQ0FBZ0MsWUFBWSxJQUFJLEtBQUssdUJBQXVCLFlBQVksV0FBVywyQ0FBMkMsZ0VBQWdFLFFBQVEscUNBQXFDLDRCQUE0QixxRUFBcUUsWUFBWSxJQUFJLEtBQUssaURBQWlELHlEQUF5RCxTQUFTLGdCQUFnQixzQ0FBc0MsUUFBUSxrRkFBQyxNQUFNLDRDQUE0QyxRQUFRLG9FQUFDLHdKQUF3SixZQUFZLElBQUksb0ZBQW9GLFNBQVMsbUNBQW1DLG9EQUFDLFdBQVcsa0JBQWtCLGdHQUFnRyx3RUFBQyw4Q0FBOEMsZ0JBQWdCLDRCQUE0QixZQUFZLElBQUksa0JBQWtCLFNBQVMsc0JBQXNCLG1CQUFtQixRQUFRLFlBQVksSUFBSSxLQUFLLFNBQVMsWUFBWSxjQUFjLEtBQUssTUFBTSxhQUFhLHVCQUF1QixlQUFlLDZCQUE2QiwyQkFBMkIsaUNBQWlDLE1BQU0sZ0NBQWdDLHNEQUFzRCw0QkFBNEIsTUFBTSw4QkFBOEIsOENBQThDLFNBQVMsc0hBQXNILEtBQUssTUFBTSxVQUFVLFFBQVEsb0hBQW9ILFNBQVMsY0FBYyxVQUFVLHlDQUF5QyxrQ0FBa0MseUNBQXlDLDJDQUEyQyxpQ0FBaUMsY0FBYyxRQUFRLDZCQUE2QixTQUFnSSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9tYXQzZjY0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9xdWF0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9xdWF0ZjY0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9Qb2ludENsb3VkV29ya2VyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvUG9pbnRDbG91ZFdvcmtlclV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGUoKXtyZXR1cm5bMSwwLDAsMCwxLDAsMCwwLDFdfWZ1bmN0aW9uIHIoZSl7cmV0dXJuW2VbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdLGVbNl0sZVs3XSxlWzhdXX1mdW5jdGlvbiB0KGUscix0LG4sbyxhLHUsYyxmKXtyZXR1cm5bZSxyLHQsbixvLGEsdSxjLGZdfWZ1bmN0aW9uIG4oZSxyKXtyZXR1cm4gbmV3IEZsb2F0NjRBcnJheShlLHIsOSl9Y29uc3Qgbz1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsY2xvbmU6cixjcmVhdGU6ZSxjcmVhdGVWaWV3Om4sZnJvbVZhbHVlczp0fSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e24gYXMgYSxyIGFzIGIsZSBhcyBjLHQgYXMgZixvIGFzIG19O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjIGFzIHR9ZnJvbVwiLi9tYXQzZjY0LmpzXCI7aW1wb3J0e2EgYXMgc31mcm9tXCIuL3F1YXRmNjQuanNcIjtpbXBvcnR7YyBhcyBhLGYgYXMgbn1mcm9tXCIuL3ZlYzNmNjQuanNcIjtpbXBvcnR7ZyBhcyBvLFIgYXMgcn1mcm9tXCIuL2NvbW1vbi5qc1wiO2ltcG9ydHtlLGYgYXMgYyx1LG4gYXMgaX1mcm9tXCIuL3ZlYzMuanNcIjtpbXBvcnR7YyBhcyBoLHMgYXMgTSxhIGFzIGYsYiBhcyBsLGQgYXMgbSxsIGFzIHAsZSBhcyBxLGYgYXMgZyxuIGFzIGQsZyBhcyBqLGggYXMgUH1mcm9tXCIuL3ZlYzQuanNcIjtmdW5jdGlvbiBiKHQpe3JldHVybiB0WzBdPTAsdFsxXT0wLHRbMl09MCx0WzNdPTEsdH1mdW5jdGlvbiB2KHQscyxhKXthKj0uNTtjb25zdCBuPU1hdGguc2luKGEpO3JldHVybiB0WzBdPW4qc1swXSx0WzFdPW4qc1sxXSx0WzJdPW4qc1syXSx0WzNdPU1hdGguY29zKGEpLHR9ZnVuY3Rpb24geCh0LHMpe2NvbnN0IGE9MipNYXRoLmFjb3Moc1szXSksbj1NYXRoLnNpbihhLzIpO3JldHVybiBuPm8oKT8odFswXT1zWzBdL24sdFsxXT1zWzFdL24sdFsyXT1zWzJdL24pOih0WzBdPTEsdFsxXT0wLHRbMl09MCksYX1mdW5jdGlvbiB5KHQscyxhKXtjb25zdCBuPXNbMF0sbz1zWzFdLHI9c1syXSxlPXNbM10sYz1hWzBdLHU9YVsxXSxpPWFbMl0saD1hWzNdO3JldHVybiB0WzBdPW4qaCtlKmMrbyppLXIqdSx0WzFdPW8qaCtlKnUrcipjLW4qaSx0WzJdPXIqaCtlKmkrbip1LW8qYyx0WzNdPWUqaC1uKmMtbyp1LXIqaSx0fWZ1bmN0aW9uIEEodCxzLGEpe2EqPS41O2NvbnN0IG49c1swXSxvPXNbMV0scj1zWzJdLGU9c1szXSxjPU1hdGguc2luKGEpLHU9TWF0aC5jb3MoYSk7cmV0dXJuIHRbMF09bip1K2UqYyx0WzFdPW8qdStyKmMsdFsyXT1yKnUtbypjLHRbM109ZSp1LW4qYyx0fWZ1bmN0aW9uIEkodCxzLGEpe2EqPS41O2NvbnN0IG49c1swXSxvPXNbMV0scj1zWzJdLGU9c1szXSxjPU1hdGguc2luKGEpLHU9TWF0aC5jb3MoYSk7cmV0dXJuIHRbMF09bip1LXIqYyx0WzFdPW8qdStlKmMsdFsyXT1yKnUrbipjLHRbM109ZSp1LW8qYyx0fWZ1bmN0aW9uIF8odCxzLGEpe2EqPS41O2NvbnN0IG49c1swXSxvPXNbMV0scj1zWzJdLGU9c1szXSxjPU1hdGguc2luKGEpLHU9TWF0aC5jb3MoYSk7cmV0dXJuIHRbMF09bip1K28qYyx0WzFdPW8qdS1uKmMsdFsyXT1yKnUrZSpjLHRbM109ZSp1LXIqYyx0fWZ1bmN0aW9uIHoodCxzKXtjb25zdCBhPXNbMF0sbj1zWzFdLG89c1syXTtyZXR1cm4gdFswXT1hLHRbMV09bix0WzJdPW8sdFszXT1NYXRoLnNxcnQoTWF0aC5hYnMoMS1hKmEtbipuLW8qbykpLHR9ZnVuY3Rpb24gRSh0LHMsYSxuKXtjb25zdCByPXNbMF0sZT1zWzFdLGM9c1syXSx1PXNbM107bGV0IGksaCxNLGYsbCxtPWFbMF0scD1hWzFdLHE9YVsyXSxnPWFbM107cmV0dXJuIGg9ciptK2UqcCtjKnErdSpnLGg8MCYmKGg9LWgsbT0tbSxwPS1wLHE9LXEsZz0tZyksMS1oPm8oKT8oaT1NYXRoLmFjb3MoaCksTT1NYXRoLnNpbihpKSxmPU1hdGguc2luKCgxLW4pKmkpL00sbD1NYXRoLnNpbihuKmkpL00pOihmPTEtbixsPW4pLHRbMF09ZipyK2wqbSx0WzFdPWYqZStsKnAsdFsyXT1mKmMrbCpxLHRbM109Zip1K2wqZyx0fWZ1bmN0aW9uIEwodCl7Y29uc3Qgcz1yLGE9cygpLG49cygpLG89cygpLGU9TWF0aC5zcXJ0KDEtYSksYz1NYXRoLnNxcnQoYSk7cmV0dXJuIHRbMF09ZSpNYXRoLnNpbigyKk1hdGguUEkqbiksdFsxXT1lKk1hdGguY29zKDIqTWF0aC5QSSpuKSx0WzJdPWMqTWF0aC5zaW4oMipNYXRoLlBJKm8pLHRbM109YypNYXRoLmNvcygyKk1hdGguUEkqbyksdH1mdW5jdGlvbiBPKHQscyl7Y29uc3QgYT1zWzBdLG49c1sxXSxvPXNbMl0scj1zWzNdLGU9YSphK24qbitvKm8rcipyLGM9ZT8xL2U6MDtyZXR1cm4gdFswXT0tYSpjLHRbMV09LW4qYyx0WzJdPS1vKmMsdFszXT1yKmMsdH1mdW5jdGlvbiBTKHQscyl7cmV0dXJuIHRbMF09LXNbMF0sdFsxXT0tc1sxXSx0WzJdPS1zWzJdLHRbM109c1szXSx0fWZ1bmN0aW9uIFQodCxzKXtjb25zdCBhPXNbMF0rc1s0XStzWzhdO2xldCBuO2lmKGE+MCluPU1hdGguc3FydChhKzEpLHRbM109LjUqbixuPS41L24sdFswXT0oc1s1XS1zWzddKSpuLHRbMV09KHNbNl0tc1syXSkqbix0WzJdPShzWzFdLXNbM10pKm47ZWxzZXtsZXQgYT0wO3NbNF0+c1swXSYmKGE9MSksc1s4XT5zWzMqYSthXSYmKGE9Mik7Y29uc3Qgbz0oYSsxKSUzLHI9KGErMiklMztuPU1hdGguc3FydChzWzMqYSthXS1zWzMqbytvXS1zWzMqcityXSsxKSx0W2FdPS41Km4sbj0uNS9uLHRbM109KHNbMypvK3JdLXNbMypyK29dKSpuLHRbb109KHNbMypvK2FdK3NbMyphK29dKSpuLHRbcl09KHNbMypyK2FdK3NbMyphK3JdKSpufXJldHVybiB0fWZ1bmN0aW9uIGsodCxzLGEsbil7Y29uc3Qgbz0uNSpNYXRoLlBJLzE4MDtzKj1vLGEqPW8sbio9bztjb25zdCByPU1hdGguc2luKHMpLGU9TWF0aC5jb3MocyksYz1NYXRoLnNpbihhKSx1PU1hdGguY29zKGEpLGk9TWF0aC5zaW4obiksaD1NYXRoLmNvcyhuKTtyZXR1cm4gdFswXT1yKnUqaC1lKmMqaSx0WzFdPWUqYypoK3IqdSppLHRbMl09ZSp1KmktcipjKmgsdFszXT1lKnUqaCtyKmMqaSx0fWZ1bmN0aW9uIHcodCl7cmV0dXJuXCJxdWF0KFwiK3RbMF0rXCIsIFwiK3RbMV0rXCIsIFwiK3RbMl0rXCIsIFwiK3RbM10rXCIpXCJ9Y29uc3QgQj1oLEM9TSxEPWYsRj15LEc9bCxSPW0sVz1wLFg9cSxZPVgsWj1nLEg9WixKPWQsSz1qLE49UDtmdW5jdGlvbiBRKHQscyxhKXtjb25zdCBuPWUocyxhKTtyZXR1cm4gbjwtLjk5OTk5OT8oYyhVLFYscyksdShVKTwxZS02JiZjKFUsJCxzKSxpKFUsVSksdih0LFUsTWF0aC5QSSksdCk6bj4uOTk5OTk5Pyh0WzBdPTAsdFsxXT0wLHRbMl09MCx0WzNdPTEsdCk6KGMoVSxzLGEpLHRbMF09VVswXSx0WzFdPVVbMV0sdFsyXT1VWzJdLHRbM109MStuLEoodCx0KSl9Y29uc3QgVT1hKCksVj1uKDEsMCwwKSwkPW4oMCwxLDApO2Z1bmN0aW9uIHR0KHQscyxhLG4sbyxyKXtyZXR1cm4gRShzdCxzLG8sciksRShhdCxhLG4sciksRSh0LHN0LGF0LDIqciooMS1yKSksdH1jb25zdCBzdD1zKCksYXQ9cygpO2Z1bmN0aW9uIG50KHQscyxhLG4pe2NvbnN0IG89b3Q7cmV0dXJuIG9bMF09YVswXSxvWzNdPWFbMV0sb1s2XT1hWzJdLG9bMV09blswXSxvWzRdPW5bMV0sb1s3XT1uWzJdLG9bMl09LXNbMF0sb1s1XT0tc1sxXSxvWzhdPS1zWzJdLEoodCxUKHQsbykpfWNvbnN0IG90PXQoKSxydD1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsYWRkOkQsY2FsY3VsYXRlVzp6LGNvbmp1Z2F0ZTpTLGNvcHk6Qixkb3Q6UixlcXVhbHM6TixleGFjdEVxdWFsczpLLGZyb21FdWxlcjprLGZyb21NYXQzOlQsZ2V0QXhpc0FuZ2xlOngsaWRlbnRpdHk6YixpbnZlcnQ6TyxsZW46WSxsZW5ndGg6WCxsZXJwOlcsbXVsOkYsbXVsdGlwbHk6eSxub3JtYWxpemU6SixyYW5kb206TCxyb3RhdGVYOkEscm90YXRlWTpJLHJvdGF0ZVo6Xyxyb3RhdGlvblRvOlEsc2NhbGU6RyxzZXQ6QyxzZXRBeGVzOm50LHNldEF4aXNBbmdsZTp2LHNsZXJwOkUsc3FsZXJwOnR0LHNxckxlbjpILHNxdWFyZWRMZW5ndGg6WixzdHI6d30sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHtXIGFzIEEsWSBhcyBCLEggYXMgQyxKIGFzIEQsTiBhcyBFLHR0IGFzIEYsbnQgYXMgRyxCIGFzIGEsQSBhcyBiLFMgYXMgYyxJIGFzIGQsXyBhcyBlLFIgYXMgZix4IGFzIGcsWiBhcyBoLE8gYXMgaSxLIGFzIGosayxYIGFzIGwseSBhcyBtLGIgYXMgbix6IGFzIG8sRSBhcyBwLHJ0IGFzIHEsUSBhcyByLHYgYXMgcyxMIGFzIHQsVCBhcyB1LHcgYXMgdixDIGFzIHcsRCBhcyB4LEYgYXMgeSxHIGFzIHp9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGUoKXtyZXR1cm5bMCwwLDAsMV19ZnVuY3Rpb24gcihlKXtyZXR1cm5bZVswXSxlWzFdLGVbMl0sZVszXV19ZnVuY3Rpb24gdChlLHIsdCxuKXtyZXR1cm5bZSxyLHQsbl19ZnVuY3Rpb24gbihlLHIpe3JldHVybiBuZXcgRmxvYXQ2NEFycmF5KGUsciw0KX1jb25zdCBvPWUoKSxhPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxJREVOVElUWTpvLGNsb25lOnIsY3JlYXRlOmUsY3JlYXRlVmlldzpuLGZyb21WYWx1ZXM6dH0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHtvIGFzIEksZSBhcyBhLHIgYXMgYixuIGFzIGMsdCBhcyBmLGEgYXMgcX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzU29tZSBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtpc0FycmF5QnVmZmVyIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS90eXBlZEFycmF5VXRpbC5qc1wiO2ltcG9ydHtjIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3F1YXQuanNcIjtpbXBvcnR7YyBhcyBhfWZyb21cIi4uLy4uLy4uL2NodW5rcy9xdWF0ZjMyLmpzXCI7aW1wb3J0e3EgYXMgb31mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtmIGFzIG4sYyBhcyBmfWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMzZjMyLmpzXCI7aW1wb3J0e3Byb2plY3RCdWZmZXIgYXMgaX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydHtyZWFkR2VvbWV0cnkgYXMgdSxnZXRBdHRyaWJ1dGVWYWx1ZXMgYXMgbCxldmFsdWF0ZVJlbmRlcmVyIGFzIGIsZmlsdGVySW5QbGFjZSBhcyBtfWZyb21cIi4vaTNzL1BvaW50Q2xvdWRXb3JrZXJVdGlsLmpzXCI7Y2xhc3MgY3t0cmFuc2Zvcm0odCl7Y29uc3QgZT10aGlzLl90cmFuc2Zvcm0odCksYT1bZS5wb2ludHMuYnVmZmVyLGUucmdiLmJ1ZmZlcl07bnVsbCE9ZS5wb2ludElkRmlsdGVyTWFwJiZhLnB1c2goZS5wb2ludElkRmlsdGVyTWFwLmJ1ZmZlcik7Zm9yKGNvbnN0IG8gb2YgZS5hdHRyaWJ1dGVzKVwiYnVmZmVyXCJpbiBvLnZhbHVlcyYmcihvLnZhbHVlcy5idWZmZXIpJiZvLnZhbHVlcy5idWZmZXIhPT1lLnJnYi5idWZmZXImJmEucHVzaChvLnZhbHVlcy5idWZmZXIpO3JldHVybiBQcm9taXNlLnJlc29sdmUoe3Jlc3VsdDplLHRyYW5zZmVyTGlzdDphfSl9X3RyYW5zZm9ybShyKXtjb25zdCBlPXUoci5zY2hlbWEsci5nZW9tZXRyeUJ1ZmZlcik7bGV0IGE9ZS5sZW5ndGgvMyxvPW51bGw7Y29uc3Qgbj1uZXcgQXJyYXksZj1sKHIucHJpbWFyeUF0dHJpYnV0ZURhdGEsZSxhKTtudWxsIT1yLnByaW1hcnlBdHRyaWJ1dGVEYXRhJiZmJiZuLnB1c2goe2F0dHJpYnV0ZUluZm86ci5wcmltYXJ5QXR0cmlidXRlRGF0YS5hdHRyaWJ1dGVJbmZvLHZhbHVlczpmfSk7Y29uc3QgaT1sKHIubW9kdWxhdGlvbkF0dHJpYnV0ZURhdGEsZSxhKTtudWxsIT1yLm1vZHVsYXRpb25BdHRyaWJ1dGVEYXRhJiZpJiZuLnB1c2goe2F0dHJpYnV0ZUluZm86ci5tb2R1bGF0aW9uQXR0cmlidXRlRGF0YS5hdHRyaWJ1dGVJbmZvLHZhbHVlczppfSk7bGV0IGM9YihyLnJlbmRlcmVySW5mbyxmLGksYSk7aWYoci5maWx0ZXJJbmZvJiZyLmZpbHRlckluZm8ubGVuZ3RoPjAmJm51bGwhPXIuZmlsdGVyQXR0cmlidXRlc0RhdGEpe2NvbnN0IGY9ci5maWx0ZXJBdHRyaWJ1dGVzRGF0YS5maWx0ZXIodCkubWFwKCh0PT57Y29uc3Qgcj1sKHQsZSxhKSxvPXthdHRyaWJ1dGVJbmZvOnQuYXR0cmlidXRlSW5mbyx2YWx1ZXM6cn07cmV0dXJuIG4ucHVzaChvKSxvfSkpO289bmV3IFVpbnQzMkFycmF5KGEpLGE9bShlLGMsbyxyLmZpbHRlckluZm8sZil9Zm9yKGNvbnN0IHQgb2Ygci51c2VyQXR0cmlidXRlc0RhdGEpe2NvbnN0IHI9bCh0LGUsYSk7bi5wdXNoKHthdHRyaWJ1dGVJbmZvOnQuYXR0cmlidXRlSW5mbyx2YWx1ZXM6cn0pfTMqYTxjLmxlbmd0aCYmKGM9bmV3IFVpbnQ4QXJyYXkoYy5idWZmZXIuc2xpY2UoMCwzKmEpKSksdGhpcy5fYXBwbHlFbGV2YXRpb25PZmZzZXRJblBsYWNlKGUsYSxyLmVsZXZhdGlvbk9mZnNldCk7Y29uc3QgcD10aGlzLl90cmFuc2Zvcm1Db29yZGluYXRlcyhlLGEsci5vYmIscy5mcm9tSlNPTihyLmluU1IpLHMuZnJvbUpTT04oci5vdXRTUikpO3JldHVybntvYmI6ci5vYmIscG9pbnRzOnAscmdiOmMsYXR0cmlidXRlczpuLHBvaW50SWRGaWx0ZXJNYXA6b319X3RyYW5zZm9ybUNvb3JkaW5hdGVzKHQscixhLHMsdSl7aWYoIWkodCxzLDAsdCx1LDAscikpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgcmVwcm9qZWN0XCIpO2NvbnN0IGw9bihhLmNlbnRlclswXSxhLmNlbnRlclsxXSxhLmNlbnRlclsyXSksYj1mKCksbT1mKCk7ZShwLGEucXVhdGVybmlvbik7Y29uc3QgYz1uZXcgRmxvYXQzMkFycmF5KDMqcik7Zm9yKGxldCBlPTA7ZTxyO2UrKyliWzBdPXRbMyplXS1sWzBdLGJbMV09dFszKmUrMV0tbFsxXSxiWzJdPXRbMyplKzJdLWxbMl0sbyhtLGIscCksYS5oYWxmU2l6ZVswXT1NYXRoLm1heChhLmhhbGZTaXplWzBdLE1hdGguYWJzKG1bMF0pKSxhLmhhbGZTaXplWzFdPU1hdGgubWF4KGEuaGFsZlNpemVbMV0sTWF0aC5hYnMobVsxXSkpLGEuaGFsZlNpemVbMl09TWF0aC5tYXgoYS5oYWxmU2l6ZVsyXSxNYXRoLmFicyhtWzJdKSksY1szKmVdPWJbMF0sY1szKmUrMV09YlsxXSxjWzMqZSsyXT1iWzJdO3JldHVybiBjfV9hcHBseUVsZXZhdGlvbk9mZnNldEluUGxhY2UodCxyLGUpe2lmKDAhPT1lKWZvcihsZXQgYT0wO2E8cjthKyspdFszKmErMl0rPWV9fWNvbnN0IHA9YSgpO2Z1bmN0aW9uIGgoKXtyZXR1cm4gbmV3IGN9ZXhwb3J0e2ggYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL3JlbmRlcmVycy9Qb2ludENsb3VkQ2xhc3NCcmVha3NSZW5kZXJlci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uL3JlbmRlcmVycy9Qb2ludENsb3VkU3RyZXRjaFJlbmRlcmVyLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vLi4vcmVuZGVyZXJzL1BvaW50Q2xvdWRVbmlxdWVWYWx1ZVJlbmRlcmVyLmpzXCI7aW1wb3J0e2NyZWF0ZUdlb21ldHJ5SW5kZXhGcm9tU2NoZW1hIGFzIHQsY3JlYXRlVHlwZWRWaWV3IGFzIG4scmVhZEJpbmFyeUF0dHJpYnV0ZSBhcyBsfWZyb21cIi4vSTNTQmluYXJ5UmVhZGVyLmpzXCI7aW1wb3J0e2RlY29kZVhZWiBhcyBzfWZyb21cIi4vTEVQQ0MuanNcIjtmdW5jdGlvbiBpKHQsbixsLHMpe2NvbnN0e3JlbmRlcmVySlNPTjppLGlzUkdCUmVuZGVyZXI6dX09dDtsZXQgYz1udWxsLGE9bnVsbDtpZihuJiZ1KWM9bjtlbHNlIGlmKG4mJlwicG9pbnRDbG91ZFVuaXF1ZVZhbHVlUmVuZGVyZXJcIj09PWk/LnR5cGUpe2E9by5mcm9tSlNPTihpKTtjb25zdCBlPWEuY29sb3JVbmlxdWVWYWx1ZUluZm9zO2M9bmV3IFVpbnQ4QXJyYXkoMypzKTtjb25zdCByPWQoYS5maWVsZFRyYW5zZm9ybVR5cGUpO2ZvcihsZXQgbz0wO288cztvKyspe2NvbnN0IHQ9KHI/cihuW29dKTpuW29dKStcIlwiO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0udmFsdWVzLmluY2x1ZGVzKHQpKXtjWzMqb109ZVtyXS5jb2xvci5yLGNbMypvKzFdPWVbcl0uY29sb3IuZyxjWzMqbysyXT1lW3JdLmNvbG9yLmI7YnJlYWt9fX1lbHNlIGlmKG4mJlwicG9pbnRDbG91ZFN0cmV0Y2hSZW5kZXJlclwiPT09aT8udHlwZSl7YT1yLmZyb21KU09OKGkpO2NvbnN0IGU9YS5zdG9wcztjPW5ldyBVaW50OEFycmF5KDMqcyk7Y29uc3Qgbz1kKGEuZmllbGRUcmFuc2Zvcm1UeXBlKTtmb3IobGV0IHI9MDtyPHM7cisrKXtjb25zdCB0PW8/byhuW3JdKTpuW3JdLGw9ZS5sZW5ndGgtMTtpZih0PGVbMF0udmFsdWUpY1szKnJdPWVbMF0uY29sb3IucixjWzMqcisxXT1lWzBdLmNvbG9yLmcsY1szKnIrMl09ZVswXS5jb2xvci5iO2Vsc2UgaWYodD49ZVtsXS52YWx1ZSljWzMqcl09ZVtsXS5jb2xvci5yLGNbMypyKzFdPWVbbF0uY29sb3IuZyxjWzMqcisyXT1lW2xdLmNvbG9yLmI7ZWxzZSBmb3IobGV0IG89MTtvPGUubGVuZ3RoO28rKylpZih0PGVbb10udmFsdWUpe2NvbnN0IG49KHQtZVtvLTFdLnZhbHVlKS8oZVtvXS52YWx1ZS1lW28tMV0udmFsdWUpO2NbMypyXT1lW29dLmNvbG9yLnIqbitlW28tMV0uY29sb3IuciooMS1uKSxjWzMqcisxXT1lW29dLmNvbG9yLmcqbitlW28tMV0uY29sb3IuZyooMS1uKSxjWzMqcisyXT1lW29dLmNvbG9yLmIqbitlW28tMV0uY29sb3IuYiooMS1uKTticmVha319fWVsc2UgaWYobiYmXCJwb2ludENsb3VkQ2xhc3NCcmVha3NSZW5kZXJlclwiPT09aT8udHlwZSl7YT1lLmZyb21KU09OKGkpO2NvbnN0IHI9YS5jb2xvckNsYXNzQnJlYWtJbmZvcztjPW5ldyBVaW50OEFycmF5KDMqcyk7Y29uc3Qgbz1kKGEuZmllbGRUcmFuc2Zvcm1UeXBlKTtmb3IobGV0IGU9MDtlPHM7ZSsrKXtjb25zdCB0PW8/byhuW2VdKTpuW2VdO2ZvcihsZXQgbz0wO288ci5sZW5ndGg7bysrKWlmKHQ+PXJbb10ubWluVmFsdWUmJnQ8PXJbb10ubWF4VmFsdWUpe2NbMyplXT1yW29dLmNvbG9yLnIsY1szKmUrMV09cltvXS5jb2xvci5nLGNbMyplKzJdPXJbb10uY29sb3IuYjticmVha319fWVsc2UgYz1uZXcgVWludDhBcnJheSgzKnMpLmZpbGwoMjU1KTtpZihsJiZhJiZhLmNvbG9yTW9kdWxhdGlvbil7Y29uc3QgZT1hLmNvbG9yTW9kdWxhdGlvbi5taW5WYWx1ZSxyPWEuY29sb3JNb2R1bGF0aW9uLm1heFZhbHVlLG89LjM7Zm9yKGxldCB0PTA7dDxzO3QrKyl7Y29uc3Qgbj1sW3RdLHM9bj49cj8xOm48PWU/bzpvKygxLW8pKihuLWUpLyhyLWUpO2NbMyp0XT1zKmNbMyp0XSxjWzMqdCsxXT1zKmNbMyp0KzFdLGNbMyp0KzJdPXMqY1szKnQrMl19fXJldHVybiBjfWZ1bmN0aW9uIHUoZSxyKXtpZihudWxsPT1lLmVuY29kaW5nfHxcIlwiPT09ZS5lbmNvZGluZyl7Y29uc3Qgbz10KHIsZSk7aWYobnVsbD09by52ZXJ0ZXhBdHRyaWJ1dGVzLnBvc2l0aW9uKXJldHVybjtjb25zdCBsPW4ocixvLnZlcnRleEF0dHJpYnV0ZXMucG9zaXRpb24pLHM9by5oZWFkZXIuZmllbGRzLGk9W3Mub2Zmc2V0WCxzLm9mZnNldFkscy5vZmZzZXRaXSx1PVtzLnNjYWxlWCxzLnNjYWxlWSxzLnNjYWxlWl0sYz1sLmxlbmd0aC8zLGE9bmV3IEZsb2F0NjRBcnJheSgzKmMpO2ZvcihsZXQgZT0wO2U8YztlKyspYVszKmVdPWxbMyplXSp1WzBdK2lbMF0sYVszKmUrMV09bFszKmUrMV0qdVsxXStpWzFdLGFbMyplKzJdPWxbMyplKzJdKnVbMl0raVsyXTtyZXR1cm4gYX1pZihcImxlcGNjLXh5elwiPT09ZS5lbmNvZGluZylyZXR1cm4gcyhyKS5yZXN1bHR9ZnVuY3Rpb24gYyhlLHIsbyl7cmV0dXJuIG51bGwhPWUmJmUuYXR0cmlidXRlSW5mby51c2VFbGV2YXRpb24/cj9hKHIsbyk6bnVsbDpudWxsIT1lJiZlLmF0dHJpYnV0ZUluZm8uc3RvcmFnZUluZm8/bChlLmF0dHJpYnV0ZUluZm8uc3RvcmFnZUluZm8sZS5idWZmZXIsbyk6bnVsbH1mdW5jdGlvbiBhKGUscil7Y29uc3Qgbz1uZXcgRmxvYXQ2NEFycmF5KHIpO2ZvcihsZXQgdD0wO3Q8cjt0Kyspb1t0XT1lWzMqdCsyXTtyZXR1cm4gb31mdW5jdGlvbiBmKGUscixvLHQsbil7Y29uc3QgbD1lLmxlbmd0aC8zO2xldCBzPTA7Zm9yKGxldCBpPTA7aTxsO2krKyl7bGV0IGw9ITA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aCYmbDtlKyspe2NvbnN0e2ZpbHRlckpTT046cn09dFtlXSxvPW5bZV0udmFsdWVzW2ldO3N3aXRjaChyLnR5cGUpe2Nhc2VcInBvaW50Q2xvdWRWYWx1ZUZpbHRlclwiOntjb25zdCBlPVwiZXhjbHVkZVwiPT09ci5tb2RlO3IudmFsdWVzLmluY2x1ZGVzKG8pPT09ZSYmKGw9ITEpO2JyZWFrfWNhc2VcInBvaW50Q2xvdWRCaXRmaWVsZEZpbHRlclwiOntjb25zdCBlPXAoci5yZXF1aXJlZFNldEJpdHMpLHQ9cChyLnJlcXVpcmVkQ2xlYXJCaXRzKTsobyZlKT09PWUmJjA9PShvJnQpfHwobD0hMSk7YnJlYWt9Y2FzZVwicG9pbnRDbG91ZFJldHVybkZpbHRlclwiOntjb25zdCBlPTE1Jm8sdD1vPj4+NCYxNSxuPXQ+MSxzPTE9PT1lLGk9ZT09PXQ7bGV0IHU9ITE7Zm9yKGNvbnN0IG8gb2Ygci5pbmNsdWRlZFJldHVybnMpaWYoXCJsYXN0XCI9PT1vJiZpfHxcImZpcnN0T2ZNYW55XCI9PT1vJiZzJiZufHxcImxhc3RPZk1hbnlcIj09PW8mJmkmJm58fFwic2luZ2xlXCI9PT1vJiYhbil7dT0hMDticmVha311fHwobD0hMSk7YnJlYWt9fX1sJiYob1tzXT1pLGVbMypzXT1lWzMqaV0sZVszKnMrMV09ZVszKmkrMV0sZVszKnMrMl09ZVszKmkrMl0sclszKnNdPXJbMyppXSxyWzMqcysxXT1yWzMqaSsxXSxyWzMqcysyXT1yWzMqaSsyXSxzKyspfXJldHVybiBzfWZ1bmN0aW9uIGQoZSl7c3dpdGNoKGUpe2RlZmF1bHQ6Y2FzZSBudWxsOmNhc2VcIm5vbmVcIjpyZXR1cm4gZT0+ZTtjYXNlXCJsb3ctZm91ci1iaXRcIjpyZXR1cm4gZT0+MTUmZTtjYXNlXCJoaWdoLWZvdXItYml0XCI6cmV0dXJuIGU9PigyNDAmZSk+PjQ7Y2FzZVwiYWJzb2x1dGUtdmFsdWVcIjpyZXR1cm4gZT0+TWF0aC5hYnMoZSk7Y2FzZVwibW9kdWxvLXRlblwiOnJldHVybiBlPT5lJTEwfX1mdW5jdGlvbiBwKGUpe2xldCByPTA7Zm9yKGNvbnN0IG8gb2YgZXx8W10pcnw9MTw8bztyZXR1cm4gcn1leHBvcnR7YSBhcyBlbGV2YXRpb25Gcm9tUG9zaXRpb25zLGkgYXMgZXZhbHVhdGVSZW5kZXJlcixmIGFzIGZpbHRlckluUGxhY2UsYyBhcyBnZXRBdHRyaWJ1dGVWYWx1ZXMsdSBhcyByZWFkR2VvbWV0cnl9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9