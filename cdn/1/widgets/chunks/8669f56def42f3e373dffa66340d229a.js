"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_assets_js-node_modules_arcgis_core_layers_UnknownLayer_js"],{

/***/ "./node_modules/@arcgis/core/assets.js":
/*!*********************************************!*\
  !*** ./node_modules/@arcgis/core/assets.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fetchAsset": () => (/* binding */ n),
/* harmony export */   "getAssetUrl": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.assets");function n(s,o){return (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(a(s),o)}function a(t){if(!_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].assetsPath)throw i.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("assets:path-not-set","config.assetsPath is not set");return (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.join)(_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].assetsPath,t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MultiOriginJSONMixin": () => (/* binding */ O),
/* harmony export */   "MultiOriginJSONSupport": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _ReadOnlyMultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ReadOnlyMultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js");
/* harmony import */ var _accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accessorSupport/utils.js */ "./node_modules/@arcgis/core/core/accessorSupport/utils.js");
/* harmony import */ var _accessorSupport_write_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./accessorSupport/write.js */ "./node_modules/@arcgis/core/core/accessorSupport/write.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const u=t=>{let s=class extends t{constructor(...r){super(...r)}clear(r,t="user"){return l(this).delete(r,(0,_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_3__.nameToId)(t))}write(r,t){return (0,_accessorSupport_write_js__WEBPACK_IMPORTED_MODULE_5__.write)(this,r=r||{},t),r}setAtOrigin(r,t,s){(0,_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_4__.getProperties)(this).setAtOrigin(r,t,(0,_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_3__.nameToId)(s))}removeOrigin(r){const t=l(this),s=(0,_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_3__.nameToId)(r),i=t.keys(s);for(const e of i)t.originOf(e)===s&&t.set(e,t.get(e,s),_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_3__.OriginId.USER)}updateOrigin(r,t){const s=l(this),o=(0,_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_3__.nameToId)(t),c=this.get(r);for(let e=o+1;e<_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_3__.OriginIdNum;++e)s.delete(r,e);s.set(r,c,o)}toJSON(r){return this.write({},r)}};return s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.core.WriteableMultiOriginJSONSupport")],s),s.prototype.toJSON.isDefaultToJSON=!0,s};function l(r){return (0,_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_4__.getProperties)(r).store}const O=t=>{let e=class extends(u((0,_ReadOnlyMultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.ReadOnlyMultiOriginJSONMixin)(t))){constructor(...r){super(...r)}};return e=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.core.MultiOriginJSONSupport")],e),e};let S=class extends(O(_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){};S=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.core.MultiOriginJSONSupport")],S);


/***/ }),

/***/ "./node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ReadOnlyMultiOriginJSONMixin": () => (/* binding */ a),
/* harmony export */   "ReadOnlyMultiOriginJSONSupport": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _accessorSupport_defaultsStoreUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./accessorSupport/defaultsStoreUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/defaultsStoreUtils.js");
/* harmony import */ var _accessorSupport_MultiOriginStore_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accessorSupport/MultiOriginStore.js */ "./node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js");
/* harmony import */ var _accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _accessorSupport_read_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./accessorSupport/read.js */ "./node_modules/@arcgis/core/core/accessorSupport/read.js");
/* harmony import */ var _accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./accessorSupport/utils.js */ "./node_modules/@arcgis/core/core/accessorSupport/utils.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const a=t=>{let a=class extends t{constructor(...r){super(...r);const t=(0,_maybe_js__WEBPACK_IMPORTED_MODULE_2__.assumeNonNull)((0,_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_7__.getProperties)(this)),i=t.store,c=new _accessorSupport_MultiOriginStore_js__WEBPACK_IMPORTED_MODULE_4__["default"];t.store=c,(0,_accessorSupport_defaultsStoreUtils_js__WEBPACK_IMPORTED_MODULE_3__.setupConstructedDefaults)(t,i,c)}read(r,t){(0,_accessorSupport_read_js__WEBPACK_IMPORTED_MODULE_6__.read)(this,r,t)}getAtOrigin(r,t){const s=m(this),o=(0,_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_5__.nameToId)(t);if("string"==typeof r)return s.get(r,o);const e={};return r.forEach((r=>{e[r]=s.get(r,o)})),e}originOf(r){return (0,_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_5__.idToName)(this.originIdOf(r))}originIdOf(r){return m(this).originOf(r)}revert(r,t){const s=m(this),o=(0,_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_5__.nameToId)(t),e=(0,_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_7__.getProperties)(this);let c;c="string"==typeof r?"*"===r?s.keys(o):[r]:r,c.forEach((r=>{e.invalidate(r),s.revert(r,o),e.commit(r)}))}};return a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.core.ReadOnlyMultiOriginJSONSupport")],a),a};function m(r){return (0,_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_7__.getProperties)(r).store}let f=class extends(a(_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){};f=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.core.ReadOnlyMultiOriginJSONSupport")],f);


/***/ }),

/***/ "./node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class i{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_2__.OriginIdNum),this._values=new Map,this.multipleOriginsSupported=!0}clone(s){const o=new i,n=this._originStores[_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_2__.OriginId.DEFAULTS];n&&n.forEach(((s,e)=>{o.set(e,(0,_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(s),_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_2__.OriginId.DEFAULTS)}));for(let i=_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_2__.OriginId.SERVICE;i<_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_2__.OriginIdNum;i++){const e=this._originStores[i];e&&e.forEach(((e,r)=>{s&&s.has(r)||o.set(r,(0,_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(e),i)}))}return o}get(t,s){const e=void 0===s?this._values:this._originStores[s];return e?e.get(t):void 0}keys(t){const s=null==t?this._values:this._originStores[t];return s?[...s.keys()]:[]}set(t,e,i=_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_2__.OriginId.USER){let o=this._originStores[i];if(o||(o=new Map,this._originStores[i]=o),o.set(t,e),!this._values.has(t)||(0,_maybe_js__WEBPACK_IMPORTED_MODULE_1__.assumeNonNull)(this._propertyOriginMap.get(t))<=i){const s=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,i),s!==e}return!1}delete(t,s=_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_2__.OriginId.USER){const e=this._originStores[s];if(!e)return;const i=e.get(t);if(e.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===s){this._values.delete(t);for(let e=s-1;e>=0;e--){const s=this._originStores[e];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,e);break}}}return i}has(t,s){const e=void 0===s?this._values:this._originStores[s];return!!e&&e.has(t)}revert(t,s){for(;s>0&&!this.has(t,s);)--s;const e=this._originStores[s],r=e&&e.get(t),i=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),i!==r}originOf(t){return this._propertyOriginMap.get(t)||_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_2__.OriginId.DEFAULTS}forEach(t){this._values.forEach(t)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/asyncUtils.js":
/*!******************************************************!*\
  !*** ./node_modules/@arcgis/core/core/asyncUtils.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "assertResult": () => (/* binding */ y),
/* harmony export */   "createTask": () => (/* binding */ d),
/* harmony export */   "forEach": () => (/* binding */ a),
/* harmony export */   "makeResultError": () => (/* binding */ h),
/* harmony export */   "makeResultOk": () => (/* binding */ c),
/* harmony export */   "map": () => (/* binding */ p),
/* harmony export */   "result": () => (/* binding */ _),
/* harmony export */   "resultError": () => (/* binding */ f),
/* harmony export */   "resultOrAbort": () => (/* binding */ b),
/* harmony export */   "resultValue": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function a(r,t,o){return (0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)(r.map(((r,e)=>t.apply(o,[r,e]))))}async function p(r,t,o){return(await (0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)(r.map(((r,e)=>t.apply(o,[r,e]))))).map((r=>r.value))}function c(r){return{ok:!0,value:r}}function h(r){return{ok:!1,error:r}}function m(r){return null!=r&&!0===r.ok?r.value:null}function f(r){return null!=r&&!1===r.ok?r.error:null}async function _(r){if(null==r)return{ok:!1,error:new Error("no promise provided")};try{return c(await r)}catch(t){return h(t)}}async function b(r){try{return c(await r)}catch(t){return (0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAbortError)(t),h(t)}}function y(r){if(!0===r.ok)return r.value;throw r.error}function d(r,t){return new v(r,t)}let v=class extends _Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{get value(){return m(this._result)}get error(){return f(this._result)}get finished(){return null!=this._result}constructor(r,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,_maybe_js__WEBPACK_IMPORTED_MODULE_2__.abortMaybe)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:e}=this._abortController;this.promise=r(e),this.promise.then((r=>{this._result=c(r),this._cleanup()}),(r=>{this._result=h(r),this._cleanup()})),this._abortHandle=(0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.onAbort)(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,_maybe_js__WEBPACK_IMPORTED_MODULE_2__.removeMaybe)(this._abortHandle),this._abortController=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"value",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"error",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"finished",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"promise",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"_result",void 0),v=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.core.asyncUtils.ReactiveTask")],v);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/UnknownLayer.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/UnknownLayer.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let a=class extends((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_10__.PortalLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.MultiOriginJSONMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_9__["default"]))){constructor(r){super(r),this.resourceInfo=null,this.type="unknown"}initialize(){this.addResolvingPromise(new Promise(((r,e)=>{(0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_3__.schedule)((()=>{const r=this.resourceInfo&&(this.resourceInfo.layerType||this.resourceInfo.type);let s="Unknown layer type";r&&(s+=" "+r),e(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layer:unknown-layer-type",s,{layerType:r}))}))})))}read(r,o){super.read({resourceInfo:r},o)}write(r,o){return null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],a.prototype,"resourceInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:["show","hide"]})],a.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({json:{read:!1},readOnly:!0,value:"unknown"})],a.prototype,"type",void 0),a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.UnknownLayer")],a);const c=a;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/PortalLayer.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PortalLayer": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _kernel_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../kernel.js */ "./node_modules/@arcgis/core/kernel.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _support_layerUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _portal_Portal_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../portal/Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/* harmony import */ var _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../portal/PortalItem.js */ "./node_modules/@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _portal_PortalUser_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../portal/PortalUser.js */ "./node_modules/@arcgis/core/portal/PortalUser.js");
/* harmony import */ var _portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../portal/support/portalItemUtils.js */ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const j=j=>{let _=class extends j{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_7__.destroyMaybe)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(t){t!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",t))}readPortalItem(t,e,r){if(e.itemId)return new _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_19__["default"]({id:e.itemId,portal:r&&r.portal})}writePortalItem(t,e){t&&t.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem&&this.portalItem.id)try{const{load:r}=await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_portal_support_layersLoader_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../portal/support/layersLoader.js */ "./node_modules/@arcgis/core/portal/support/layersLoader.js"));return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(e),await r({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap},e)}catch(r){throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${r}`),r}}async finishLoadEditablePortalLayer(t){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(t).catch((t=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(t),!0))))}async _setUserPrivileges(t,r){if(!_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:e,fullEdit:s},content:{updateItem:i}}=await this._fetchUserPrivileges(t,r);this._set("userHasEditingPrivileges",e),this._set("userHasFullEditingPrivileges",s),this._set("userHasUpdateItemPrivileges",i)}catch(s){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(s)}}async _fetchUserPrivileges(t,e){let s=this.portalItem;if(!t||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(e);const i=t===s.id;if(i&&s.portal.user)return (0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_21__.getUserPrivileges)(s);let o,a;if(i)o=s.portal.url;else try{o=await (0,_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_17__.getOwningPortalUrl)(this.url,e)}catch(m){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(m)}if(!o||!(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.hasSameCanonicalPortal)(o,s.portal.url))return this._fetchFallbackUserPrivileges(e);try{const t=null!=e?e.signal:null;a=await(_kernel_js__WEBPACK_IMPORTED_MODULE_2__.id?.getCredential(`${o}/sharing`,{prompt:!1,signal:t}))}catch(m){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(m)}const l=!0,n=!1,p=!1;if(!a)return{features:{edit:l,fullEdit:n},content:{updateItem:p}};try{if(i?await s.reload():(s=new _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_19__["default"]({id:t,portal:{url:o}}),await s.load(e)),s.portal.user)return (0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_21__.getUserPrivileges)(s)}catch(m){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(m)}return{features:{edit:l,fullEdit:n},content:{updateItem:p}}}async _fetchFallbackUserPrivileges(t){let e=!0;try{e=await this._fetchUserHasEditingPrivileges(t)}catch(r){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(r)}return{features:{edit:e,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(t){const e=this.url?_kernel_js__WEBPACK_IMPORTED_MODULE_2__.id?.findCredential(this.url):null;if(!e)return!0;const s=E.credential===e?E.user:await this._fetchEditingUser(t);return E.credential=e,E.user=s,null==s||null==s.privileges||s.privileges.includes("features:user:edit")}async _fetchEditingUser(t){const e=this.portalItem?.portal?.user;if(e)return e;const o=_kernel_js__WEBPACK_IMPORTED_MODULE_2__.id.findServerInfo(this.url??"");if(!o?.owningSystemUrl)return null;const a=`${o.owningSystemUrl}/sharing/rest`,l=_portal_Portal_js__WEBPACK_IMPORTED_MODULE_18__["default"].getDefault();if(l&&l.loaded&&(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.normalize)(l.restUrl)===(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.normalize)(a))return l.user;const n=`${a}/community/self`,p=null!=t?t.signal:null,u=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_4__.result)((0,_request_js__WEBPACK_IMPORTED_MODULE_3__["default"])(n,{authMode:"no-prompt",query:{f:"json"},signal:p}));return u.ok?_portal_PortalUser_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromJSON(u.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const r=e&&e.portal,s=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||_portal_Portal_js__WEBPACK_IMPORTED_MODULE_18__["default"].getDefault());return r&&s&&!(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.hasSamePortal)(s.restUrl,r.restUrl)?(e.messages&&e.messages.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:_portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_19__["default"]})],_.prototype,"portalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__.reader)("web-document","portalItem",["itemId"])],_.prototype,"readPortalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_16__.writer)("web-document","portalItem",{itemId:{type:String}})],_.prototype,"writePortalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({clonable:!1})],_.prototype,"resourceReferences",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:Boolean,readOnly:!0})],_.prototype,"userHasEditingPrivileges",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:Boolean,readOnly:!0})],_.prototype,"userHasFullEditingPrivileges",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:Boolean,readOnly:!0})],_.prototype,"userHasUpdateItemPrivileges",void 0),_=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__.subclass)("esri.layers.mixins.PortalLayer")],_),_},E={credential:null,user:null};


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/portalItemUtils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TypeKeyword": () => (/* binding */ l),
/* harmony export */   "addTypeKeyword": () => (/* binding */ i),
/* harmony export */   "getUserPrivileges": () => (/* binding */ f),
/* harmony export */   "getWGS84ExtentForItem": () => (/* binding */ a),
/* harmony export */   "hasTypeKeyword": () => (/* binding */ s),
/* harmony export */   "isHostedLayer": () => (/* binding */ c),
/* harmony export */   "removeTypeKeyword": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function o(o){const i=o.spatialReference;if(i.isWGS84)return o.clone();if(i.isWebMercator)return (0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_2__.webMercatorToGeographic)(o);const s=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__["default"].WGS84;return await (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_0__.initializeProjection)(i,s),(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_0__.project)(o,s)}function i(e,t){if(!s(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function s(e,t){return!!e.typeKeywords?.includes(t)}function c(e){return s(e,l.HOSTED_SERVICE)}function u(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}async function a(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return o(r)}const l={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service"};function f(e){const{portal:t,isOrgItem:r,itemControl:n}=e,o=t.user?.privileges;let i=!o||o.includes("features:user:edit"),s=!!r&&!!o?.includes("features:user:fullEdit");const c="update"===n||"admin"===n;return c?s=i=!0:s&&(i=!0),{features:{edit:i,fullEdit:s},content:{updateItem:c}}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvODY2OWY1NmRlZjQyZjNlMzczZGZmYTY2MzQwZDIyOWEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2dLLFFBQVEsaUVBQVcsZ0JBQWdCLGdCQUFnQixPQUFPLHVEQUFDLFNBQVMsY0FBYyxJQUFJLDZEQUFZLHFJQUFxSSxzREFBQyx1REFBdUQsT0FBTyx1REFBQyxDQUFDLDZEQUFZLElBQTZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pqZ0I7QUFDQTtBQUNBO0FBQ0E7QUFDMmEsWUFBWSxzQkFBc0Isa0JBQWtCLFlBQVksa0JBQWtCLHdCQUF3Qiw0RUFBQyxLQUFLLFdBQVcsT0FBTyxnRUFBQyxhQUFhLE1BQU0sbUJBQW1CLHdFQUFDLHVCQUF1Qiw0RUFBQyxLQUFLLGdCQUFnQixrQkFBa0IsNEVBQUMsZ0JBQWdCLHVEQUF1RCw2RUFBTSxFQUFFLGtCQUFrQixrQkFBa0IsNEVBQUMsa0JBQWtCLGNBQWMsRUFBRSwyRUFBQyxDQUFDLGtCQUFrQixhQUFhLFVBQVUsb0JBQW9CLE1BQU0sU0FBUyx1REFBQyxFQUFFLGlGQUFDLDJGQUEyRixjQUFjLE9BQU8sd0VBQUMsVUFBVSxZQUFZLHNCQUFzQixnR0FBQyxNQUFNLGtCQUFrQixjQUFjLFNBQVMsdURBQUMsRUFBRSxpRkFBQyw0Q0FBNEMsc0JBQXNCLG9EQUFDLEtBQUssRUFBRSx1REFBQyxFQUFFLGlGQUFDLHlDQUF1Rzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pud0M7QUFDQTtBQUNBO0FBQ0E7QUFDd2YsWUFBWSxzQkFBc0Isa0JBQWtCLFlBQVksUUFBUSx3REFBQyxDQUFDLHdFQUFDLHdCQUF3Qiw0RUFBQyxDQUFDLFVBQVUsZ0dBQUMsUUFBUSxVQUFVLDhEQUFDLFdBQVcsaUJBQWlCLGtCQUFrQiw0RUFBQyxJQUFJLHdDQUF3QyxXQUFXLHNCQUFzQixnQkFBZ0IsS0FBSyxZQUFZLE9BQU8sNEVBQUMscUJBQXFC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QUFZLHVFQUFVLG9CQUFvQixVQUFVLGtDQUFrQyxXQUFXLG9GQUFvRixxRUFBWSxJQUFJLGNBQWMsZ0VBQUMsdURBQXVELHNEQUFDLG9DQUFvQyxZQUFZLEdBQUcsUUFBUSxnTkFBZ04sV0FBVyx3QkFBd0IsZ0JBQWdCLElBQUksT0FBTyx1REFBQyxFQUFFLHVGQUFDLEVBQUUsS0FBSyw4REFBQyxDQUFDLGtDQUFrQyx1REFBQyxFQUFFLG1GQUFDLDZFQUE2RSx1REFBQyxFQUFFLG1GQUFDLDhCQUE4QixRQUFRLGFBQWEsdUNBQXVDLHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxZQUFZLDRDQUE0Qyx1REFBQyxFQUFFLHVGQUFDLEVBQUUseUJBQXlCLGtEQUFrRCx1REFBQyxFQUFFLHVGQUFDLEVBQUUseUJBQXlCLHNEQUFzRCx1REFBQyxFQUFFLHVGQUFDLEVBQUUseUJBQXlCLHVEQUF1RCx1REFBQyxFQUFFLHVGQUFDLHlDQUF5QyxJQUFJLDJCQUFvRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnIySztBQUNBO0FBQ0E7QUFDQTtBQUN3TixvQkFBb0IsMkJBQTJCLDhCQUE4QiwwQkFBMEIsOEZBQUMsSUFBSSxRQUFRLDJFQUFPLENBQUMsYUFBYSw2RUFBQyxNQUFNLGdFQUFDLE1BQU0sZ0JBQWdCLFlBQVksdUJBQXVCLGdDQUFnQyxnQkFBZ0Isb0NBQW9DLGNBQWMsNkJBQTZCLGdCQUFnQix1QkFBdUIsTUFBTSxxQkFBcUIscUJBQXFCLG9CQUFvQiw4QkFBOEIsTUFBTSw0REFBNEQsWUFBWSxZQUFZLFNBQVMsOExBQThMLGNBQWMsTUFBTSxtQ0FBbUMsd0JBQXdCLDBGQUEwRixrQ0FBa0MsMkJBQTJCLFVBQVUsa0JBQWtCLFVBQVUsZUFBNEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9hc3NldHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9NdWx0aU9yaWdpbkpTT05TdXBwb3J0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvUmVhZE9ubHlNdWx0aU9yaWdpbkpTT05TdXBwb3J0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvYWNjZXNzb3JTdXBwb3J0L011bHRpT3JpZ2luU3RvcmUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9hc3luY1V0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9Vbmtub3duTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL21peGlucy9Qb3J0YWxMYXllci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9wb3J0YWwvc3VwcG9ydC9wb3J0YWxJdGVtVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBzIGZyb21cIi4vY29uZmlnLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IG8gZnJvbVwiLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtqb2luIGFzIGV9ZnJvbVwiLi9jb3JlL3VybFV0aWxzLmpzXCI7Y29uc3QgaT1yLmdldExvZ2dlcihcImVzcmkuYXNzZXRzXCIpO2Z1bmN0aW9uIG4ocyxvKXtyZXR1cm4gdChhKHMpLG8pfWZ1bmN0aW9uIGEodCl7aWYoIXMuYXNzZXRzUGF0aCl0aHJvdyBpLmVycm9yT25jZShcIlRoZSBBUEkgYXNzZXRzIGxvY2F0aW9uIG5lZWRzIHRvIGJlIHNldCB1c2luZyBjb25maWcuYXNzZXRzUGF0aC4gTW9yZSBpbmZvcm1hdGlvbjogaHR0cHM6Ly9hcmNnLmlzLzFPekxlNTBcIiksbmV3IG8oXCJhc3NldHM6cGF0aC1ub3Qtc2V0XCIsXCJjb25maWcuYXNzZXRzUGF0aCBpcyBub3Qgc2V0XCIpO3JldHVybiBlKHMuYXNzZXRzUGF0aCx0KX1leHBvcnR7biBhcyBmZXRjaEFzc2V0LGEgYXMgZ2V0QXNzZXRVcmx9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHJ9ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4vQWNjZXNzb3IuanNcIjtpbXBvcnR7UmVhZE9ubHlNdWx0aU9yaWdpbkpTT05NaXhpbiBhcyBzfWZyb21cIi4vUmVhZE9ubHlNdWx0aU9yaWdpbkpTT05TdXBwb3J0LmpzXCI7aW1wb3J0e25hbWVUb0lkIGFzIGUsT3JpZ2luSWQgYXMgbyxPcmlnaW5JZE51bSBhcyBpfWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L1Byb3BlcnR5T3JpZ2luLmpzXCI7aW1wb3J0e2dldFByb3BlcnRpZXMgYXMgY31mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydHt3cml0ZSBhcyBufWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L3dyaXRlLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHB9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2NvbnN0IHU9dD0+e2xldCBzPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvciguLi5yKXtzdXBlciguLi5yKX1jbGVhcihyLHQ9XCJ1c2VyXCIpe3JldHVybiBsKHRoaXMpLmRlbGV0ZShyLGUodCkpfXdyaXRlKHIsdCl7cmV0dXJuIG4odGhpcyxyPXJ8fHt9LHQpLHJ9c2V0QXRPcmlnaW4ocix0LHMpe2ModGhpcykuc2V0QXRPcmlnaW4ocix0LGUocykpfXJlbW92ZU9yaWdpbihyKXtjb25zdCB0PWwodGhpcykscz1lKHIpLGk9dC5rZXlzKHMpO2Zvcihjb25zdCBlIG9mIGkpdC5vcmlnaW5PZihlKT09PXMmJnQuc2V0KGUsdC5nZXQoZSxzKSxvLlVTRVIpfXVwZGF0ZU9yaWdpbihyLHQpe2NvbnN0IHM9bCh0aGlzKSxvPWUodCksYz10aGlzLmdldChyKTtmb3IobGV0IGU9bysxO2U8aTsrK2Upcy5kZWxldGUocixlKTtzLnNldChyLGMsbyl9dG9KU09OKHIpe3JldHVybiB0aGlzLndyaXRlKHt9LHIpfX07cmV0dXJuIHM9cihbcChcImVzcmkuY29yZS5Xcml0ZWFibGVNdWx0aU9yaWdpbkpTT05TdXBwb3J0XCIpXSxzKSxzLnByb3RvdHlwZS50b0pTT04uaXNEZWZhdWx0VG9KU09OPSEwLHN9O2Z1bmN0aW9uIGwocil7cmV0dXJuIGMocikuc3RvcmV9Y29uc3QgTz10PT57bGV0IGU9Y2xhc3MgZXh0ZW5kcyh1KHModCkpKXtjb25zdHJ1Y3RvciguLi5yKXtzdXBlciguLi5yKX19O3JldHVybiBlPXIoW3AoXCJlc3JpLmNvcmUuTXVsdGlPcmlnaW5KU09OU3VwcG9ydFwiKV0sZSksZX07bGV0IFM9Y2xhc3MgZXh0ZW5kcyhPKHQpKXt9O1M9cihbcChcImVzcmkuY29yZS5NdWx0aU9yaWdpbkpTT05TdXBwb3J0XCIpXSxTKTtleHBvcnR7TyBhcyBNdWx0aU9yaWdpbkpTT05NaXhpbixTIGFzIE11bHRpT3JpZ2luSlNPTlN1cHBvcnR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHJ9ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4vQWNjZXNzb3IuanNcIjtpbXBvcnR7YXNzdW1lTm9uTnVsbCBhcyBzfWZyb21cIi4vbWF5YmUuanNcIjtpbXBvcnR7c2V0dXBDb25zdHJ1Y3RlZERlZmF1bHRzIGFzIG99ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvZGVmYXVsdHNTdG9yZVV0aWxzLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvTXVsdGlPcmlnaW5TdG9yZS5qc1wiO2ltcG9ydHtuYW1lVG9JZCBhcyBpLGlkVG9OYW1lIGFzIGN9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvUHJvcGVydHlPcmlnaW4uanNcIjtpbXBvcnR7cmVhZCBhcyBufWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L3JlYWQuanNcIjtpbXBvcnR7Z2V0UHJvcGVydGllcyBhcyBwfWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L3V0aWxzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHV9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2NvbnN0IGE9dD0+e2xldCBhPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvciguLi5yKXtzdXBlciguLi5yKTtjb25zdCB0PXMocCh0aGlzKSksaT10LnN0b3JlLGM9bmV3IGU7dC5zdG9yZT1jLG8odCxpLGMpfXJlYWQocix0KXtuKHRoaXMscix0KX1nZXRBdE9yaWdpbihyLHQpe2NvbnN0IHM9bSh0aGlzKSxvPWkodCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHIpcmV0dXJuIHMuZ2V0KHIsbyk7Y29uc3QgZT17fTtyZXR1cm4gci5mb3JFYWNoKChyPT57ZVtyXT1zLmdldChyLG8pfSkpLGV9b3JpZ2luT2Yocil7cmV0dXJuIGModGhpcy5vcmlnaW5JZE9mKHIpKX1vcmlnaW5JZE9mKHIpe3JldHVybiBtKHRoaXMpLm9yaWdpbk9mKHIpfXJldmVydChyLHQpe2NvbnN0IHM9bSh0aGlzKSxvPWkodCksZT1wKHRoaXMpO2xldCBjO2M9XCJzdHJpbmdcIj09dHlwZW9mIHI/XCIqXCI9PT1yP3Mua2V5cyhvKTpbcl06cixjLmZvckVhY2goKHI9PntlLmludmFsaWRhdGUocikscy5yZXZlcnQocixvKSxlLmNvbW1pdChyKX0pKX19O3JldHVybiBhPXIoW3UoXCJlc3JpLmNvcmUuUmVhZE9ubHlNdWx0aU9yaWdpbkpTT05TdXBwb3J0XCIpXSxhKSxhfTtmdW5jdGlvbiBtKHIpe3JldHVybiBwKHIpLnN0b3JlfWxldCBmPWNsYXNzIGV4dGVuZHMoYSh0KSl7fTtmPXIoW3UoXCJlc3JpLmNvcmUuUmVhZE9ubHlNdWx0aU9yaWdpbkpTT05TdXBwb3J0XCIpXSxmKTtleHBvcnR7YSBhcyBSZWFkT25seU11bHRpT3JpZ2luSlNPTk1peGluLGYgYXMgUmVhZE9ubHlNdWx0aU9yaWdpbkpTT05TdXBwb3J0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y2xvbmUgYXMgdH1mcm9tXCIuLi9sYW5nLmpzXCI7aW1wb3J0e2Fzc3VtZU5vbk51bGwgYXMgc31mcm9tXCIuLi9tYXliZS5qc1wiO2ltcG9ydHtPcmlnaW5JZE51bSBhcyBlLE9yaWdpbklkIGFzIHJ9ZnJvbVwiLi9Qcm9wZXJ0eU9yaWdpbi5qc1wiO2NsYXNzIGl7Y29uc3RydWN0b3IoKXt0aGlzLl9wcm9wZXJ0eU9yaWdpbk1hcD1uZXcgTWFwLHRoaXMuX29yaWdpblN0b3Jlcz1uZXcgQXJyYXkoZSksdGhpcy5fdmFsdWVzPW5ldyBNYXAsdGhpcy5tdWx0aXBsZU9yaWdpbnNTdXBwb3J0ZWQ9ITB9Y2xvbmUocyl7Y29uc3Qgbz1uZXcgaSxuPXRoaXMuX29yaWdpblN0b3Jlc1tyLkRFRkFVTFRTXTtuJiZuLmZvckVhY2goKChzLGUpPT57by5zZXQoZSx0KHMpLHIuREVGQVVMVFMpfSkpO2ZvcihsZXQgaT1yLlNFUlZJQ0U7aTxlO2krKyl7Y29uc3QgZT10aGlzLl9vcmlnaW5TdG9yZXNbaV07ZSYmZS5mb3JFYWNoKCgoZSxyKT0+e3MmJnMuaGFzKHIpfHxvLnNldChyLHQoZSksaSl9KSl9cmV0dXJuIG99Z2V0KHQscyl7Y29uc3QgZT12b2lkIDA9PT1zP3RoaXMuX3ZhbHVlczp0aGlzLl9vcmlnaW5TdG9yZXNbc107cmV0dXJuIGU/ZS5nZXQodCk6dm9pZCAwfWtleXModCl7Y29uc3Qgcz1udWxsPT10P3RoaXMuX3ZhbHVlczp0aGlzLl9vcmlnaW5TdG9yZXNbdF07cmV0dXJuIHM/Wy4uLnMua2V5cygpXTpbXX1zZXQodCxlLGk9ci5VU0VSKXtsZXQgbz10aGlzLl9vcmlnaW5TdG9yZXNbaV07aWYob3x8KG89bmV3IE1hcCx0aGlzLl9vcmlnaW5TdG9yZXNbaV09byksby5zZXQodCxlKSwhdGhpcy5fdmFsdWVzLmhhcyh0KXx8cyh0aGlzLl9wcm9wZXJ0eU9yaWdpbk1hcC5nZXQodCkpPD1pKXtjb25zdCBzPXRoaXMuX3ZhbHVlcy5nZXQodCk7cmV0dXJuIHRoaXMuX3ZhbHVlcy5zZXQodCxlKSx0aGlzLl9wcm9wZXJ0eU9yaWdpbk1hcC5zZXQodCxpKSxzIT09ZX1yZXR1cm4hMX1kZWxldGUodCxzPXIuVVNFUil7Y29uc3QgZT10aGlzLl9vcmlnaW5TdG9yZXNbc107aWYoIWUpcmV0dXJuO2NvbnN0IGk9ZS5nZXQodCk7aWYoZS5kZWxldGUodCksdGhpcy5fdmFsdWVzLmhhcyh0KSYmdGhpcy5fcHJvcGVydHlPcmlnaW5NYXAuZ2V0KHQpPT09cyl7dGhpcy5fdmFsdWVzLmRlbGV0ZSh0KTtmb3IobGV0IGU9cy0xO2U+PTA7ZS0tKXtjb25zdCBzPXRoaXMuX29yaWdpblN0b3Jlc1tlXTtpZihzJiZzLmhhcyh0KSl7dGhpcy5fdmFsdWVzLnNldCh0LHMuZ2V0KHQpKSx0aGlzLl9wcm9wZXJ0eU9yaWdpbk1hcC5zZXQodCxlKTticmVha319fXJldHVybiBpfWhhcyh0LHMpe2NvbnN0IGU9dm9pZCAwPT09cz90aGlzLl92YWx1ZXM6dGhpcy5fb3JpZ2luU3RvcmVzW3NdO3JldHVybiEhZSYmZS5oYXModCl9cmV2ZXJ0KHQscyl7Zm9yKDtzPjAmJiF0aGlzLmhhcyh0LHMpOyktLXM7Y29uc3QgZT10aGlzLl9vcmlnaW5TdG9yZXNbc10scj1lJiZlLmdldCh0KSxpPXRoaXMuX3ZhbHVlcy5nZXQodCk7cmV0dXJuIHRoaXMuX3ZhbHVlcy5zZXQodCxyKSx0aGlzLl9wcm9wZXJ0eU9yaWdpbk1hcC5zZXQodCxzKSxpIT09cn1vcmlnaW5PZih0KXtyZXR1cm4gdGhpcy5fcHJvcGVydHlPcmlnaW5NYXAuZ2V0KHQpfHxyLkRFRkFVTFRTfWZvckVhY2godCl7dGhpcy5fdmFsdWVzLmZvckVhY2godCl9fWV4cG9ydHtpIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHJ9ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4vQWNjZXNzb3IuanNcIjtpbXBvcnR7YWJvcnRNYXliZSBhcyBvLHJlbW92ZU1heWJlIGFzIGV9ZnJvbVwiLi9tYXliZS5qc1wiO2ltcG9ydHtlYWNoQWx3YXlzIGFzIG4sdGhyb3dJZkFib3J0RXJyb3IgYXMgcyxvbkFib3J0IGFzIGx9ZnJvbVwiLi9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaX1mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHV9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2Z1bmN0aW9uIGEocix0LG8pe3JldHVybiBuKHIubWFwKCgocixlKT0+dC5hcHBseShvLFtyLGVdKSkpKX1hc3luYyBmdW5jdGlvbiBwKHIsdCxvKXtyZXR1cm4oYXdhaXQgbihyLm1hcCgoKHIsZSk9PnQuYXBwbHkobyxbcixlXSkpKSkpLm1hcCgocj0+ci52YWx1ZSkpfWZ1bmN0aW9uIGMocil7cmV0dXJue29rOiEwLHZhbHVlOnJ9fWZ1bmN0aW9uIGgocil7cmV0dXJue29rOiExLGVycm9yOnJ9fWZ1bmN0aW9uIG0ocil7cmV0dXJuIG51bGwhPXImJiEwPT09ci5vaz9yLnZhbHVlOm51bGx9ZnVuY3Rpb24gZihyKXtyZXR1cm4gbnVsbCE9ciYmITE9PT1yLm9rP3IuZXJyb3I6bnVsbH1hc3luYyBmdW5jdGlvbiBfKHIpe2lmKG51bGw9PXIpcmV0dXJue29rOiExLGVycm9yOm5ldyBFcnJvcihcIm5vIHByb21pc2UgcHJvdmlkZWRcIil9O3RyeXtyZXR1cm4gYyhhd2FpdCByKX1jYXRjaCh0KXtyZXR1cm4gaCh0KX19YXN5bmMgZnVuY3Rpb24gYihyKXt0cnl7cmV0dXJuIGMoYXdhaXQgcil9Y2F0Y2godCl7cmV0dXJuIHModCksaCh0KX19ZnVuY3Rpb24geShyKXtpZighMD09PXIub2spcmV0dXJuIHIudmFsdWU7dGhyb3cgci5lcnJvcn1mdW5jdGlvbiBkKHIsdCl7cmV0dXJuIG5ldyB2KHIsdCl9bGV0IHY9Y2xhc3MgZXh0ZW5kcyB0e2dldCB2YWx1ZSgpe3JldHVybiBtKHRoaXMuX3Jlc3VsdCl9Z2V0IGVycm9yKCl7cmV0dXJuIGYodGhpcy5fcmVzdWx0KX1nZXQgZmluaXNoZWQoKXtyZXR1cm4gbnVsbCE9dGhpcy5fcmVzdWx0fWNvbnN0cnVjdG9yKHIsdCl7c3VwZXIoe30pLHRoaXMuX3Jlc3VsdD1udWxsLHRoaXMuX2Fib3J0SGFuZGxlPW51bGwsdGhpcy5hYm9ydD0oKT0+e3RoaXMuX2Fib3J0Q29udHJvbGxlcj1vKHRoaXMuX2Fib3J0Q29udHJvbGxlcil9LHRoaXMucmVtb3ZlPXRoaXMuYWJvcnQsdGhpcy5fYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXI7Y29uc3R7c2lnbmFsOmV9PXRoaXMuX2Fib3J0Q29udHJvbGxlcjt0aGlzLnByb21pc2U9cihlKSx0aGlzLnByb21pc2UudGhlbigocj0+e3RoaXMuX3Jlc3VsdD1jKHIpLHRoaXMuX2NsZWFudXAoKX0pLChyPT57dGhpcy5fcmVzdWx0PWgociksdGhpcy5fY2xlYW51cCgpfSkpLHRoaXMuX2Fib3J0SGFuZGxlPWwodCx0aGlzLmFib3J0KX1ub3JtYWxpemVDdG9yQXJncygpe3JldHVybnt9fWRlc3Ryb3koKXt0aGlzLmFib3J0KCl9X2NsZWFudXAoKXt0aGlzLl9hYm9ydEhhbmRsZT1lKHRoaXMuX2Fib3J0SGFuZGxlKSx0aGlzLl9hYm9ydENvbnRyb2xsZXI9bnVsbH19O3IoW2koKV0sdi5wcm90b3R5cGUsXCJ2YWx1ZVwiLG51bGwpLHIoW2koKV0sdi5wcm90b3R5cGUsXCJlcnJvclwiLG51bGwpLHIoW2koKV0sdi5wcm90b3R5cGUsXCJmaW5pc2hlZFwiLG51bGwpLHIoW2koKV0sdi5wcm90b3R5cGUsXCJwcm9taXNlXCIsdm9pZCAwKSxyKFtpKCldLHYucHJvdG90eXBlLFwiX3Jlc3VsdFwiLHZvaWQgMCksdj1yKFt1KFwiZXNyaS5jb3JlLmFzeW5jVXRpbHMuUmVhY3RpdmVUYXNrXCIpXSx2KTtleHBvcnR7eSBhcyBhc3NlcnRSZXN1bHQsZCBhcyBjcmVhdGVUYXNrLGEgYXMgZm9yRWFjaCxoIGFzIG1ha2VSZXN1bHRFcnJvcixjIGFzIG1ha2VSZXN1bHRPayxwIGFzIG1hcCxfIGFzIHJlc3VsdCxmIGFzIHJlc3VsdEVycm9yLGIgYXMgcmVzdWx0T3JBYm9ydCxtIGFzIHJlc3VsdFZhbHVlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyByfWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e011bHRpT3JpZ2luSlNPTk1peGluIGFzIGV9ZnJvbVwiLi4vY29yZS9NdWx0aU9yaWdpbkpTT05TdXBwb3J0LmpzXCI7aW1wb3J0e3NjaGVkdWxlIGFzIHN9ZnJvbVwiLi4vY29yZS9zY2hlZHVsaW5nLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHR9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBufWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgaSBmcm9tXCIuL0xheWVyLmpzXCI7aW1wb3J0e1BvcnRhbExheWVyIGFzIHB9ZnJvbVwiLi9taXhpbnMvUG9ydGFsTGF5ZXIuanNcIjtsZXQgYT1jbGFzcyBleHRlbmRzKHAoZShpKSkpe2NvbnN0cnVjdG9yKHIpe3N1cGVyKHIpLHRoaXMucmVzb3VyY2VJbmZvPW51bGwsdGhpcy50eXBlPVwidW5rbm93blwifWluaXRpYWxpemUoKXt0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UobmV3IFByb21pc2UoKChyLGUpPT57cygoKCk9Pntjb25zdCByPXRoaXMucmVzb3VyY2VJbmZvJiYodGhpcy5yZXNvdXJjZUluZm8ubGF5ZXJUeXBlfHx0aGlzLnJlc291cmNlSW5mby50eXBlKTtsZXQgcz1cIlVua25vd24gbGF5ZXIgdHlwZVwiO3ImJihzKz1cIiBcIityKSxlKG5ldyBvKFwibGF5ZXI6dW5rbm93bi1sYXllci10eXBlXCIscyx7bGF5ZXJUeXBlOnJ9KSl9KSl9KSkpfXJlYWQocixvKXtzdXBlci5yZWFkKHtyZXNvdXJjZUluZm86cn0sbyl9d3JpdGUocixvKXtyZXR1cm4gbnVsbH19O3IoW3Qoe3JlYWRPbmx5OiEwfSldLGEucHJvdG90eXBlLFwicmVzb3VyY2VJbmZvXCIsdm9pZCAwKSxyKFt0KHt0eXBlOltcInNob3dcIixcImhpZGVcIl19KV0sYS5wcm90b3R5cGUsXCJsaXN0TW9kZVwiLHZvaWQgMCkscihbdCh7anNvbjp7cmVhZDohMX0scmVhZE9ubHk6ITAsdmFsdWU6XCJ1bmtub3duXCJ9KV0sYS5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxhPXIoW24oXCJlc3JpLmxheWVycy5Vbmtub3duTGF5ZXJcIildLGEpO2NvbnN0IGM9YTtleHBvcnR7YyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi9jb25maWcuanNcIjtpbXBvcnR7aWQgYXMgcn1mcm9tXCIuLi8uLi9rZXJuZWwuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0e3Jlc3VsdCBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYXN5bmNVdGlscy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIG4saXNBYm9ydEVycm9yIGFzIHAsdGhyb3dJZkFib3J0RXJyb3IgYXMgdX1mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtoYXNTYW1lQ2Fub25pY2FsUG9ydGFsIGFzIGMsbm9ybWFsaXplIGFzIG0saGFzU2FtZVBvcnRhbCBhcyBkfWZyb21cIi4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3JlYWRlciBhcyBmfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGd9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt3cml0ZXIgYXMgeX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3dyaXRlci5qc1wiO2ltcG9ydHtnZXRPd25pbmdQb3J0YWxVcmwgYXMgSX1mcm9tXCIuLi9zdXBwb3J0L2xheWVyVXRpbHMuanNcIjtpbXBvcnQgdiBmcm9tXCIuLi8uLi9wb3J0YWwvUG9ydGFsLmpzXCI7aW1wb3J0IFAgZnJvbVwiLi4vLi4vcG9ydGFsL1BvcnRhbEl0ZW0uanNcIjtpbXBvcnQgVSBmcm9tXCIuLi8uLi9wb3J0YWwvUG9ydGFsVXNlci5qc1wiO2ltcG9ydHtnZXRVc2VyUHJpdmlsZWdlcyBhcyB3fWZyb21cIi4uLy4uL3BvcnRhbC9zdXBwb3J0L3BvcnRhbEl0ZW1VdGlscy5qc1wiO2NvbnN0IGo9aj0+e2xldCBfPWNsYXNzIGV4dGVuZHMgantjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5yZXNvdXJjZVJlZmVyZW5jZXM9e3BvcnRhbEl0ZW06bnVsbCxwYXRoczpbXX0sdGhpcy51c2VySGFzRWRpdGluZ1ByaXZpbGVnZXM9ITAsdGhpcy51c2VySGFzRnVsbEVkaXRpbmdQcml2aWxlZ2VzPSExLHRoaXMudXNlckhhc1VwZGF0ZUl0ZW1Qcml2aWxlZ2VzPSExfWRlc3Ryb3koKXt0aGlzLnBvcnRhbEl0ZW09bCh0aGlzLnBvcnRhbEl0ZW0pLHRoaXMucmVzb3VyY2VSZWZlcmVuY2VzLnBvcnRhbEl0ZW09bnVsbCx0aGlzLnJlc291cmNlUmVmZXJlbmNlcy5wYXRocy5sZW5ndGg9MH1zZXQgcG9ydGFsSXRlbSh0KXt0IT09dGhpcy5fZ2V0KFwicG9ydGFsSXRlbVwiKSYmKHRoaXMucmVtb3ZlT3JpZ2luKFwicG9ydGFsLWl0ZW1cIiksdGhpcy5fc2V0KFwicG9ydGFsSXRlbVwiLHQpKX1yZWFkUG9ydGFsSXRlbSh0LGUscil7aWYoZS5pdGVtSWQpcmV0dXJuIG5ldyBQKHtpZDplLml0ZW1JZCxwb3J0YWw6ciYmci5wb3J0YWx9KX13cml0ZVBvcnRhbEl0ZW0odCxlKXt0JiZ0LmlkJiYoZS5pdGVtSWQ9dC5pZCl9YXN5bmMgbG9hZEZyb21Qb3J0YWwodCxlKXtpZih0aGlzLnBvcnRhbEl0ZW0mJnRoaXMucG9ydGFsSXRlbS5pZCl0cnl7Y29uc3R7bG9hZDpyfT1hd2FpdCBpbXBvcnQoXCIuLi8uLi9wb3J0YWwvc3VwcG9ydC9sYXllcnNMb2FkZXIuanNcIik7cmV0dXJuIG4oZSksYXdhaXQgcih7aW5zdGFuY2U6dGhpcyxzdXBwb3J0ZWRUeXBlczp0LnN1cHBvcnRlZFR5cGVzLHZhbGlkYXRlSXRlbTp0LnZhbGlkYXRlSXRlbSxzdXBwb3J0c0RhdGE6dC5zdXBwb3J0c0RhdGEsbGF5ZXJNb2R1bGVUeXBlTWFwOnQubGF5ZXJNb2R1bGVUeXBlTWFwfSxlKX1jYXRjaChyKXt0aHJvdyBwKHIpfHxhLmdldExvZ2dlcih0aGlzKS53YXJuKGBGYWlsZWQgdG8gbG9hZCBsYXllciAoJHt0aGlzLnRpdGxlfSwgJHt0aGlzLmlkfSkgcG9ydGFsIGl0ZW0gKCR7dGhpcy5wb3J0YWxJdGVtLmlkfSlcXG4gICR7cn1gKSxyfX1hc3luYyBmaW5pc2hMb2FkRWRpdGFibGVQb3J0YWxMYXllcih0KXt0aGlzLl9zZXQoXCJ1c2VySGFzRWRpdGluZ1ByaXZpbGVnZXNcIixhd2FpdCB0aGlzLl9mZXRjaFVzZXJIYXNFZGl0aW5nUHJpdmlsZWdlcyh0KS5jYXRjaCgodD0+KHUodCksITApKSkpfWFzeW5jIF9zZXRVc2VyUHJpdmlsZWdlcyh0LHIpe2lmKCFlLnVzZXJQcml2aWxlZ2VzQXBwbGllZClyZXR1cm4gdGhpcy5maW5pc2hMb2FkRWRpdGFibGVQb3J0YWxMYXllcihyKTtpZih0aGlzLnVybCl0cnl7Y29uc3R7ZmVhdHVyZXM6e2VkaXQ6ZSxmdWxsRWRpdDpzfSxjb250ZW50Ont1cGRhdGVJdGVtOml9fT1hd2FpdCB0aGlzLl9mZXRjaFVzZXJQcml2aWxlZ2VzKHQscik7dGhpcy5fc2V0KFwidXNlckhhc0VkaXRpbmdQcml2aWxlZ2VzXCIsZSksdGhpcy5fc2V0KFwidXNlckhhc0Z1bGxFZGl0aW5nUHJpdmlsZWdlc1wiLHMpLHRoaXMuX3NldChcInVzZXJIYXNVcGRhdGVJdGVtUHJpdmlsZWdlc1wiLGkpfWNhdGNoKHMpe3Uocyl9fWFzeW5jIF9mZXRjaFVzZXJQcml2aWxlZ2VzKHQsZSl7bGV0IHM9dGhpcy5wb3J0YWxJdGVtO2lmKCF0fHwhc3x8IXMubG9hZGVkfHxzLnNvdXJjZVVybClyZXR1cm4gdGhpcy5fZmV0Y2hGYWxsYmFja1VzZXJQcml2aWxlZ2VzKGUpO2NvbnN0IGk9dD09PXMuaWQ7aWYoaSYmcy5wb3J0YWwudXNlcilyZXR1cm4gdyhzKTtsZXQgbyxhO2lmKGkpbz1zLnBvcnRhbC51cmw7ZWxzZSB0cnl7bz1hd2FpdCBJKHRoaXMudXJsLGUpfWNhdGNoKG0pe3UobSl9aWYoIW98fCFjKG8scy5wb3J0YWwudXJsKSlyZXR1cm4gdGhpcy5fZmV0Y2hGYWxsYmFja1VzZXJQcml2aWxlZ2VzKGUpO3RyeXtjb25zdCB0PW51bGwhPWU/ZS5zaWduYWw6bnVsbDthPWF3YWl0KHI/LmdldENyZWRlbnRpYWwoYCR7b30vc2hhcmluZ2Ase3Byb21wdDohMSxzaWduYWw6dH0pKX1jYXRjaChtKXt1KG0pfWNvbnN0IGw9ITAsbj0hMSxwPSExO2lmKCFhKXJldHVybntmZWF0dXJlczp7ZWRpdDpsLGZ1bGxFZGl0Om59LGNvbnRlbnQ6e3VwZGF0ZUl0ZW06cH19O3RyeXtpZihpP2F3YWl0IHMucmVsb2FkKCk6KHM9bmV3IFAoe2lkOnQscG9ydGFsOnt1cmw6b319KSxhd2FpdCBzLmxvYWQoZSkpLHMucG9ydGFsLnVzZXIpcmV0dXJuIHcocyl9Y2F0Y2gobSl7dShtKX1yZXR1cm57ZmVhdHVyZXM6e2VkaXQ6bCxmdWxsRWRpdDpufSxjb250ZW50Ont1cGRhdGVJdGVtOnB9fX1hc3luYyBfZmV0Y2hGYWxsYmFja1VzZXJQcml2aWxlZ2VzKHQpe2xldCBlPSEwO3RyeXtlPWF3YWl0IHRoaXMuX2ZldGNoVXNlckhhc0VkaXRpbmdQcml2aWxlZ2VzKHQpfWNhdGNoKHIpe3Uocil9cmV0dXJue2ZlYXR1cmVzOntlZGl0OmUsZnVsbEVkaXQ6ITF9LGNvbnRlbnQ6e3VwZGF0ZUl0ZW06ITF9fX1hc3luYyBfZmV0Y2hVc2VySGFzRWRpdGluZ1ByaXZpbGVnZXModCl7Y29uc3QgZT10aGlzLnVybD9yPy5maW5kQ3JlZGVudGlhbCh0aGlzLnVybCk6bnVsbDtpZighZSlyZXR1cm4hMDtjb25zdCBzPUUuY3JlZGVudGlhbD09PWU/RS51c2VyOmF3YWl0IHRoaXMuX2ZldGNoRWRpdGluZ1VzZXIodCk7cmV0dXJuIEUuY3JlZGVudGlhbD1lLEUudXNlcj1zLG51bGw9PXN8fG51bGw9PXMucHJpdmlsZWdlc3x8cy5wcml2aWxlZ2VzLmluY2x1ZGVzKFwiZmVhdHVyZXM6dXNlcjplZGl0XCIpfWFzeW5jIF9mZXRjaEVkaXRpbmdVc2VyKHQpe2NvbnN0IGU9dGhpcy5wb3J0YWxJdGVtPy5wb3J0YWw/LnVzZXI7aWYoZSlyZXR1cm4gZTtjb25zdCBvPXIuZmluZFNlcnZlckluZm8odGhpcy51cmw/P1wiXCIpO2lmKCFvPy5vd25pbmdTeXN0ZW1VcmwpcmV0dXJuIG51bGw7Y29uc3QgYT1gJHtvLm93bmluZ1N5c3RlbVVybH0vc2hhcmluZy9yZXN0YCxsPXYuZ2V0RGVmYXVsdCgpO2lmKGwmJmwubG9hZGVkJiZtKGwucmVzdFVybCk9PT1tKGEpKXJldHVybiBsLnVzZXI7Y29uc3Qgbj1gJHthfS9jb21tdW5pdHkvc2VsZmAscD1udWxsIT10P3Quc2lnbmFsOm51bGwsdT1hd2FpdCBpKHMobix7YXV0aE1vZGU6XCJuby1wcm9tcHRcIixxdWVyeTp7ZjpcImpzb25cIn0sc2lnbmFsOnB9KSk7cmV0dXJuIHUub2s/VS5mcm9tSlNPTih1LnZhbHVlLmRhdGEpOm51bGx9cmVhZCh0LGUpe2UmJihlLmxheWVyPXRoaXMpLHN1cGVyLnJlYWQodCxlKX13cml0ZSh0LGUpe2NvbnN0IHI9ZSYmZS5wb3J0YWwscz10aGlzLnBvcnRhbEl0ZW0mJnRoaXMucG9ydGFsSXRlbS5pZCYmKHRoaXMucG9ydGFsSXRlbS5wb3J0YWx8fHYuZ2V0RGVmYXVsdCgpKTtyZXR1cm4gciYmcyYmIWQocy5yZXN0VXJsLHIucmVzdFVybCk/KGUubWVzc2FnZXMmJmUubWVzc2FnZXMucHVzaChuZXcgbyhcImxheWVyOmNyb3NzLXBvcnRhbFwiLGBUaGUgbGF5ZXIgJyR7dGhpcy50aXRsZX0gKCR7dGhpcy5pZH0pJyBjYW5ub3QgYmUgcGVyc2lzdGVkIGJlY2F1c2UgaXQgcmVmZXJzIHRvIGFuIGl0ZW0gb24gYSBkaWZmZXJlbnQgcG9ydGFsIHRoYW4gdGhlIG9uZSBiZWluZyBzYXZlZCB0by4gVG8gc2F2ZSwgc2V0IGxheWVyLnBvcnRhbEl0ZW0gdG8gbnVsbCBvciBzYXZlIHRvIHRoZSBzYW1lIHBvcnRhbCBhcyB0aGUgaXRlbSBhc3NvY2lhdGVkIHdpdGggdGhlIGxheWVyYCx7bGF5ZXI6dGhpc30pKSxudWxsKTpzdXBlci53cml0ZSh0LHsuLi5lLGxheWVyOnRoaXN9KX19O3JldHVybiB0KFtoKHt0eXBlOlB9KV0sXy5wcm90b3R5cGUsXCJwb3J0YWxJdGVtXCIsbnVsbCksdChbZihcIndlYi1kb2N1bWVudFwiLFwicG9ydGFsSXRlbVwiLFtcIml0ZW1JZFwiXSldLF8ucHJvdG90eXBlLFwicmVhZFBvcnRhbEl0ZW1cIixudWxsKSx0KFt5KFwid2ViLWRvY3VtZW50XCIsXCJwb3J0YWxJdGVtXCIse2l0ZW1JZDp7dHlwZTpTdHJpbmd9fSldLF8ucHJvdG90eXBlLFwid3JpdGVQb3J0YWxJdGVtXCIsbnVsbCksdChbaCh7Y2xvbmFibGU6ITF9KV0sXy5wcm90b3R5cGUsXCJyZXNvdXJjZVJlZmVyZW5jZXNcIix2b2lkIDApLHQoW2goe3R5cGU6Qm9vbGVhbixyZWFkT25seTohMH0pXSxfLnByb3RvdHlwZSxcInVzZXJIYXNFZGl0aW5nUHJpdmlsZWdlc1wiLHZvaWQgMCksdChbaCh7dHlwZTpCb29sZWFuLHJlYWRPbmx5OiEwfSldLF8ucHJvdG90eXBlLFwidXNlckhhc0Z1bGxFZGl0aW5nUHJpdmlsZWdlc1wiLHZvaWQgMCksdChbaCh7dHlwZTpCb29sZWFuLHJlYWRPbmx5OiEwfSldLF8ucHJvdG90eXBlLFwidXNlckhhc1VwZGF0ZUl0ZW1Qcml2aWxlZ2VzXCIsdm9pZCAwKSxfPXQoW2coXCJlc3JpLmxheWVycy5taXhpbnMuUG9ydGFsTGF5ZXJcIildLF8pLF99LEU9e2NyZWRlbnRpYWw6bnVsbCx1c2VyOm51bGx9O2V4cG9ydHtqIGFzIFBvcnRhbExheWVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aW5pdGlhbGl6ZVByb2plY3Rpb24gYXMgZSxwcm9qZWN0IGFzIHR9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7d2ViTWVyY2F0b3JUb0dlb2dyYXBoaWMgYXMgbn1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3dlYk1lcmNhdG9yVXRpbHMuanNcIjthc3luYyBmdW5jdGlvbiBvKG8pe2NvbnN0IGk9by5zcGF0aWFsUmVmZXJlbmNlO2lmKGkuaXNXR1M4NClyZXR1cm4gby5jbG9uZSgpO2lmKGkuaXNXZWJNZXJjYXRvcilyZXR1cm4gbihvKTtjb25zdCBzPXIuV0dTODQ7cmV0dXJuIGF3YWl0IGUoaSxzKSx0KG8scyl9ZnVuY3Rpb24gaShlLHQpe2lmKCFzKGUsdCkpe2NvbnN0IHI9ZS50eXBlS2V5d29yZHM7cj9yLnB1c2godCk6ZS50eXBlS2V5d29yZHM9W3RdfX1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuISFlLnR5cGVLZXl3b3Jkcz8uaW5jbHVkZXModCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gcyhlLGwuSE9TVEVEX1NFUlZJQ0UpfWZ1bmN0aW9uIHUoZSx0KXtjb25zdCByPWUudHlwZUtleXdvcmRzO2lmKHIpe2NvbnN0IGU9ci5pbmRleE9mKHQpO2U+LTEmJnIuc3BsaWNlKGUsMSl9fWFzeW5jIGZ1bmN0aW9uIGEoZSl7Y29uc3QgdD1lLmNsb25lKCkubm9ybWFsaXplKCk7bGV0IHI7aWYodC5sZW5ndGg+MSlmb3IoY29uc3QgbiBvZiB0KXI/bi53aWR0aD5yLndpZHRoJiYocj1uKTpyPW47ZWxzZSByPXRbMF07cmV0dXJuIG8ocil9Y29uc3QgbD17REVWRUxPUEVSX0JBU0VNQVA6XCJEZXZlbG9wZXJCYXNlbWFwXCIsSlNBUEk6XCJBcmNHSVMgQVBJIGZvciBKYXZhU2NyaXB0XCIsTUVUQURBVEE6XCJNZXRhZGF0YVwiLE1VTFRJX0xBWUVSOlwiTXVsdGlsYXllclwiLFNJTkdMRV9MQVlFUjpcIlNpbmdsZWxheWVyXCIsVEFCTEU6XCJUYWJsZVwiLEhPU1RFRF9TRVJWSUNFOlwiSG9zdGVkIFNlcnZpY2VcIn07ZnVuY3Rpb24gZihlKXtjb25zdHtwb3J0YWw6dCxpc09yZ0l0ZW06cixpdGVtQ29udHJvbDpufT1lLG89dC51c2VyPy5wcml2aWxlZ2VzO2xldCBpPSFvfHxvLmluY2x1ZGVzKFwiZmVhdHVyZXM6dXNlcjplZGl0XCIpLHM9ISFyJiYhIW8/LmluY2x1ZGVzKFwiZmVhdHVyZXM6dXNlcjpmdWxsRWRpdFwiKTtjb25zdCBjPVwidXBkYXRlXCI9PT1ufHxcImFkbWluXCI9PT1uO3JldHVybiBjP3M9aT0hMDpzJiYoaT0hMCkse2ZlYXR1cmVzOntlZGl0OmksZnVsbEVkaXQ6c30sY29udGVudDp7dXBkYXRlSXRlbTpjfX19ZXhwb3J0e2wgYXMgVHlwZUtleXdvcmQsaSBhcyBhZGRUeXBlS2V5d29yZCxmIGFzIGdldFVzZXJQcml2aWxlZ2VzLGEgYXMgZ2V0V0dTODRFeHRlbnRGb3JJdGVtLHMgYXMgaGFzVHlwZUtleXdvcmQsYyBhcyBpc0hvc3RlZExheWVyLHUgYXMgcmVtb3ZlVHlwZUtleXdvcmR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9