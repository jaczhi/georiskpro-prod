"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[8831,5831,9112],{24455:(e,t,a)=>{a.d(t,{A:()=>L,a:()=>l,d:()=>f,e:()=>p,f:()=>d,g:()=>b,h:()=>M,i:()=>s,j:()=>g,k:()=>y,m:()=>c,s:()=>i,t:()=>o,w:()=>u,y:()=>I,z:()=>w});var r=a(8909),n=a(93011);function i(e,t,a,r,n,i,s,o,l,c,u,y,p,d,f,L,m){return e[0]=t,e[1]=a,e[2]=r,e[3]=n,e[4]=i,e[5]=s,e[6]=o,e[7]=l,e[8]=c,e[9]=u,e[10]=y,e[11]=p,e[12]=d,e[13]=f,e[14]=L,e[15]=m,e}function s(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function o(e,t){if(e===t){const a=t[1],r=t[2],n=t[3],i=t[6],s=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=a,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=n,e[13]=s,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function l(e,t){const a=t[0],r=t[1],n=t[2],i=t[3],s=t[4],o=t[5],l=t[6],c=t[7],u=t[8],y=t[9],p=t[10],d=t[11],f=t[12],L=t[13],m=t[14],h=t[15],b=a*o-r*s,S=a*l-n*s,M=a*c-i*s,g=r*l-n*o,w=r*c-i*o,I=n*c-i*l,v=u*L-y*f,T=u*m-p*f,G=u*h-d*f,A=y*m-p*L,N=y*h-d*L,C=p*h-d*m;let P=b*C-S*N+M*A+g*G-w*T+I*v;return P?(P=1/P,e[0]=(o*C-l*N+c*A)*P,e[1]=(n*N-r*C-i*A)*P,e[2]=(L*I-m*w+h*g)*P,e[3]=(p*w-y*I-d*g)*P,e[4]=(l*G-s*C-c*T)*P,e[5]=(a*C-n*G+i*T)*P,e[6]=(m*M-f*I-h*S)*P,e[7]=(u*I-p*M+d*S)*P,e[8]=(s*N-o*G+c*v)*P,e[9]=(r*G-a*N-i*v)*P,e[10]=(f*w-L*M+h*b)*P,e[11]=(y*M-u*w-d*b)*P,e[12]=(o*T-s*A-l*v)*P,e[13]=(a*A-r*T+n*v)*P,e[14]=(L*S-f*g-m*b)*P,e[15]=(u*g-y*S+p*b)*P,e):null}function c(e,t,a){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],l=t[5],c=t[6],u=t[7],y=t[8],p=t[9],d=t[10],f=t[11],L=t[12],m=t[13],h=t[14],b=t[15];let S=a[0],M=a[1],g=a[2],w=a[3];return e[0]=S*r+M*o+g*y+w*L,e[1]=S*n+M*l+g*p+w*m,e[2]=S*i+M*c+g*d+w*h,e[3]=S*s+M*u+g*f+w*b,S=a[4],M=a[5],g=a[6],w=a[7],e[4]=S*r+M*o+g*y+w*L,e[5]=S*n+M*l+g*p+w*m,e[6]=S*i+M*c+g*d+w*h,e[7]=S*s+M*u+g*f+w*b,S=a[8],M=a[9],g=a[10],w=a[11],e[8]=S*r+M*o+g*y+w*L,e[9]=S*n+M*l+g*p+w*m,e[10]=S*i+M*c+g*d+w*h,e[11]=S*s+M*u+g*f+w*b,S=a[12],M=a[13],g=a[14],w=a[15],e[12]=S*r+M*o+g*y+w*L,e[13]=S*n+M*l+g*p+w*m,e[14]=S*i+M*c+g*d+w*h,e[15]=S*s+M*u+g*f+w*b,e}function u(e,t,a){const r=a[0],n=a[1],i=a[2];if(t===e)e[12]=t[0]*r+t[4]*n+t[8]*i+t[12],e[13]=t[1]*r+t[5]*n+t[9]*i+t[13],e[14]=t[2]*r+t[6]*n+t[10]*i+t[14],e[15]=t[3]*r+t[7]*n+t[11]*i+t[15];else{const a=t[0],s=t[1],o=t[2],l=t[3],c=t[4],u=t[5],y=t[6],p=t[7],d=t[8],f=t[9],L=t[10],m=t[11];e[0]=a,e[1]=s,e[2]=o,e[3]=l,e[4]=c,e[5]=u,e[6]=y,e[7]=p,e[8]=d,e[9]=f,e[10]=L,e[11]=m,e[12]=a*r+c*n+d*i+t[12],e[13]=s*r+u*n+f*i+t[13],e[14]=o*r+y*n+L*i+t[14],e[15]=l*r+p*n+m*i+t[15]}return e}function y(e,t,a){const r=a[0],n=a[1],i=a[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function p(e,t,a,r){let i,s,o,l,c,u,y,p,d,f,L,m,h,b,S,M,g,w,I,v,T,G,A,N,C=r[0],P=r[1],O=r[2],F=Math.sqrt(C*C+P*P+O*O);return F<(0,n.g)()?null:(F=1/F,C*=F,P*=F,O*=F,i=Math.sin(a),s=Math.cos(a),o=1-s,l=t[0],c=t[1],u=t[2],y=t[3],p=t[4],d=t[5],f=t[6],L=t[7],m=t[8],h=t[9],b=t[10],S=t[11],M=C*C*o+s,g=P*C*o+O*i,w=O*C*o-P*i,I=C*P*o-O*i,v=P*P*o+s,T=O*P*o+C*i,G=C*O*o+P*i,A=P*O*o-C*i,N=O*O*o+s,e[0]=l*M+p*g+m*w,e[1]=c*M+d*g+h*w,e[2]=u*M+f*g+b*w,e[3]=y*M+L*g+S*w,e[4]=l*I+p*v+m*T,e[5]=c*I+d*v+h*T,e[6]=u*I+f*v+b*T,e[7]=y*I+L*v+S*T,e[8]=l*G+p*A+m*N,e[9]=c*G+d*A+h*N,e[10]=u*G+f*A+b*N,e[11]=y*G+L*A+S*N,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function d(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function f(e,t,a){if(0===t)return s(e);let r,i,o,l=a[0],c=a[1],u=a[2],y=Math.sqrt(l*l+c*c+u*u);return y<(0,n.g)()?null:(y=1/y,l*=y,c*=y,u*=y,r=Math.sin(t),i=Math.cos(t),o=1-i,e[0]=l*l*o+i,e[1]=c*l*o+u*r,e[2]=u*l*o-c*r,e[3]=0,e[4]=l*c*o-u*r,e[5]=c*c*o+i,e[6]=u*c*o+l*r,e[7]=0,e[8]=l*u*o+c*r,e[9]=c*u*o-l*r,e[10]=u*u*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function L(e,t){const a=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=a,e[7]=0,e[8]=0,e[9]=-a,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m(e,t,a){const r=t[0],n=t[1],i=t[2],s=t[3],o=r+r,l=n+n,c=i+i,u=r*o,y=r*l,p=r*c,d=n*l,f=n*c,L=i*c,m=s*o,h=s*l,b=s*c;return e[0]=1-(d+L),e[1]=y+b,e[2]=p-h,e[3]=0,e[4]=y-b,e[5]=1-(u+L),e[6]=f+m,e[7]=0,e[8]=p+h,e[9]=f-m,e[10]=1-(u+d),e[11]=0,e[12]=a[0],e[13]=a[1],e[14]=a[2],e[15]=1,e}const h=(0,r.c)();function b(e,t,a,r){const n=t[0],i=t[1],s=t[2],o=t[3],l=n+n,c=i+i,u=s+s,y=n*l,p=n*c,d=n*u,f=i*c,L=i*u,m=s*u,h=o*l,b=o*c,S=o*u,M=r[0],g=r[1],w=r[2];return e[0]=(1-(f+m))*M,e[1]=(p+S)*M,e[2]=(d-b)*M,e[3]=0,e[4]=(p-S)*g,e[5]=(1-(y+m))*g,e[6]=(L+h)*g,e[7]=0,e[8]=(d+b)*w,e[9]=(L-h)*w,e[10]=(1-(y+f))*w,e[11]=0,e[12]=a[0],e[13]=a[1],e[14]=a[2],e[15]=1,e}function S(e,t,a){return e[0]=t[0]-a[0],e[1]=t[1]-a[1],e[2]=t[2]-a[2],e[3]=t[3]-a[3],e[4]=t[4]-a[4],e[5]=t[5]-a[5],e[6]=t[6]-a[6],e[7]=t[7]-a[7],e[8]=t[8]-a[8],e[9]=t[9]-a[9],e[10]=t[10]-a[10],e[11]=t[11]-a[11],e[12]=t[12]-a[12],e[13]=t[13]-a[13],e[14]=t[14]-a[14],e[15]=t[15]-a[15],e}function M(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function g(e,t){if(e===t)return!0;const a=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],u=e[7],y=e[8],p=e[9],d=e[10],f=e[11],L=e[12],m=e[13],h=e[14],b=e[15],S=t[0],M=t[1],g=t[2],w=t[3],I=t[4],v=t[5],T=t[6],G=t[7],A=t[8],N=t[9],C=t[10],P=t[11],O=t[12],F=t[13],D=t[14],x=t[15],E=(0,n.g)();return Math.abs(a-S)<=E*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(r-M)<=E*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(i-g)<=E*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(s-w)<=E*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(o-I)<=E*Math.max(1,Math.abs(o),Math.abs(I))&&Math.abs(l-v)<=E*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-T)<=E*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(u-G)<=E*Math.max(1,Math.abs(u),Math.abs(G))&&Math.abs(y-A)<=E*Math.max(1,Math.abs(y),Math.abs(A))&&Math.abs(p-N)<=E*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(d-C)<=E*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(f-P)<=E*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(L-O)<=E*Math.max(1,Math.abs(L),Math.abs(O))&&Math.abs(m-F)<=E*Math.max(1,Math.abs(m),Math.abs(F))&&Math.abs(h-D)<=E*Math.max(1,Math.abs(h),Math.abs(D))&&Math.abs(b-x)<=E*Math.max(1,Math.abs(b),Math.abs(x))}function w(e){const t=(0,n.g)(),a=e[0],r=e[1],i=e[2],s=e[4],o=e[5],l=e[6],c=e[8],u=e[9],y=e[10];return Math.abs(1-(a*a+s*s+c*c))<=t&&Math.abs(1-(r*r+o*o+u*u))<=t&&Math.abs(1-(i*i+l*l+y*y))<=t}function I(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[8]&&0===e[9]&&1===e[10]}const v=c,T=S;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,a){return e[0]=t[0]+a[0],e[1]=t[1]+a[1],e[2]=t[2]+a[2],e[3]=t[3]+a[3],e[4]=t[4]+a[4],e[5]=t[5]+a[5],e[6]=t[6]+a[6],e[7]=t[7]+a[7],e[8]=t[8]+a[8],e[9]=t[9]+a[9],e[10]=t[10]+a[10],e[11]=t[11]+a[11],e[12]=t[12]+a[12],e[13]=t[13]+a[13],e[14]=t[14]+a[14],e[15]=t[15]+a[15],e},adjoint:function(e,t){const a=t[0],r=t[1],n=t[2],i=t[3],s=t[4],o=t[5],l=t[6],c=t[7],u=t[8],y=t[9],p=t[10],d=t[11],f=t[12],L=t[13],m=t[14],h=t[15];return e[0]=o*(p*h-d*m)-y*(l*h-c*m)+L*(l*d-c*p),e[1]=-(r*(p*h-d*m)-y*(n*h-i*m)+L*(n*d-i*p)),e[2]=r*(l*h-c*m)-o*(n*h-i*m)+L*(n*c-i*l),e[3]=-(r*(l*d-c*p)-o*(n*d-i*p)+y*(n*c-i*l)),e[4]=-(s*(p*h-d*m)-u*(l*h-c*m)+f*(l*d-c*p)),e[5]=a*(p*h-d*m)-u*(n*h-i*m)+f*(n*d-i*p),e[6]=-(a*(l*h-c*m)-s*(n*h-i*m)+f*(n*c-i*l)),e[7]=a*(l*d-c*p)-s*(n*d-i*p)+u*(n*c-i*l),e[8]=s*(y*h-d*L)-u*(o*h-c*L)+f*(o*d-c*y),e[9]=-(a*(y*h-d*L)-u*(r*h-i*L)+f*(r*d-i*y)),e[10]=a*(o*h-c*L)-s*(r*h-i*L)+f*(r*c-i*o),e[11]=-(a*(o*d-c*y)-s*(r*d-i*y)+u*(r*c-i*o)),e[12]=-(s*(y*m-p*L)-u*(o*m-l*L)+f*(o*p-l*y)),e[13]=a*(y*m-p*L)-u*(r*m-n*L)+f*(r*p-n*y),e[14]=-(a*(o*m-l*L)-s*(r*m-n*L)+f*(r*l-n*o)),e[15]=a*(o*p-l*y)-s*(r*p-n*y)+u*(r*l-n*o),e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},determinant:function(e){const t=e[0],a=e[1],r=e[2],n=e[3],i=e[4],s=e[5],o=e[6],l=e[7],c=e[8],u=e[9],y=e[10],p=e[11],d=e[12],f=e[13],L=e[14],m=e[15];return(t*s-a*i)*(y*m-p*L)-(t*o-r*i)*(u*m-p*f)+(t*l-n*i)*(u*L-y*f)+(a*o-r*s)*(c*m-p*d)-(a*l-n*s)*(c*L-y*d)+(r*l-n*o)*(c*f-u*d)},equals:g,exactEquals:M,frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)},fromQuat:function(e,t){const a=t[0],r=t[1],n=t[2],i=t[3],s=a+a,o=r+r,l=n+n,c=a*s,u=r*s,y=r*o,p=n*s,d=n*o,f=n*l,L=i*s,m=i*o,h=i*l;return e[0]=1-y-f,e[1]=u+h,e[2]=p-m,e[3]=0,e[4]=u-h,e[5]=1-c-f,e[6]=d+L,e[7]=0,e[8]=p+m,e[9]=d-L,e[10]=1-c-y,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromQuat2:function(e,t){const a=h,r=-t[0],n=-t[1],i=-t[2],s=t[3],o=t[4],l=t[5],c=t[6],u=t[7],y=r*r+n*n+i*i+s*s;return y>0?(a[0]=2*(o*s+u*r+l*i-c*n)/y,a[1]=2*(l*s+u*n+c*r-o*i)/y,a[2]=2*(c*s+u*i+o*n-l*r)/y):(a[0]=2*(o*s+u*r+l*i-c*n),a[1]=2*(l*s+u*n+c*r-o*i),a[2]=2*(c*s+u*i+o*n-l*r)),m(e,t,a),e},fromRotation:f,fromRotationTranslation:m,fromRotationTranslationScale:b,fromRotationTranslationScaleOrigin:function(e,t,a,r,n){const i=t[0],s=t[1],o=t[2],l=t[3],c=i+i,u=s+s,y=o+o,p=i*c,d=i*u,f=i*y,L=s*u,m=s*y,h=o*y,b=l*c,S=l*u,M=l*y,g=r[0],w=r[1],I=r[2],v=n[0],T=n[1],G=n[2],A=(1-(L+h))*g,N=(d+M)*g,C=(f-S)*g,P=(d-M)*w,O=(1-(p+h))*w,F=(m+b)*w,D=(f+S)*I,x=(m-b)*I,E=(1-(p+L))*I;return e[0]=A,e[1]=N,e[2]=C,e[3]=0,e[4]=P,e[5]=O,e[6]=F,e[7]=0,e[8]=D,e[9]=x,e[10]=E,e[11]=0,e[12]=a[0]+v-(A*v+P*T+D*G),e[13]=a[1]+T-(N*v+O*T+x*G),e[14]=a[2]+G-(C*v+F*T+E*G),e[15]=1,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromTranslation:d,fromXRotation:L,fromYRotation:function(e,t){const a=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-a,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=a,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:function(e,t){const a=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=a,e[2]=0,e[3]=0,e[4]=-a,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},frustum:function(e,t,a,r,n,i,s){const o=1/(a-t),l=1/(n-r),c=1/(i-s);return e[0]=2*i*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*l,e[6]=0,e[7]=0,e[8]=(a+t)*o,e[9]=(n+r)*l,e[10]=(s+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*i*2*c,e[15]=0,e},getRotation:function(e,t){const a=t[0]+t[5]+t[10];let r=0;return a>0?(r=2*Math.sqrt(a+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e},getScaling:function(e,t){const a=t[0],r=t[1],n=t[2],i=t[4],s=t[5],o=t[6],l=t[8],c=t[9],u=t[10];return e[0]=Math.sqrt(a*a+r*r+n*n),e[1]=Math.sqrt(i*i+s*s+o*o),e[2]=Math.sqrt(l*l+c*c+u*u),e},getTranslation:function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},hasIdentityRotation:I,identity:s,invert:l,invertOrIdentity:function(e,t){return l(e,t)||s(e),e},isOrthoNormal:w,lookAt:function(e,t,a,r){const i=t[0],o=t[1],l=t[2];let c=i-a[0],u=o-a[1],y=l-a[2];const p=(0,n.g)();if(Math.abs(c)<p&&Math.abs(u)<p&&Math.abs(y)<p)return void s(e);let d=1/Math.sqrt(c*c+u*u+y*y);c*=d,u*=d,y*=d;const f=r[0],L=r[1],m=r[2];let h=L*y-m*u,b=m*c-f*y,S=f*u-L*c;d=Math.sqrt(h*h+b*b+S*S),d?(d=1/d,h*=d,b*=d,S*=d):(h=0,b=0,S=0);let M=u*S-y*b,g=y*h-c*S,w=c*b-u*h;d=Math.sqrt(M*M+g*g+w*w),d?(d=1/d,M*=d,g*=d,w*=d):(M=0,g=0,w=0),e[0]=h,e[1]=M,e[2]=c,e[3]=0,e[4]=b,e[5]=g,e[6]=u,e[7]=0,e[8]=S,e[9]=w,e[10]=y,e[11]=0,e[12]=-(h*i+b*o+S*l),e[13]=-(M*i+g*o+w*l),e[14]=-(c*i+u*o+y*l),e[15]=1},mul:v,multiply:c,multiplyScalar:function(e,t,a){return e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e[3]=t[3]*a,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12]*a,e[13]=t[13]*a,e[14]=t[14]*a,e[15]=t[15]*a,e},multiplyScalarAndAdd:function(e,t,a,r){return e[0]=t[0]+a[0]*r,e[1]=t[1]+a[1]*r,e[2]=t[2]+a[2]*r,e[3]=t[3]+a[3]*r,e[4]=t[4]+a[4]*r,e[5]=t[5]+a[5]*r,e[6]=t[6]+a[6]*r,e[7]=t[7]+a[7]*r,e[8]=t[8]+a[8]*r,e[9]=t[9]+a[9]*r,e[10]=t[10]+a[10]*r,e[11]=t[11]+a[11]*r,e[12]=t[12]+a[12]*r,e[13]=t[13]+a[13]*r,e[14]=t[14]+a[14]*r,e[15]=t[15]+a[15]*r,e},ortho:function(e,t,a,r,n,i,s){const o=1/(t-a),l=1/(r-n),c=1/(i-s);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+a)*o,e[13]=(n+r)*l,e[14]=(s+i)*c,e[15]=1,e},perspective:function(e,t,a,r,n){const i=1/Math.tan(t/2);let s;return e[0]=i/a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(s=1/(r-n),e[10]=(n+r)*s,e[14]=2*n*r*s):(e[10]=-1,e[14]=-2*r),e},perspectiveFromFieldOfView:function(e,t,a,r){const n=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),l=2/(s+o),c=2/(n+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(s-o)*l*.5,e[9]=(n-i)*c*.5,e[10]=r/(a-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*a/(a-r),e[15]=0,e},rotate:p,rotateX:function(e,t,a){const r=Math.sin(a),n=Math.cos(a),i=t[4],s=t[5],o=t[6],l=t[7],c=t[8],u=t[9],y=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*n+c*r,e[5]=s*n+u*r,e[6]=o*n+y*r,e[7]=l*n+p*r,e[8]=c*n-i*r,e[9]=u*n-s*r,e[10]=y*n-o*r,e[11]=p*n-l*r,e},rotateY:function(e,t,a){const r=Math.sin(a),n=Math.cos(a),i=t[0],s=t[1],o=t[2],l=t[3],c=t[8],u=t[9],y=t[10],p=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*n-c*r,e[1]=s*n-u*r,e[2]=o*n-y*r,e[3]=l*n-p*r,e[8]=i*r+c*n,e[9]=s*r+u*n,e[10]=o*r+y*n,e[11]=l*r+p*n,e},rotateZ:function(e,t,a){const r=Math.sin(a),n=Math.cos(a),i=t[0],s=t[1],o=t[2],l=t[3],c=t[4],u=t[5],y=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*n+c*r,e[1]=s*n+u*r,e[2]=o*n+y*r,e[3]=l*n+p*r,e[4]=c*n-i*r,e[5]=u*n-s*r,e[6]=y*n-o*r,e[7]=p*n-l*r,e},scale:y,set:i,str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},sub:T,subtract:S,targetTo:function(e,t,a,r){const n=t[0],i=t[1],s=t[2],o=r[0],l=r[1],c=r[2];let u=n-a[0],y=i-a[1],p=s-a[2],d=u*u+y*y+p*p;d>0&&(d=1/Math.sqrt(d),u*=d,y*=d,p*=d);let f=l*p-c*y,L=c*u-o*p,m=o*y-l*u;return d=f*f+L*L+m*m,d>0&&(d=1/Math.sqrt(d),f*=d,L*=d,m*=d),e[0]=f,e[1]=L,e[2]=m,e[3]=0,e[4]=y*m-p*L,e[5]=p*f-u*m,e[6]=u*L-y*f,e[7]=0,e[8]=u,e[9]=y,e[10]=p,e[11]=0,e[12]=n,e[13]=i,e[14]=s,e[15]=1,e},translate:u,transpose:o},Symbol.toStringTag,{value:"Module"}))},38481:(e,t,a)=>{a.d(t,{Z:()=>S});var r=a(36663),n=(a(91957),a(66341)),i=a(70375),s=a(31355),o=a(86618),l=a(68309),c=a(13802),u=a(33926),y=a(39154),p=a(81977),d=(a(7283),a(7753),a(39994),a(40266)),f=a(51366),L=a(91772),m=a(14685);let h=0,b=class extends(s.Z.EventedMixin((0,o.IG)(l.Z))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new L.Z(-180,-90,180,90,m.Z.WGS84),this.id=Date.now().toString(16)+"-layer-"+h++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=m.Z.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t="string"==typeof e?{url:e}:e;return(await a.e(6361).then(a.bind(a,66361))).fromUrl(t)}static fromPortalItem(e){return async function(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await a.e(5831).then(a.bind(a,55831));try{return await r(t)}catch(e){const a=t&&t.portalItem,r=a&&a.id||"unset",n=a&&a.portal&&a.portal.url||f.Z.portalUrl;throw c.Z.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+n+"', id: '"+r+"')",e),e}}(e)}initialize(){this.when().catch((e=>{(0,u.D_)(e)||c.Z.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}destroy(){if(this.parent){const e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,y.mN)(this.url)}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await(0,n.default)(e,{query:{f:"json"},responseType:"json"})).data;throw new i.Z("layer:no-attribution-data","Layer does not have attribution data")}};(0,r._)([(0,p.Cb)({type:String})],b.prototype,"attributionDataUrl",void 0),(0,r._)([(0,p.Cb)({type:L.Z})],b.prototype,"fullExtent",void 0),(0,r._)([(0,p.Cb)({readOnly:!0})],b.prototype,"hasAttributionData",null),(0,r._)([(0,p.Cb)({type:String,clonable:!1})],b.prototype,"id",void 0),(0,r._)([(0,p.Cb)({type:Boolean,nonNullable:!0})],b.prototype,"legendEnabled",void 0),(0,r._)([(0,p.Cb)({type:["show","hide","hide-children"]})],b.prototype,"listMode",void 0),(0,r._)([(0,p.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],b.prototype,"opacity",void 0),(0,r._)([(0,p.Cb)({clonable:!1})],b.prototype,"parent",void 0),(0,r._)([(0,p.Cb)({readOnly:!0})],b.prototype,"parsedUrl",null),(0,r._)([(0,p.Cb)({type:Boolean})],b.prototype,"popupEnabled",void 0),(0,r._)([(0,p.Cb)({type:Boolean})],b.prototype,"attributionVisible",void 0),(0,r._)([(0,p.Cb)({type:m.Z})],b.prototype,"spatialReference",void 0),(0,r._)([(0,p.Cb)({type:String})],b.prototype,"title",void 0),(0,r._)([(0,p.Cb)({readOnly:!0,json:{read:!1}})],b.prototype,"type",void 0),(0,r._)([(0,p.Cb)()],b.prototype,"url",void 0),(0,r._)([(0,p.Cb)({type:Boolean,nonNullable:!0})],b.prototype,"visible",void 0),b=(0,r._)([(0,d.j)("esri.layers.Layer")],b);const S=b},20692:(e,t,a)=>{a.d(t,{B5:()=>u,DR:()=>p,G:()=>S,M8:()=>L,Nm:()=>m,Qc:()=>y,XG:()=>h,a7:()=>f,ld:()=>d,wH:()=>b});var r=a(39154),n=a(16641);const i={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},s=Object.values(i),o=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function u(e){return!!o.test(e)}function y(e){if(null==e)return null;const t=(0,r.mN)(e),a=t.path.match(o)||t.path.match(l);if(!a)return null;const[,n,s,c,u]=a,y=s.indexOf("/");return{title:d(-1!==y?s.slice(y+1):s),serverType:i[c.toLowerCase()],sublayer:null!=u&&""!==u?parseInt(u,10):null,url:{path:n}}}function p(e){const t=(0,r.mN)(e).path.match(c);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function d(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function f(e,t){const a=[];if(e){const t=y(e);null!=t&&t.title&&a.push(t.title)}if(t){const e=d(t);a.push(e)}if(2===a.length){if(a[0].toLowerCase().includes(a[1].toLowerCase()))return a[0];if(a[1].toLowerCase().includes(a[0].toLowerCase()))return a[1]}return a.join(" - ")}function L(e){if(!e)return!1;const t=(e=e.toLowerCase()).includes(".arcgis.com/"),a=e.includes("//services")||e.includes("//tiles")||e.includes("//features");return t&&a}function m(e,t){return e?(0,r.Qj)((0,r.Hu)(e,t)):e}function h(e){let{url:t}=e;if(!t)return{url:t};t=(0,r.Hu)(t,e.logger);const a=(0,r.mN)(t),n=y(a.path);let i;if(null!=n)null!=n.sublayer&&null==e.layer.layerId&&(i=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const e=p(a.path);null!=e&&(t=e.serviceUrl,i=e.sublayerId)}return{url:(0,r.Qj)(t),layerId:i}}function b(e,t,a,i,s){(0,n.w)(t,i,"url",s),i.url&&null!=e.layerId&&(i.url=(0,r.v_)(i.url,a,e.layerId.toString()))}function S(e){if(!e)return!1;const t=e.toLowerCase(),a=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),n=t.includes("/imageserver/wmsserver"),i=t.includes("/wmsserver");return a&&(r||n||i)}},8308:(e,t,a)=>{a.d(t,{V:()=>n});var r=a(40371);async function n(e,t){const a=await(0,r.T)(e,t);a.layers=a.layers.filter(i);const n={serviceJSON:a};if((a.currentVersion??0)<10.5)return n;const s=await(0,r.T)(e+"/layers",t);return n.layersJSON={layers:s.layers.filter(i),tables:s.tables},n}function i(e){return!e.type||"Feature Layer"===e.type}},45423:(e,t,a)=>{a.r(t),a.d(t,{populateOperationalLayers:()=>u});var r=a(6865),n=(a(39994),a(33926)),i=a(92557),s=a(53110);function o(e,t){return!(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)&&e.featureCollectionType===t}var l=a(55831),c=a(16603);async function u(e,t,a){if(!t)return;const r=[];for(const e of t){const t=M(e,a);"GroupLayer"===e.layerType?r.push(v(t,e,a)):r.push(t)}const i=await(0,n.as)(r);for(const t of i)t.value&&e.add(t.value)}const y={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},p={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},d={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",DefaultTileLayer:"TileLayer"},f={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},L={ArcGISFeatureLayer:"FeatureLayer"},m={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"},h={...f,LinkChartLayer:"LinkChartLayer"},b={...L},S={...m};async function M(e,t){return async function(e,t,a){const r=new e;return r.read(t,a.context),"group"===r.type&&g(t)&&await async function(e,t,a){const r=i.T.FeatureLayer,n=await r(),s=t.featureCollection,o=s?.showLegend,l=s?.layers?.map(((r,i)=>{const s=new n;s.read(r,a);const l={...a,ignoreDefaults:!0};return s.read({id:`${e.id}-sublayer-${i}`,visibility:t.visibleLayers?.includes(i)??!0},l),null!=o&&s.read({showLegend:o},l),s}));e.layers.addMany(l??[])}(r,t,a.context),await(0,c.y)(r,a.context),r}(await async function(e,t){const a=t.context,r=I(a);let n=e.layerType||e.type;!n&&t&&t.defaultLayerType&&(n=t.defaultLayerType);const c=r[n];let u=c?i.T[c]:i.T.UnknownLayer;if(w(e)){const t=a?.portal;if(e.itemId){const a=new s.default({id:e.itemId,portal:t});await a.load();const r=(await(0,l.selectLayerClassPath)(a)).className||"UnknownLayer";u=i.T[r]}}else"ArcGISFeatureLayer"===n?function(e){return o(e,"notes")}(e)||function(e){return o(e,"markup")}(e)?u=i.T.MapNotesLayer:function(e){return o(e,"route")}(e)?u=i.T.RouteLayer:g(e)&&(u=i.T.GroupLayer):e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier?u=i.T.WMTSLayer:"WFS"===n&&"2.0.0"!==e.wfsInfo?.version&&(u=i.T.UnsupportedLayer);return u()}(e,t),e,t)}function g(e){return"ArcGISFeatureLayer"===e.layerType&&!w(e)&&(e.featureCollection?.layers?.length??0)>1}function w(e){return"Feature Collection"===e.type}function I(e){let t;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":t=d;break;case"ground":t=p;break;default:t=y}break;case"link-chart":switch(e.layerContainerType){case"basemap":t=S;break;case"tables":t=b;break;default:t=h}break;default:switch(e.layerContainerType){case"basemap":t=m;break;case"tables":t=L;break;default:t=f}}return t}async function v(e,t,a){const n=new r.Z,i=u(n,Array.isArray(t.layers)?t.layers:[],a);try{const t=await e;try{if(await i,"group"===t.type)return t.layers.addMany(n),t}catch(e){t.destroy();for(const e of n)e.destroy();throw e}}catch(e){throw e}}},92557:(e,t,a)=>{a.d(t,{T:()=>r});const r={BingMapsLayer:async()=>(await Promise.all([a.e(3536),a.e(6217)]).then(a.bind(a,31968))).default,BuildingSceneLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(7109),a.e(905),a.e(2506),a.e(4533),a.e(5094),a.e(6985),a.e(4785),a.e(2926),a.e(4515),a.e(3183),a.e(6316),a.e(9871)]).then(a.bind(a,59871))).default,CSVLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(7109),a.e(905),a.e(2506),a.e(4533),a.e(5094),a.e(6985),a.e(4785),a.e(2926),a.e(994)]).then(a.bind(a,89849))).default,DimensionLayer:async()=>(await Promise.all([a.e(2080),a.e(442)]).then(a.bind(a,10442))).default,ElevationLayer:async()=>(await Promise.all([a.e(7109),a.e(7925),a.e(99)]).then(a.bind(a,90451))).default,FeatureLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(7109),a.e(905),a.e(2506),a.e(4533),a.e(5094),a.e(6985),a.e(4785),a.e(2926),a.e(7470)]).then(a.bind(a,12926))).default,GeoJSONLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(7109),a.e(905),a.e(2506),a.e(4533),a.e(5094),a.e(6985),a.e(3832)]).then(a.bind(a,81655))).default,GeoRSSLayer:async()=>(await Promise.all([a.e(3536),a.e(169)]).then(a.bind(a,84417))).default,GroupLayer:async()=>(await Promise.all([a.e(3536),a.e(4710)]).then(a.bind(a,82481))).default,ImageryLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(7109),a.e(905),a.e(8500),a.e(4733),a.e(8970),a.e(5347)]).then(a.bind(a,86776))).default,ImageryTileLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(7109),a.e(4733),a.e(8970),a.e(494),a.e(1226)]).then(a.bind(a,10449))).default,IntegratedMeshLayer:async()=>(await Promise.all([a.e(3183),a.e(4639)]).then(a.bind(a,96479))).default,KMLLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(2506),a.e(2868)]).then(a.bind(a,60711))).default,LineOfSightLayer:async()=>(await Promise.all([a.e(2080),a.e(4277)]).then(a.bind(a,64277))).default,LinkChartLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(7109),a.e(905),a.e(2506),a.e(4533),a.e(5094),a.e(3362),a.e(9703),a.e(148)]).then(a.bind(a,89240))).default,MapImageLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(905),a.e(2506),a.e(4533),a.e(6985),a.e(8500),a.e(4269),a.e(8645),a.e(8806)]).then(a.bind(a,88806))).default,MapNotesLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(7109),a.e(905),a.e(2506),a.e(4533),a.e(5094),a.e(6985),a.e(4785),a.e(2926),a.e(1175)]).then(a.bind(a,29581))).default,MediaLayer:async()=>(await Promise.all([a.e(3536),a.e(2579)]).then(a.bind(a,15882))).default,OGCFeatureLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(905),a.e(2506),a.e(4533),a.e(5094),a.e(6985),a.e(7495),a.e(1814)]).then(a.bind(a,53963))).default,OpenStreetMapLayer:async()=>(await Promise.all([a.e(3536),a.e(8661),a.e(3206)]).then(a.bind(a,33206))).default,OrientedImageryLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(7109),a.e(905),a.e(2506),a.e(4533),a.e(5094),a.e(6985),a.e(4785),a.e(2926),a.e(3976)]).then(a.bind(a,93414))).default,PointCloudLayer:async()=>(await a.e(3108).then(a.bind(a,73108))).default,RouteLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(2506),a.e(3189)]).then(a.bind(a,57731))).default,SceneLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(7109),a.e(905),a.e(2506),a.e(4533),a.e(5094),a.e(6985),a.e(4785),a.e(2926),a.e(4515),a.e(3183),a.e(6316),a.e(4606)]).then(a.bind(a,74606))).default,StreamLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(905),a.e(2506),a.e(4533),a.e(5094),a.e(8861)]).then(a.bind(a,75609))).default,SubtypeGroupLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(905),a.e(2506),a.e(4533),a.e(4785),a.e(1207),a.e(5017)]).then(a.bind(a,27764))).default,TileLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(905),a.e(2506),a.e(4533),a.e(6985),a.e(8500),a.e(4269),a.e(7925),a.e(8645),a.e(5369)]).then(a.bind(a,75369))).default,UnknownLayer:async()=>(await a.e(81).then(a.bind(a,40081))).default,UnsupportedLayer:async()=>(await a.e(4864).then(a.bind(a,74864))).default,VectorTileLayer:async()=>(await Promise.all([a.e(3536),a.e(7925),a.e(2616),a.e(3043),a.e(9251)]).then(a.bind(a,45520))).default,VoxelLayer:async()=>(await a.e(5519).then(a.bind(a,85519))).default,WFSLayer:async()=>(await Promise.all([a.e(3536),a.e(4497),a.e(7109),a.e(905),a.e(2506),a.e(4533),a.e(5094),a.e(8662),a.e(7956)]).then(a.bind(a,84420))).default,WMSLayer:async()=>(await Promise.all([a.e(3536),a.e(49)]).then(a.bind(a,30049))).default,WMTSLayer:async()=>(await Promise.all([a.e(3536),a.e(8661),a.e(9862)]).then(a.bind(a,69862))).default,WebTileLayer:async()=>(await Promise.all([a.e(3536),a.e(8661)]).then(a.bind(a,89859))).default}},84513:(e,t,a)=>{a.d(t,{Y:()=>s,h:()=>i});var r=a(39154),n=a(93968);function i(e){return{origin:"portal-item",url:(0,r.mN)(e.itemUrl),portal:e.portal||n.Z.getDefault(),portalItem:e,readResourcePaths:[]}}function s(e){return{origin:"portal-item",messages:[],writtenProperties:[],url:e.itemUrl?(0,r.mN)(e.itemUrl):null,portal:e.portal||n.Z.getDefault(),portalItem:e}}},49112:(e,t,a)=>{a.r(t),a.d(t,{getFirstLayerOrTableId:()=>S,getNumLayersAndTables:()=>M,getSubtypeGroupLayerIds:()=>g,load:()=>d,preprocessFSItemData:()=>b});var r=a(70375),n=a(38481),i=a(20692),s=a(8308),o=a(93968),l=a(53110),c=a(84513),u=a(31370),y=a(16603),p=a(40371);async function d(e,t){const a=e.instance.portalItem;if(a&&a.id)return await a.load(t),function(e){const t=e.instance.portalItem;if(!t?.type||!e.supportedTypes.includes(t.type))throw new r.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:t?.type,expectedType:e.supportedTypes.join(", ")})}(e),async function(e,t){const a=e.instance,n=a.portalItem;if(!n)return;const{url:i,title:o}=n,l=(0,c.h)(n);if("group"===a.type)return a.read({title:o},l),async function(e,t){let a;const{portalItem:n}=e;if(!n)return;const i=n.type,o=t.layerModuleTypeMap,l=(0,u._$)(n,"Oriented Imagery Layer")??!1;switch(i){case"Feature Service":a=l?o.OrientedImageryLayer:o.FeatureLayer;break;case"Stream Service":a=o.StreamLayer;break;case"Scene Service":a=o.SceneLayer;break;case"Feature Collection":a=o.FeatureLayer;break;default:throw new r.Z("portal:unsupported-item-type-as-group",`The item type '${i}' is not supported as a 'IGroupLayer'`)}let[c,y]=await Promise.all([a(),h(t)]),d=()=>c;if("Feature Service"===i){if(y=n.url?await b(y,n.url):{},g(y).length){const e=o.SubtypeGroupLayer,t=await e();d=e=>"SubtypeGroupLayer"===e.layerType?t:c}return L(e,d,y,await async function(e){const{layersJSON:t}=await(0,s.V)(e);if(!t)return null;const a=[...t.layers,...t.tables];return e=>a.find((t=>t.id===e.id))}(n.url))}return M(y)>0?L(e,d,y):async function(e,t){const{portalItem:a}=e;if(!a?.url)return;const r=await(0,p.T)(a.url);r&&L(e,t,{layers:r.layers?.map(f),tables:r.tables?.map(f)})}(e,d)}(a,e);i&&a.read({url:i},l);const d=await h(e,t);return d&&a.read(d,l),a.resourceReferences={portalItem:n,paths:l.readResourcePaths??[]},"subtype-group"!==a.type&&a.read({title:o},l),(0,y.y)(a,l)}(e,t)}function f(e){return{id:e.id,name:e.name}}function L(e,t,a,s){let o=a.layers||[];const c=a.tables||[];if("Feature Collection"===e.portalItem?.type&&(o.forEach((e=>{"Table"===e?.layerDefinition?.type&&c.push(e)})),o=o.filter((e=>"Table"!==e?.layerDefinition?.type))),"coverage"in a){const t=function(e){const{coverage:t}=e;if(!t)return null;const a=new URL(t);if(t.toLowerCase().includes("item.html")){const e=a.searchParams.get("id"),t=a.origin;return n.Z.fromPortalItem({portalItem:new l.default({id:e,url:t})})}if((0,i.B5)(t))return n.Z.fromArcGISServerUrl({url:t});throw new r.Z("portal:oriented-imagery-layer-coverage","the provided coverage url couldn't be loaded as a layer")}(a);t&&e.add(t)}o.reverse().forEach((r=>{const n=s?.(r);if(n||!s){const i=m(e,t(r),a,r,n);e.add(i)}})),c.reverse().forEach((r=>{const n=s?.(r);if(n||!s){const i=m(e,t(r),a,r,n);e.tables.add(i)}}))}function m(e,t,a,r,n){const i=e.portalItem,s=new t({portalItem:i.clone(),layerId:r.id});if("sourceJSON"in s&&(s.sourceJSON=n),"subtype-group"!==s.type&&(s.sublayerTitleMode="service-name"),"Feature Collection"===i.type){const e={origin:"portal-item",portal:i.portal||o.Z.getDefault()};s.read(r,e);const t=a.showLegend;null!=t&&s.read({showLegend:t},e)}return s}async function h(e,t){if(!1===e.supportsData)return;const a=e.instance,r=a.portalItem;if(!r)return;let n=null;try{n=await r.fetchData("json",t)}catch(e){}if(function(e){return"stream"!==e.type&&"oriented-imagery"!==e.type&&"layerId"in e}(a)){let e=null,t=!0;if(n&&M(n)>0){if(null==a.layerId){const e=g(n);a.layerId="subtype-group"===a.type?e?.[0]:S(n)}e=function(e,t){const{layerId:a}=t,r=e.layers?.find((e=>e.id===a))||e.tables?.find((e=>e.id===a));return r&&function(e,t){return!("feature"===t.type&&"layerType"in e&&"SubtypeGroupLayer"===e.layerType||"subtype-group"===t.type&&!("layerType"in e))}(r,t)?r:null}(n,a),e&&(1===M(n)&&(t=!1),null!=n.showLegend&&(e.showLegend=n.showLegend))}return t&&"sublayerTitleMode"in a&&"service-name"!==a.sublayerTitleMode&&(a.sublayerTitleMode="item-title-and-service-name"),e}return n}async function b(e,t){if(null==e?.layers||null==e?.tables){const a=await(0,p.T)(t);(e=e||{}).layers=e.layers||a?.layers,e.tables=e.tables||a?.tables}return e}function S(e){const t=e.layers;if(t&&t.length)return t[0].id;const a=e.tables;return a&&a.length?a[0].id:null}function M(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function g(e){const t=[];return e?.layers?.forEach((e=>{"SubtypeGroupLayer"===e.layerType&&t.push(e.id)})),t}},31370:(e,t,a)=>{a.d(t,{$o:()=>u,Fj:()=>l,Kz:()=>y,Ss:()=>p,_$:()=>o,ck:()=>c,qj:()=>s});var r=a(92376),n=a(14685),i=a(39536);function s(e,t){if(!o(e,t)){const a=e.typeKeywords;a?a.push(t):e.typeKeywords=[t]}}function o(e,t){return!!e.typeKeywords?.includes(t)}function l(e){return o(e,y.HOSTED_SERVICE)}function c(e,t){const a=e.typeKeywords;if(a){const e=a.indexOf(t);e>-1&&a.splice(e,1)}}async function u(e){const t=e.clone().normalize();let a;if(t.length>1)for(const e of t)a?e.width>a.width&&(a=e):a=e;else a=t[0];return async function(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,i.Sx)(e);const a=n.Z.WGS84;return await(0,r.initializeProjection)(t,a),(0,r.project)(e,a)}(a)}const y={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service"};function p(e){const{portal:t,isOrgItem:a,itemControl:r}=e,n=t.user?.privileges;let i=!n||n.includes("features:user:edit"),s=!!a&&!!n?.includes("features:user:fullEdit");const o="update"===r||"admin"===r;return o?s=i=!0:s&&(i=!0),{features:{edit:i,fullEdit:s},content:{updateItem:o}}}},55831:(e,t,a)=>{a.r(t),a.d(t,{fromItem:()=>u,selectLayerClassPath:()=>y});var r=a(70375),n=a(54957),i=a(92557),s=a(53110),o=a(49112),l=a(31370),c=a(40371);async function u(e){!e.portalItem||e.portalItem instanceof s.default||(e={...e,portalItem:new s.default(e.portalItem)});const t=await async function(e){return await e.load(),async function(e){const t=e.className,a=i.T[t];return{constructor:await a(),properties:e.properties}}(await y(e))}(e.portalItem);return new(0,t.constructor)({portalItem:e.portalItem,...t.properties})}async function y(e){switch(e.type){case"Map Service":return async function(e){return await async function(e){return(await(0,c.T)(e.url)).tileInfo}(e)?{className:"TileLayer"}:{className:"MapImageLayer"}}(e);case"Feature Service":return async function(e){if((0,l._$)(e,"Oriented Imagery Layer"))return async function(e){return await e.load(),{className:"OrientedImageryLayer",properties:await e.fetchData()}}(e);const t=await p(e);if("object"==typeof t){const e={};return null!=t.id&&(e.layerId=t.id),{className:t.className||"FeatureLayer",properties:e}}return{className:"GroupLayer"}}(e);case"Feature Collection":return async function(e){await e.load();const t=(0,l._$)(e,"Map Notes"),a=(0,l._$)(e,"Markup");if(t||a)return{className:"MapNotesLayer"};if((0,l._$)(e,"Route Layer"))return{className:"RouteLayer"};const r=await e.fetchData();return 1===(0,o.getNumLayersAndTables)(r)?{className:"FeatureLayer"}:{className:"GroupLayer"}}(e);case"Scene Service":return async function(e){const t=await p(e);if("object"==typeof t){const a={};let r;if(null!=t.id?(a.layerId=t.id,r=`${e.url}/layers/${t.id}`):r=e.url,e.typeKeywords?.length)for(const t of Object.keys(n.fb))if(e.typeKeywords.includes(t))return{className:n.fb[t]};const i=await(0,c.T)(r);return{className:n.fb[i?.layerType]||"SceneLayer",properties:a}}if(!1===t){const t=await(0,c.T)(e.url);return"Voxel"===t?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}}return{className:"GroupLayer"}}(e);case"Image Service":return async function(e){await e.load();const t=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(t.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(t.includes("tiled imagery"))return{className:"ImageryTileLayer"};const a=await e.fetchData(),r=a?.layerType;if("ArcGISTiledImageServiceLayer"===r)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===r)return{className:"ImageryLayer"};const n=await(0,c.T)(e.url),i=n.cacheType?.toLowerCase(),s=n.capabilities?.toLowerCase().includes("tilesonly");return"map"===i||s?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}(e);case"Stream Service":case"Feed":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"GeoJson":return{className:"GeoJSONLayer"};case"CSV":return{className:"CSVLayer"};case"KML":return{className:"KMLLayer"};case"WFS":return{className:"WFSLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:throw new r.Z("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type})}}async function p(e){const t=e.url;if(!t||/\/\d+$/.test(t))return{};await e.load();const a=await e.fetchData();if("Feature Service"===e.type){const e=d(await(0,o.preprocessFSItemData)(a,t));if("object"==typeof e){const t=(0,o.getSubtypeGroupLayerIds)(a);e.className=null!=e.id&&t.includes(e.id)?"SubtypeGroupLayer":"FeatureLayer"}return e}return(0,o.getNumLayersAndTables)(a)>0?d(a):d(await(0,c.T)(t))}function d(e){return 1===(0,o.getNumLayersAndTables)(e)&&{id:(0,o.getFirstLayerOrTableId)(e)}}},16603:(e,t,a)=>{a.d(t,{y:()=>s});var r=a(67979),n=a(33926),i=a(96863);async function s(e,t,a){const s=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(s&&"unique-value"===s.type&&s.styleOrigin){const o=await(0,r.q6)(s.populateFromStyle());if((0,n.k_)(a),!1===o.ok){const a=o.error;t&&t.messages&&t.messages.push(new i.Z("renderer:style-reference",`Failed to create unique value renderer from style reference: ${a.message}`,{error:a,context:t})),e.clear("renderer",t?.origin)}}}},40371:(e,t,a)=>{a.d(t,{T:()=>n});var r=a(66341);async function n(e,t){const{data:a}=await(0,r.default)(e,{responseType:"json",query:{f:"json",...t?.customParameters,token:t?.apiKey}});return a}}}]);