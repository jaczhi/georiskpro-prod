"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[1175,7470,9593],{53280:(e,t,r)=>{r.d(t,{p:()=>d,r:()=>p});var i=r(36663),a=r(74396),n=r(44584),s=r(81977),o=r(40266),l=r(81589);const d=e=>{let t=class extends e{constructor(){super(...arguments),this._handles=new n.Z,this._updatingHandles=new l.t}destroy(){this.destroyed||(this._handles.destroy(),this._updatingHandles.destroy())}get handles(){return this._handles}get updatingHandles(){return this._updatingHandles}};return(0,i._)([(0,s.Cb)({readOnly:!0})],t.prototype,"handles",null),(0,i._)([(0,s.Cb)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,i._)([(0,o.j)("esri.core.HandleOwner")],t),t};let p=class extends(d(a.Z)){};p=(0,i._)([(0,o.j)("esri.core.HandleOwner")],p)},27281:(e,t,r)=>{r.d(t,{Hg:()=>m,V7:()=>y,uD:()=>c});var i=r(74396),a=r(6865),n=r(95620);const s=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function o(e){return e instanceof i.Z}function l(e){return e instanceof a.Z?Object.keys(e.items):o(e)?(0,n.vw)(e).keys():e?Object.keys(e):[]}function d(e,t){return e instanceof a.Z?e.items[t]:e[t]}function p(e){return e?e.declaredClass:null}function u(e,t){const r=e.diff;if(r&&"function"==typeof r)return r(e,t);const i=l(e),a=l(t);if(0===i.length&&0===a.length)return;if(!i.length||!a.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const n=a.filter((e=>!i.includes(e))),c=i.filter((e=>!a.includes(e))),y=i.filter((r=>a.includes(r)&&d(e,r)!==d(t,r))).concat(n,c).sort(),m=p(e);if(m&&s.includes(m)&&y.length)return{type:"complete",oldValue:e,newValue:t};let h;const f=o(e)&&o(t);for(const i of y){const a=d(e,i),n=d(t,i);let s;if((f||"function"!=typeof a&&"function"!=typeof n)&&a!==n&&(null!=a||null!=n)){if(r&&r[i]&&"function"==typeof r[i])s=r[i]?.(a,n);else if(a instanceof Date&&n instanceof Date){if(a.getTime()===n.getTime())continue;s={type:"complete",oldValue:a,newValue:n}}else s="object"==typeof a&&"object"==typeof n&&p(a)===p(n)?u(a,n):{type:"complete",oldValue:a,newValue:n};null!=s&&(null!=h?h.diff[i]=s:h={type:"partial",diff:{[i]:s}})}}return h}function c(e,t){if(null==e)return!1;const r=t.split(".");let i=e;for(const e of r){if("complete"===i.type)return!0;if("partial"!==i.type)return!1;{const t=i.diff[e];if(!t)return!1;i=t}}return!0}function y(e,t){for(const r of t)if(c(e,r))return!0;return!1}function m(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&p(e)!==p(t)?{type:"complete",oldValue:e,newValue:t}:u(e,t)}},81589:(e,t,r)=>{r.d(t,{t:()=>u});var i=r(36663),a=r(74396),n=r(44584),s=r(23148),o=r(76868),l=r(17262),d=r(81977),p=r(40266);let u=class extends a.Z{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._handles=new n.Z,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll(),this._handles.destroy()}add(e,t,r={}){return this._installWatch(e,t,r,o.YP)}addWhen(e,t,r={}){return this._installWatch(e,t,r,o.gx)}addOnCollectionChange(e,t,{initial:r=!1,final:i=!1}={}){const a=++this._handleId;return this._handles.add([(0,o.on)(e,"after-changes",this._createSyncUpdatingCallback(),o.Z_),(0,o.on)(e,"change",t,{onListenerAdd:r?e=>t({added:e.toArray(),removed:[]}):void 0,onListenerRemove:i?e=>t({added:[],removed:e.toArray()}):void 0})],a),(0,s.kB)((()=>this._handles.remove(a)))}addPromise(e){if(null==e)return e;const t=++this._handleId;this._handles.add({remove:()=>{this._pendingPromises.delete(e)&&(0!==this._pendingPromises.size||this._handles.has(c)||this._set("updating",!1))}},t),this._pendingPromises.add(e),this._set("updating",!0);const r=()=>this._handles.remove(t);return e.then(r,r),e}removeAll(){this._pendingPromises.clear(),this._handles.removeAll(),this._set("updating",!1)}_installWatch(e,t,r={},i){const a=++this._handleId;r.sync||this._installSyncUpdatingWatch(e,a);const n=i(e,t,r);return this._handles.add(n,a),(0,s.kB)((()=>this._handles.remove(a)))}_installSyncUpdatingWatch(e,t){const r=this._createSyncUpdatingCallback(),i=(0,o.YP)(e,r,{sync:!0,equals:()=>!1});return this._handles.add(i,t),i}_createSyncUpdatingCallback(){return()=>{this._handles.remove(c),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this._handles.add((0,l.Os)((()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this._handles.remove(c))})),c)}}};(0,i._)([(0,d.Cb)({readOnly:!0})],u.prototype,"updating",void 0),u=(0,i._)([(0,p.j)("esri.core.support.WatchUpdatingTracking")],u);const c=-42},68748:(e,t,r)=>{r.d(t,{aX:()=>C});var i=r(51366),a=r(70375),n=r(13802),s=r(89542),o=r(90819),l=r(25266),d=r(35925),p=r(39536),u=(r(91957),r(66341)),c=r(53736),y=r(84238),m=r(39154);async function h(e,t,r){const i="string"==typeof e?(0,m.mN)(e):e,a=t[0].spatialReference,n=(0,c.Ji)(t[0]),s={...r,query:{...i.query,f:"json",sr:a.wkid??JSON.stringify(a),geometries:JSON.stringify((l=t,{geometryType:(0,c.Ji)(l[0]),geometries:l.map((e=>e.toJSON()))}))}},{data:o}=await(0,u.default)(i.path+"/simplify",s);var l;return function(e,t,r){const i=(0,c.q9)(t);return e.map((e=>{const t=i.fromJSON(e);return t.spatialReference=r,t}))}(o.geometries,n,a)}const f=n.Z.getLogger("esri.geometry.support.normalizeUtils");function g(e){return"polygon"===e[0].type}function S(e){return"polyline"===e[0].type}function T(e,t,r){if(t){const t=function(e,t){if(!(e instanceof o.Z||e instanceof s.Z)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw f.error(e),new a.Z(e)}const r=(0,l.x3)(e),i=[];for(const e of r){const r=[];i.push(r),r.push([e[0][0],e[0][1]]);for(let i=0;i<e.length-1;i++){const a=e[i][0],n=e[i][1],s=e[i+1][0],o=e[i+1][1],l=Math.sqrt((s-a)*(s-a)+(o-n)*(o-n)),d=(o-n)/l,p=(s-a)/l,u=l/t;if(u>1){for(let e=1;e<=u-1;e++){const i=e*t,s=p*i+a,o=d*i+n;r.push([s,o])}const e=(l+Math.floor(u-1)*t)/2,i=p*e+a,s=d*e+n;r.push([i,s])}r.push([s,o])}}return function(e){return"polygon"===e.type}(e)?new s.Z({rings:i,spatialReference:e.spatialReference}):new o.Z({paths:i,spatialReference:e.spatialReference})}(e,1e6);e=(0,p.Sx)(t,!0)}return r&&(e=(0,l.Sy)(e,r)),e}function b(e,t,r){if(Array.isArray(e)){const i=e[0];if(i>t){const r=(0,l.XZ)(i,t);e[0]=i+r*(-2*t)}else if(i<r){const t=(0,l.XZ)(i,r);e[0]=i+t*(-2*r)}}else{const i=e.x;if(i>t){const r=(0,l.XZ)(i,t);e=e.clone().offset(r*(-2*t),0)}else if(i<r){const t=(0,l.XZ)(i,r);e=e.clone().offset(t*(-2*r),0)}}return e}function A(e,t){let r=-1;for(let i=0;i<t.cutIndexes.length;i++){const a=t.cutIndexes[i],n=t.geometries[i],s=(0,l.x3)(n);for(let e=0;e<s.length;e++){const t=s[e];t.some((r=>{if(r[0]<180)return!0;{let r=0;for(let e=0;e<t.length;e++){const i=t[e][0];r=i>r?i:r}r=Number(r.toFixed(9));const i=-360*(0,l.XZ)(r,180);for(let r=0;r<t.length;r++){const t=n.getPoint(e,r);n.setPoint(e,r,t.clone().offset(i,0))}return!0}}))}if(a===r){if(g(e))for(const t of(0,l.x3)(n))e[a]=e[a].addRing(t);else if(S(e))for(const t of(0,l.x3)(n))e[a]=e[a].addPath(t)}else r=a,e[a]=n}return e}async function C(e,t,r){if(!Array.isArray(e))return C([e],t);t&&"string"!=typeof t&&f.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const a="string"==typeof t?t:t?.url??i.Z.geometryServiceUrl;let n,m,g,S,_,v,w,M,O=0;const x=[],E=[];for(const t of e)if(null!=t)if(n||(n=t.spatialReference,m=(0,d.C5)(n),g=n.isWebMercator,v=g?102100:4326,S=l.UZ[v].maxX,_=l.UZ[v].minX,w=l.UZ[v].plus180Line,M=l.UZ[v].minus180Line),m)if("mesh"===t.type)E.push(t);else if("point"===t.type)E.push(b(t.clone(),S,_));else if("multipoint"===t.type){const e=t.clone();e.points=e.points.map((e=>b(e,S,_))),E.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,m);E.push(e.rings?new s.Z(e):e)}else if(t.extent){const e=t.extent,r=(0,l.XZ)(e.xmin,_)*(2*S);let i=0===r?t.clone():(0,l.Sy)(t.clone(),r);e.offset(r,0),e.intersects(w)&&e.xmax!==S?(O=e.xmax>O?e.xmax:O,i=T(i,g),x.push(i),E.push("cut")):e.intersects(M)&&e.xmin!==_?(O=e.xmax*(2*S)>O?e.xmax*(2*S):O,i=T(i,g,360),x.push(i),E.push("cut")):E.push(i)}else E.push(t.clone());else E.push(t);else E.push(t);let Z=(0,l.XZ)(O,S),N=-90;const F=Z,I=new o.Z;for(;Z>0;){const e=360*Z-180;I.addPath([[e,N],[e,-1*N]]),N*=-1,Z--}if(x.length>0&&F>0){const t=A(x,await async function(e,t,r,i){const a=(0,y.en)(e),n=t[0].spatialReference,s={...i,query:{...a.query,f:"json",sr:JSON.stringify(n),target:JSON.stringify({geometryType:(0,c.Ji)(t[0]),geometries:t}),cutter:JSON.stringify(r)}},o=await(0,u.default)(a.path+"/cut",s),{cutIndexes:l,geometries:d=[]}=o.data;return{cutIndexes:l,geometries:d.map((e=>{const t=(0,c.im)(e);return t.spatialReference=n,t}))}}(a,x,I,r)),i=[],n=[];for(let r=0;r<E.length;r++){const a=E[r];if("cut"!==a)n.push(a);else{const a=t.shift(),s=e[r];null!=s&&"polygon"===s.type&&s.rings&&s.rings.length>1&&a.rings.length>=s.rings.length?(i.push(a),n.push("simplify")):n.push(g?(0,p.$)(a):a)}}if(!i.length)return n;const s=await h(a,i,r),o=[];for(let e=0;e<n.length;e++){const t=n[e];"simplify"!==t?o.push(t):o.push(g?(0,p.$)(s.shift()):s.shift())}return o}const L=[];for(let e=0;e<E.length;e++){const t=E[e];if("cut"!==t)L.push(t);else{const e=x.shift();L.push(!0===g?(0,p.$)(e):e)}}return L}},25266:(e,t,r)=>{r.d(t,{Sy:()=>l,UZ:()=>s,XZ:()=>o,x3:()=>d});var i=r(90819),a=r(14685),n=r(53736);const s={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new i.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:a.Z.WebMercator}),minus180Line:new i.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:a.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new i.Z({paths:[[[180,-180],[180,180]]],spatialReference:a.Z.WGS84}),minus180Line:new i.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:a.Z.WGS84})}};function o(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){const r=d(e);for(const e of r)for(const r of e)r[0]+=t;return e}function d(e){return(0,n.oU)(e)?e.rings:e.paths}},29581:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Y});var i=r(36663),a=(r(91957),r(80085)),n=(r(4905),r(6865)),s=r(70375),o=r(67134),l=r(15842),d=r(86745),p=r(96863),u=r(81977),c=r(7283),y=r(34248),m=r(40266),h=r(39835),f=r(92376),g=r(24568),S=r(68748),T=r(35925),b=r(12926),A=(r(7753),r(39994),r(58811)),C=r(53280);r(13802);let _=class extends((0,C.p)(n.Z)){constructor(e){super(e),this.handles.add([this.on("before-add",(e=>{null==e.item&&e.preventDefault()})),this.on("after-add",(e=>this._own(e.item))),this.on("after-remove",(e=>this._release(e.item)))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(n.Z.ofType(this.itemType.Type))(e):new n.Z(e)}};(0,i._)([(0,u.Cb)()],_.prototype,"owner",null),_=(0,i._)([(0,m.j)("esri.core.support.OwningCollection")],_);var v=r(38481),w=r(27668),M=r(95874),O=r(2107);let x=class extends _{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};(0,i._)([(0,O.c)({Type:a.Z,ensureType:(0,c.se)(a.Z)})],x.prototype,"itemType",void 0),x=(0,i._)([(0,m.j)("esri.support.GraphicsCollection")],x);var E=r(74710);let Z=class extends((0,w.h)((0,M.M)(v.Z))){constructor(e){super(e),this.elevationInfo=null,this.graphics=new x,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,t){return super.on(e,t)}graphicChanged(e){this.emit("graphic-update",e)}};var N,F;(0,i._)([(0,u.Cb)({type:E.Z})],Z.prototype,"elevationInfo",void 0),(0,i._)([(0,u.Cb)((N=x,F="graphics",{type:N,cast:A.R,set(e){const t=(0,A.Z)(e,this._get(F),N);t.owner=this,this._set(F,t)}}))],Z.prototype,"graphics",void 0),(0,i._)([(0,u.Cb)({type:["show","hide"]})],Z.prototype,"listMode",void 0),(0,i._)([(0,u.Cb)()],Z.prototype,"screenSizePerspectiveEnabled",void 0),(0,i._)([(0,u.Cb)({readOnly:!0})],Z.prototype,"type",void 0),(0,i._)([(0,u.Cb)({constructOnly:!0})],Z.prototype,"internal",void 0),Z=(0,i._)([(0,m.j)("esri.layers.GraphicsLayer")],Z);const I=Z;var L=r(93711),R=r(43330),P=r(18241),k=r(12512),j=r(43411),G=r(15498),D=r(1759),J=r(27624),U=r(14685),V=r(91772);function B(e){return"markup"===e.featureCollectionType||e.layers.some((e=>null!=e.layerDefinition.visibilityField||!q(e)))}function q({layerDefinition:e,featureSet:t}){const r=e.geometryType??t.geometryType;return K.find((t=>r===t.geometryTypeJSON&&e.drawingInfo?.renderer?.symbol?.type===t.identifyingSymbol.type))}function z(){return new V.Z({xmin:-180,ymin:-90,xmax:180,ymax:90})}const Q=new k.Z({name:"OBJECTID",alias:"OBJECTID",type:"oid",nullable:!1,editable:!1}),H=new k.Z({name:"title",alias:"Title",type:"string",nullable:!0,editable:!0});let W=class extends I{constructor(e){super(e),this.visibilityMode="inherited"}initialize(){for(const e of this.graphics)e.sourceLayer=this.layer;this.graphics.on("after-add",(e=>{e.item.sourceLayer=this.layer})),this.graphics.on("after-remove",(e=>{e.item.sourceLayer=null}))}get fullExtent(){const e=this.layer?.spatialReference,t=this.fullBounds;return e?null==t?(0,f.projectOrLoad)(z(),e).geometry:(0,g.HH)(t,e):null}get fullBounds(){const e=this.layer?.spatialReference;if(!e)return null;const t=(0,g.cS)();return this.graphics.forEach((r=>{const i=null!=r.geometry?(0,f.projectOrLoad)(r.geometry,e).geometry:null;null!=i&&(0,g.jn)(t,"point"===i.type?i:i.extent,t)})),(0,g.fS)(t,g.Gv)?null:t}get sublayers(){return this.graphics}};(0,i._)([(0,u.Cb)({readOnly:!0})],W.prototype,"fullExtent",null),(0,i._)([(0,u.Cb)({readOnly:!0})],W.prototype,"fullBounds",null),(0,i._)([(0,u.Cb)({readOnly:!0})],W.prototype,"sublayers",null),(0,i._)([(0,u.Cb)()],W.prototype,"layer",void 0),(0,i._)([(0,u.Cb)()],W.prototype,"layerId",void 0),(0,i._)([(0,u.Cb)({readOnly:!0})],W.prototype,"visibilityMode",void 0),W=(0,i._)([(0,m.j)("esri.layers.MapNotesLayer.MapNotesSublayer")],W);const K=[{geometryType:"polygon",geometryTypeJSON:"esriGeometryPolygon",id:"polygonLayer",layerId:0,title:"Polygons",identifyingSymbol:(new j.Z).toJSON()},{geometryType:"polyline",geometryTypeJSON:"esriGeometryPolyline",id:"polylineLayer",layerId:1,title:"Polylines",identifyingSymbol:(new G.Z).toJSON()},{geometryType:"multipoint",geometryTypeJSON:"esriGeometryMultipoint",id:"multipointLayer",layerId:2,title:"Multipoints",identifyingSymbol:(new D.Z).toJSON()},{geometryType:"point",geometryTypeJSON:"esriGeometryPoint",id:"pointLayer",layerId:3,title:"Points",identifyingSymbol:(new D.Z).toJSON()},{geometryType:"point",geometryTypeJSON:"esriGeometryPoint",id:"textLayer",layerId:4,title:"Text",identifyingSymbol:(new J.Z).toJSON()}];let X=class extends((0,w.h)((0,M.M)((0,R.q)((0,P.I)((0,l.R)(v.Z)))))){constructor(e){super(e),this.capabilities={operations:{supportsMapNotesEditing:!0}},this.featureCollections=null,this.featureCollectionJSON=null,this.featureCollectionType="notes",this.legendEnabled=!1,this.listMode="hide-children",this.minScale=0,this.maxScale=0,this.spatialReference=U.Z.WGS84,this.sublayers=new n.Z(K.map((e=>new W({id:e.id,layerId:e.layerId,title:e.title,layer:this})))),this.title="Map Notes",this.type="map-notes",this.visibilityMode="inherited"}readCapabilities(e,t,r){return{operations:{supportsMapNotesEditing:!B(t)&&"portal-item"!==r?.origin}}}readFeatureCollections(e,t,r){if(!B(t))return null;const i=t.layers.map((e=>{const t=new b.default;return t.read(e,r),t}));return new n.Z({items:i})}readLegacyfeatureCollectionJSON(e,t){return B(t)?(0,o.d9)(t.featureCollection):null}get fullExtent(){const e=this.spatialReference,t=(0,g.cS)();return null!=this.sublayers?this.sublayers.forEach((({fullBounds:e})=>null!=e?(0,g.jn)(t,e,t):t),t):this.featureCollectionJSON?.layers.some((e=>e.layerDefinition.extent))&&this.featureCollectionJSON.layers.forEach((r=>{const i=(0,f.projectOrLoad)(r.layerDefinition.extent,e).geometry;null!=i&&(0,g.jn)(t,i,t)})),(0,g.fS)(t,g.Gv)?(0,f.projectOrLoad)(z(),e).geometry:(0,g.HH)(t,e)}readMinScale(e,t){for(const e of t.layers)if(null!=e.layerDefinition.minScale)return e.layerDefinition.minScale;return 0}readMaxScale(e,t){for(const e of t.layers)if(null!=e.layerDefinition.maxScale)return e.layerDefinition.maxScale;return 0}get multipointLayer(){return this._findSublayer("multipointLayer")}get pointLayer(){return this._findSublayer("pointLayer")}get polygonLayer(){return this._findSublayer("polygonLayer")}get polylineLayer(){return this._findSublayer("polylineLayer")}readSpatialReference(e,t){return t.layers.length?U.Z.fromJSON(t.layers[0].layerDefinition.spatialReference):U.Z.WGS84}readSublayers(e,t,r){if(B(t))return null;const i=[];let s=t.layers.reduce(((e,t)=>Math.max(e,t.layerDefinition.id??-1)),-1)+1;for(const e of t.layers){const{layerDefinition:t,featureSet:r}=e,n=t.id??s++,o=q(e);if(null!=o){const e=new W({id:o.id,title:t.name,layerId:n,layer:this,graphics:r.features.map((({geometry:e,symbol:t,attributes:r,popupInfo:i})=>a.Z.fromJSON({attributes:r,geometry:e,symbol:t,popupTemplate:i})))});i.push(e)}}return new n.Z(i)}writeSublayers(e,t,r,i){const{minScale:a,maxScale:n}=this;if(null==e)return;const o=e.some((e=>e.graphics.length>0));if(!this.capabilities.operations.supportsMapNotesEditing)return void(o&&i?.messages?.push(new s.Z("map-notes-layer:editing-not-supported","New map notes cannot be added to this layer")));const l=[];let p=this.spatialReference.toJSON();e:for(const t of e)for(const e of t.graphics)if(null!=e.geometry){p=e.geometry.spatialReference.toJSON();break e}for(const t of K){const r=e.find((e=>t.id===e.id));this._writeMapNoteSublayer(l,r,t,a,n,p,i)}(0,d.RB)("featureCollection.layers",l,t)}get textLayer(){return this._findSublayer("textLayer")}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},e)),Promise.resolve(this)}read(e,t){"featureCollection"in e&&(e=(0,o.d9)(e),Object.assign(e,e.featureCollection)),super.read(e,t)}async beforeSave(){if(null==this.sublayers)return;let e=null;const t=[];for(const r of this.sublayers)for(const i of r.graphics)if(null!=i.geometry){const r=i.geometry;e?(0,T.fS)(r.spatialReference,e)||((0,f.canProjectWithoutEngine)(r.spatialReference,e)||(0,f.isLoaded)()||await(0,f.load)(),i.geometry=(0,f.project)(r,e)):e=r.spatialReference,t.push(i)}const r=await(0,S.aX)(t.map((e=>e.geometry)));t.forEach(((e,t)=>e.geometry=r[t]))}_findSublayer(e){return null==this.sublayers?null:this.sublayers?.find((t=>t.id===e))??null}_writeMapNoteSublayer(e,t,r,i,a,n,s){const l=[];if(null!=t){for(const e of t.graphics)this._writeMapNote(l,e,r.geometryType,s);this._normalizeObjectIds(l,Q),e.push({layerDefinition:{name:t.title,drawingInfo:{renderer:{type:"simple",symbol:(0,o.d9)(r.identifyingSymbol)}},id:t.layerId,geometryType:r.geometryTypeJSON,minScale:i,maxScale:a,objectIdField:"OBJECTID",fields:[Q.toJSON(),H.toJSON()],spatialReference:n},featureSet:{features:l,geometryType:r.geometryTypeJSON}})}}_writeMapNote(e,t,r,i){if(null==t)return;const{geometry:a,symbol:n,popupTemplate:s}=t;if(null==a)return;if(a.type!==r)return void i?.messages?.push(new p.Z("map-notes-layer:invalid-geometry-type",`Geometry "${a.type}" cannot be saved in "${r}" layer`,{graphic:t}));if(null==n)return void i?.messages?.push(new p.Z("map-notes-layer:no-symbol","Skipping map notes with no symbol",{graphic:t}));const o={attributes:{...t.attributes},geometry:a.toJSON(),symbol:n.toJSON()};null!=s&&(o.popupInfo=s.toJSON()),e.push(o)}_normalizeObjectIds(e,t){const r=t.name;let i=(0,L.S)(r,e)+1;const a=new Set;for(const t of e){t.attributes||(t.attributes={});const{attributes:e}=t;(null==e[r]||a.has(e[r]))&&(e[r]=i++),a.add(e[r])}}};(0,i._)([(0,u.Cb)({readOnly:!0})],X.prototype,"capabilities",void 0),(0,i._)([(0,y.r)(["portal-item","web-map"],"capabilities",["layers"])],X.prototype,"readCapabilities",null),(0,i._)([(0,u.Cb)({readOnly:!0})],X.prototype,"featureCollections",void 0),(0,i._)([(0,y.r)(["web-map","portal-item"],"featureCollections",["layers"])],X.prototype,"readFeatureCollections",null),(0,i._)([(0,u.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{enabled:!0,target:"featureCollection"}}}}})],X.prototype,"featureCollectionJSON",void 0),(0,i._)([(0,y.r)(["web-map","portal-item"],"featureCollectionJSON",["featureCollection"])],X.prototype,"readLegacyfeatureCollectionJSON",null),(0,i._)([(0,u.Cb)({readOnly:!0,json:{read:!0,write:{enabled:!0,ignoreOrigin:!0}}})],X.prototype,"featureCollectionType",void 0),(0,i._)([(0,u.Cb)({readOnly:!0})],X.prototype,"fullExtent",null),(0,i._)([(0,u.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{target:"featureCollection.showLegend",overridePolicy(){return{enabled:null!=this.featureCollectionJSON}}}}}}})],X.prototype,"legendEnabled",void 0),(0,i._)([(0,u.Cb)({type:["show","hide","hide-children"]})],X.prototype,"listMode",void 0),(0,i._)([(0,u.Cb)({type:Number,nonNullable:!0,json:{write:!1}})],X.prototype,"minScale",void 0),(0,i._)([(0,y.r)(["web-map","portal-item"],"minScale",["layers"])],X.prototype,"readMinScale",null),(0,i._)([(0,u.Cb)({type:Number,nonNullable:!0,json:{write:!1}})],X.prototype,"maxScale",void 0),(0,i._)([(0,y.r)(["web-map","portal-item"],"maxScale",["layers"])],X.prototype,"readMaxScale",null),(0,i._)([(0,u.Cb)({readOnly:!0})],X.prototype,"multipointLayer",null),(0,i._)([(0,u.Cb)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],X.prototype,"operationalLayerType",void 0),(0,i._)([(0,u.Cb)({readOnly:!0})],X.prototype,"pointLayer",null),(0,i._)([(0,u.Cb)({readOnly:!0})],X.prototype,"polygonLayer",null),(0,i._)([(0,u.Cb)({readOnly:!0})],X.prototype,"polylineLayer",null),(0,i._)([(0,u.Cb)({type:U.Z})],X.prototype,"spatialReference",void 0),(0,i._)([(0,y.r)(["web-map","portal-item"],"spatialReference",["layers"])],X.prototype,"readSpatialReference",null),(0,i._)([(0,u.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],X.prototype,"sublayers",void 0),(0,i._)([(0,y.r)("web-map","sublayers",["layers"])],X.prototype,"readSublayers",null),(0,i._)([(0,h.c)("web-map","sublayers")],X.prototype,"writeSublayers",null),(0,i._)([(0,u.Cb)({readOnly:!0})],X.prototype,"textLayer",null),(0,i._)([(0,u.Cb)()],X.prototype,"title",void 0),(0,i._)([(0,u.Cb)({readOnly:!0,json:{read:!1}})],X.prototype,"type",void 0),X=(0,i._)([(0,m.j)("esri.layers.MapNotesLayer")],X);const Y=X},93711:(e,t,r)=>{r.d(t,{S:()=>a,X:()=>i});const i=1;function a(e,t){let r=0;for(const i of t){const t=i.attributes?.[e];"number"==typeof t&&isFinite(t)&&(r=Math.max(r,t))}return r}},91223:(e,t,r)=>{r.d(t,{V:()=>s});var i=r(36663),a=r(81977),n=(r(7283),r(7753),r(39994),r(40266));const s=e=>{let t=class extends e{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null}set apiKey(e){null!=e?this._override("apiKey",e):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,i._)([(0,a.Cb)({type:String})],t.prototype,"apiKey",null),t=(0,i._)([(0,n.j)("esri.layers.mixins.APIKeyMixin")],t),t}},87232:(e,t,r)=>{r.d(t,{Y:()=>l});var i=r(36663),a=r(13802),n=r(81977),s=(r(7283),r(7753),r(39994),r(40266)),o=r(20692);const l=e=>{let t=class extends e{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const e=(0,o.Qc)(this.url);if(null!=e&&e.title)return e.title}return this._get("title")||""}set title(e){this._set("title",e)}set url(e){this._set("url",(0,o.Nm)(e,a.Z.getLogger(this)))}};return(0,i._)([(0,n.Cb)()],t.prototype,"title",null),(0,i._)([(0,n.Cb)({type:String})],t.prototype,"url",null),t=(0,i._)([(0,s.j)("esri.layers.mixins.ArcGISService")],t),t}},12512:(e,t,r)=>{r.d(t,{Z:()=>f});var i,a=r(36663),n=r(25709),s=r(82064),o=r(81977),l=r(7283),d=(r(7753),r(39994),r(79438)),p=r(34248),u=r(40266),c=r(60248),y=r(86349);const m=new n.X({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let h=i=class extends s.wq{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch(e){}return r?.value??null}readValueType(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch(e){}return r?m.fromJSON(r.fieldValueType):null}clone(){return new i({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,a._)([(0,o.Cb)({type:String,json:{write:!0}})],h.prototype,"alias",void 0),(0,a._)([(0,o.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],h.prototype,"defaultValue",void 0),(0,a._)([(0,o.Cb)()],h.prototype,"description",void 0),(0,a._)([(0,p.r)("description")],h.prototype,"readDescription",null),(0,a._)([(0,o.Cb)({types:c.V5,json:{read:{reader:c.im},write:!0}})],h.prototype,"domain",void 0),(0,a._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],h.prototype,"editable",void 0),(0,a._)([(0,o.Cb)({type:l.z8,json:{write:!0}})],h.prototype,"length",void 0),(0,a._)([(0,o.Cb)({type:String,json:{write:!0}})],h.prototype,"name",void 0),(0,a._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],h.prototype,"nullable",void 0),(0,a._)([(0,d.J)(y.v)],h.prototype,"type",void 0),(0,a._)([(0,o.Cb)()],h.prototype,"valueType",void 0),(0,a._)([(0,p.r)("valueType",["description"])],h.prototype,"readValueType",null),(0,a._)([(0,o.Cb)({type:Boolean,json:{read:!1}})],h.prototype,"visible",void 0),h=i=(0,a._)([(0,u.j)("esri.layers.support.Field")],h);const f=h},28790:(e,t,r)=>{r.d(t,{Z:()=>s});var i=r(17095);function a(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function n(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}class s{constructor(e=[]){if(this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!e)return;this.fields=e;const t=[];for(const s of e){const e=s?.name,d=l(s?.name);if(e&&d){const l=o(e);this._fieldsMap.set(e,s),this._fieldsMap.set(l,s),this._normalizedFieldsMap.set(d,s),t.push(l),"date"===(r=s).type||"esriFieldTypeDate"===r.type||"date-only"===r.type||"esriFieldTypeDateOnly"===r.type||"timestamp-offset"===r.type||"esriFieldTypeTimestampOffset"===r.type?(this.dateFields.push(s),this._dateFieldsSet.add(s)):(0,i.H7)(s)&&(this._numericFieldsSet.add(s),this.numericFields.push(s)),a(s)||n(s)||(s.editable=null==s.editable||!!s.editable,s.nullable=null==s.nullable||!!s.nullable)}}var r;t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)a(e)||n(e)||e.nullable||void 0!==(0,i.os)(e)||this._requiredFields.push(e)}return this._requiredFields}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(o(e))??this._normalizedFieldsMap.get(l(e)),t&&this._fieldsMap.set(e,t),t)}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name??void 0}}function o(e){return e.trim().toLowerCase()}function l(e){return(0,i.q6)(e)?.toLowerCase()??""}},94081:(e,t,r)=>{r.d(t,{Z:()=>p});var i,a=r(36663),n=r(6865),s=r(82064),o=r(81977),l=(r(7283),r(7753),r(39994),r(40266));let d=i=class extends s.wq{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new n.Z}clone(){return new i({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,a._)([(0,o.Cb)({type:String,json:{write:!0}})],d.prototype,"floorField",void 0),(0,a._)([(0,o.Cb)({json:{read:!1,write:!1}})],d.prototype,"viewAllMode",void 0),(0,a._)([(0,o.Cb)({json:{read:!1,write:!1}})],d.prototype,"viewAllLevelIds",void 0),d=i=(0,a._)([(0,l.j)("esri.layers.support.LayerFloorInfo")],d);const p=d},60248:(e,t,r)=>{r.d(t,{im:()=>v,V5:()=>_}),r(39994);var i,a=r(36663),n=r(67134),s=r(81977),o=(r(7283),r(79438)),l=r(40266),d=r(82064);r(7753);let p=i=class extends d.wq{constructor(e){super(e),this.name=null,this.code=null}clone(){return new i({name:this.name,code:this.code})}};(0,a._)([(0,s.Cb)({type:String,json:{write:!0}})],p.prototype,"name",void 0),(0,a._)([(0,s.Cb)({type:[String,Number],json:{write:!0}})],p.prototype,"code",void 0),p=i=(0,a._)([(0,l.j)("esri.layers.support.CodedValue")],p);const u=new(r(25709).X)({inherited:"inherited",codedValue:"coded-value",range:"range"});let c=class extends d.wq{constructor(e){super(e),this.name=null,this.type=null}};(0,a._)([(0,s.Cb)({type:String,json:{write:!0}})],c.prototype,"name",void 0),(0,a._)([(0,o.J)(u)],c.prototype,"type",void 0),c=(0,a._)([(0,l.j)("esri.layers.support.Domain")],c);const y=c;var m;let h=m=class extends y{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some((e=>(String(e.code)===r&&(t=e.name),!!t)))}return t}clone(){return new m({codedValues:(0,n.d9)(this.codedValues),name:this.name})}};(0,a._)([(0,s.Cb)({type:[p],json:{write:!0}})],h.prototype,"codedValues",void 0),(0,a._)([(0,o.J)({codedValue:"coded-value"})],h.prototype,"type",void 0),h=m=(0,a._)([(0,l.j)("esri.layers.support.CodedValueDomain")],h);const f=h;var g;r(13802),r(70375);let S=g=class extends y{constructor(e){super(e),this.type="inherited"}clone(){return new g}};(0,a._)([(0,o.J)({inherited:"inherited"})],S.prototype,"type",void 0),S=g=(0,a._)([(0,l.j)("esri.layers.support.InheritedDomain")],S);const T=S;var b;let A=b=class extends y{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new b({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,a._)([(0,s.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],A.prototype,"maxValue",void 0),(0,a._)([(0,s.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],A.prototype,"minValue",void 0),(0,a._)([(0,o.J)({range:"range"})],A.prototype,"type",void 0),A=b=(0,a._)([(0,l.j)("esri.layers.support.RangeDomain")],A);const C=A,_={key:"type",base:y,typeMap:{range:A,"coded-value":f,inherited:T}};function v(e){if(!e||!e.type)return null;switch(e.type){case"range":return C.fromJSON(e);case"codedValue":return f.fromJSON(e);case"inherited":return T.fromJSON(e)}return null}},86349:(e,t,r)=>{r.d(t,{v:()=>i});const i=new(r(25709).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},7927:(e,t,r)=>{r.d(t,{h:()=>u});var i=r(39994),a=r(20692);const n={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function s(e,t,r){return!!l(e,t,r)}function o(e,t,r){return l(e,t,r)}function l(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}function d(e){const t=e?.supportedSpatialAggregationStatistics?.map((e=>e.toLowerCase()));return{envelope:!!t?.includes("envelopeaggregate"),centroid:!!t?.includes("centroidaggregate"),convexHull:!!t?.includes("convexhullaggregate")}}function p(e,t){const r=e?.supportedOperationsWithCacheHint?.map((e=>e.toLowerCase()));return!!r?.includes(t.toLowerCase())}function u(e,t){return{analytics:c(e),attachment:y(e),data:m(e),metadata:h(e),operations:f(e.capabilities,e,t),query:g(e,t),queryRelated:S(e),queryTopFeatures:T(e),editing:b(e)}}function c(e){return{supportsCacheHint:p(e.advancedQueryCapabilities,"queryAnalytics")}}function y(e){const t=e.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:p(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:s(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach((e=>{const t=n[e.name];t&&(r[t]=!!e.isEnabled)})),r}function m(e){return{isVersioned:s(e,"isDataVersioned",!1),supportsAttachment:s(e,"hasAttachments",!1),supportsM:s(e,"hasM",!1),supportsZ:s(e,"hasZ",!1)}}function h(e){return{supportsAdvancedFieldProperties:s(e,"supportsFieldDescriptionProperty",!1)}}function f(e,t,r){const i=e?e.toLowerCase().split(",").map((e=>e.trim())):[],n=r?(0,a.Qc)(r):null,o=i.includes(null!=n&&"MapServer"===n.serverType?"data":"query"),l=i.includes("editing")&&!t.datesInUnknownTimezone;let d=l&&i.includes("create"),p=l&&i.includes("delete"),u=l&&i.includes("update");const c=i.includes("changetracking"),y=t.advancedQueryCapabilities;return l&&!(d||p||u)&&(d=p=u=!0),{supportsCalculate:s(t,"supportsCalculate",!1),supportsTruncate:s(t,"supportsTruncate",!1),supportsValidateSql:s(t,"supportsValidateSql",!1),supportsAdd:d,supportsDelete:p,supportsEditing:l,supportsChangeTracking:c,supportsQuery:o,supportsQueryAnalytics:s(y,"supportsQueryAnalytic",!1),supportsQueryAttachments:s(y,"supportsQueryAttachments",!1),supportsQueryTopFeatures:s(y,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:s(t,"supportsAttachmentsResizing",!1),supportsSync:i.includes("sync"),supportsUpdate:u,supportsExceedsLimitStatistics:s(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:s(t,"supportsAsyncConvert3D",!1)}}function g(e,t){const r=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,l=e.archivingInfo,u=e.currentVersion,c=t?.includes("MapServer"),y=!c||u>=(0,i.Z)("mapserver-pbf-version-support"),m=(0,a.M8)(t),h=new Set((e.supportedQueryFormats??"").split(",").map((e=>e.toLowerCase().trim())));return{supportsStatistics:s(r,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:s(r,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:s(r,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:d(r),supportsCentroid:s(r,"supportsReturningGeometryCentroid",!1),supportsDistance:s(r,"supportsQueryWithDistance",!1),supportsDistinct:s(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:s(r,"supportsReturningQueryExtent",!1),supportsGeometryProperties:s(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:s(r,"supportsHavingClause",!1),supportsOrderBy:s(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:s(r,"supportsPagination",!1),supportsQuantization:s(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:s(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:s(e,"supportsReturningQueryGeometry",!1),supportsResultType:s(r,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:s(r,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:s(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:s(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:s(r,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:s(n,"allowOthersToQuery",!0),supportsHistoricMoment:s(l,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:y&&h.has("pbf"),supportsDisjointSpatialRelationship:s(r,"supportsDisjointSpatialRel",!1),supportsCacheHint:s(r,"supportsQueryWithCacheHint",!1)||p(r,"query"),supportsDefaultSpatialReference:s(r,"supportsDefaultSR",!1),supportsCompactGeometry:m,supportsFullTextSearch:s(r,"supportsFullTextSearch",!1),maxRecordCountFactor:o(e,"maxRecordCountFactor",void 0),maxRecordCount:o(e,"maxRecordCount",void 0),standardMaxRecordCount:o(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:o(e,"tileMaxRecordCount",void 0)}}function S(e){const t=e.advancedQueryCapabilities,r=s(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:s(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:p(t,"queryRelated")}}function T(e){return{supportsCacheHint:p(e.advancedQueryCapabilities,"queryTopFilter")}}function b(e){const t=e.ownershipBasedAccessControlForFeatures,r=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:s(e,"allowGeometryUpdates",!0),supportsGlobalId:s(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:s(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:s(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:s(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:s(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:s(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:s(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:s(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:s(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:s(r,"supportsAsyncApplyEdits",!1)}}},13097:(e,t,r)=>{r.d(t,{p:()=>a});var i=r(95247);function a(e,t,r){if(!r||!r.features||!r.hasZ)return;const a=(0,i.k)(r.geometryType,t,e.outSpatialReference);if(null!=a)for(const e of r.features)a(e.geometry)}},84238:(e,t,r)=>{r.d(t,{cv:()=>o,en:()=>s,lA:()=>n}),r(51366),r(88256);var i=r(67134),a=r(39154);function n(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function s(e){return"string"==typeof e?(0,a.mN)(e):(0,i.d9)(e)}function o(e,t,r){const i={};for(const a in e){if("declaredClass"===a)continue;const n=e[a];if(null!=n&&"function"!=typeof n)if(Array.isArray(n)){i[a]=[];for(let e=0;e<n.length;e++)i[a][e]=o(n[e])}else if("object"==typeof n)if(n.toJSON){const e=n.toJSON(r&&r[a]);i[a]=t?e:JSON.stringify(e)}else i[a]=t?n:JSON.stringify(n);else i[a]=n}return i}r(99522)},86094:(e,t,r)=>{r.d(t,{ET:()=>n,I4:()=>a,eG:()=>l,lF:()=>s,lj:()=>p,qP:()=>o,wW:()=>d});const i=[252,146,31,255],a={type:"esriSMS",style:"esriSMSCircle",size:6,color:i,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},n={type:"esriSLS",style:"esriSLSSolid",width:.75,color:i},s={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},o={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},d={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},p={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},9593:(e,t,r)=>{r.d(t,{Z:()=>c});var i=r(36663),a=r(41151),n=r(82064),s=r(81977),o=(r(7283),r(7753),r(39994),r(34248)),l=r(40266),d=r(39835),p=r(25302);let u=class extends((0,a.J)(n.wq)){constructor(e){super(e),this.legacy=null,this.timeZone="system"}readLegacy(e,t){const{timeZone:r,respectsDaylightSaving:i}=t;return{timeZone:r,respectsDaylightSaving:i}}readTimeZone(e,t){return"timeZoneIANA"in t?t.timeZoneIANA:(0,p.G)(t)}writeTimeZone(e,t){t.timeZoneIANA=e}equals(e){return null!=e&&null!=this.timeZone&&null!=e.timeZone&&this.timeZone===e.timeZone}};(0,i._)([(0,s.Cb)()],u.prototype,"legacy",void 0),(0,i._)([(0,o.r)("legacy",["timeZone"])],u.prototype,"readLegacy",null),(0,i._)([(0,s.Cb)({type:String,nonNullable:!0})],u.prototype,"timeZone",void 0),(0,i._)([(0,o.r)("timeZone",["timeZone","timeZoneIANA","respectsDaylightSaving"])],u.prototype,"readTimeZone",null),(0,i._)([(0,d.c)("timeZone")],u.prototype,"writeTimeZone",null),u=(0,i._)([(0,l.j)("esri.time.TimeReference")],u);const c=u},25302:(e,t,r)=>{r.d(t,{G:()=>n});const i=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);var a=r(17126);function n(e,t="system"){if(!e||!i.has(e.timeZone))return t;const r=i.get(e.timeZone);return e.timeZone.startsWith("UTC")||e.respectsDaylightSaving?r:function(e){const t=a.ou.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return 0===r?"Etc/UTC":`Etc/GMT${a.Qf.instance(-r).formatOffset(0,"narrow")}`}(r)}}}]);