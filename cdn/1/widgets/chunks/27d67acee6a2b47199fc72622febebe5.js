"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["node_modules_arcgis_core_layers_save_featureLayerUtils_js"],{

/***/ "./node_modules/@arcgis/core/core/accessorSupport/originUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/accessorSupport/originUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateOrigins": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _multiOriginJSONSupportUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../multiOriginJSONSupportUtils.js */ "./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i(i){i&&i.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{(0,_multiOriginJSONSupportUtils_js__WEBPACK_IMPORTED_MODULE_0__.isMultiOriginJSONMixin)(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isMultiOriginJSONMixin": () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i(i){return i&&"getAtOrigin"in i&&"originOf"in i}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/save/featureLayerUtils.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/save/featureLayerUtils.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "save": () => (/* binding */ z),
/* harmony export */   "saveAll": () => (/* binding */ M),
/* harmony export */   "saveAs": () => (/* binding */ Y)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_originUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/originUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/originUtils.js");
/* harmony import */ var _FeatureLayer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../FeatureLayer.js */ "./node_modules/@arcgis/core/layers/FeatureLayer.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_fetchService_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../support/fetchService.js */ "./node_modules/@arcgis/core/layers/support/fetchService.js");
/* harmony import */ var _support_layerUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _portal_Portal_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../portal/Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/* harmony import */ var _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../portal/PortalItem.js */ "./node_modules/@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _portal_support_jsonContext_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../portal/support/jsonContext.js */ "./node_modules/@arcgis/core/portal/support/jsonContext.js");
/* harmony import */ var _portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../portal/support/portalItemUtils.js */ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const v=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.layers.FeatureLayer"),b="Feature Service";function I(e,t){return`Layer (title: ${e.title}, id: ${e.id}) of type '${e.declaredClass}' ${t}`}function S(e,r){if(r.type!==b)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("feature-layer:portal-item-wrong-type",I(e,`should have portal item of type "${b}"`))}async function g(e){if(await e.load(),(0,_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_8__.isFeatureCollectionLayer)(e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("feature-layer:save",I(e,"using an in-memory source cannot be saved to a portal item"))}function j(e,r){let a=(e.messages??[]).filter((({type:e})=>"error"===e)).map((({name:e,message:r,details:a})=>new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](e,r,a)));if(r?.ignoreUnsupported&&(a=a.filter((({name:e})=>"layer:unsupported"!==e&&"symbol:unsupported"!==e&&"symbol-layer:unsupported"!==e&&"property:unsupported"!==e&&"url:unsupported"!==e))),a.length>0)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("feature-layer:save","Failed to save feature layer due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:a})}async function L(e,t,r){"beforeSave"in e&&"function"==typeof e.beforeSave&&await e.beforeSave();const a=e.write({},t);return j(t,r),a}function P(e){const{layer:t,layerJSON:r}=e;return t.isTable?{layers:[],tables:[r]}:{layers:[r],tables:[]}}function J(e){(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_12__.addTypeKeyword)(e,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_12__.TypeKeyword.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}function N(e){const r=e.portalItem;if(!r)throw v.error("save: requires the portalItem property to be set"),new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("feature-layer:portal-item-not-set",I(e,"requires the portalItem property to be set"));if(!r.loaded)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("feature-layer:portal-item-not-loaded",I(e,"cannot be saved to a portal item that does not exist or is inaccessible"));S(e,r)}async function O(e,t){return/\/\d+\/?$/.test(e.url??"")?P(t[0]):E(e,t)}async function E(e,t){const{layer:{url:r,customParameters:a,apiKey:o}}=t[0];let l=await e.fetchData("json");l&&null!=l.layers&&null!=l.tables||(l=await T(l,{url:r??"",customParameters:a,apiKey:o},t.map((e=>e.layer.layerId))));for(const s of t)A(s.layer,s.layerJSON,l);return l}async function T(e,t,r){e||={},e.layers||=[],e.tables||=[];const{url:a,customParameters:o,apiKey:l}=t,{serviceJSON:s,layersJSON:n}=await (0,_support_fetchService_js__WEBPACK_IMPORTED_MODULE_7__.fetchFeatureService)(a,{customParameters:o,apiKey:l}),u=$(e.layers,s.layers,r),p=$(e.tables,s.tables,r);e.layers=u.itemResources,e.tables=p.itemResources;const c=[...u.added,...p.added],d=n?[...n.layers,...n.tables]:[];return await x(e,c,a,d),e}function $(t,r,a){const o=(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.difference)(t,r,((e,t)=>e.id===t.id));t=t.filter((e=>!o.removed.some((t=>t.id===e.id))));const l=o.added.map((({id:e})=>({id:e})));return l.forEach((({id:e})=>{t.push({id:e})})),{itemResources:t,added:l.filter((({id:e})=>!a.includes(e)))}}async function x(e,t,r,a){const l=t.map((({id:e})=>new _FeatureLayer_js__WEBPACK_IMPORTED_MODULE_5__["default"]({url:r,layerId:e,sourceJSON:a.find((({id:t})=>t===e))})));await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)(l.map((e=>e.load()))),l.forEach((t=>{const{layerId:r,loaded:a,defaultPopupTemplate:o}=t;if(!a||null==o)return;A(t,{id:r,popupInfo:o.toJSON()},e)}))}function A(e,t,r){e.isTable?U(r.tables,t):U(r.layers,t)}function U(e,t){if(!e)return;const r=e.findIndex((({id:e})=>e===t.id));-1===r?e.push(t):e[r]=t}function K(e){const{portalItem:t}=e;return (0,_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_8__.isFeatureServiceLayer)(e)&&!e.dynamicDataSource&&!!t?.loaded&&t.type===b}async function F(e){if(!e?.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("feature-layer-utils-saveall:missing-parameters","'layers' array should contain at least one feature layer");await Promise.all(e.map((e=>e.load())));for(const o of e)if(!K(o))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("feature-layer-utils-saveall:invalid-parameters",`'layers' array should only contain layers or tables in a feature service loaded from 'Feature Service' item. ${I(o,"does not conform")}`,{layer:o});const r=e.map((e=>e.portalItem.id));if(new Set(r).size>1)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("feature-layer-utils-saveall:invalid-parameters","All layers in the 'layers' array should be loaded from the same portal item");const a=e.map((e=>e.layerId));if(new Set(a).size!==a.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("feature-layer-utils-saveall:invalid-parameters","'layers' array should contain only one instance each of layer or table in a feature service")}function R(e,t){let r=_portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_10__["default"].from(t);return r.id&&(r=r.clone(),r.id=null),r.type??=b,r.portal??=_portal_Portal_js__WEBPACK_IMPORTED_MODULE_9__["default"].getDefault(),S(e,r),r}async function D(e,t){const{url:r,layerId:a,title:o,fullExtent:l,isTable:s}=e,i=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__.parse)(r),u=null!=i&&"FeatureServer"===i.serverType;t.url=u?r:`${r}/${a}`,t.title||=o,t.extent=null,s||null==l||(t.extent=await (0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_12__.getWGS84ExtentForItem)(l)),(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_12__.removeTypeKeyword)(t,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_12__.TypeKeyword.METADATA),(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_12__.removeTypeKeyword)(t,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_12__.TypeKeyword.MULTI_LAYER),(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_12__.addTypeKeyword)(t,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_12__.TypeKeyword.SINGLE_LAYER),s&&(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_12__.addTypeKeyword)(t,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_12__.TypeKeyword.TABLE),J(t)}async function q(e,t,r){const a=e.portal;await(a?.signIn()),await(a?.user?.addItem({item:e,data:t,folder:r?.folder}))}const z=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.debounce)(C);async function C(e,t){await g(e),N(e);const r=e.portalItem,a=(0,_portal_support_jsonContext_js__WEBPACK_IMPORTED_MODULE_11__.createForItemWrite)(r),o=await L(e,a,t),s=await O(r,[{layer:e,layerJSON:o}]);return J(r),await r.update({data:s}),(0,_core_accessorSupport_originUtils_js__WEBPACK_IMPORTED_MODULE_4__.updateOrigins)(a),r}const M=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.debounce)((async(e,t)=>{await F(e);const r=e[0].portalItem,a=(0,_portal_support_jsonContext_js__WEBPACK_IMPORTED_MODULE_11__.createForItemWrite)(r),o=await Promise.all(e.map((e=>L(e,a,t)))),s=await O(r,e.map(((e,t)=>({layer:e,layerJSON:o[t]}))));return J(r),await r.update({data:s}),await Promise.all(e.slice(1).map((e=>e.portalItem.reload()))),(0,_core_accessorSupport_originUtils_js__WEBPACK_IMPORTED_MODULE_4__.updateOrigins)(a),r.clone()})),Y=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.debounce)(_);async function _(e,t,r){await g(e);const a=R(e,t),o=(0,_portal_support_jsonContext_js__WEBPACK_IMPORTED_MODULE_11__.createForItemWrite)(a),s=P({layer:e,layerJSON:await L(e,o,r)});return await D(e,a),await q(a,s,r),e.portalItem=a,(0,_core_accessorSupport_originUtils_js__WEBPACK_IMPORTED_MODULE_4__.updateOrigins)(o),a}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/fetchService.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/fetchService.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fetchFeatureService": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _support_requestPresets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../support/requestPresets.js */ "./node_modules/@arcgis/core/support/requestPresets.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function r(r,s){const a=await (0,_support_requestPresets_js__WEBPACK_IMPORTED_MODULE_0__.fetchArcGISServiceJSON)(r,s);a.layers=a.layers.filter(t);const n={serviceJSON:a};if((a.currentVersion??0)<10.5)return n;const i=await (0,_support_requestPresets_js__WEBPACK_IMPORTED_MODULE_0__.fetchArcGISServiceJSON)(r+"/layers",s);return n.layersJSON={layers:i.layers.filter(t),tables:i.tables},n}function t(e){return!e.type||"Feature Layer"===e.type}


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/jsonContext.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/jsonContext.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createForItemRead": () => (/* binding */ e),
/* harmony export */   "createForItemWrite": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _Portal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e(e){return{origin:"portal-item",url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(e.itemUrl),portal:e.portal||_Portal_js__WEBPACK_IMPORTED_MODULE_1__["default"].getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){return{origin:"portal-item",messages:[],writtenProperties:[],url:e.itemUrl?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(e.itemUrl):null,portal:e.portal||_Portal_js__WEBPACK_IMPORTED_MODULE_1__["default"].getDefault(),portalItem:e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/support/requestPresets.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/support/requestPresets.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fetchArcGISServiceJSON": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../request.js */ "./node_modules/@arcgis/core/request.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function t(t,o){const{data:r}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t,{responseType:"json",query:{f:"json",...o?.customParameters,token:o?.apiKey}});return r}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvMjdkNjdhY2VlNmEyYjQ3MTk5ZmM3MjYyMmZlYmViZTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUMyRSxjQUFjLHVEQUF1RCxnQ0FBZ0MsSUFBSSx1RkFBQywrQ0FBK0MsR0FBOEI7Ozs7Ozs7Ozs7Ozs7OztBQ0psUTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNENBQWdGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKOUY7QUFDQTtBQUNBO0FBQ0E7QUFDeXlCLFFBQVEsaUVBQVcsaURBQWlELGdCQUFnQix1QkFBdUIsUUFBUSxRQUFRLEtBQUssYUFBYSxnQkFBZ0IsSUFBSSxFQUFFLEVBQUUsZ0JBQWdCLHdCQUF3QixzREFBQyxnRkFBZ0YsRUFBRSxLQUFLLG9CQUFvQixrQkFBa0IsZ0ZBQUMsY0FBYyxzREFBQyx5RkFBeUYsZ0JBQWdCLGlDQUFpQyxPQUFPLHdCQUF3QiwyQkFBMkIsT0FBTyxzREFBQyxVQUFVLHdDQUF3QyxPQUFPLGdLQUFnSyxzREFBQyxnSkFBZ0osU0FBUyxFQUFFLHdCQUF3Qix3RUFBd0Usa0JBQWtCLElBQUksZ0JBQWdCLGNBQWMsTUFBTSxvQkFBb0IsR0FBRyxrQkFBa0IscUJBQXFCLEVBQUUsc0JBQXNCLGNBQWMsbUZBQUMsR0FBRyxrRkFBTyxzRkFBc0YsY0FBYyxxQkFBcUIsNEVBQTRFLHNEQUFDLHdGQUF3Rix1QkFBdUIsc0RBQUMsd0hBQXdILE9BQU8sc0JBQXNCLGlEQUFpRCxzQkFBc0IsTUFBTSxPQUFPLG1DQUFtQyxNQUFNLGdDQUFnQyxpREFBaUQsc0NBQXNDLCtCQUErQiwwQ0FBMEMsU0FBUyx3QkFBd0IsTUFBTSw2QkFBNkIsTUFBTSxrQ0FBa0MsSUFBSSwyQkFBMkIsT0FBTyw2RUFBQyxJQUFJLDRCQUE0QixvREFBb0Qsa0RBQWtELGlFQUFpRSwwQkFBMEIsa0JBQWtCLFFBQVEsK0RBQUMsMkJBQTJCLG1EQUFtRCx1QkFBdUIsS0FBSyxLQUFLLEtBQUssSUFBSSxvQkFBb0IsS0FBSyxJQUFJLFFBQVEsS0FBSyxFQUFFLElBQUksa0NBQWtDLEtBQUsscUJBQXFCLDBCQUEwQixpQkFBaUIsS0FBSyxPQUFPLHdEQUFDLEVBQUUscUNBQXFDLEtBQUssV0FBVyxJQUFJLE1BQU0saUVBQUMsc0NBQXNDLE1BQU0sMENBQTBDLEdBQUcsc0JBQXNCLEtBQUssMEJBQTBCLElBQUksR0FBRyxrQkFBa0Isc0NBQXNDLGdCQUFnQixhQUFhLHVCQUF1QixLQUFLLGNBQWMsd0JBQXdCLGNBQWMsTUFBTSxhQUFhLEdBQUcsT0FBTyw2RUFBQyxtREFBbUQsb0JBQW9CLHdCQUF3QixzREFBQyw4R0FBOEcsd0NBQXdDLG9DQUFvQyxzREFBQyxrS0FBa0ssd0JBQXdCLEdBQUcsUUFBUSxFQUFFLG9DQUFvQywrQkFBK0Isc0RBQUMsaUlBQWlJLDhCQUE4Qix3Q0FBd0Msc0RBQUMsaUpBQWlKLGdCQUFnQixNQUFNLG1FQUFNLElBQUksMkRBQTJELG9FQUFZLFlBQVksc0JBQXNCLE1BQU0sK0NBQStDLEtBQUssaUVBQUMsOENBQThDLGFBQWEsRUFBRSxHQUFHLEVBQUUsd0RBQXdELDBGQUFDLEtBQUssc0ZBQUMsR0FBRyxxRkFBVSxFQUFFLHNGQUFDLEdBQUcsd0ZBQWEsRUFBRSxtRkFBQyxHQUFHLHlGQUFjLEtBQUssbUZBQUMsR0FBRyxrRkFBTyxPQUFPLHdCQUF3QixpQkFBaUIsMkNBQTJDLCtCQUErQixHQUFHLFFBQVEsK0RBQUMsSUFBSSxzQkFBc0IsZ0JBQWdCLHVCQUF1QixtRkFBQyxtQ0FBbUMsb0JBQW9CLEdBQUcsNEJBQTRCLE9BQU8sRUFBRSxtRkFBQyxNQUFNLFFBQVEsK0RBQUMsZUFBZSxXQUFXLDBCQUEwQixtRkFBQywwRUFBMEUsdUJBQXVCLEtBQUssNEJBQTRCLE9BQU8sZ0VBQWdFLG1GQUFDLGNBQWMsS0FBSywrREFBQyxJQUFJLHdCQUF3QixXQUFXLGlCQUFpQixtRkFBQyxTQUFTLGlDQUFpQyxFQUFFLGtEQUFrRCxtRkFBQyxNQUFpRDs7Ozs7Ozs7Ozs7Ozs7OztBQ0p0ekw7QUFDQTtBQUNBO0FBQ0E7QUFDeUUsc0JBQXNCLGNBQWMsa0ZBQUMsTUFBTSw0QkFBNEIsU0FBUyxlQUFlLHVDQUF1QyxjQUFjLGtGQUFDLGdCQUFnQixxQkFBcUIsMENBQTBDLEdBQUcsY0FBYyx3Q0FBeUU7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p2WTtBQUNBO0FBQ0E7QUFDQTtBQUNpRixjQUFjLE9BQU8seUJBQXlCLDhEQUFDLDZCQUE2Qiw2REFBWSxzQ0FBc0MsY0FBYyxPQUFPLG9FQUFvRSw4REFBQyxrQ0FBa0MsNkRBQVksaUJBQXdFOzs7Ozs7Ozs7Ozs7Ozs7O0FDSi9aO0FBQ0E7QUFDQTtBQUNBO0FBQzZCLHNCQUFzQixNQUFNLE9BQU8sT0FBTyx1REFBQyxJQUFJLDJCQUEyQixpREFBaUQsRUFBRSxTQUE2QyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvYWNjZXNzb3JTdXBwb3J0L29yaWdpblV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvbXVsdGlPcmlnaW5KU09OU3VwcG9ydFV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zYXZlL2ZlYXR1cmVMYXllclV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L2ZldGNoU2VydmljZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9wb3J0YWwvc3VwcG9ydC9qc29uQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zdXBwb3J0L3JlcXVlc3RQcmVzZXRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNNdWx0aU9yaWdpbkpTT05NaXhpbiBhcyByfWZyb21cIi4uL211bHRpT3JpZ2luSlNPTlN1cHBvcnRVdGlscy5qc1wiO2Z1bmN0aW9uIGkoaSl7aSYmaS53cml0dGVuUHJvcGVydGllcyYmaS53cml0dGVuUHJvcGVydGllcy5mb3JFYWNoKCgoe3RhcmdldDppLHByb3BOYW1lOnQsbmV3T3JpZ2luOmV9KT0+e3IoaSkmJmUmJmkub3JpZ2luT2YodCkhPT1lJiZpLnVwZGF0ZU9yaWdpbih0LGUpfSkpfWV4cG9ydHtpIGFzIHVwZGF0ZU9yaWdpbnN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGkoaSl7cmV0dXJuIGkmJlwiZ2V0QXRPcmlnaW5cImluIGkmJlwib3JpZ2luT2ZcImluIGl9ZXhwb3J0e2kgYXMgaXNNdWx0aU9yaWdpbkpTT05NaXhpbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2RpZmZlcmVuY2UgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVib3VuY2UgYXMgYSxlYWNoQWx3YXlzIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7dXBkYXRlT3JpZ2lucyBhcyBsfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L29yaWdpblV0aWxzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vRmVhdHVyZUxheWVyLmpzXCI7aW1wb3J0e3BhcnNlIGFzIG59ZnJvbVwiLi4vc3VwcG9ydC9hcmNnaXNMYXllclVybC5qc1wiO2ltcG9ydHtmZXRjaEZlYXR1cmVTZXJ2aWNlIGFzIGl9ZnJvbVwiLi4vc3VwcG9ydC9mZXRjaFNlcnZpY2UuanNcIjtpbXBvcnR7aXNGZWF0dXJlQ29sbGVjdGlvbkxheWVyIGFzIHUsaXNGZWF0dXJlU2VydmljZUxheWVyIGFzIHB9ZnJvbVwiLi4vc3VwcG9ydC9sYXllclV0aWxzLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vcG9ydGFsL1BvcnRhbC5qc1wiO2ltcG9ydCBkIGZyb21cIi4uLy4uL3BvcnRhbC9Qb3J0YWxJdGVtLmpzXCI7aW1wb3J0e2NyZWF0ZUZvckl0ZW1Xcml0ZSBhcyB5fWZyb21cIi4uLy4uL3BvcnRhbC9zdXBwb3J0L2pzb25Db250ZXh0LmpzXCI7aW1wb3J0e2FkZFR5cGVLZXl3b3JkIGFzIG0sVHlwZUtleXdvcmQgYXMgZixnZXRXR1M4NEV4dGVudEZvckl0ZW0gYXMgdyxyZW1vdmVUeXBlS2V5d29yZCBhcyBofWZyb21cIi4uLy4uL3BvcnRhbC9zdXBwb3J0L3BvcnRhbEl0ZW1VdGlscy5qc1wiO2NvbnN0IHY9ci5nZXRMb2dnZXIoXCJlc3JpLmxheWVycy5GZWF0dXJlTGF5ZXJcIiksYj1cIkZlYXR1cmUgU2VydmljZVwiO2Z1bmN0aW9uIEkoZSx0KXtyZXR1cm5gTGF5ZXIgKHRpdGxlOiAke2UudGl0bGV9LCBpZDogJHtlLmlkfSkgb2YgdHlwZSAnJHtlLmRlY2xhcmVkQ2xhc3N9JyAke3R9YH1mdW5jdGlvbiBTKGUscil7aWYoci50eXBlIT09Yil0aHJvdyBuZXcgdChcImZlYXR1cmUtbGF5ZXI6cG9ydGFsLWl0ZW0td3JvbmctdHlwZVwiLEkoZSxgc2hvdWxkIGhhdmUgcG9ydGFsIGl0ZW0gb2YgdHlwZSBcIiR7Yn1cImApKX1hc3luYyBmdW5jdGlvbiBnKGUpe2lmKGF3YWl0IGUubG9hZCgpLHUoZSkpdGhyb3cgbmV3IHQoXCJmZWF0dXJlLWxheWVyOnNhdmVcIixJKGUsXCJ1c2luZyBhbiBpbi1tZW1vcnkgc291cmNlIGNhbm5vdCBiZSBzYXZlZCB0byBhIHBvcnRhbCBpdGVtXCIpKX1mdW5jdGlvbiBqKGUscil7bGV0IGE9KGUubWVzc2FnZXM/P1tdKS5maWx0ZXIoKCh7dHlwZTplfSk9PlwiZXJyb3JcIj09PWUpKS5tYXAoKCh7bmFtZTplLG1lc3NhZ2U6cixkZXRhaWxzOmF9KT0+bmV3IHQoZSxyLGEpKSk7aWYocj8uaWdub3JlVW5zdXBwb3J0ZWQmJihhPWEuZmlsdGVyKCgoe25hbWU6ZX0pPT5cImxheWVyOnVuc3VwcG9ydGVkXCIhPT1lJiZcInN5bWJvbDp1bnN1cHBvcnRlZFwiIT09ZSYmXCJzeW1ib2wtbGF5ZXI6dW5zdXBwb3J0ZWRcIiE9PWUmJlwicHJvcGVydHk6dW5zdXBwb3J0ZWRcIiE9PWUmJlwidXJsOnVuc3VwcG9ydGVkXCIhPT1lKSkpLGEubGVuZ3RoPjApdGhyb3cgbmV3IHQoXCJmZWF0dXJlLWxheWVyOnNhdmVcIixcIkZhaWxlZCB0byBzYXZlIGZlYXR1cmUgbGF5ZXIgZHVlIHRvIHVuc3VwcG9ydGVkIG9yIGludmFsaWQgY29udGVudC4gU2VlICdkZXRhaWxzLmVycm9ycycgZm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb25cIix7ZXJyb3JzOmF9KX1hc3luYyBmdW5jdGlvbiBMKGUsdCxyKXtcImJlZm9yZVNhdmVcImluIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuYmVmb3JlU2F2ZSYmYXdhaXQgZS5iZWZvcmVTYXZlKCk7Y29uc3QgYT1lLndyaXRlKHt9LHQpO3JldHVybiBqKHQsciksYX1mdW5jdGlvbiBQKGUpe2NvbnN0e2xheWVyOnQsbGF5ZXJKU09OOnJ9PWU7cmV0dXJuIHQuaXNUYWJsZT97bGF5ZXJzOltdLHRhYmxlczpbcl19OntsYXllcnM6W3JdLHRhYmxlczpbXX19ZnVuY3Rpb24gSihlKXttKGUsZi5KU0FQSSksZS50eXBlS2V5d29yZHMmJihlLnR5cGVLZXl3b3Jkcz1lLnR5cGVLZXl3b3Jkcy5maWx0ZXIoKChlLHQscik9PnIuaW5kZXhPZihlKT09PXQpKSl9ZnVuY3Rpb24gTihlKXtjb25zdCByPWUucG9ydGFsSXRlbTtpZighcil0aHJvdyB2LmVycm9yKFwic2F2ZTogcmVxdWlyZXMgdGhlIHBvcnRhbEl0ZW0gcHJvcGVydHkgdG8gYmUgc2V0XCIpLG5ldyB0KFwiZmVhdHVyZS1sYXllcjpwb3J0YWwtaXRlbS1ub3Qtc2V0XCIsSShlLFwicmVxdWlyZXMgdGhlIHBvcnRhbEl0ZW0gcHJvcGVydHkgdG8gYmUgc2V0XCIpKTtpZighci5sb2FkZWQpdGhyb3cgbmV3IHQoXCJmZWF0dXJlLWxheWVyOnBvcnRhbC1pdGVtLW5vdC1sb2FkZWRcIixJKGUsXCJjYW5ub3QgYmUgc2F2ZWQgdG8gYSBwb3J0YWwgaXRlbSB0aGF0IGRvZXMgbm90IGV4aXN0IG9yIGlzIGluYWNjZXNzaWJsZVwiKSk7UyhlLHIpfWFzeW5jIGZ1bmN0aW9uIE8oZSx0KXtyZXR1cm4vXFwvXFxkK1xcLz8kLy50ZXN0KGUudXJsPz9cIlwiKT9QKHRbMF0pOkUoZSx0KX1hc3luYyBmdW5jdGlvbiBFKGUsdCl7Y29uc3R7bGF5ZXI6e3VybDpyLGN1c3RvbVBhcmFtZXRlcnM6YSxhcGlLZXk6b319PXRbMF07bGV0IGw9YXdhaXQgZS5mZXRjaERhdGEoXCJqc29uXCIpO2wmJm51bGwhPWwubGF5ZXJzJiZudWxsIT1sLnRhYmxlc3x8KGw9YXdhaXQgVChsLHt1cmw6cj8/XCJcIixjdXN0b21QYXJhbWV0ZXJzOmEsYXBpS2V5Om99LHQubWFwKChlPT5lLmxheWVyLmxheWVySWQpKSkpO2Zvcihjb25zdCBzIG9mIHQpQShzLmxheWVyLHMubGF5ZXJKU09OLGwpO3JldHVybiBsfWFzeW5jIGZ1bmN0aW9uIFQoZSx0LHIpe2V8fD17fSxlLmxheWVyc3x8PVtdLGUudGFibGVzfHw9W107Y29uc3R7dXJsOmEsY3VzdG9tUGFyYW1ldGVyczpvLGFwaUtleTpsfT10LHtzZXJ2aWNlSlNPTjpzLGxheWVyc0pTT046bn09YXdhaXQgaShhLHtjdXN0b21QYXJhbWV0ZXJzOm8sYXBpS2V5Omx9KSx1PSQoZS5sYXllcnMscy5sYXllcnMscikscD0kKGUudGFibGVzLHMudGFibGVzLHIpO2UubGF5ZXJzPXUuaXRlbVJlc291cmNlcyxlLnRhYmxlcz1wLml0ZW1SZXNvdXJjZXM7Y29uc3QgYz1bLi4udS5hZGRlZCwuLi5wLmFkZGVkXSxkPW4/Wy4uLm4ubGF5ZXJzLC4uLm4udGFibGVzXTpbXTtyZXR1cm4gYXdhaXQgeChlLGMsYSxkKSxlfWZ1bmN0aW9uICQodCxyLGEpe2NvbnN0IG89ZSh0LHIsKChlLHQpPT5lLmlkPT09dC5pZCkpO3Q9dC5maWx0ZXIoKGU9PiFvLnJlbW92ZWQuc29tZSgodD0+dC5pZD09PWUuaWQpKSkpO2NvbnN0IGw9by5hZGRlZC5tYXAoKCh7aWQ6ZX0pPT4oe2lkOmV9KSkpO3JldHVybiBsLmZvckVhY2goKCh7aWQ6ZX0pPT57dC5wdXNoKHtpZDplfSl9KSkse2l0ZW1SZXNvdXJjZXM6dCxhZGRlZDpsLmZpbHRlcigoKHtpZDplfSk9PiFhLmluY2x1ZGVzKGUpKSl9fWFzeW5jIGZ1bmN0aW9uIHgoZSx0LHIsYSl7Y29uc3QgbD10Lm1hcCgoKHtpZDplfSk9Pm5ldyBzKHt1cmw6cixsYXllcklkOmUsc291cmNlSlNPTjphLmZpbmQoKCh7aWQ6dH0pPT50PT09ZSkpfSkpKTthd2FpdCBvKGwubWFwKChlPT5lLmxvYWQoKSkpKSxsLmZvckVhY2goKHQ9Pntjb25zdHtsYXllcklkOnIsbG9hZGVkOmEsZGVmYXVsdFBvcHVwVGVtcGxhdGU6b309dDtpZighYXx8bnVsbD09bylyZXR1cm47QSh0LHtpZDpyLHBvcHVwSW5mbzpvLnRvSlNPTigpfSxlKX0pKX1mdW5jdGlvbiBBKGUsdCxyKXtlLmlzVGFibGU/VShyLnRhYmxlcyx0KTpVKHIubGF5ZXJzLHQpfWZ1bmN0aW9uIFUoZSx0KXtpZighZSlyZXR1cm47Y29uc3Qgcj1lLmZpbmRJbmRleCgoKHtpZDplfSk9PmU9PT10LmlkKSk7LTE9PT1yP2UucHVzaCh0KTplW3JdPXR9ZnVuY3Rpb24gSyhlKXtjb25zdHtwb3J0YWxJdGVtOnR9PWU7cmV0dXJuIHAoZSkmJiFlLmR5bmFtaWNEYXRhU291cmNlJiYhIXQ/LmxvYWRlZCYmdC50eXBlPT09Yn1hc3luYyBmdW5jdGlvbiBGKGUpe2lmKCFlPy5sZW5ndGgpdGhyb3cgbmV3IHQoXCJmZWF0dXJlLWxheWVyLXV0aWxzLXNhdmVhbGw6bWlzc2luZy1wYXJhbWV0ZXJzXCIsXCInbGF5ZXJzJyBhcnJheSBzaG91bGQgY29udGFpbiBhdCBsZWFzdCBvbmUgZmVhdHVyZSBsYXllclwiKTthd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoZT0+ZS5sb2FkKCkpKSk7Zm9yKGNvbnN0IG8gb2YgZSlpZighSyhvKSl0aHJvdyBuZXcgdChcImZlYXR1cmUtbGF5ZXItdXRpbHMtc2F2ZWFsbDppbnZhbGlkLXBhcmFtZXRlcnNcIixgJ2xheWVycycgYXJyYXkgc2hvdWxkIG9ubHkgY29udGFpbiBsYXllcnMgb3IgdGFibGVzIGluIGEgZmVhdHVyZSBzZXJ2aWNlIGxvYWRlZCBmcm9tICdGZWF0dXJlIFNlcnZpY2UnIGl0ZW0uICR7SShvLFwiZG9lcyBub3QgY29uZm9ybVwiKX1gLHtsYXllcjpvfSk7Y29uc3Qgcj1lLm1hcCgoZT0+ZS5wb3J0YWxJdGVtLmlkKSk7aWYobmV3IFNldChyKS5zaXplPjEpdGhyb3cgbmV3IHQoXCJmZWF0dXJlLWxheWVyLXV0aWxzLXNhdmVhbGw6aW52YWxpZC1wYXJhbWV0ZXJzXCIsXCJBbGwgbGF5ZXJzIGluIHRoZSAnbGF5ZXJzJyBhcnJheSBzaG91bGQgYmUgbG9hZGVkIGZyb20gdGhlIHNhbWUgcG9ydGFsIGl0ZW1cIik7Y29uc3QgYT1lLm1hcCgoZT0+ZS5sYXllcklkKSk7aWYobmV3IFNldChhKS5zaXplIT09YS5sZW5ndGgpdGhyb3cgbmV3IHQoXCJmZWF0dXJlLWxheWVyLXV0aWxzLXNhdmVhbGw6aW52YWxpZC1wYXJhbWV0ZXJzXCIsXCInbGF5ZXJzJyBhcnJheSBzaG91bGQgY29udGFpbiBvbmx5IG9uZSBpbnN0YW5jZSBlYWNoIG9mIGxheWVyIG9yIHRhYmxlIGluIGEgZmVhdHVyZSBzZXJ2aWNlXCIpfWZ1bmN0aW9uIFIoZSx0KXtsZXQgcj1kLmZyb20odCk7cmV0dXJuIHIuaWQmJihyPXIuY2xvbmUoKSxyLmlkPW51bGwpLHIudHlwZT8/PWIsci5wb3J0YWw/Pz1jLmdldERlZmF1bHQoKSxTKGUscikscn1hc3luYyBmdW5jdGlvbiBEKGUsdCl7Y29uc3R7dXJsOnIsbGF5ZXJJZDphLHRpdGxlOm8sZnVsbEV4dGVudDpsLGlzVGFibGU6c309ZSxpPW4ociksdT1udWxsIT1pJiZcIkZlYXR1cmVTZXJ2ZXJcIj09PWkuc2VydmVyVHlwZTt0LnVybD11P3I6YCR7cn0vJHthfWAsdC50aXRsZXx8PW8sdC5leHRlbnQ9bnVsbCxzfHxudWxsPT1sfHwodC5leHRlbnQ9YXdhaXQgdyhsKSksaCh0LGYuTUVUQURBVEEpLGgodCxmLk1VTFRJX0xBWUVSKSxtKHQsZi5TSU5HTEVfTEFZRVIpLHMmJm0odCxmLlRBQkxFKSxKKHQpfWFzeW5jIGZ1bmN0aW9uIHEoZSx0LHIpe2NvbnN0IGE9ZS5wb3J0YWw7YXdhaXQoYT8uc2lnbkluKCkpLGF3YWl0KGE/LnVzZXI/LmFkZEl0ZW0oe2l0ZW06ZSxkYXRhOnQsZm9sZGVyOnI/LmZvbGRlcn0pKX1jb25zdCB6PWEoQyk7YXN5bmMgZnVuY3Rpb24gQyhlLHQpe2F3YWl0IGcoZSksTihlKTtjb25zdCByPWUucG9ydGFsSXRlbSxhPXkociksbz1hd2FpdCBMKGUsYSx0KSxzPWF3YWl0IE8ocixbe2xheWVyOmUsbGF5ZXJKU09OOm99XSk7cmV0dXJuIEoociksYXdhaXQgci51cGRhdGUoe2RhdGE6c30pLGwoYSkscn1jb25zdCBNPWEoKGFzeW5jKGUsdCk9Pnthd2FpdCBGKGUpO2NvbnN0IHI9ZVswXS5wb3J0YWxJdGVtLGE9eShyKSxvPWF3YWl0IFByb21pc2UuYWxsKGUubWFwKChlPT5MKGUsYSx0KSkpKSxzPWF3YWl0IE8ocixlLm1hcCgoKGUsdCk9Pih7bGF5ZXI6ZSxsYXllckpTT046b1t0XX0pKSkpO3JldHVybiBKKHIpLGF3YWl0IHIudXBkYXRlKHtkYXRhOnN9KSxhd2FpdCBQcm9taXNlLmFsbChlLnNsaWNlKDEpLm1hcCgoZT0+ZS5wb3J0YWxJdGVtLnJlbG9hZCgpKSkpLGwoYSksci5jbG9uZSgpfSkpLFk9YShfKTthc3luYyBmdW5jdGlvbiBfKGUsdCxyKXthd2FpdCBnKGUpO2NvbnN0IGE9UihlLHQpLG89eShhKSxzPVAoe2xheWVyOmUsbGF5ZXJKU09OOmF3YWl0IEwoZSxvLHIpfSk7cmV0dXJuIGF3YWl0IEQoZSxhKSxhd2FpdCBxKGEscyxyKSxlLnBvcnRhbEl0ZW09YSxsKG8pLGF9ZXhwb3J0e3ogYXMgc2F2ZSxNIGFzIHNhdmVBbGwsWSBhcyBzYXZlQXN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtmZXRjaEFyY0dJU1NlcnZpY2VKU09OIGFzIGV9ZnJvbVwiLi4vLi4vc3VwcG9ydC9yZXF1ZXN0UHJlc2V0cy5qc1wiO2FzeW5jIGZ1bmN0aW9uIHIocixzKXtjb25zdCBhPWF3YWl0IGUocixzKTthLmxheWVycz1hLmxheWVycy5maWx0ZXIodCk7Y29uc3Qgbj17c2VydmljZUpTT046YX07aWYoKGEuY3VycmVudFZlcnNpb24/PzApPDEwLjUpcmV0dXJuIG47Y29uc3QgaT1hd2FpdCBlKHIrXCIvbGF5ZXJzXCIscyk7cmV0dXJuIG4ubGF5ZXJzSlNPTj17bGF5ZXJzOmkubGF5ZXJzLmZpbHRlcih0KSx0YWJsZXM6aS50YWJsZXN9LG59ZnVuY3Rpb24gdChlKXtyZXR1cm4hZS50eXBlfHxcIkZlYXR1cmUgTGF5ZXJcIj09PWUudHlwZX1leHBvcnR7ciBhcyBmZXRjaEZlYXR1cmVTZXJ2aWNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7dXJsVG9PYmplY3QgYXMgcn1mcm9tXCIuLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vUG9ydGFsLmpzXCI7ZnVuY3Rpb24gZShlKXtyZXR1cm57b3JpZ2luOlwicG9ydGFsLWl0ZW1cIix1cmw6cihlLml0ZW1VcmwpLHBvcnRhbDplLnBvcnRhbHx8dC5nZXREZWZhdWx0KCkscG9ydGFsSXRlbTplLHJlYWRSZXNvdXJjZVBhdGhzOltdfX1mdW5jdGlvbiBvKGUpe3JldHVybntvcmlnaW46XCJwb3J0YWwtaXRlbVwiLG1lc3NhZ2VzOltdLHdyaXR0ZW5Qcm9wZXJ0aWVzOltdLHVybDplLml0ZW1Vcmw/cihlLml0ZW1VcmwpOm51bGwscG9ydGFsOmUucG9ydGFsfHx0LmdldERlZmF1bHQoKSxwb3J0YWxJdGVtOmV9fWV4cG9ydHtlIGFzIGNyZWF0ZUZvckl0ZW1SZWFkLG8gYXMgY3JlYXRlRm9ySXRlbVdyaXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi9yZXF1ZXN0LmpzXCI7YXN5bmMgZnVuY3Rpb24gdCh0LG8pe2NvbnN0e2RhdGE6cn09YXdhaXQgZSh0LHtyZXNwb25zZVR5cGU6XCJqc29uXCIscXVlcnk6e2Y6XCJqc29uXCIsLi4ubz8uY3VzdG9tUGFyYW1ldGVycyx0b2tlbjpvPy5hcGlLZXl9fSk7cmV0dXJuIHJ9ZXhwb3J0e3QgYXMgZmV0Y2hBcmNHSVNTZXJ2aWNlSlNPTn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=